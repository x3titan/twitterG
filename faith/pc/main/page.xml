<page>
  <controls count="886">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <customSearchText>欢迎来到Fistalk拳头聊天室！这里是一个以中文为主的社交媒体平台。可以发布文字、图片、Youtube视频。网站还包括通知、私信、收藏等功能。每个人的个人主页都附有一个聊天室，对所有用户开放。想发什么都由你决定！😁</customSearchText>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <left>0</left>
      <onControlLoad><![CDATA[ee.setAutoScroll($g("divRoot"), "hidden");
document.body.style.backgroundColor = "#ffffff";
document.body.style.overflowY  = "scroll";
document.body.style.overflowX  = "hidden";
document.body.style.webkitTapHighlightColor = "rgba(0,0,0,0)";

g5.lang.init();

var c = document.getElementById("divRoot");
c.style.overflow = "";
var c = document.getElementById("ee_divRoot");
c.style.overflow = "";
var c = ee.getControl("panel134");
c.style.overflow = "";

document.addEventListener("scroll", g5.onScroll);

if (g5.isIOS()) {
    //document.body.ontouchend = function(e) {
    //    if (e.cancelable) e.preventDefault();
    //}
//    document.body.ontouchstart = function(e) {
//        if (e.cancelable) e.preventDefault();
//    }
}

if (g5.isMobile) {
    var cs = eb.getClientSize();
    if (g5.guestMode) {
        g5.p1.changePage("p4");
    } else {
        g5.p1.changePage("p3");
    }
    ee.setRect(g5.p2,0,0,cs.w,null);
    ee.setRect(g5.p4,0,0,cs.w,null);
    ee.setVisible(g5.pLine1, false);
    ee.setVisible(g5.pLine2, false);
}

var url = new URL(window.location.href);
var pns = url.pathname.toLowerCase().split("/")
pns.splice(0,1);
if (pns[0]=="twitterg") g5.pushHistory2("/home");


var initCount = 0;
var init = function() {
    initCount++;
    if ((!g5.YTReady) &amp;&amp; (initCount<=3)) {
        setTimeout(function() {
            init();
        }, 100);
        return;
    }
    getUserInfo();
    
    g5.changeP3(-1);
    
    setInterval(function() {
        g5.refreshMain();
    }, 100);
    setInterval(function() {
        g5.processVideo();
    }, 1000);
    setInterval(function() {
        g5.refreshScroll();
    }, 500);
    setInterval(function() {
        g5.refreshContent();
    }, 100);
    
    if (!g5.isMobile) eb.processDock();
    g5.refreshScreen();
}

init();









                                            ]]></onControlLoad>
      <onPageCreate><![CDATA[var tk = eb.getCookie("twitterGToken");
if (!tk) tk = "";
if (tk.length<=0) {
    eb.setCookie("twitterGToken", "067B6CF3-D2EE-4712-8D3D-FC5AF89FA535");
    //window.location.href = "https://fistalk.com/login";
}
g5.guestMode = eb.getCookie("twitterGToken") == "067B6CF3-D2EE-4712-8D3D-FC5AF89FA535";

if (window.location.href.toLowerCase().indexOf("http:")==0) {
    var url = new URL(window.location.href);
    window.location.href = "https://fistalk.com" + url.pathname;
}
if (window.location.href.toLowerCase().indexOf("www.fistalk.com")>=0) {
    var url = new URL(window.location.href);
    window.location.href = "https://fistalk.com" + url.pathname;
}

//history control
window.addEventListener("popstate", function (a) {
    g5.processUrl();
})
//window.addEventListener("popstate", g5.processUrl, false);
if ("scrollRestoration" in history) {
    history.scrollRestoration = "manual";
}

var sUserAgent = navigator.userAgent;
if (sUserAgent.indexOf('Android') > -1 || sUserAgent.indexOf('iPhone') > -1 /* || sUserAgent.indexOf('iPad') > -1 */ || sUserAgent.indexOf('iPod') > -1 || sUserAgent.indexOf('Symbian') > -1) {
    g5.clientType = "mobile";
    g5.isMobile = true;
} else {
    g5.clientType = "pc";
    g5.isMobile = false;
}
if (sUserAgent.indexOf("iPhone") > -1 || sUserAgent.indexOf("iPad") > -1 || sUserAgent.indexOf("iPod") > -1) {
    g5.isIos = true;
} else {
    g5.isIos = false;
}

var tk = eb.getCookie("twitterGToken");
if (eb.isEmpty(tk)) tk = "";
if (tk == "") {
    window.location.href = "https://fistalk.com/login";
}

var tag = document.createElement("script");
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName("script")[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
function onYouTubeIframeAPIReady() {
    g5.YTReady = true;
}

initLButton = function(button,text,dy,icon,size,dx) {
    if (eb.isEmpty(size)) size = "24 24";
    if (eb.isEmpty(dx)) dx = "0";
    ee.setText(button.status1, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(0,0,0,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status1, "rgb(0,0,0)");
    ee.setText(button.status2, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(29,161,242,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status2, "rgb(29,161,242)");
    ee.setText(button.status3, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(29,161,242,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status3, "rgb(29,161,242)");
}


/////////////////////////////////
ee.moveControl = function(c, dx, dy) {
    if (!c) return;
    if ((dx==0) &amp;&amp; (dy==0)) return;
    let r = eb.getDivRectSetting(c);
    ee.setRect(c, dx==0?null:r.x+dx, dy==0?null:r.y+dy, null, null);
}
]]></onPageCreate>
      <pageHead><![CDATA[<script src="/Scripts/hammerDecode.js" type="text/javascript"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
<meta property="og:site_name" content="Fistalk" />

<style>
.scrollBar01::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.1);
    border-radius: 2px;
    background-color: #FFFFFF;
}
.scrollBar01::-webkit-scrollbar {
    width: 8px;
    background-color: #F5F5F5;
}
.scrollBar01::-webkit-scrollbar-thumb {
    border-radius: 4px;
    //-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
    background-color: #E0E0EF;
}

body {
  touch-action: pan-y;
}

</style>


<style>
@-webkit-keyframes aniLoadingKF {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes aniLoadingKF {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

.aniLoading {
  border-radius: 50%;
  width: 24px;
  height: 24px;
  border: 0.20rem solid rgba(80, 80, 250, 0.1);
  border-top-color: rgb(29,161,242);
  -webkit-animation: aniLoadingKF 0.5s infinite linear;
          animation: aniLoadingKF 0.5s infinite linear;
}

</style>


<style>
a.css_button1 {
    display:inline-block;
    padding:0.1em 0.5em 0.1em 0.0em;
    margin:0em 0.3em -0.3em 0.0em;
    border-radius:0.4em;
    box-sizing: border-box;
    text-decoration:none;
    font-family:'Roboto',sans-serif;
    color:#1DA1F2;
    text-align:left;
}
a.css_button1:hover{
    text-decoration: underline;
}
@media all and (max-width:30em){
    .css_button1{
        splay:block;
        margin:0.01em auto;
}
</style>

<style>
.tam_hlink1 {
    display:inline-block;
    padding:0;
    //margin:0;
    //padding:0.1em 0.1em 0.1em 0.0em;
    margin:0 0 0.1em 0;
    text-decoration:none;
    color:#1DA1F2;
    text-align:left;
    vertical-align:middle;
    cursor: pointer;
}
.tam_hlink1:hover{
    text-decoration: underline;
}
@media all and (max-width:30em){
    .tam_hlink1{
        splay:block;
}
</style>

<style>
.tam_hlink2 {
    display:inline-block;
    padding:0;
    margin:0 0 0.2em 0;
    text-decoration: underline;
    color:#ffffff;
    text-align:left;
    vertical-align:middle;
    cursor: pointer;
}
.tam_hlink2:hover{
    text-decoration: underline;
}
</style>



<style>
.red3 {
    //animation: 0.3s red3ani 3;
    animation: 0.5s red3ani2 1;
}
@keyframes red3ani2 {
  0% { font-size: 20px; font-weight: 700; }
  30% { font-size: 20px; font-weight: 700; }
  100% { font-size: 16px; font-weight: 400; }
}
.b2{
    display:inline-block;
}
.aniAll3 {
    transition: all 0.3s;
}
.aniAll2 {
    transition: all 0.2s;
}

.aniMove3 {
    transition: left 0.3s, top 0.3s, width 0.3s, height 0.3s;
}

</style>]]></pageHead>
      <pageTitle>拳头Talk</pageTitle>
      <top>0</top>
      <width>1003</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel134">
      <autoScroll>true</autoScroll>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>E0E0E0</fontColor>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>mainDiv</note>
      <onCreate><![CDATA[
/*
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
*/

eb.addEvent(window, "scroll", function(event) {
    var viewPortH = eb.getClientSize().h
    g5.player.forceMode = false;

    var viewPortY = document.documentElement.scrollTop;
    var dy = viewPortY - g5.lastScrollY;
    g5.lastScrollY = viewPortY
    var p3h = eb.getDivRect(g5.p3).h;
    p3y = eb.getDivRect(g5.p3).y;
    var newY = p3y - dy;
    if (p3h<=viewPortH) {
        eb.setDivRect(g5.p3,null,0,null,null);
        return;
    }
    if (newY>0) newY = 0;
    if (newY+p3h<viewPortH) newY = viewPortH - p3h;
    eb.setDivRect(g5.p3,null,newY,null,null);
}, false);

sender.onWheel = function(wheelDelta) {
    d1 = 0.5; d2 = 0.8; d3 = 30; 
    
    var mouseType = this.getMouseType(wheelDelta);
    
    var viewPortH = $g("divRoot").offsetHeight;
    var eeDivRoot = $g("divRoot");
    var p2h = eb.getDivRect(g5.p2).h;
    //if ((p2h-viewPortH-g5.mainDiv.scrollTop) < 6000) {
    if ((p2h-viewPortH-document.documentElement.scrollTop) < 6000) {
        if (g5.currentPageIndex == 0) {
            g5.p2.p1.loadMore();
        } else if (g5.currentPageIndex == 10) {
            if (g5.p2.p11.currentPage == "c1") {
                g5.p2.p11.c_pages.c1.loadMore();
            } else if (g5.p2.p11.currentPage == "c2") {
                g5.p2.p11.c_pages.c2.loadMore();
            } else if (g5.p2.p11.currentPage == "c3") {
                g5.p2.p11.c_pages.c3.loadMore();
            } else if (g5.p2.p11.currentPage == "c4") {
                g5.p2.p11.c_pages.c4.loadMore();
            } else if (g5.p2.p11.currentPage == "c5") {
                g5.p2.p11.c_pages.c5.loadMore();
            }
        } else if (g5.currentPageIndex == 4) {
            g5.p2.p5.loadMore();
        } else if (g5.currentPageIndex == 12) {
            g5.p2.p13.loadMore();
        } else if (g5.currentPageIndex == 1) {
            if (g5.p2.p2.p2sub.currentPageIndex == 1) {
                g5.p2.p2.p2sub.p1.loadMore();
            } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
                g5.p2.p2.p2sub.updateP3();
            }
        }
    }
    
    if (eb.isEmpty(this.onWheel.lastTime)) this.onWheel.lastTime = 0;
    if (eb.isEmpty(this.onWheel.count)) this.onWheel.count = 0;
    var currentTime = (new Date()).getTime()
    if (currentTime - this.onWheel.lastTime < 100) {
        this.onWheel.count++;
    } else {
        this.onWheel.count = 0;
    }
    this.onWheel.lastTime = currentTime;
    
    var amount;
    if (mouseType == "macWheel") {
        amount = - wheelDelta * d2;
    } else if (mouseType == "macTouch") {
        amount = - wheelDelta * d1;
    } else {
        amount = this.onWheel.count * this.onWheel.count * d3 + d3; 
        amount = Math.min(amount, 500);
        if (wheelDelta>0) {
            amount = -amount;
        }
    }
    amount = parseInt(amount);
    this.scrollTop += amount;
    
    if ((mouseType == "windows") || (mouseType == "macWheel")) {
        this.startScrollAni(amount);
    }
}

sender.wheelData = null;
sender.wheelDataLen = 50;
sender.wheelPos = 0;
sender.getMouseType = function(wheelDelta) {
    var log = "";
    log+= "delta=" + wheelDelta + "<br/>";
    
    var len = this.wheelDataLen, i;
    if (this.wheelData == null) {
        this.wheelData = new Array();
        for (i = 0; i<len; i++) this.wheelData.push(0);
    }
    this.wheelData[this.wheelPos] = parseInt(wheelDelta);
    this.wheelPos = (this.wheelPos + 1) % len;
    
    var min = 0xFFFF;
    for (i = 0; i<len; i++) {
        if (this.wheelData[i] == 0) continue;
        if (Math.abs(this.wheelData[i]) < min) min = Math.abs(this.wheelData[i]);
    }
    log+= "min=" + min + "<br/>";

    var result = "unknow";
    if (g5.getOperationSys()!="Mac") {
        result = "windows";
    } else if (min > 10) {
        result = "macWheel";
    } else {
        result = "macTouch";
    }
    log+= "mouseType: " + result;
    
    //g5.writeLog(log, true);
 
    return result;    
}

sender.gcd = function (a, b) {
    if (a === b) {
        return b;
    }
    if (a > b) {
        a -= b;
    } else {
        b -= a;
    }
    return arguments.callee(a, b)
}

sender.scrollTimerHandle = null;
sender.startScrollAni = function(value) {
    if (this.scrollTimerHandle!=null) {
        clearTimeout(this.scrollTimerHandle);
        this.scrollTimerHandle = null;
    }
    this.scrollStart = this.scrollTop;
    this.scrollEnd = this.scrollTop + value;
    this.scrollStartTime = new Date();
    this.scrollTimerHandle = setTimeout(function() {
        sender.scrollAniProcess();        
    }, 1);
}

sender.scrollAniProcess = function() {
    var t = new Date();
    t = t.getTime() - sender.scrollStartTime.getTime();
    var amt = 300;
    if (t>=amt) return;
    sender.scrollTop = parseInt(eb.getInterpolation("slowDown", t/amt) * (sender.scrollEnd - sender.scrollStart) + sender.scrollStart);
    this.scrollTimerHandle = setTimeout(function() {                                                                                   
        sender.scrollAniProcess();        
    }, 1);
}]]></onCreate>
      <scrollPosX>5</scrollPosX>
      <scrollPosY>-1</scrollPosY>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>780</height>
      <heightRatio>0.979899497487437</heightRatio>
      <layerName>===P2===</layerName>
      <left>300</left>
      <leftRatio>0.251046025104603</leftRatio>
      <onCreate>sender.v_fitInner = true;
ee.setVisible(sender, true);

</onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00251256281407035</topRatio>
      <width>600</width>
      <widthRatio>0.502092050209205</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <ee_LocalName>p1</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>Home主页面</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_bottom = ee.getControl("panel648");
sender.v_items = new Array();
sender.v_lastScrollTop = 0;
sender.v_needRefresh = true;
sender.v_status = "";

sender.show = function() {
    if (g5.guestMode) {
        ee.setVisible(sender.c_new, false);
    }
    if (updateMain.clearNewContentCount) updateMain.clearNewContentCount();
    if (g5.currentPageIndex==0) {
        document.documentElement.scrollTop = 0;
        return;
    }
    g5.changeP2(0);
    if (!this.v_needRefresh) {
        if (this.v_items.length>0) return;
    }
    this.v_needRefresh = false;
    this.init();
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.v_needRefresh = false;
        this.init();
    } else {
        this.v_needRefresh = true;
    }
}

sender.update = function(v_content,v_userInfo,v_reContent,v_reUserInfo) {
    var i;
    for (i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_content.id==v_content.id) break;
    }
    if (i>=this.v_items.length) return;
    var root = this.v_items[i];
    while (root.eeChildren.length>0) ee.removeControl(root.eeChildren[0]);
    root.v_content = v_content;
    root.v_userInfo = v_userInfo;
    root.v_reContent = v_reContent;
    root.v_reUserInfo = v_reUserInfo;
    g5.renderTwitter(root);
}

sender.init = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    updateHomepage.isForward = true;
    this.v_status = "";
    this.loadFromServer();
}

sender.activePage = function() {
    g5.pushHistory2("/home");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a1");
    ee.setRect(g5.p4.a1,0,0,eb.getDivRect(g5.p4).w,null);
    ee.setRect(g5.p4, null,null,null,eb.getDivRect(g5.p4.a1).h);
    ee.setRect(g5.p2,null,null,null,eb.getDivRect(this).h+1);
    ee.setVisible(this, true);
    document.documentElement.scrollTop = sender.v_lastScrollTop;
}

sender.close = function() {
    sender.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
    g5.changeP3(-1);
    g5.player.stop();
}

sender.loadMore = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    if (this.v_items.length>0) {
        if (this.v_items[this.v_items.length - 1].v_content) {
            updateHomepage.contentId = this.v_items[this.v_items.length - 1].v_content.id;
        } else {
            updateHomepage.contentId = 0;
        }
    }
    updateHomepage.isForward = true;
    this.loadFromServer();
}

sender.loadNew = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    if (this.v_items.length>0) {
        if (this.v_items[0].v_content) {
            updateHomepage.contentId = (parseInt(this.v_items[0].v_content.id)-0) + "";
        }
    }
    updateHomepage.isForward = false;
    this.loadFromServer();
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var item;
    var root = sender;
    var itemWidth = eb.getDivRect(root).w;
    var cy = eb.getDivRectSetting(g5.p4.a1).h;
    if (!g5.guestMode) cy+=eb.getDivRect(sender.c_new).h;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[0]).y;
    }
    item = createPanel(root, "p2p1_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    g5.renderTwitter(item);
    root.v_items.splice(0, 0, item);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(this.v_items, 1, cy);
    this.c_bottom.adjustP1();
    eb.setDivRect(this, null,null,null,eb.getDivRect(this).h + cy);
    eb.setDivRect(this.parentNode, null,null,null,eb.getDivRect(this.parentNode).h + cy);
}

sender.loadFromServer = function() {
    if ((sender.v_status=="noResult") &amp;&amp; (updateHomepage.isForward)) return;
    updateHomepage.onComplete = function(dataset) {
        var i, item;
        var root = sender;
        var itemWidth = eb.getDivRectSetting(root).w;
        var cy = eb.getDivRectSetting(g5.p4.a1).h;
        g5.loading.close();
        //g5.p2.p33.close();
        eb.setDivRect(sender.c_new, null, cy, null,null);
        if (!g5.guestMode) cy+=eb.getDivRectSetting(sender.c_new).h;
        if (updateHomepage.contentId == 0) {
            for (i=0; i<root.v_items.length; i++) ee.removeControl(root.v_items[i]);
            root.v_items = new Array();
        } else if (updateHomepage.isForward) {
            if (root.v_items.length>0) {
                var rect = eb.getDivRectSetting(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
        }
        var item = null;
        var itemCount = 0;
        var dy = 0;
        for (i=0; i< dataset.rowCount; i++) {
            item = document.createElement("div");
            //document.createDocumentFragment().appendChild(item);
            item.id = "p2p1_" + dataset.getData(0,i);
            item.style.overflow = "hidden";
            item.style.position = "absolute";
            eb.setDivRect(item,0,cy,itemWidth,200);
            
            //item = createPanel(root, "p2p1_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            
            g5.loadTwitterRecord(item, dataset, i);
            if (item.v_content.status == "DEL") {
                ee.removeControl(item);
                continue;
            }
            item.v_mode = "";
            g5.renderTwitter(item);
            if (updateHomepage.isForward) {
                root.v_items.push(item);
                root.appendChild(item);
            } else {
                root.v_items.splice(itemCount, 0, item);
                root.insertBefore(item, root.v_items[itemCount+1]);
            }
            cy += 0 + eb.getDivRectSetting(item).h;
            dy += 0 + eb.getDivRectSetting(item).h;
            
            itemCount++;
        }
        
        if ((dataset.rowCount<=0) &amp;&amp; (updateHomepage.isForward)) {
            sender.v_status = "noResult";
            sender.c_bottom.show(true);
        } else if (updateHomepage.isForward) {
            sender.v_status = "";
            sender.c_bottom.show(false);
        } else if (!updateHomepage.isForward) {
            if (!updateMain.newContentCount) updateMain.newContentCount = 0;
            updateMain.newContentCount += itemCount;
            g5.p2.p1.showAlert(updateMain.newContentCount);
            
            document.documentElement.scrollTop+=dy;
            if (itemCount>0) {
                if (dataset.rowCount<root.v_items.length) {
                    var dy = cy - eb.getDivRectSetting(root.v_items[dataset.rowCount]).y; 
                    g5.batchMoveY(root.v_items,dataset.rowCount,dy);
                    sender.c_bottom.adjustP1();
                    eb.setDivRect(g5.p2.p1,null,null,null,eb.getDivRectSetting(g5.p2.p1).h + dy);
                    if (g5.currentPageIndex == 0) eb.setDivRect(g5.p2,null,null,null,eb.getDivRectSetting(g5.p2).h + dy);
                }
                sender.className = "";
                g5.p2.p33.close();
                g5.onScroll();
            } else {
                eb.setDivRect(sender,null,0,null,null);
                ee.setAnimationEnd(sender, function() {
                    sender.className = "";
                    g5.p2.p33.close();
                });
                eb.setDivRect(g5.p2.p33,null,eb.getDivRectSetting(ee.getControl("panel1")).y-eb.getDivRectSetting(g5.p2.p33).h,null,null);
                ee.setAnimationEnd(g5.p2.p33, function() {
                });
            }
            if (root.v_items.length>0) {
                var rect = eb.getDivRectSetting(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            } else cy = 0;
        }
    }
    //if (updateHomepage.isForward) g5.loading.show2();
    updateHomepage();    
}

sender.parentNode.eeMouseDown = function(senderM, event) {
    if (!g5.isMobile) return;
    if (g5.isIOS()) return;
    if (g5.currentPageIndex!=0) return;
    sender.v_move = true;
    sender.v_downY = event.touches[0].screenY;
    sender.v_downScroll = document.documentElement.scrollTop;
    sender.className = "";
    sender.v_loadNew = 0;
    g5.p2.p33.className = "";
}

sender.parentNode.eeMouseUp = function(senderM, event) {
    if (!g5.isMobile) return;
    if (sender.v_click) {
        sender.v_click = false;
        return;
    }
    sender.v_move = false;
    if (sender.v_loadNew == 2) {
        sender.className = "aniAll3";
        eb.setDivRect(sender,null,37,null,null);
        ee.setAnimationEnd(sender, function() {
            sender.loadNew();
        });
        g5.p2.p33.className = "aniAll3";
        eb.setDivRect(g5.p2.p33,null,eb.getDivRectSetting(ee.getControl("panel1")).y-eb.getDivRectSetting(g5.p2.p33).h+37,null,null);
    } else if (sender.v_loadNew == 1) {
        //return;
        sender.className = "aniAll3";
        eb.setDivRect(sender,null,0,null,null);
        ee.setAnimationEnd(sender, function() {
            sender.className = "";
        });
        g5.p2.p33.className = "aniAll3";
        eb.setDivRect(g5.p2.p33,null,eb.getDivRectSetting(ee.getControl("panel1")).y-eb.getDivRectSetting(g5.p2.p33).h,null,null);
        ee.setAnimationEnd(g5.p2.p33, function() {
            sender.className = "";
            g5.p2.p33.className = "";
            g5.p2.p33.close();
        });
    }
    sender.v_loadNew = 0;
}

sender.parentNode.eeMouseMove = function(senderM, event) {
    if (!sender.v_move) return;
    if (!g5.isMobile) return;
    //g5.writeLog(sender.v_downY - event.touches[0].screenY);
    var dy = sender.v_downY - event.touches[0].screenY + sender.v_downScroll;
    if ((document.documentElement.scrollTop == 0) &amp;&amp; (dy<0)) {
        var maxH = eb.getDivRectSetting(g5.p2.p33).h;
        var maxMouseY = 600;
        var y = Math.min(-dy, maxMouseY);
        y = maxH*Math.sin((y*Math.PI)/(2*maxMouseY));
        eb.setDivRect(sender,null,y,null,null);
        ee.setRect(g5.p2.p33,null,y-maxH+eb.getDivRectSetting(ee.getControl("panel1")).y,null,null);
        if (y>=30) {
            sender.v_loadNew = 2;
        } else if (y>0) {
            sender.v_loadNew = 1;
        } else sender.v_loadNew = 0;
        g5.p2.p33.show();
        //event.preventDefault();
        //g5.writeLog("fire");
    }
    //event.y;
    //document.documentElement.scrollTop
}

eb.initMouseEvent(sender.parentNode);


sender.c_alert1 = null;
sender.c_alert2 = null;
sender.c_alert3 = null;
sender.c_alert4 = null;
sender.showAlert = function(value) {
    var button1 = g5.p1.p1.c_buttons[0];
    var button2 = g5.p1.p2.c_buttons[0];
    var button3 = g5.p1.p3.c_buttons[0];
    var button4 = g5.popBlack.a9.c_buttons[0];
    var r2 = eb.getDivRectSetting(button2);
    var r3 = eb.getDivRectSetting(button3);
    var c;
    if (!this.c_alert1) {
        c = createPanel(button1, "redDot1", "", button1.v_width-10, 14, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert1 = c;
    }
    if (!this.c_alert2) {
        c = createPanel(button2.parentNode, "redDot2", "", 20, r2.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert2 = c;
    }
    if (!this.c_alert3) {
        c = createPanel(button3.parentNode, "redDot3", "", 20, r3.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert3 = c;
    }
    if (!this.c_alert4) {
        var r = eb.getDivRectSetting(button4);
        c = createPanel(button4, "redDot4", "", 130, parseInt(r.h/2-10), 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert4 = c;
    }
    value = parseInt(value);
    if (isNaN(value)) value = 0;
    value = value + "";
    ee.setText(this.c_alert1, value);
    ee.setText(this.c_alert2, value);
    ee.setText(this.c_alert3, value);
    ee.setText(this.c_alert4, value);
    if (value == "0") {
        this.c_alert1.style.visibility = "hidden";
        ee.setRect(button1,null,null,button1.v_width,null);
        this.c_alert2.style.visibility = "hidden";
        this.c_alert3.style.visibility = "hidden";
        this.c_alert4.style.visibility = "hidden";
        return;
    }
    ee.setVisible(this.c_alert1, true);
    ee.setVisible(this.c_alert2, true);
    ee.setVisible(this.c_alert3, true);
    ee.setVisible(this.c_alert4, true);
    ee.setRect(button1,null,null,button1.v_width+39,null);
    ee.setRect(this.c_alert1,null,null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert2,r2.x+25-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert3,r3.x+30-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert4,null,null,19+6*(value.length-1), null);
}
]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1">
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_new</ee_LocalName>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>429</height>
      <heightRatio>0.55</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>主页顶部发帖</note>
      <onCreate><![CDATA[sender.c_photos = ee.getControl("panel7");
sender.c_edit = ee.getControl("panel577");
sender.c_button = ee.getControl("panel251");
sender.c_userPhoto = ee.getControl("panel2");

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.check = function() {
    var enabled = this.c_edit.getEditText().trim().length > 0;
    if (ee.getControl("panel7").v_photos.length>0) enabled = true;
    if (this.c_edit.getEditText().trim().length>200) enabled = false;
    ee.getControl("panel251").setEnabled(enabled);
}

sender.init = function() {
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
    ee.setVisible(this.c_photos, false);
    if (this.c_edit.setEditText) this.c_edit.setEditText("");
    ee.setRect(this.c_edit, null,null,null,53);
    var oldH = eb.getDivRect(this).h;
    ee.setRect(this, null,null,null,110);
    g5.batchMoveY(g5.p2.p1.v_items,0,110-oldH);
    if (this.c_button.setEnabled) this.c_button.setEnabled(false);
    if (ee.getControl("panel53").refresh) {
        ee.getControl("panel53").refresh(0/200);
        ee.setText(ee.getControl("panel122"), "");
    }    
    ee.setVisible(ee.getControl("panel53"), false);
    eb.processDock();
}
sender.init();]]></onCreate>
      <sizeRatio>0.715</sizeRatio>
      <top>52</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel2">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <height>50</height>
      <heightRatio>0.116550116550117</heightRatio>
      <layerVisible>false</layerVisible>
      <left>16</left>
      <leftRatio>0.0266666666666667</leftRatio>
      <note>c_userPhoto</note>
      <onClick>g5.p2.p1.loadNew(); 
return;
g5.p2.p2.show(g5.myUserInfo);

</onClick>
      <onCreate>sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,e) {
    sender.style.webkitFilter="brightness(80%)";
    sender.style.filter="brightness(80%)";
});
ee.setOnMouseLeave(c, function(sender,e) {
    sender.style.webkitFilter="brightness(100%)";
    sender.style.filter="brightness(100%)";
});
</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>10</top>
      <topRatio>0.0233100233100233</topRatio>
      <width>50</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel3">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>10</height>
      <heightRatio>0.0233100233100233</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>419</top>
      <topRatio>0.976689976689977</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel7">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>289</height>
      <heightRatio>0.673659673659674</heightRatio>
      <layerVisible>false</layerVisible>
      <left>77</left>
      <leftRatio>0.128333333333333</leftRatio>
      <note>c_photos</note>
      <onCreate><![CDATA[sender.style.borderRadius = "15px";
sender.v_mode="x";
sender.v_photos = new Array();

sender.onDeletePhoto = function() {
    if (sender.v_photos.length<=0) {
        ee.setVisible(sender, false);
        var cy = 462-140;
        cy = -cy;
        ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+cy);
        g5.batchMoveY(g5.p2.p1.v_items,0,cy);
        eb.setDivRect(g5.p2.p1, null,null,null,eb.getDivRect(g5.p2.p1).h + cy);
        eb.setDivRect(g5.p2.p1.parentNode, null,null,null,eb.getDivRect(g5.p2.p1.parentNode).h + cy);
        g5.p2.p1.c_bottom.adjustP1();
        eb.processDock();
    }
}

]]></onCreate>
      <outerBottom>70</outerBottom>
      <outerLeft>77</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.57455268389662</sizeRatio>
      <top>70</top>
      <topRatio>0.163170163170163</topRatio>
      <width>503</width>
      <widthRatio>0.838333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel9">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockY>bottom</dockY>
      <height>36</height>
      <heightRatio>0.0839160839160839</heightRatio>
      <layerVisible>false</layerVisible>
      <left>130</left>
      <leftRatio>0.216666666666667</leftRatio>
      <onClick><![CDATA[g5.uploadPhotoCheck(ee.getControl("panel7"),false,function() {
    if (g5.isMobile) {
        g5.p2.p32.show(function(ytbVideo) {
            var i = 0;
            for (i=0; i<ee.getControl("panel7").v_photos.length; i++) {
                var s = ee.getControl("panel7").v_photos[i];
                if (s.length<4) continue;
                if (s.substr(0,4)=="?YTB") {
                    break;
                }
            }
            if (i>=ee.getControl("panel7").v_photos.length) {
                ee.getControl("panel7").v_photos.push(ytbVideo);
            } else {
                ee.getControl("panel7").v_photos.splice(i,1,ytbVideo);
            }
            
            g5.refreshPhoto(ee.getControl("panel7"));
            ee.getControl("panel1").check();
                
            if (ee.getControl("panel7").style.visibility=="hidden") {
                ee.setVisible(ee.getControl("panel7"), true);
                ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+462-140);
                g5.batchMoveY(g5.p2.p1.v_items,0,462-140);
                g5.p2.p1.c_bottom.adjustP1();
                eb.processDock();
            }
        });
        g5.p2.p1.className = "";
        g5.p2.p1.v_click = true;
    } else {
        g5.popBlack2.a1.show(function(ytbVideo) {
            var i = 0;
            for (i=0; i<ee.getControl("panel7").v_photos.length; i++) {
                var s = ee.getControl("panel7").v_photos[i];
                if (s.length<4) continue;
                if (s.substr(0,4)=="?YTB") {
                    break;
                }
            }
            if (i>=ee.getControl("panel7").v_photos.length) {
                ee.getControl("panel7").v_photos.push(ytbVideo);
            } else {
                ee.getControl("panel7").v_photos.splice(i,1,ytbVideo);
            }
            
            g5.refreshPhoto(ee.getControl("panel7"));
            ee.getControl("panel1").check();
                
            if (ee.getControl("panel7").style.visibility=="hidden") {
                ee.setVisible(ee.getControl("panel7"), true);
                ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+462-140);
                g5.batchMoveY(g5.p2.p1.v_items,0,462-140);
                g5.p2.p1.c_bottom.adjustP1();
                eb.processDock();
            }
        });
    }
});


    


]]></onClick>
      <onCreate><![CDATA[ee.setText(sender, "<svg viewBox=\"0 0 4500 4500\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:4px 8px 8px 1px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">" + g5.icon.youtube + "</svg>");
sender.style.borderRadius = "50%";
if (!sender.c_cover) {
    sender.c_cover = createPanel(sender, "", "#00000001", 0, 0, 1, 1);
    eb.setDock(sender.c_cover,"fill","fill");
}

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});

sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#daeaf5";
}
sender.eeMouseUp = function(sender,event,x,y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#dfeffa";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);
]]></onCreate>
      <outerBottom>15</outerBottom>
      <sizeRatio>1</sizeRatio>
      <text>YTB</text>
      <top>378</top>
      <topRatio>0.881118881118881</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel53">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockX>right</dockX>
      <dockY>bottom</dockY>
      <height>39</height>
      <heightRatio>0.0909090909090909</heightRatio>
      <layerVisible>false</layerVisible>
      <left>431</left>
      <leftRatio>0.718333333333333</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    ee.setVisible(this, true);
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <outerBottom>18</outerBottom>
      <outerRight>130</outerRight>
      <sizeRatio>1</sizeRatio>
      <text>圆形进度条</text>
      <top>372</top>
      <topRatio>0.867132867132867</topRatio>
      <width>39</width>
      <widthRatio>0.065</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel122">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockX>right</dockX>
      <dockY>bottom</dockY>
      <fontFamily>Helvetica</fontFamily>
      <height>39</height>
      <heightRatio>0.0909090909090909</heightRatio>
      <layerVisible>false</layerVisible>
      <left>431</left>
      <leftRatio>0.718333333333333</leftRatio>
      <outerBottom>18</outerBottom>
      <outerRight>130</outerRight>
      <sizeRatio>1</sizeRatio>
      <top>372</top>
      <topRatio>0.867132867132867</topRatio>
      <width>39</width>
      <widthRatio>0.065</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel251">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>bottom</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>29</height>
      <heightRatio>0.0675990675990676</heightRatio>
      <layerVisible>false</layerVisible>
      <left>497</left>
      <leftRatio>0.828333333333333</leftRatio>
      <onClick>if (!sender.v_enabled) return;

if (newTwitter.busy) return;
newTwitter.uplinkType = "N";
newTwitter.uplinkId = 0;
newTwitter.content = g5.p2.p1.c_new.c_edit.getEditText();
newTwitter.photos = ee.getControl("panel7").v_photos;
newTwitter.onComplete = function(contentId) {
    var newContent = new g5.ContentInfo();
    newContent.id = contentId;
    newContent.seconds = 0;
    newContent.status = "IDL";
    newContent.uplinkType = "N";
    newContent.uplinkId = 0;
    newContent.content = newTwitter.content;
    newContent.photos = newTwitter.photos;
    newContent.reCount = 0;
    newContent.fwCount = 0;
    newContent.likeCount = 0;
    newContent.unlikeCount = 0;
    newContent.isForward = false;
    newContent.isLike = false;
    newContent.isUnlike = false;
    g5.p2.p1.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
    if (showUserPage.v_userInfo) {
        if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
            g5.p2.p2.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
        }
    }
}
newTwitter();
sender.parentNode.init();
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByTCn(500,ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(false);






</onCreate>
      <outerBottom>18</outerBottom>
      <outerRight>20</outerRight>
      <sizeRatio>0.349397590361446</sizeRatio>
      <text>发言</text>
      <top>382</top>
      <topRatio>0.89044289044289</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel299">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>bottom</dockY>
      <height>36</height>
      <heightRatio>0.0839160839160839</heightRatio>
      <layerVisible>false</layerVisible>
      <left>79</left>
      <leftRatio>0.131666666666667</leftRatio>
      <onClick>if (event.target.tagName.toUpperCase() == "INPUT") return;
g5.uploadPhotoCheck(ee.getControl("panel7"),true,function() {
    sender.c_file.blur();
    sender.c_file.click();
});
</onClick>
      <onCreate><![CDATA[sender.maxSqr = 1200*1200;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#daeaf5";
}
sender.eeMouseUp = function(sender,event,x,y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#dfeffa";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);

//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
c.value = null;
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.addEventListener("change", function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) {
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (ee.getControl("panel7").v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        if (ee.getControl("panel7").v_photos.length>=4) return;
                        ee.getControl("panel7").v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(ee.getControl("panel7"));
                        if (ee.getControl("panel7").style.visibility=="hidden") {
                            ee.setVisible(ee.getControl("panel7"), true);
                            var cy = 462-140;
                            ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+cy);
                            g5.batchMoveY(g5.p2.p1.v_items,0,cy);
                            eb.setDivRect(g5.p2.p1, null,null,null,eb.getDivRect(g5.p2.p1).h + cy);
                            eb.setDivRect(g5.p2.p1.parentNode, null,null,null,eb.getDivRect(g5.p2.p1.parentNode).h + cy);
                            g5.p2.p1.c_bottom.adjustP1();
                            eb.processDock();
                        }
                        ee.getControl("panel1").check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
});

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <outerBottom>15</outerBottom>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>378</top>
      <topRatio>0.881118881118881</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel577">
      <__U_editFontColor type="color">000000</__U_editFontColor>
      <__U_editFontFamily type="string">'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</__U_editFontFamily>
      <__U_editFontSize type="string">16pt</__U_editFontSize>
      <__U_editMaxY type="string">300px</__U_editMaxY>
      <__U_onCurPosChange-sender-oldPos-newPos type="jsMix">sender.processUserName();</__U_onCurPosChange-sender-oldPos-newPos>
      <__U_onFocusChange-sender-isFocus type="jsMix" />
      <__U_onHeightChange-sender-oldH-newH type="jsMix">var dy = newH - oldH;
if (dy == 0) return;
ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h + dy);
g5.batchMoveY(g5.p2.p1.v_items,0,dy);
ee.setRect(g5.p2.p1, null,null,null,eb.getDivRectSetting(g5.p2.p1).h + dy);
eb.setDivRect(g5.p2.p1.parentNode, null,null,null,eb.getDivRect(g5.p2.p1.parentNode).h + dy);
g5.p2.p1.c_bottom.adjustP1();
eb.processDock();

</__U_onHeightChange-sender-oldH-newH>
      <__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml type="jsMix"><![CDATA[var text = ee.getEditText(sender.c_edit);

if (newText.split("\n").length-1>20) {
    return false;
}

var cp = sender.getCurPosAbs();
var sTemp = sender.convertHtml(newText);
var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>");
sender.c_edit.innerHTML = sTemp;
sender.c_edit.innerHTML = sender.c_edit.innerHTML.replace(/&amp;nbsp;/g, ' ');
sender.setCurPosAbs(cp);

sender.processUserName();

g5.p2.p1.c_new.check();
var newText = newText.trim();
var c = ee.getControl("panel53");
if (newText.length<180) {
    c.v_color = "#29a5f2";
    c.v_r = "9";
    c.refresh(newText.length/200);
    ee.setText(ee.getControl("panel122"), "");    
} else if (newText.length<=200) {
    c.v_color = "#ffad1f";
    c.v_r = "12";
    c.refresh(newText.length/200);    
    ee.setText(ee.getControl("panel122"), 200-newText.length);    
    ee.setTextColor(ee.getControl("panel122"), "#ffad1f");
} else {
    c.v_color = "#e0245e";
    c.v_r = "14";
    c.refresh((newText.length-200)/100);    
    ee.setText(ee.getControl("panel122"), 200-newText.length);
    ee.setTextColor(ee.getControl("panel122"), "#e0245e");
}

]]></__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml>
      <backgroundColor>D3D3D3</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_label</ee_LocalName>
      <height>53</height>
      <heightRatio>0.123543123543124</heightRatio>
      <layerVisible>false</layerVisible>
      <left>77</left>
      <leftRatio>0.128333333333333</leftRatio>
      <note>c_edit</note>
      <onCreate><![CDATA[//public
sender.currentText = "";
sender.currentHtml = "";
sender.currentCurPos = 0;
sender.getEditText = function() {
    return this.getPlanText().replace(/\xA0/g, " ");
}
sender.setEditText = function(text, inOnChange) {
    this.c_edit.innerHTML = this.convertHtml(text);
    if (!inOnChange) this.f_onChange();
}

sender.setEditHtm = function(htmlText, inOnChange) {
    this.c_edit.innerHTML = text;
    if (!inOnChange) this.f_onChange();
}

sender.convertHtml = function(text) {
    var textS = text.replace(/ /g, "\xA0").split("\n");
    text = "";
    for (var i=0; i<textS.length; i++) {
        if (textS[i].length<=0) {
            text += "<div><br\></div>";
        } else {
            text += "<div>" + textS[i] + "</div>";
        }
    }
    return text;
}


//private
var e = sender.c_edit;
e.contentEditable = true;
e.style.border = "none";
e.style.outline = "none";
e.style.height = "";
e.style.minHeight = (eb.getDivRectSetting(sender).h - e.outerTop - e.outerBottom) + "px";
e.style.maxHeight = sender.editMaxY;
e.style.overflowY = "auto";
e.style.fontFamily = sender.editFontFamily;
e.style.fontSize = sender.editFontSize;
e.style.color = "#" + sender.editFontColor;
//e.style.whiteSpace = "normal";
//e.style.wordBreak = "break-all";
//e.style.wordWrap = "break-word";
e.style.whiteSpace = "pre-wrap";
e.style.wordWrap = "break-word";
e.style.wordBreak = "normal";
e.innerHTML = "";
eb.setDivRect(e, e.outerLeft, e.outerTop, eb.getDivRectSetting(sender).w - e.outerLeft - e.outerRight, null);
sender.v_lastH = eb.getDivRectSetting(sender).h;

sender.refreshH = function() {
    if (this.v_lastH!=eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom) {
        var lastH = this.v_lastH;
        this.v_lastH = eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom;
        ee.setRect(this,null,null,null,this.v_lastH);
        sender.onHeightChange(this, lastH, this.v_lastH);
    }
}

sender.onSizeChange = function(sender, rectOld, rectNew) {
    eb.setDivRect(sender.c_edit, sender.c_edit.outerLeft, sender.c_edit.outerTop,
        rectNew.w - sender.c_edit.outerLeft - sender.c_edit.outerRight, null);
}

sender.f_onChange = function() {
    if (sender.v_isIme) {
        ee.setVisible(this.c_label, this.getPlanText().length<=0); 
        return;
    }
    this.refreshH();
    var oldText = this.currentText;
    var oldHtml = this.currentHtml;
    this.currentText = this.getPlanText().replace(/\xA0/g, " ");
    this.currentHtml = this.c_edit.innerHTML;
    ee.setVisible(this.c_label, (!this.c_edit.innerText) || (this.c_edit.innerText.trim().length<=0)); 
    if (this.onInputChange(this, this.lastKey, oldText, this.currentText, oldHtml, this.currentHtml)==false) {
        this.setEditText(oldHtml, true);
        this.currentHtml = oldHtml;
        this.currentText = oldText;
        this.setCurPosAbs(this.currentCurPos);
    }
}

sender.CurPos = function() {
    this.elmIndex = new Array();
    this.curPos = 0;
}
   
sender.getCurPos = function() {
    var curPos = new this.CurPos();
    var sel, range;
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.rangeCount) {
            range = sel.getRangeAt(0);
            var node = range.commonAncestorContainer;
            while (node.parentNode) {
                var i;
                for (i=0; i<node.parentNode.childNodes.length; i++) {
                    if (node.parentNode.childNodes[i] == node) {
                        curPos.elmIndex.push(i);
                        break;
                    }
                }
                node = node.parentNode;
                if (node == this.c_edit) break;
            }
            curPos.curPos = range.endOffset;
        }
    } else if (document.selection &amp;&amp; document.selection.createRange) {
        console.log("not perform");
        range = document.selection.createRange();
        if (range.parentElement() == this.c_edit) {
            var tempEl = document.createElement("span");
            this.c_edit.insertBefore(tempEl, this.c_edit.firstChild);
            var tempRange = range.duplicate();
            tempRange.moveToElementText(tempEl);
            tempRange.setEndPoint("EndToEnd", range);
            caretPos = tempRange.text.length;
        }
    }
    return curPos;
}

sender.setCurPos = function(curPos) {
    var range = document.createRange()
    var sel = window.getSelection()
    var node = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!node.childNodes[curPos.elmIndex[i]]) break;
        node = node.childNodes[curPos.elmIndex[i]];
    }
    range.setStart(node, curPos.curPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getCurPosAbs = function() {
    var curPos = this.getCurPos();
    var nodeSel = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!nodeSel.childNodes[curPos.elmIndex[i]]) break;
        nodeSel = nodeSel.childNodes[curPos.elmIndex[i]];
    }
    var pos = 0;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i] == nodeSel) {
                if ((nodeSel.nodeName.toUpperCase() =="DIV")
                    || (nodeSel.nodeName.toUpperCase() =="CODE")
                    || (nodeSel.nodeName.toUpperCase() =="PRE")
                    || (nodeSel.nodeName.toUpperCase() =="P")) pos++;
                pos += curPos.curPos;
                return true;
            }
            if ((node.childNodes[i].nodeName.toUpperCase() == "DIV") || (node.childNodes[i].nodeName.toUpperCase() == "P")){
                if (i>0) pos++;
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return pos;
}

sender.setCurPosAbs = function(absPos) {
    var pos = 0;
    var setNode, setPos;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if ((node.childNodes[i].nodeName.toUpperCase() == "DIV")
                || (node.childNodes[i].nodeName.toUpperCase() == "CODE")
                || (node.childNodes[i].nodeName.toUpperCase() == "PRE")
                || (node.childNodes[i].nodeName.toUpperCase() == "P")) {
                if (i>0) pos++;
                if (pos>=absPos) {
                    if (node.childNodes[i].childNodes.length>0) {
                        setNode = node.childNodes[i].childNodes[0];
                    } else {
                        setNode = node.childNodes[i];
                    }
                    setPos = 0;
                    return true;
                }
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    var range = document.createRange()
    var sel = window.getSelection()
    range.setStart(setNode, setPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getPlanText = function() {
    var text = "";
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if ((node.childNodes[i].nodeName.toUpperCase() == "DIV")
                || (node.childNodes[i].nodeName.toUpperCase() == "P")
                || (node.childNodes[i].nodeName.toUpperCase() == "PRE")
                || (node.childNodes[i].nodeName.toUpperCase() == "CODE")) {
                if (i>0) text += "\n";
                addPos(node.childNodes[i]);
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                text += node.childNodes[i].textContent;
            } else {
                console.log("undefined node name: " + node.childNodes[i].nodeName);
                console.log(node);
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return text;
}

e.onkeydown = function(event) {
    sender.lastCurPos = sender.getCurPos();
    sender.lastKey = {};
    sender.lastKey.key = event.key;
    sender.lastKey.keyCode = event.keyCode;
    sender.lastKey.shiftKey = event.shiftKey;
    sender.lastKey.ctrlKey = event.ctrlKey;
    sender.lastKey.altKey = event.altKey;
}

e.oninput = function(event) {
    sender.f_onChange();
}

e.onpaste = function() {
    //sender.f_onChange();
}

e.onfocus = function() {
    document.addEventListener("selectionchange", sender.f_onSelectionChange, false);
}

e.onblur = function() {
    document.removeEventListener("selectionchange", sender.f_onSelectionChange, false);
}

sender.f_onSelectionChange = function(event) {
    var oldPos = sender.currentCurPos;
    sender.currentCurPos = sender.getCurPosAbs();
    if (oldPos!=sender.currentCurPos) {
        if (sender.onCurPosChange) {
            sender.onCurPosChange(sender,oldPos,sender.currentCurPos);
        }
    }
}

sender.c_edit.addEventListener("compositionstart", function(event) {
    sender.v_isIme = true;
});

sender.c_edit.addEventListener("compositionupdate", function(event) {
    //console.log("ime update");
});

sender.c_edit.addEventListener("compositionend", function(event) {
    sender.v_isIme = false;
    sender.f_onChange();
});

sender.c_edit.addEventListener("touchstart", function(event) {
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return;
});

//user
sender.getUsername = function() {
    var newText = this.getEditText();
    var cp = this.getCurPosAbs();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return "";
    var pos = i;
    var userName = "";
    for (i=pos+1; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
            userName += ch;
        } else break;
    }
    if (userName.length<2) return "";
    if (i<=cp-1) return "";
    userName = userName.substr(0,20);
    return userName;
}

sender.setUsername = function(username) {
    var cp = sender.getCurPosAbs();
    var newText = sender.getEditText();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return;
    var pos = i+1;
    for (i=pos; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
        } else break;
    }
    if (i-pos<2) return;
    if (i<=cp-1) return;
    if (i-pos>20) i=20-pos;
    var s = newText.substr(0, pos);
    s += username;
    if (i>=newText.length) {
        s += " ";
    } else if (newText.charAt(i)=="\n") {
        s += " " + newText.substr(i);
    } else {
        s += newText.substr(i);
    }
    
    var sTemp = sender.convertHtml(s);
    var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
    sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>")
    sender.c_edit.innerHTML = sTemp;
    sender.setCurPosAbs(i+1);
}

sender.processUserName = function() {
    var userName = this.getUsername();
    if (userName.length>0) {
        g5.p2.p34.show(sender, userName, function(username) {
            sender.setUsername(username);
            sender.c_edit.blur();
        });
    } else g5.p2.p34.close();
}
]]></onCreate>
      <outerLeft>77</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.105367793240557</sizeRatio>
      <top>7</top>
      <topRatio>0.0163170163170163</topRatio>
      <userProperty>//#P:editFontFamily|多行文字录入V2|'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif|string||用户输入文字的字体样式
//#P:editFontColor|多行文字录入V2|404040|color||用户输入文字的字体颜色
//#P:editFontSize|多行文字录入V2|12pt|string||用户输入文字的大小
//#P:editMaxY|多行文字录入V2|300px|string||编辑框最大高度
//#P:onHeightChange(sender,oldH,newH)|多行文字录入V2||jsMix||由于用户的输入导致编辑框产生的高度变化。sender:触发事件的控件，oldH:旧的高度，newH:新的高度
//#P:onInputChange(sender,key,oldText,newText,oldHtml,newHtml)|多行文字录入V2||jsMix||由于用户的输入导致内容改变，返回false表示取消本次修改。sender:触发事件的控件，key:用户按键，oldText:旧的内容，newText:新的内容，oldHtml:旧内容html形式，newHtml:新内容html形式
//#P:onFocusChange(sender,isFocus)|多行文字录入V2||jsMix||焦点发生变化。sender:触发事件的控件，isFocus:是否触发了焦点
//#P:onCurPosChange(sender,oldPos,newPos)|多行文字录入V2||jsMix||光标位置发生变化。sender:触发事件的控件，oldPos:原来的光标位置；newPos:新的光标位置；



</userProperty>
      <width>503</width>
      <widthRatio>0.838333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel577/panel603">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_label</ee_LocalName>
      <fontColor>9197A3</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_label</note>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.105367793240557</sizeRatio>
      <text>有什么新鲜事？</text>
      <top>0</top>
      <vAlign>top</vAlign>
      <width>503</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel577/panel604">
      <backgroundColor>FFFFFF</backgroundColor>
      <ee_LocalName>c_edit</ee_LocalName>
      <fontColor>404040</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>26</height>
      <heightRatio>0.490566037735849</heightRatio>
      <layerVisible>false</layerVisible>
      <left>16</left>
      <leftRatio>0.0318091451292246</leftRatio>
      <note>c_edit</note>
      <outerBottom>2</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>2</outerRight>
      <outerTop>2</outerTop>
      <sizeRatio>0.257425742574257</sizeRatio>
      <top>15</top>
      <topRatio>0.283018867924528</topRatio>
      <v_color1>FFC0C0</v_color1>
      <v_Str>as223</v_Str>
      <vAlign>top</vAlign>
      <width>101</width>
      <widthRatio>0.200795228628231</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648">
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>252</height>
      <heightRatio>0.323076923076923</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_bottom->短文底部栏目]]></note>
      <onCreate><![CDATA[sender.v_valid = false;

ee.setVisible(sender.c_recmdS, true);
ee.setVisible(sender.c_recmdU, true);
ee.setVisible(sender.c_noResult, true);
ee.setVisible(sender.c_followConfirm, true);


sender.refresh = function(dsSearch, dsUser) {
    this.c_recmdS.refresh(dsSearch);
    this.c_recmdU.refresh(dsUser);
    ee.tiledV(this,0,0,0);
    ee.tiledResizeV(this,1);
}

sender.show = function(visible) {
    if (!visible) {
        ee.setVisible(this, false);
        var h;
        if (g5.p2.p1.v_items.length>0) {
            var r = eb.getDivRectSetting(g5.p2.p1.v_items[g5.p2.p1.v_items.length-1]);
            h = r.y + r.h + 800;
        } else {
            h = 800;
        }
        ee.setRect(g5.p2.p1,null,null,null,h);
        if (g5.currentPageIndex == 0) ee.setRect(g5.p2,null,null,null,h);
        return;
    }

    if (this.v_valid) {
        ee.setVisible(this, true);
        this.adjustP1();
        return;
    }
    
    if (getRecommend.busy) return;
    getRecommend.onComplete = function(dsSearch, dsUser) {
        ee.setVisible(sender, true);
        sender.refresh(dsSearch,dsUser);
        sender.adjustP1();
        sender.v_valid = true;
    }
    getRecommend();
}

sender.adjustP1 = function() {
    var item;
    if (g5.p2.p1.v_items.length>0) {
        item = g5.p2.p1.v_items[g5.p2.p1.v_items.length-1];
        ee.setVisible(this.c_barTop, true);
        ee.tiledResizeV(this, 1);
    } else {
        item = g5.p2.p1.c_new;
        ee.setVisible(this.c_barTop, false);
        ee.tiledResizeV(this, 1);
    }
    item = eb.getDivRectSetting(item);
    var cy = item.y + item.h;
    ee.setRect(this,null,cy,null,null);
    cy += eb.getDivRectSetting(this).h;
    var ch = $g("divRoot").offsetHeight;
    var h = cy + ch - eb.getDivRectSetting(sender).h - 51;
    h += eb.getDivRectSetting(this.c_noResult).y;
    eb.setDivRect(g5.p2,null,null,null,h);
    eb.setDivRect(g5.p2.p1,null,null,null,h);
}

sender.refreshButtonNext = function() {
    //sender.c_followConfirm.c_button;
    let enabled = false;
    for (let i=0; i<sender.c_recmdU.v_items.length; i++) {
        if (sender.c_recmdU.v_items[i].v_selected) {
            enabled = true;
            break;
        }
    }
    sender.c_followConfirm.c_button.setEnabled(enabled);
}



]]></onCreate>
      <sizeRatio>0.42</sizeRatio>
      <top>484</top>
      <topRatio>0.620512820512821</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel655">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_barTop</ee_LocalName>
      <height>10</height>
      <heightRatio>0.0396825396825397</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00396825396825397</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel650">
      <backgroundColor>EAEAFE</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_recmdS</ee_LocalName>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>183</height>
      <heightRatio>0.726190476190476</heightRatio>
      <layerName>搜索推荐</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_text = ee.getControl("panel652");

sender.refresh = function(dataset) {
    var s = g5.lang.getByCn("热门搜索关键字：") + "<br/>";
    for (var i=0; i<dataset.rowCount; i++) {
        s += "<spawn>" + dataset.getData(3,i) + "</spawn>&amp;nbsp;&amp;nbsp;&amp;nbsp;";
    }
    this.c_text.style.height = "";
    this.c_text.style.overflow = "";
    this.c_text.style.wordWrap = "break-word";
    this.c_text.style.wordBreak = "keep-all";
    this.c_text.style.whiteSpace = "normal";
    this.c_text.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    this.c_text.style.color = "#000000";
    this.c_text.innerHTML = "<font style='font-size:16px; line-height:1.4;'>" + s + "</font>";
    var items = this.c_text.getElementsByTagName("spawn");
    for (var i=0; i<items.length; i++) {
        items[i].style.color = "rgb(29,161,242)";
        items[i].style.cursor="pointer";
        ee.setOnClick(items[i], function(senderBtn, event) {
            g5.p2.p11.search(senderBtn.innerText);
        });
    }
    
    ee.setRect(this.c_text,null,10,null,null);
    ee.setRect(this, null,null,null, this.c_text.offsetHeight + 20);
    //eb.processDock();
}
]]></onCreate>
      <sizeRatio>0.305</sizeRatio>
      <top>8</top>
      <topRatio>0.0317460317460317</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel650/panel652">
      <backgroundColor>EAEAFE</backgroundColor>
      <dockX>fill</dockX>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>183</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.025</leftRatio>
      <note>c_text</note>
      <onCreate><![CDATA[sender.refresh = function(dataset) {
    var s = "";
    for (var i=0; i<dataset.rowCount; i++) {
        s += dataset.getData(3,i) + " ";
    }
    ee.setRect(this,null,null,null,10);

    this.style.overflow = "";
    this.style.wordWrap = "break-word";
    this.style.wordBreak = "break-all";
    this.style.whiteSpace = "normal";
    this.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    this.style.color = "#000000";
    this.innerHTML = "<font style='font-size:12px; line-height:1.2;'>" + s + "</font>";

    //ee.setRect(this,null,null,null,this.label.offsetHeight + 20);
    eb.processDock();
}
]]></onCreate>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.321052631578947</sizeRatio>
      <top>0</top>
      <width>570</width>
      <widthRatio>0.95</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel703">
      <backgroundColor>EAEAFE</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_followConfirm</ee_LocalName>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>61</height>
      <heightRatio>0.242063492063492</heightRatio>
      <layerName>关注确认</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.refresh = function(dataset) {
    var root = sender;
    var cy = 0;
    var itemWidth = eb.getDivRect(root).w;
    for (var i=0; i<dataset.rowCount; i++) {
        var item = createPanel(root, "recmdU_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
        sender.loadRecord(item, dataset, i);
        item.v_mode = "";
        if (g5.myUserInfo.userName == "test066") {
            item.v_selectMode = true;
            item.v_selected = true;
        }
        g5.renderUserBar(item);
        cy += eb.getDivRect(item).h;
        sender.v_items.push(item);
    }
    eb.processDock();
    var rect = eb.getDivRectSetting(g5.p4);
    ee.tiledV(sender, 0, 0, 0); 
    ee.tiledResizeV(sender,1);
}
]]></onCreate>
      <sizeRatio>0.101666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel703/panel704">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.163934426229508</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel703/panel702">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.459016393442623</heightRatio>
      <layerVisible>false</layerVisible>
      <left>13</left>
      <leftRatio>0.0216666666666667</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0811594202898551</sizeRatio>
      <text>请确认关注的账号</text>
      <top>21</top>
      <topRatio>0.344262295081967</topRatio>
      <width>345</width>
      <widthRatio>0.575</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel703/panel707">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_button</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>29</height>
      <heightRatio>0.475409836065574</heightRatio>
      <layerVisible>false</layerVisible>
      <left>376</left>
      <leftRatio>0.626666666666667</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;

followBatch.userId = [];
let items = g5.p2.p1.c_bottom.c_recmdU.v_items;
for (let i=0; i<items.length; i++) {
    if (items[i].v_selected) {
        followBatch.userId.push(items[i].v_userInfo.id);
    }
}
followBatch.onComplete = function() {
    location.reload();
}
followBatch();


]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByTCn(500,ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);






</onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>0.142156862745098</sizeRatio>
      <text>开始使用FISTALK</text>
      <top>21</top>
      <topRatio>0.344262295081967</topRatio>
      <width>204</width>
      <widthRatio>0.34</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel658">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0396825396825397</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel653">
      <backgroundColor>EAEAFE</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_recmdU</ee_LocalName>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>236</height>
      <heightRatio>0.936507936507937</heightRatio>
      <layerName>关注推荐</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.refresh = function(dataset) {
    var root = sender;
    var cy = 0;
    var itemWidth = eb.getDivRect(root).w;
    for (var i=0; i<dataset.rowCount; i++) {
        var item = createPanel(root, "recmdU_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
        sender.loadRecord(item, dataset, i);
        item.v_mode = "";
        //if (g5.myUserInfo.userName == "test066") {
            item.v_selectMode = true;
            item.v_selected = true;
            item.f_onSelectChange = function(selected) {
                sender.parentNode.refreshButtonNext();
            }
        //}
        g5.renderUserBar(item);
        cy += eb.getDivRect(item).h;
        sender.v_items.push(item);
    }
    eb.processDock();
    var rect = eb.getDivRectSetting(g5.p4);
    ee.tiledV(sender, 0, 0, 0); 
    ee.tiledResizeV(sender,1);
}
]]></onCreate>
      <sizeRatio>0.393333333333333</sizeRatio>
      <top>7</top>
      <topRatio>0.0277777777777778</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel656">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0396825396825397</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel648/panel651">
      <backgroundColor>EAEAFE</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_noResult</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>A0A0A0</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <height>60</height>
      <heightRatio>0.238095238095238</heightRatio>
      <layerName>没有更多了</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.1</sizeRatio>
      <text>没有更多了</text>
      <top>30</top>
      <topRatio>0.119047619047619</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p2</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>用户(个人)信息页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.p1Items = new Array();
sender.p3Items = new Array();
sender.v_userInfo = new g5.UserInfo();
sender.c_photo = ee.getControl("panel23");
sender.v_forceDisplay = false;

sender.type_itemData = function() {
    this.type = "";
    this.linkType = "";
    this.linkValue = "";
}
sender.v_donateList = new Array();

sender.show = function(v_userInfo, userId, userName) {
    if (showUserPage.busy) return;
    showUserPage.disabled = false;
    showUserPageLoadMore.disabled = false;
    showUserPageP3.disabled = false;
    
    if (v_userInfo) {
        sender.v_isMe = g5.myUserInfo.id == v_userInfo.id;
    } else if (userId) {
        sender.v_isMe = g5.myUserInfo.id == userId;
    } else if (userName) {
        sender.v_isMe = g5.myUserInfo.userName == userName;
    } else {
        sender.v_isMe = false;
    }
    
    this.v_needRefresh = true;
    if (this.v_userInfo) {
        if (v_userInfo) {
            if (v_userInfo.id == this.v_userInfo.id) {
                this.v_needRefresh = false;
                this.v_userInfo = v_userInfo.clone();
            }
        } else if (userId) { 
            if (userId == this.v_userInfo.id) {
                this.v_needRefresh = false;
            }
        } else if (userName) {
            if (userName == this.v_userInfo.userName) {
                this.v_needRefresh = false;
            }
        }
    }
    if (!this.v_needRefresh) {
        if (g5.currentPageIndex==1) {
            document.documentElement.scrollTop = 0;
            return;
        }
        var root = g5.p2.p2.p2sub.p1;
        rect = eb.getDivRectSetting(root.parentNode);
        ee.setRect(root.parentNode.parentNode,null,null,null,rect.y + rect.h);
        g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.start(showUserPage.defaultChatRoomId);
        /*
        if (showUserPage.privateChatRoomRights) {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.start(showUserPage.privateChatRoomId);
        }
        */
        g5.changeP2(1);
        if (this.v_userInfo.isBlock1 || this.v_userInfo.isBlock2) this.showByUserInfo(this.v_userInfo);
        return;
    }
    if (g5.currentPageIndex==1) {
        if (v_userInfo) {
            g5.pushHistory2("/" + escape(v_userInfo.userName));
            document.documentElement.scrollTop = 0;
        } else if (userName) {
            //g5.pushHistory2("/" + escape(userName));
        }
        g5.chatAlertDB.showCount();
    }
    if (!eb.isEmpty(v_userInfo)) {
        this.showByUserInfo(v_userInfo);
        showUserPage.userName = "";
        showUserPage.userId = v_userInfo.id;
    } else if (!eb.isEmpty(userId)) {
        this.v_userInfo = null;
        showUserPage.userName = "";
        showUserPage.userId = userId;
    } else {
        //this.v_userInfo = null;
        showUserPage.userName = userName;
        showUserPage.userId = null;
    }                                     
    showUserPage.onComplete = function() {
        g5.loading.close();
        if (sender.v_needRefresh &amp;&amp; (g5.currentPageIndex==1)) {
            document.documentElement.scrollTop = 0;
        }
        if (userName) {
            g5.pushHistory2("/" + escape(userName));
            sender.v_userInfo = null
        }
        if (showUserPage.disabled) return;
        var i;
        if ((!sender.v_userInfo) || (!sender.v_userInfo.id)) {
            sender.showByUserInfo(showUserPage.v_userInfo);
        } else {
            sender.refreshFansFollowCount();
        }
        for (var i=0; i<sender.p1Items.length; i++) {
            ee.removeControl(sender.p1Items[i]);
        }
        sender.p1Items = new Array();
        if ((sender.c_block1.style.visibility != "hidden") || (sender.c_block2.style.visibility != "hidden") || (sender.c_block12.style.visibility != "hidden")) {
            return;
        }

        var cy = 0;
        var i, item;
        var root = g5.p2.p2.p2sub.p1;
        root.init(); 
        var itemWidth = eb.getDivRect(root).w;
        var item = null;
        for (i=0; i< showUserPage.dataset.rowCount; i++) {
            item = createPanel(root, "puser_" + showUserPage.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, showUserPage.dataset, i);
            if (item.v_content.exUplinkType == "L") {
                if (item.v_userInfo.isBlock1) {
                    ee.removeControl(item);
                    continue;
                }
            }
            item.v_forceDisplay = sender.v_forceDisplay;
            item.v_mode = "   x";
            item.v_displayForceTop = true;
            g5.renderTwitter(item);
            sender.p1Items.push(item);
            cy += 0 + eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (item!=null) {
            var ch = $g("divRoot").offsetHeight;
            var h = cy + ch - eb.getDivRect(item).h - 51; 
            ee.setRect(root,null,null,null,h);
        } else {
            var ch = $g("divRoot").offsetHeight;
            var h = ch + eb.getDivRect(ee.getControl("layoutx2")).y - 51; 
            ee.setRect(root,null,null,null,h);
        }    
        rect = eb.getDivRectSetting(root);
        ee.setRect(root.parentNode,null,null,null,rect.y + rect.h);
        rect = eb.getDivRectSetting(root.parentNode);
        ee.setRect(root.parentNode.parentNode,null,null,null,rect.y + rect.h);

        sender.v_donateList = new Array();
        for (var i=0; i<showUserPage.datasetDonate.rowCount; i++) {
            var item = new sender.type_itemData();
            item.type = showUserPage.datasetDonate.getData(1,i);
            item.linkType = showUserPage.datasetDonate.getData(2,i);
            item.linkValue = showUserPage.datasetDonate.getData(3,i);
            sender.v_donateList.push(item);
        }
        sender.p2sub.p1.c_chat.c_chat.c_chatButton.setDonateEnable(sender.v_donateList.length>0);

        g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.start(showUserPage.defaultChatRoomId);
        /*
        if (showUserPage.privateChatRoomRights) {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.start(showUserPage.privateChatRoomId);
        } else {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.clear();
        }
        */
        
        g5.tiledV(g5.p2PersonSub.p1,0);
        sender.p2sub.init();
        sender.p2sub.changePage(1);
        //g5.p3.p8.init();
    }
    if (((this.c_block1.style.visibility == "hidden") &amp;&amp; (this.c_block2.style.visibility == "hidden") &amp;&amp; (sender.c_block12.style.visibility == "hidden")) || eb.isEmpty(v_userInfo)) {
        g5.loading.show();
        showUserPage();
    }
}

sender.close = function() {
    showUserPage.disabled = true;
    showUserPageLoadMore.disabled = true;
    showUserPageP3.disabled = true;
    this.v_lastScrollTop = document.documentElement.scrollTop;
    this.v_forceDisplay = false;
    ee.setVisible(g5.p4, false);
    g5.player.stop();
    g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.stop();
    g5.p3.p8.p1.c_chatRoom.c_chatRoot.stop();
    ee.setVisible(this, false);
    g5.changeP3(-1);
    g5.p4.changePage("");
}

sender.activePage = function() {
    var nf = this.v_needRefresh;
    g5.pushHistory2("/" + escape(this.v_userInfo.userName));
    
    g5.pageMode = 0;
    g5.refreshMain(true);
    eb.setDivRect(g5.p2,null,null,null,eb.getDivRect(this).h);
    ee.setVisible(this, true);
    g5.p4.changePage("a6");
    if (nf) {
        document.documentElement.scrollTop = 0;
    } else {
        document.documentElement.scrollTop = this.v_lastScrollTop;
    }
    g5.chatAlertDB.showCount();
}

sender.refreshContent = function() {
    if (this.v_userInfo) {
        if (this.v_userInfo.id != g5.myUserInfo.id) return;
    } else return;
    

    if (g5.currentPageIndex == 1) {
        this.p2sub.p1.refresh();
        this.p2sub.refreshP3();
    } else {
        this.v_userInfo = null;
    }
}

sender.refreshUserInfo = function(v_userInfo) {
    if (this.v_userInfo.id != v_userInfo.id) return;
    this.v_userInfo = new g5.UserInfo();
    if (g5.currentPageIndex != 1) return;
    g5.notPushHistoryCount = 1;
    this.show(v_userInfo);
}

sender.refresh = function() {
    if (eb.isEmpty(this.v_userInfo)) return;
    if (g5.currentPageIndex == 1) {
        var u = this.v_userInfo.clone();
        g5.notPushHistoryCount = 1;
        this.v_userInfo = null;
        this.show(u);
    } else {
        this.v_userInfo = null;
    }
}

sender.setIsFollow = function(userId, isFollow) {
    if (this.v_userInfo) {
        if (this.v_userInfo.id == userId) {
            if (this.v_userInfo.isFollow == isFollow) return;
            this.v_userInfo.isFollow = isFollow;
            this.refreshButton();
            if (this.v_userInfo.isFollow) {
                this.v_userInfo.fansCount++;
                this.refreshFansFollowCount();
            } else {
                if (this.v_userInfo.status == "Private") {
                    g5.changeP2(-1);
                    var userInfo = this.v_userInfo.clone();
                    this.v_userInfo = null;
                    g5.notPushHistoryCount = 1;
                    this.show(userInfo);
                    return;
                }
                this.v_userInfo.fansCount--;
                this.refreshFansFollowCount();
            }
        }
        if (this.v_userInfo.id == g5.myUserInfo.id) {
            if (isFollow) {
                this.v_userInfo.followCount++;
                this.refreshFansFollowCount();
            } else {
                this.v_userInfo.followCount--;
                this.refreshFansFollowCount();
            }
        }
    }
}

sender.setIsBlock1 = function(userId, isBlock1) {
    if (g5.currentPageIndex == 1) {
        var v_userInfo = this.v_userInfo.clone();
        if (userId != v_userInfo.id) {
            g5.changeP2(-1);
            this.v_userInfo = null;
            g5.notPushHistoryCount = 1;
            this.show(v_userInfo);
            return;
        }
        v_userInfo.isBlock1 = isBlock1;
        g5.changeP2(-1);
        this.v_userInfo = null;
        g5.notPushHistoryCount = 1;
        this.show(v_userInfo);
    } else {
        this.v_userInfo = null;
    }
}

sender.refreshFansFollowCount = function() {
    if (this.v_userInfo) {
        var s = 
            "  <div id='userPageLink01' style='display:inline;'>" + this.v_userInfo.followCount + g5.lang.getByCn("个关注") + "</div>" +
            "     <div id='userPageLink02' style='display:inline;'>" + this.v_userInfo.fansCount + g5.lang.getByCn("个粉丝") + "</div>" +
            "     <div style='display:inline;'>" + this.v_userInfo.postCount + g5.lang.getByCn("篇短文") + "</div>";
        if (g5.myUserInfo.fansReqCount &amp;&amp; (g5.myUserInfo.fansReqCount>0) &amp;&amp; (this.v_userInfo.id == g5.myUserInfo.id)) {
            s += "     <div id='userPageLink03' style='display:inline;color:#e0245e'>" + g5.myUserInfo.fansReqCount + g5.lang.getByCn("个加粉请求") + "</div>";
        }
        ee.setText(ee.getControl("panel72"), s);
        var c = ee.getControl("panel72"); 
        c.link01=$g("userPageLink01");
        c.link02=$g("userPageLink02");
        c.link03=$g("userPageLink03");
        if (this.v_userInfo.followCount>0) {
            c.link01.style.cursor = "pointer";
            g5.initLinkV1(c.link01);
            ee.setOnClick(c.link01, function(senderLink, event) {
                g5.p2.p16.show(sender.v_userInfo);
            });
        }
        if (this.v_userInfo.fansCount>0) {
            c.link02.style.cursor = "pointer";
            g5.initLinkV1(c.link02);
            ee.setOnClick(c.link02, function(senderLink, event) {
                g5.p2.p15.show(sender.v_userInfo);
            });
        }
        if (!eb.isEmpty(c.link03)) {
            c.link03.style.cursor = "pointer";
            g5.initLinkV1(c.link03);
            ee.setOnClick(c.link03, function(senderLink, event) {
                g5.p2.p29.show();
            });
        }
    }
}

sender.refreshButton = function() {
    ee.setVisible(this.c_button1, true);
    ee.setVisible(this.c_buttonMore, true);
    this.c_buttonMore.v_style = new Array();
    this.c_buttonMore.v_onClick = new Array();
    //ee.setText(sender.c_status, "");
    if (!this.v_userInfo) return;
    ee.setVisible(this.c_button1, true);
    var visibleMail = true;
    if (this.v_userInfo.status == "DISABLED") {
        //ee.setVisible(this.c_button1, false);
        //visibleMail = false;
    } else if ((this.v_userInfo.status == "Private") &amp;&amp; (!this.v_userInfo.isFollow)) {
        visibleMail = false;
    } else if (this.v_userInfo.status == "FREEZE") {
        //visibleMail = false;
    } else if (this.v_userInfo.status == "Del") {
        //ee.setVisible(this.c_button1, false);
        //visibleMail = false;
    } else if (this.v_userInfo.isBlock1 &amp;&amp; this.v_userInfo.isBlock2) {
        //ee.setVisible(this.c_button1, false);
        //visibleMail = false;
    } else if (this.v_userInfo.isBlock1) {
        //visibleMail = false;
    } else if (this.v_userInfo.isBlock2) {
        //visibleMail = false;
    } else if (this.v_userInfo.userName == "guest") {
        ee.setVisible(this.c_button1, false);
        ee.setVisible(this.c_buttonMore, false);
    }
    if (this.v_userInfo.userName == g5.myUserInfo.userName) {
        visibleMail = false;
    }
    
    if (this.v_userInfo.userName == g5.myUserInfo.userName) {
        this.c_button1.init(3);
        ee.setVisible(this.c_buttonMore, false);
        //this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","编辑个人资料","编辑个人资料","编辑个人资料","#1da1f2","#1da1f2","#1da1f2","#1da1f2"));
        //this.c_buttonMore.v_onClick.push(
        //    function (sender, event) {
        //        g5.p2.p17.show();
        //    },
        //);
        //if (g5.myUserInfo.status == "Private") {
        //    //ee.setText(sender.c_status, "私密");
        //} else if (g5.myUserInfo.status = "FREEZE") {
        //    //ee.setText(sender.c_status, "冻结");
        //}
    } else {
        if (this.v_userInfo.isHide) {
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("取消隐藏"),g5.lang.getByCn("取消隐藏"),g5.lang.getByCn("取消隐藏"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (senderBtn, event) {
                    g5.setHide(sender.v_userInfo.clone(), function(v_userInfo) {
                    });
                }
            );
        } else {
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("隐藏"),g5.lang.getByCn("隐藏"),g5.lang.getByCn("隐藏"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (senderBtn, event) {
                    g5.setHide(sender.v_userInfo.clone(), function(v_userInfo) {
                    });
                }
            );
        }
        if (this.v_userInfo.isFollow) {
            var st = "正在关注";
            this.c_button1.init(2);
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("取消关注"),g5.lang.getByCn("取消关注"),g5.lang.getByCn("取消关注"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (sender, event) {
                    g5.setFollow(showUserPage.v_userInfo,function(v_userInfo) {
                        ee.getControl("panel256").init(1);
                        showUserPage.v_userInfo = v_userInfo.clone();
                    });
                }
            );
            if (this.v_userInfo.status == "Private") st = "私密 · " + st;
            if (this.v_userInfo.isHide)  st = "隐藏 · " + st;
            //ee.setText(sender.c_status, st);
        } else {
            this.c_button1.init(1);
            if ((!this.v_userInfo.isBlock1) &amp;&amp; (!this.v_userInfo.isBlock2)) {
                this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("关注"),g5.lang.getByCn("关注"),g5.lang.getByCn("关注"),"#808080","#000000","#000000",""));
                this.c_buttonMore.v_onClick.push(
                    function (sender, event) {
                        g5.setFollow(showUserPage.v_userInfo, function(v_userInfo) {
                            ee.getControl("panel256").init(2);
                            showUserPage.v_userInfo = v_userInfo.clone();
                        });
                    }
                );
            }
        }
        var block1 = -1;
        if (this.v_userInfo.isBlock1) block1 = 0;
        if (this.v_userInfo.isBlock2) block1 = 1;
        if (this.v_userInfo.isBlock2 &amp;&amp; this.v_userInfo.isBlock1) block1 = 0;
        if (block1 == 0) {
            this.c_button1.init(0);
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("取消屏蔽"),g5.lang.getByCn("取消屏蔽"),g5.lang.getByCn("取消屏蔽"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (sender, event) {
                    g5.setBlock1(g5.p2.p2.v_userInfo, null);
                },
            );
            //ee.setText(sender.c_status, "已屏蔽");
        } else if (block1 == -1) {
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("屏蔽"),g5.lang.getByCn("屏蔽"),g5.lang.getByCn("屏蔽"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (sender, event) {
                    g5.setBlock1(g5.p2.p2.v_userInfo, null);
                },
            );
        } else if (block1 = 1) {
            this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("屏蔽"),g5.lang.getByCn("屏蔽"),g5.lang.getByCn("屏蔽"),"#808080","#000000","#000000",""));
            this.c_buttonMore.v_onClick.push(
                function (sender, event) {
                    g5.setBlock1(g5.p2.p2.v_userInfo, null);
                },
            );
            this.c_button1.init(4);
        }
    }
    if (visibleMail) {
        this.c_buttonMore.v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("发送私信"),g5.lang.getByCn("发送私信"),g5.lang.getByCn("发送私信"),"#808080","#000000","#000000",""));
        this.c_buttonMore.v_onClick.push(
            function (senderButton, event) {
                g5.p2.p14.show(sender.v_userInfo);
            },
        );
    }
    eb.processDock();
}

sender.showByUserInfo = function(v_userInfo) {
    this.v_userInfo = v_userInfo.clone();
    
    g5.pageMode = 0;
    g5.refreshMain(true);
    
    var rootH = eb.getDivRect(ee.getControl("panel16")).h;
    var w = eb.getDivRectSetting(sender).w;
    
    //photo
    if (g5.isMobile) {
        ee.setRect(sender.c_photo,null,220,80,80);
    }
    if ((v_userInfo.status == "DISABLED") || (v_userInfo.status == "Del") || ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow))) {
        sender.c_photo.init("");
    } else {
        sender.c_photo.init(v_userInfo.photo);
    }
    //titleBg
    if ((v_userInfo.status == "DISABLED") || (v_userInfo.status == "Del") || ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow))) {
        ee.getControl("panel20").init("");
    } else {
        ee.getControl("panel20").init(v_userInfo.titleBg);
    }
   
    var cy = eb.getDivRect(ee.getControl("panel21")).y + eb.getDivRect(ee.getControl("panel21")).h;
    var vspace = 2;
    cy += vspace;

    //userName
    if (g5.isMobile) {
        cy = eb.getDivRectSetting(sender.c_photo);
        cy = cy.y+cy.h+5;
        var c = ee.getControl("panel18");
        eb.setDivRect(c,21,cy+3,w-42,35); cy+=30;
        c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
        c.style.fontSize = "14pt";
        c.style.color = "#000000";
        c.style.fontWeight = "bold";
        c.style.textOverflow = "ellipsis";
        c.style.inlineBlock = "max-width";
        c.style.whiteSpace = "nowrap";
        c.style.cursor="pointer";
        c.innerHTML = v_userInfo.nickName;
        var c = ee.getControl("panel21");
        eb.setDivRect(c,21,cy,w-42,30); cy+=25;
        c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
        c.style.fontSize = "12pt";
        c.style.color = "#808080";
        c.style.fontWeight = "";
        c.style.textOverflow = "ellipsis";
        c.style.inlineBlock = "max-width";
        c.style.whiteSpace = "nowrap";
        c.style.cursor="pointer";
        c.innerHTML = "@" + v_userInfo.userName;
    } else {
        ee.setText(ee.getControl("panel18"), v_userInfo.nickName);
        ee.setText(ee.getControl("panel21"), "@" + v_userInfo.userName);
    }
    
    //note
    if ((v_userInfo.note == "") || (v_userInfo.status == "DISABLED") || (v_userInfo.status == "Del") || ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow))) {
        ee.setVisible(ee.getControl("panel69"), false);
    } else {
        ee.setRect(ee.getControl("panel69"), null, cy, null, 5);
        ee.setText(ee.getControl("panel69"), v_userInfo.note);
        ee.setVisible(ee.getControl("panel69"), true);
        ee.setRect(ee.getControl("panel69"),null,null,null, eb.getDivRect(ee.getControl("panel69").label).h);
        cy += vspace + eb.getDivRect(ee.getControl("panel69")).h;
    }
    //homepage
    if ((v_userInfo.homePage == "") || (v_userInfo.status == "DISABLED") || (v_userInfo.status == "Del") || ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow))) {
        ee.setVisible(ee.getControl("layoutx6"), false);
    } else {
        eb.setDivRect(ee.getControl("layoutx6"),null,cy,null,null);
        var h = v_userInfo.homePage;
        var hf = v_userInfo.homePage;
        if (h.toLowerCase().search("http://")==0) {
            h = h.substr(7);
        } else if (h.toLowerCase().search("https://")==0) {
            h = h.substr(8);
        } else {
            hf = "http://" + h;
        }
        ee.setText(ee.getControl("layoutxitem12"), h);
        ee.getControl("layoutxitem12").homePage = hf;
        ee.setVisible(ee.getControl("layoutx6"), true);
        cy += vspace + eb.getDivRect(ee.getControl("layoutx6")).h;
    }
    
    if ((v_userInfo.status == "DISABLED") || (v_userInfo.status == "Del") ||
        ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow)) ||
        (v_userInfo.userName == "guest")) {
    } else {
        eb.setDivRect(ee.getControl("layoutx7"),null,cy,null,null);
        if (g5.lang.getCurrentLangIndex() == 0) {
            ee.setText(ee.getControl("layoutxitem14"), 
                v_userInfo.regDatetime.substr(0,4) + "年" + parseInt(v_userInfo.regDatetime.substr(5,2)) + "月" + parseInt(v_userInfo.regDatetime.substr(8,2)) + "日" + "加入");
        } else {
            ee.setText(ee.getControl("layoutxitem14"), 
                "Joined on " + g5.lang.moEnglish[parseInt(v_userInfo.regDatetime.substr(5,2))-1] + " " + parseInt(v_userInfo.regDatetime.substr(8,2)) + ", " + v_userInfo.regDatetime.substr(0,4));
        }
        ee.setVisible(ee.getControl("layoutx7"), true);
        cy += vspace + eb.getDivRect(ee.getControl("layoutx7")).h;
    }

    if (v_userInfo.status == "DISABLED") {
        ee.setVisible(ee.getControl("panel72"), false);
    } else if (v_userInfo.status == "Del") {
        ee.setVisible(ee.getControl("panel72"), false);
    } else if ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow)) {
        ee.setVisible(ee.getControl("panel72"), false);
    } else if (v_userInfo.userName == "guest") {
        ee.setVisible(ee.getControl("panel72"), false);
    } else {
        ee.setVisible(ee.getControl("panel72"), true);
        eb.setDivRect(ee.getControl("panel72"),null,cy,null,null);
        ee.setVisible(ee.getControl("panel72"), true);
        this.refreshFansFollowCount();
        cy += vspace + eb.getDivRect(ee.getControl("panel72")).h;
    }
        
    this.refreshButton();
    
    ee.setVisible(this.c_block1, false);
    ee.setVisible(this.c_block2, false);
    ee.setVisible(this.c_block12, false);
    ee.setVisible(this.c_disabled, false);
    ee.setVisible(this.c_freeze, false);
    ee.setVisible(this.c_del, false);
    ee.setVisible(this.c_private, false);
    ee.setVisible(this.c_guest, false);
    if (v_userInfo.isBlock1 &amp;&amp; v_userInfo.isBlock2) {
        g5.changeP2(1);
        ee.setVisible(this.c_block12, true);
        ee.setRect(this.c_block12, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_block12);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if (v_userInfo.isBlock2) {
        g5.changeP2(1);
        ee.setVisible(this.c_block2, true);
        ee.setRect(this.c_block2, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        ee.setText(ee.getControl("panel475"), "您已被@" + v_userInfo.userName + "屏蔽");
        var r1 = eb.getDivRectSetting(this.c_block2);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if ((v_userInfo.isBlock1) &amp;&amp; (!this.v_forceDisplay)) {
        g5.changeP2(1);
        ee.setVisible(this.c_block1, true);
        ee.setRect(this.c_block1, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        ee.setText(ee.getControl("panel253"), "@" + v_userInfo.userName + "已被屏蔽");
        ee.setText(ee.getControl("panel254"), "是否确定要查看这些发言？查看发言不会取消屏蔽 @" + v_userInfo.userName + "。");
        var r1 = eb.getDivRectSetting(this.c_block1);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if (v_userInfo.status == "DISABLED") {
        g5.changeP2(1);
        ee.setVisible(this.c_disabled, true);
        ee.setRect(this.c_disabled, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_disabled);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if (v_userInfo.status == "FREEZE") {
        g5.changeP2(1);
        ee.setVisible(this.c_freeze, true);
        ee.setRect(this.c_freeze, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_freeze);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if ((v_userInfo.status == "Private") &amp;&amp; (!v_userInfo.isFollow)) {
        g5.changeP2(1);
        ee.setVisible(this.c_private, true);
        ee.setRect(this.c_private, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_private);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if (v_userInfo.status == "Del") {
        g5.changeP2(1);
        ee.setVisible(this.c_del, true);
        ee.setRect(this.c_del, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_del);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    } else if (v_userInfo.userName == "guest") {
        g5.changeP2(1);
        ee.setVisible(this.c_guest, true);
        ee.setRect(this.c_guest, null, cy, null, eb.getClientSize().h - eb.getDivRectSetting(g5.p4).h+3);
        var r1 = eb.getDivRectSetting(this.c_guest);
        ee.setRect(this,null,null,null,r1.y+r1.h);
        ee.resizeV(this.parentNode, 1);
        ee.setVisible(g5.p3, false);
        ee.setVisible(this.p2sub, false);
        return;
    }
    
    ee.setVisible(this.p2sub, true);
    eb.setDivRect(this.p2sub,null,cy,null,null);
    ee.setVisible(this.p2sub, true);
    
    /*
    var rect = eb.getDivRect(ee.getControl("panel263"));
    cy = rect.y + rect.h;
    eb.setDivRect(ee.getControl("panel19"),null,cy,null,300);
    ee.setVisible(ee.getControl("panel19"), true);
    cy += eb.getDivRect(ee.getControl("panel19")).h;
    
    eb.setDivRect(ee.getControl("panel73"),null,cy,null,null);
    ee.setVisible(ee.getControl("panel73"), true);
    cy += eb.getDivRect(ee.getControl("panel73")).h;
    */
    
    //g5.p2PersonSub.init();
    g5.changeP2(1);
    this.p2sub.changePage(-1);
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    if ((v_content.uplinkType != "R") || (v_content.exUplinkType=="L")) {
        this.insertAtPage(1, v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
    if (!this.v_p3Init) {
        this.insertAtPage(3, v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
}

sender.insertAtPage = function(pageIndex, v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var items, item, root, cy;
    var itemWidth = eb.getDivRect(this).w;
    v_content = v_content.clone();
    v_reContent = v_reContent.clone();
    if (pageIndex == 1) {
        root = this.p2sub.p1;
        items = this.p1Items;
    } else if (pageIndex == 3) {
        root = this.p2sub.p3;
        items = this.p3Items;
    }
    if (!showUserPage.v_userInfo) return;
    if (v_content.exUplinkType == "L") {
        if (v_content.exUserInfo.id != showUserPage.v_userInfo.id) return;
    } else if (v_userInfo.id != showUserPage.v_userInfo.id) return;
    if (pageIndex == 1) {
        var rect = eb.getDivRect(ee.getControl("panel73"),null,cy,null,null);
        cy = rect.y + rect.h;
    } else if (pageIndex == 3) {
        cy = 0;
    }
    var insertPos = 0;
    for (var i=0; i<items.length; i++) {
        if (!items[i].v_content) break;
        if (items[i].v_content.forceTopSn != "0") {
            insertPos++;
        } else break;    
    }
    if (items.length>0) {
        cy = eb.getDivRect(items[insertPos]).y;
    }
    if (pageIndex == 1) {
        item = createPanel(root, "p2p2p1_" + v_content.id, "", 0, cy, itemWidth, 5);
    } else if (pageIndex == 3) {
        item = createPanel(root, "p2p2p3_" + v_content.id, "", 0, cy, itemWidth, 5);
    }
    var refPos = -1;
    for (var i=0; i<root.childNodes.length; i++) {
        if (root.childNodes[i] == items[insertPos]) {
            refPos = i;
            break;
        }
    }
    ee.changeParent(item, root, refPos);
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    g5.renderTwitter(item);
    items.splice(insertPos, 0, item);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(items, insertPos+1, cy);
    eb.setDivRect(root, null,null,null,eb.getDivRect(root).h + cy);
    if (pageIndex == this.p2sub.currentPageIndex) {
        g5.resizeV(root.parentNode, 3);
    }    
}

sender.c_alert1 = null;
sender.c_alert2 = null;
sender.c_alert3 = null;
sender.c_alert4 = null;
sender.showAlert = function(value) {
    var button1 = g5.p1.p1.c_buttons[4];
    var button2 = g5.p1.p2.c_buttons[4];
    var button4 = g5.popBlack.a9.c_buttons[4];
    var button3 = g5.p1.p3.c_buttons[3];
    var r2 = eb.getDivRectSetting(button2);
    var r3 = eb.getDivRectSetting(button3);
    var c;
    if (!this.c_alert1) {
        c = createPanel(button1, "redDot1", "", button1.v_width-10, 14, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert1 = c;
    }
    if (!this.c_alert2) {
        c = createPanel(button2.parentNode, "redDot2", "", 20, r2.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert2 = c;
    }
    if (!this.c_alert3) {
        c = createPanel(button3.parentNode, "redDot3", "", 20, r3.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert3 = c;
    }
    if (!this.c_alert4) {
        var r = eb.getDivRectSetting(button4);
        c = createPanel(button4, "redDot4", "", 155, parseInt(r.h/2-10), 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert4 = c;
    }
    value = parseInt(value);
    if (isNaN(value)) value = 0;
    value = value + "";
    ee.setText(this.c_alert1, value);
    ee.setText(this.c_alert2, value);
    ee.setText(this.c_alert3, value);
    ee.setText(this.c_alert4, value);
    if (value == "0") {
        this.c_alert1.style.visibility = "hidden";
        ee.setRect(button1,null,null,button1.v_width,null);
        this.c_alert2.style.visibility = "hidden";
        this.c_alert3.style.visibility = "hidden";
        this.c_alert4.style.visibility = "hidden";
        return;
    }
    ee.setVisible(this.c_alert1, true);
    ee.setVisible(this.c_alert2, true);
    ee.setVisible(this.c_alert3, true);
    ee.setVisible(this.c_alert4, true);
    ee.setRect(button1,null,null,button1.v_width+39,null);
    ee.setRect(this.c_alert1,null,null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert2,r2.x+25-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert3,r3.x+30-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert4,null,null,19+6*(value.length-1), null);
}

sender.c_alertP2 = null;
sender.showAlertP2 = function(value) {
    var button1 = sender.p2sub.button2;
    var c;
    if (!this.c_alertP2) {
        c = createPanel(button1, "redDot1", "", parseInt(eb.getDivRectSetting(button1).w/2+28), 17, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alertP2 = c;
    }
    value = parseInt(value);
    if (isNaN(value)) value = 0;
    value = value + "";
    ee.setText(this.c_alertP2, value);
    if (value == "0") {
        this.c_alertP2.style.visibility = "hidden";
        ee.setRect(button1,null,null,button1.v_width,null);
        return;
    }
    ee.setVisible(this.c_alertP2, true);
    ee.setRect(this.c_alertP2,null,null,19+6*(value.length-1), null);
}]]></onCreate>
      <scrollPosY>7</scrollPosY>
      <sizeRatio>1.3</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00256410256410256</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel20">
      <backgroundColor>0E5079</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <height>202</height>
      <heightRatio>0.258974358974359</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>g5.initImgButtonV1(sender,"100%","80%","70%");

sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setImage(this, g5.getUserTitleBgUrl(photoString)[1]);
    this.v_photo = photoString;
}
</onCreate>
      <sizeRatio>0.336666666666667</sizeRatio>
      <top>53</top>
      <topRatio>0.0679487179487179</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel18">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.0435897435897436</heightRatio>
      <layerVisible>false</layerVisible>
      <left>165</left>
      <leftRatio>0.275</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

</onCreate>
      <sizeRatio>0.136546184738956</sizeRatio>
      <text>昵称nicheng</text>
      <top>265</top>
      <topRatio>0.33974358974359</topRatio>
      <width>249</width>
      <widthRatio>0.415</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel21">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.0435897435897436</heightRatio>
      <layerVisible>false</layerVisible>
      <left>165</left>
      <leftRatio>0.275</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";
</onCreate>
      <sizeRatio>0.136546184738956</sizeRatio>
      <text>@用户名</text>
      <top>290</top>
      <topRatio>0.371794871794872</topRatio>
      <width>249</width>
      <widthRatio>0.415</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel69">
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.0384615384615385</heightRatio>
      <layerVisible>false</layerVisible>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <outerLeft>21</outerLeft>
      <outerRight>21</outerRight>
      <sizeRatio>0.0537634408602151</sizeRatio>
      <text>自我介绍</text>
      <top>327</top>
      <topRatio>0.419230769230769</topRatio>
      <vAlign>top</vAlign>
      <width>558</width>
      <widthRatio>0.93</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel72">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>39</height>
      <heightRatio>0.05</heightRatio>
      <layerVisible>false</layerVisible>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <sizeRatio>0.0714285714285714</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>428</top>
      <topRatio>0.548717948717949</topRatio>
      <width>546</width>
      <widthRatio>0.91</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/layoutx6">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0448717948717949</heightRatio>
      <layerVisible>false</layerVisible>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <outerLeft>21</outerLeft>
      <outerRight>21</outerRight>
      <sizeRatio>0.0627240143369176</sizeRatio>
      <top>357</top>
      <topRatio>0.457692307692308</topRatio>
      <width>558</width>
      <widthRatio>0.93</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx6/layoutxitem11">
      <backgroundColor>f0f0f0</backgroundColor>
      <backgroundImg>link.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <heavy>10</heavy>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.686274509803922</sizeRatio>
      <top>0</top>
      <width>51</width>
      <widthRatio>0.0913978494623656</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx6/layoutxitem12">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontColor>1C94E0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>51</left>
      <leftRatio>0.0913978494623656</leftRatio>
      <onClick>window.open(sender.homePage);</onClick>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

</onCreate>
      <sizeRatio>0.0690335305719921</sizeRatio>
      <text>主页http://www.baidu.com</text>
      <top>0</top>
      <width>507</width>
      <widthRatio>0.908602150537634</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/layoutx7">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0448717948717949</heightRatio>
      <layerVisible>false</layerVisible>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <outerLeft>21</outerLeft>
      <outerRight>21</outerRight>
      <sizeRatio>0.0627240143369176</sizeRatio>
      <top>391</top>
      <topRatio>0.501282051282051</topRatio>
      <width>558</width>
      <widthRatio>0.93</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx7/layoutxitem13">
      <backgroundColor>f0f0f0</backgroundColor>
      <backgroundImg>date.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <heavy>10</heavy>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.686274509803922</sizeRatio>
      <top>0</top>
      <width>51</width>
      <widthRatio>0.0913978494623656</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx7/layoutxitem14">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>51</left>
      <leftRatio>0.0913978494623656</leftRatio>
      <sizeRatio>0.0690335305719921</sizeRatio>
      <text>2019年12月加入</text>
      <top>0</top>
      <width>507</width>
      <widthRatio>0.908602150537634</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel23">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <height>135</height>
      <heightRatio>0.173076923076923</heightRatio>
      <layerVisible>false</layerVisible>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <onClick>console.log(sender.v_photo);
g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";

g5.initImgButtonV1(sender,"100%","80%","70%");

sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setVisible(this, false);
    ee.setImage(this, g5.getUserPhotoUrl(photoString)[1], "trim","","");
    this.v_photo = photoString;
}
</onCreate>
      <onImageLoad>ee.setVisible(sender, true);</onImageLoad>
      <outerBottom>1</outerBottom>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <outerTop>1</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>170</top>
      <topRatio>0.217948717948718</topRatio>
      <width>135</width>
      <widthRatio>0.225</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel256">
      <backgroundColor>8ED0F9</backgroundColor>
      <bindControl>panel115</bindControl>
      <bindRight>left</bindRight>
      <bindTop>top</bindTop>
      <cursor>pointer</cursor>
      <ee_LocalName>c_buttonMore</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.0397435897435897</heightRatio>
      <layerVisible>false</layerVisible>
      <left>429</left>
      <leftRatio>0.715</leftRatio>
      <onClick><![CDATA[if (sender.v_style.length<=0) return;
if (g5.checkGuest("使用高级功能")) return;
g5.popup1.p4.show(sender, 200, sender.v_style, sender.v_onClick); 


]]></onClick>
      <onCreate><![CDATA[var style = new Array();
var onClick = new Array();
sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.dot3+"</svg>";
sender.style.borderRadius = "50%";

g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);








]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>0.939393939393939</sizeRatio>
      <text>...</text>
      <top>269</top>
      <topRatio>0.344871794871795</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279">
      <dockX>fill</dockX>
      <ee_LocalName>p2sub</ee_LocalName>
      <height>374</height>
      <heightRatio>0.47948717948718</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>p2PersonSub</note>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.currentPageIndex = -1;
sender.c_buttons = ee.getControl("layoutx2");
sender.button1 = ee.getControl("layoutxitem3");
sender.button2 = ee.getControl("layoutxitem5");
sender.button3 = ee.getControl("layoutxitem4");
sender.p1 = ee.getControl("panel282");
sender.p2 = ee.getControl("panel283");
sender.p3 = ee.getControl("panel284");
sender.buttonLine = ee.getControl("panel281");
sender.chat = ee.getControl("panel19");
sender.chatVideo = ee.getControl("panel264");
sender.changePage = function(pageIndex) {
    var rect,div;
    if (this.currentPageIndex == 1) {
        this.button1.init(0);
        ee.setVisible(this.p1, false);
        this.p1ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
        if (eb.isEmpty(this.p2ChatRect)) {
            this.p2ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
            this.p2ChatRect.h = 400;
        }
    } else if (this.currentPageIndex == 2) {
        this.button2.init(0);
        this.p2ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
        ee.setVisible(this.p2, false);
        g5.chatAlertDB.resetCount();
    } else if (this.currentPageIndex == 3) {
        this.button3.init(0);
        ee.setVisible(this.p3, false);
    }
    
    if (pageIndex == 1) {
        ee.setVisible(this.p1, true);
        this.button1.init(1);
        this.button1.appendChild(this.buttonLine);
        if (eb.isEmpty(this.p1ChatRect)) {
            this.p1ChatRect = eb.getDivRectSetting(this.p1.c_chat.c_chat);
            this.p1ChatRect.h = 313;
        }
        //ee.setRect(this.p1.c_chat.c_chat, null, this.p1ChatRect.y, null, this.p1ChatRect.h);
        //ee.changeParent(this.chat, this.p1, 1);
        //g5.p2PersonSub.chatVideo.init(showUserPage.chatRoomVideo, showUserPage.v_userInfo.id == g5.myUserInfo.id);
        //this.chat.init();
        //this.chat.c_buttons.c_buttons.showButton3(true);
        this.p1.resize();
        if (this.p1.v_clear) this.p1.loadMore();
    } else if (pageIndex == 2) {
        this.button2.init(1);
        this.button2.appendChild(this.buttonLine);
        ee.setRect(this.p1.c_chat.c_chat, null, this.p2ChatRect.y, null, this.p2ChatRect.h);
        //ee.changeParent(this.chat, this.p2, 1);
        g5.p2PersonSub.chatVideo.init(showUserPage.chatRoomVideo, showUserPage.v_userInfo.id == g5.myUserInfo.id);
        this.chat.init();
        this.chat.c_buttons.c_buttons.showButton3(false);
        ee.tiledV(this.p2,0,10,80);
        ee.setVisible(this.p2, true);
        ee.tiledResizeV(this.chat, 3);
        g5.resizeV(this.parentNode, 3);
        this.currentPageIndex = pageIndex;
        g5.chatAlertDB.resetCount();
    } else if (pageIndex == 3) {
        g5.player.stop();
        this.button3.init(1);
        this.button3.appendChild(this.buttonLine);
        if (this.parentNode.p3Items.length<=0) {
            this.updateP3();
            ee.setVisible(this.p3, true);
        } else {
            ee.setVisible(this.p3, true);
        }
        this.p3.resize();
    }
    this.currentPageIndex = pageIndex;
    eb.processDock();
    g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.scrollTop = 1000000;
}

sender.init = function() {
    this.changePage(-1);
    this.p2ChatRect = null;
    this.chatVideo.init("", false);
    for (var i=0; i<this.parentNode.p3Items.length; i++) {
        ee.removeControl(this.parentNode.p3Items[i]);
    }
    this.parentNode.p3Items = new Array();
    this.v_p3PageIndex = 0;
    this.parentNode.v_p3Init = true;
    this.p3.v_status = "";
}

sender.refreshP3 = function() {
    this.p3.v_status = "";
    for (var i=0; i<this.parentNode.p3Items.length; i++) {
        ee.removeControl(this.parentNode.p3Items[i]);
    }
    this.parentNode.p3Items = new Array();
    this.v_p3PageIndex = 0;
    this.parentNode.v_p3Init = true;
    if (this.currentPageIndex == 3) {
        this.updateP3();
    }
}

sender.v_p3PageIndex = 0;
sender.v_p3PageSize = 10;
sender.updateP3 = function() {
    if (this.p3.v_status == "noResult") return;
    if (showUserPageP3.busy) return;
    this.parentNode.v_p3Init = false;
    showUserPageP3.userId = g5.p2.p2.v_userInfo.id;
    showUserPageP3.pageIndex = this.v_p3PageIndex; this.v_p3PageIndex++;
    showUserPageP3.pageSize = this.v_p3PageSize;
    showUserPageP3.onComplete = function(dataset) {
        g5.loading.close();
        if (showUserPageP3.disabled) return;
        var i, j, item;
        var root = sender.p3; 
        var itemWidth = eb.getDivRect(root).w;
        var cy = 0;
        if (sender.parentNode.p3Items.length>0) {
            var r = eb.getDivRectSetting(sender.parentNode.p3Items[sender.parentNode.p3Items.length-1]);
            cy = r.y + r.h;
        }
        var item = null;
        for (i=0; i< dataset.rowCount; i++) {
            for (j=0; j<sender.parentNode.p3Items; j++) {
                if (sender.parentNode.p3Items[j].v_contentId == dataset.getData(0,i)) break;    
            }
            item = createPanel(root, "p2p2p3_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            item.v_forceDisplay = g5.p2.p2.v_forceDisplay;
            item.v_mode = "   x";
            item.v_displayForceTop = true;
            g5.renderTwitter(item);
            sender.parentNode.p3Items.push(item);
            cy += eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (dataset.rowCount<=0) {
            sender.p3.v_status = "noResult";
            var item = createPanel(sender.p3, "newThingsEndP3", "", 0, cy, itemWidth, 60); cy += 60;
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            g5.p2.p2.p3Items.push(item);
        }
        sender.p3.resize();
    }
    //g5.loading.show2();
    showUserPageP3(); 
}

]]></onCreate>
      <sizeRatio>0.623333333333333</sizeRatio>
      <top>468</top>
      <topRatio>0.6</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2">
      <dockX>fill</dockX>
      <height>52</height>
      <heightRatio>0.13903743315508</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_buttons</note>
      <onCreate>sender.style.boxSizing = "border-box";
sender.style.borderBottomWidth = "1px";
sender.style.borderBottomColor = "rgb(230,236,240)";
sender.style.borderBottomStyle = "solid";
</onCreate>
      <sizeRatio>0.0866666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2PersonSub.changePage(1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);




</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>发言</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem3/panel281">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.015</sizeRatio>
      <top>49</top>
      <topRatio>0.942307692307692</topRatio>
      <width>200</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem4">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>200</left>
      <leftRatio>0.333333333333333</leftRatio>
      <onClick>g5.p2PersonSub.changePage(3);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);





</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>发言和回复</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem5">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>400</left>
      <leftRatio>0.666666666666667</leftRatio>
      <onClick>g5.p2PersonSub.changePage(2);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>聊天室</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>304</height>
      <heightRatio>0.812834224598931</heightRatio>
      <layerName><![CDATA[  p1->综合]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_titleChat = ee.getControl("panel263");
sender.c_video = ee.getControl("panel264");
sender.c_chat = ee.getControl("panel19");
sender.v_clear = false;

sender.v_pageIndex = 0;
sender.v_pageSize = 20;

sender.init = function() {
    this.v_pageIndex = 0;
    this.v_status = "";
}

sender.refresh = function() {
    this.v_pageIndex = -1;
    sender.v_status = "";
    this.v_clear = true;
    if (this.parentNode.currentPageIndex == 1) {
        this.loadMore();
    }
}

sender.loadMore = function() {
    if (sender.v_status=="noResult") return;
    if (showUserPageLoadMore.busy) return;
    this.v_pageIndex++;
    showUserPageLoadMore.userId = g5.p2.p2.v_userInfo.id;
    showUserPageLoadMore.pageIndex = this.v_pageIndex;
    showUserPageLoadMore.pageSize = this.v_pageSize;
    showUserPageLoadMore.onComplete = function(dataset) {
        g5.loading.close();
        if (showUserPageLoadMore.disabled) return;
        var i, j, item;
        var root = sender;
        var itemWidth = eb.getDivRect(root).w;
        var cy = 0;
        if (sender.v_clear) {
            for (j=0; j<g5.p2.p2.p1Items.length; j++) {
                ee.removeControl(g5.p2.p2.p1Items[j]);
            }
            g5.p2.p2.p1Items = new Array();
            sender.v_clear = false;
        }
        if (g5.p2.p2.p1Items.length>0) {
            var r = eb.getDivRect(g5.p2.p2.p1Items[g5.p2.p2.p1Items.length-1]);
            cy = r.y + r.h;
        }
        var item = null;
        for (i=0; i< dataset.rowCount; i++) {
            for (j=0; j<g5.p2.p2.p1Items.length; j++) {
                if (!g5.p2.p2.p1Items[j].v_content) continue;
                if (g5.p2.p2.p1Items[j].v_content.id == dataset.getData(0,i)) break;    
            }
            if (j<g5.p2.p2.p1Items.length) continue;
            item = createPanel(root, "puser_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            if (item.v_content.exUplinkType == "L") {
                if (item.v_userInfo.isBlock1) {
                    ee.removeControl(item);
                    continue;
                }
            }
            item.v_forceDisplay = g5.p2.p2.v_forceDisplay;
            item.v_mode = "   x";
            item.v_displayForceTop = true;
            g5.renderTwitter(item);
            g5.p2.p2.p1Items.push(item);
            cy += 0 + eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, "newThingsEndP2", "", 0, cy, itemWidth, 60); cy += 60;
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            g5.p2.p2.p1Items.push(item);
        }
        sender.resize();
    }
    //g5.loading.show2();
    showUserPageLoadMore();
}

sender.resize = function() {
    var item = null;
    var add = 0;
    for (var i=g5.p2.p2.p1Items.length-1; i>=0; i--) {
        if (g5.p2.p2.p1Items[i].v_userInfo) {
            item = g5.p2.p2.p1Items[i];
            break;
        } else {
            add += eb.getDivRectSetting(g5.p2.p2.p1Items[i]).h;
        }
    }
    if (item == null) {
        item = g5.p2.p2.p2sub.c_buttons;
    }
    var bottomSpace = eb.getClientSize().h - eb.getDivRectSetting(item).h - add - 51;
    ee.tiledV(this,0,0,bottomSpace);
    //ee.resizeV(this.parentNode, 3);
    ee.tiledResizeV(this,4);
}

]]></onCreate>
      <sizeRatio>0.506666666666667</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>274</height>
      <heightRatio>0.732620320855615</heightRatio>
      <layerName><![CDATA[  p2->聊天室]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_fitInner = true;
</onCreate>
      <sizeRatio>0.456666666666667</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>fill</dockX>
      <height>241</height>
      <heightRatio>0.87956204379562</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <note><![CDATA[c_chat->个人页聊天]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "10px";

sender.c_buttons = ee.getControl("panel324");
sender.c_adminList = ee.getControl("layoutx5");
sender.c_blackList = ee.getControl("layoutx9");
sender.c_chat = ee.getControl("layouty2");

sender.init = function() {
    ee.setVisible(this.c_adminList, false);
    ee.setVisible(this.c_blackList, false);
    this.c_buttons.init();
    this.c_adminList.init();
    this.c_blackList.init();
    //this.setSize("max");
    ee.tiledV(this,0,0,0);
}

sender.changeSize = function() {
    if (this.v_sizeMode == "min") {
        this.setSize("max");
    } else if (this.v_sizeMode == "max") {
        this.setSize("min");
    }
}
 
sender.setSize = function(sizeMode) {
    this.v_sizeMode = sizeMode;
    if (sizeMode == "min") {
        ee.setRect(this,null,null,null,eb.getDivRectSetting(this.c_buttons).h);
        ee.setVisible(this.c_buttons.c_buttons.eeChildren[0], false);
        ee.setVisible(this.c_buttons.c_buttons.eeChildren[1], false);
    } else if (sizeMode == "max") {
        this.c_buttons.init();
        ee.tiledV(this, 0,0,0);
    }
    ee.tiledResizeV(this.parentNode, 5);
}

sender.getAdminListVisible = function() {
    return this.c_adminList.style.visibility!="hidden";
}

sender.setAdminListVisible = function(visible) {
    ee.setVisible(this.c_adminList, visible);
    ee.tiledResizeV(this, 5);
}

sender.getBlackListVisible = function() {
    return this.c_blackList.style.visibility!="hidden";
}

sender.setBlackListVisible = function(visible) {
    ee.setVisible(this.c_blackList, visible);
    ee.tiledResizeV(this, 5);
}

sender.deleteAdmin = function(userInfo) {
    g5.popBlack.a6.show(
        "解除管理员",
        "是否解除 /%"+ userInfo.nickName +" @" + userInfo.userName + "%/ 的管理员身份？解除管理员后该用户将不能履行您聊天室的管理职责。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","解除","确认解除","确认解除","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomAdmin.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomAdmin.userId = userInfo.id;
            chatRoomAdmin.operation = "DEL";
            chatRoomAdmin.onComplete = function() {
                sender.c_chat.c_chatRoot.setAdmin(userInfo.id, false);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_adminList.deleteUser(userInfo);
            }
            chatRoomAdmin();
        },
        function() {
        }
    );
}

sender.addAdmin = function(userInfo) {
    g5.popBlack.a6.show(
        "添加为管理员",
        "是否把 /%"+ userInfo.nickName +" @" + userInfo.userName + "%/ 添加为管理员？该用户成为管理员后将能够帮助您管理此聊天室。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","添加","确定添加","确定添加","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomAdmin.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomAdmin.userId = userInfo.id;
            chatRoomAdmin.operation = "ADD";
            chatRoomAdmin.onComplete = function() {
                sender.c_chat.c_chatRoot.setAdmin(userInfo.id, true);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_adminList.appendUser(userInfo);
            }
            chatRoomAdmin();
        },
        function() {
        }
    );
}

sender.unblockUser = function(userInfo) {
    g5.popBlack.a6.show(
        "解除屏蔽",
        "是否解除对 /%"+ userInfo.nickName +" @" + userInfo.userName + "%/ 的屏蔽？解除屏蔽后，该用户可以在聊天室发言，同时历史发言也会被解除限制。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","解除","确定解除","确定解除","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomBlack.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomBlack.userId = userInfo.id;
            chatRoomBlack.operation = "DEL";
            chatRoomBlack.onComplete = function() {
                sender.c_chat.c_chatRoot.setBlack(userInfo.id, false);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_blackList.deleteUser(userInfo);
            }
            chatRoomBlack();
        },
        function() {
        }
    );    
}

sender.blockUser = function(userInfo) {
    g5.popBlack.a6.show(
        "屏蔽用户",
        "是否立即屏蔽（加入黑名单） /%"+ userInfo.nickName +" @" + userInfo.userName + "%/ ？屏蔽完成后，该用户将不能发言，同时历史发言也会被屏蔽。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","屏蔽","确认屏蔽","确认屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomBlack.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomBlack.userId = userInfo.id;
            chatRoomBlack.operation = "ADD";
            chatRoomBlack.onComplete = function() {
                sender.c_chat.c_chatRoot.setBlack(userInfo.id, true);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_blackList.appendUser(userInfo);
            }
            chatRoomBlack();
        },
        function() {
        }
    );
}
</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.430357142857143</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>38</height>
      <heightRatio>0.157676348547718</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_buttons -> 按钮区域]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.c_buttons = ee.getControl("panel325");

sender.init = function() {
    /*
    if (g5.isMobile) {
        ee.setRect(sender,null,null,null,60);
        //ee.setText(sender, "&amp;nbsp;房主聊天室<br/>&amp;nbsp;");
        var c = ee.getControl("panel325");
        c.dockX = "disabled";
        c.dockY = "disabled";
        ee.setRect(c, 0, 30, null,30);
    }
    */
    this.c_buttons.init();
}
]]></onCreate>
      <sizeRatio>0.0678571428571429</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324/panel325">
      <dockY>fill</dockY>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>14</left>
      <leftRatio>0.025</leftRatio>
      <note><![CDATA[c_buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.button1 = ee.getControl("panel326");
sender.button2 = ee.getControl("panel328");
sender.button2_5 = ee.getControl("panel361");
sender.button3 = ee.getControl("panel327");

sender.init = function() {
    this.button1.init(0);
    this.button2.init(0);
    if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
        ee.setVisible(this.button1, true);
    } else {
        ee.setVisible(this.button1, false);
    }
    if ((showUserPage.v_userInfo.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) {
        ee.setVisible(this.button2, true);
    } else {
        ee.setVisible(this.button2, false);
    } 
    if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
        ee.setVisible(this.button2_5, true);
    } else {
        ee.setVisible(this.button2_5, false);
    }
    this.arrangeButton(10);
}

sender.showButton3 = function(visible) {
    ee.setVisible(this.button3, visible);
    this.arrangeButton(10);
}

sender.showButton2_5 = function(visible) {
    ee.setVisible(this.button2_5, visible);
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    //var w = eb.getDivRectSetting(this.parentNode).w;
    //ee.setRect(this,w-cx,null,cx,null);
}


]]></onCreate>
      <sizeRatio>0.123376623376623</sizeRatio>
      <top>0</top>
      <width>308</width>
      <widthRatio>0.55</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324/panel325/panel326">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <layerVisible>false</layerVisible>
      <left>31</left>
      <leftRatio>0.100649350649351</leftRatio>
      <onClick>var visible = !g5.p2.p2.p2sub.p1.c_chat.getAdminListVisible();
g5.p2.p2.p2sub.p1.c_chat.setAdminListVisible(visible);
if (visible) {
    sender.init(1);
} else {
    sender.init(0);
}
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>管理员</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324/panel325/panel328">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <layerVisible>false</layerVisible>
      <leftRatio>0.324675324675325</leftRatio>
      <onClick>var visible = !g5.p2.p2.p2sub.p1.c_chat.getBlackListVisible();
g5.p2.p2.p2sub.p1.c_chat.setBlackListVisible(visible);
if (visible) {
    sender.init(1);
} else {
    sender.init(0);
}</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>黑名单</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324/panel325/panel361">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <layerVisible>false</layerVisible>
      <left>167</left>
      <leftRatio>0.542207792207792</leftRatio>
      <onClick>if (g5.isMobile) {
    g5.p2.p32.show(function(ytbVideo) {
        setChatRoomVideo.videoUrl = ytbVideo;
        setChatRoomVideo.onComplete = function() {
            showUserPage.chatRoomVideo = setChatRoomVideo.videoUrl;
            g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
        }
        setChatRoomVideo();
    });
} else {
    g5.popBlack2.a1.show(function(ytbVideo) {
        setChatRoomVideo.videoUrl = ytbVideo;
        setChatRoomVideo.onComplete = function() {
            showUserPage.chatRoomVideo = setChatRoomVideo.videoUrl;
            g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
        }
        setChatRoomVideo();
    });
}





</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";








</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>添加视频</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel324/panel325/panel327">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>249</left>
      <leftRatio>0.808441558441558</leftRatio>
      <onClick>g5.p2.p2.p2sub.p1.c_chat.changeSize();
</onClick>
      <sizeRatio>1.02702702702703</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.12012987012987</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel264">
      <backgroundColor>F2F2FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>59</height>
      <heightRatio>0.244813278008299</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_video->推荐视频]]></note>
      <onCreate><![CDATA[sender.c_button = ee.getControl("panel286");
sender.c_photo = ee.getControl("panel287");
this.style.boxSizing="border-box";
this.style.borderWidth = "0px 0px 1px 0px";
this.style.borderColor = "rgb(230,236,240)";
this.style.borderStyle = "solid";

sender.init = function(videoUrl, isOwner) {
    ee.setVisible(this, true);
    if (videoUrl.length<=0) {
        if (isOwner) {
            ee.setVisible(this.c_photo, false);
            //this.c_button.init(0);
            g5.p2.p2.p2sub.p1.c_chat.c_buttons.c_buttons.showButton2_5(true);
            //g5.tiledV(this, 0);
        } else {
            g5.p2.p2.p2sub.p1.c_chat.c_buttons.c_buttons.showButton2_5(false);
        }
        ee.setVisible(this, false);
    } else {
        ee.setVisible(this.c_photo, true);
        ee.setRect(this.c_photo,null,null,null,parseInt(eb.getDivRectSetting(this.c_photo).w*0.563));
        var root = this.c_photo;
        var rect = eb.getDivRectSetting(root);
        root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
        root.v_photo = videoUrl;
        root.parentNode.c_player = new YT.Player(root.id + "_ytb", {
            height: rect.h,
            width: rect.w,
            videoId: root.v_photo.substr(4, root.v_photo.length),
            events: {
                "onReady": function(event) {
                    event.target.mute();
                },
                "onStateChange": function(event) {
                    if (event.data == YT.PlayerState.PLAYING) {
                        if (event.target!=g5.player.currentPlayer) {
                            g5.player.stop();
                            g5.player.forceMode = true;
                            g5.player.currentPlayer=event.target;
                        }
                    }
                }
            }
        });
        this.c_photo.c_player = root.parentNode.c_player;
            
        ee.setVisible(this.c_button, false);
        g5.tiledV(this, 10,0,1);
        if (isOwner) {
            ee.setVisible(this.c_button, true);
            this.c_button.init(1);
        } else {
            ee.setVisible(this.c_button, false);
        }
    }
}

]]></onCreate>
      <sizeRatio>0.105357142857143</sizeRatio>
      <top>35</top>
      <topRatio>0.145228215767635</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel264/panel287">
      <dockX>fill</dockX>
      <height>36</height>
      <heightRatio>0.610169491525424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0642857142857143</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/panel264/panel286">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.491525423728814</heightRatio>
      <layerVisible>false</layerVisible>
      <left>461</left>
      <leftRatio>0.823214285714286</leftRatio>
      <onClick><![CDATA[if (sender.v_index==0) {
    var url = prompt("请输入播放地址：", "");
    if (url == null) return;
    if (url.length<=0) return;
    ytbVideo = "";
    var pos;
    if ((pos=url.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
        ytbVideo = url.substr(pos + "youtube.com/watch?v=".length, url.length);
    } else if ((pos=url.toLowerCase().indexOf("youtu.be/",0))>0) {
        ytbVideo = url.substr(pos + "youtu.be/".length, url.length);
    } else {
        g5.alert1("提示", "您输入的视频地址不正确");
        return;
    }
    if ((ytbVideo.length<=8)||(ytbVideo.length>=14)) {
        g5.alert1("提示", "您输入的视频地址不正确");
        return;
    }
    ytbVideo = "?YTB" + ytbVideo;
    setChatRoomVideo.videoUrl = ytbVideo;
    setChatRoomVideo.onComplete = function() {
        showUserPage.chatRoomVideo = setChatRoomVideo.videoUrl;
        g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
    }
    setChatRoomVideo();
} else if (sender.v_index==1) {
    ee.getControl("panel257").show(
        "删除视频",
        "该操作将会使所有的用户无法看到您的置顶视频，您是否确定删除？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            setChatRoomVideo.videoUrl = "";
            setChatRoomVideo.onComplete = function() {
                showUserPage.chatRoomVideo = "";
                g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
            }
            setChatRoomVideo();
        }
    );
}
]]></onClick>
      <onCreate>var t1 = g5.lang.getByCn("置顶视频");
var t2 = g5.lang.getByCn("删除");
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc",t1,t1,t1,"#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new g5.BStyle("#e0245e","#ca2055","#b31d4b",t2,t2,t2,"#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <outerRight>10</outerRight>
      <sizeRatio>0.325842696629214</sizeRatio>
      <text>主按钮</text>
      <top>10</top>
      <topRatio>0.169491525423729</topRatio>
      <width>89</width>
      <widthRatio>0.158928571428571</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>47</height>
      <heightRatio>0.195020746887967</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_adminList->管理员列表]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderTop = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var root = ee.getControl("layoutxitem10");
    var cy = 0;
    if (!eb.isEmpty(showUserPage.chatRoomAdminList)) {
        var i, item;
        var itemWidth = eb.getDivRectSetting(root).w;
        for (i=0; i< showUserPage.chatRoomAdminList.rowCount; i++) {
            var item = createPanel(root, "admlst_" + showUserPage.chatRoomAdminList.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.chatRoomAdminList, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 7);
        ee.setRect(ee.getControl("layoutxitem17"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty12").init(root);
    }
    if (this.v_items.length<=0) {
        ee.setText(root, "您还没有添加任何管理员");
    } else {
        ee.setText(root, " ");
    }
} 

sender.arrange = function(div, ySpace) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var dw = eb.getDivRectSetting(div).w;
    var xCount = parseInt((dw-5)/(rect.w+5));
    var xSpace = (dw - rect.w*xCount) / (xCount+1);
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], parseInt(xSpace + (i%xCount)*(rect.w+xSpace)), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.deleteUser = function(userInfo) {
    var dat = showUserPage.chatRoomAdminList;
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    ee.tiledResizeV(this.parentNode,5);
}

sender.appendUser = function(userInfo) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.chatRoomAdminList.rowCount; i++) {
        var a = parseInt(showUserPage.chatRoomAdminList.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.chatRoomAdminList.rowCount;
    showUserPage.chatRoomAdminList.setRowCount(showUserPage.chatRoomAdminList.rowCount + 1);
    showUserPage.chatRoomAdminList.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.chatRoomAdminList, 2, idx);
    this.init();
    ee.tiledResizeV(this.parentNode,5);
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_vipRegDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        if (sender.c_photo.v_timer!=null) {
            clearTimeout(sender.c_photo.v_timer);
            sender.c_photo.v_timer = null;
        }
        g5.p2.p2.p2sub.p1.c_chat.deleteAdmin(root.v_userInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "d68400", "bold");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.0839285714285714</sizeRatio>
      <top>70</top>
      <topRatio>0.29045643153527</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem10">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>B4B4B4</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.0856102003642987</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>549</width>
      <widthRatio>0.980357142857143</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>549</left>
      <leftRatio>0.980357142857143</leftRatio>
      <sizeRatio>4.27272727272727</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0196428571428571</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>4.7</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem27">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.319148936170213</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem27/panel329">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem28">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>17</height>
      <heightRatio>0.361702127659574</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>15</top>
      <topRatio>0.319148936170213</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem28/panel330">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.352941176470588</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem29">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.319148936170213</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>32</top>
      <topRatio>0.680851063829787</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem29/panel331">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>42</height>
      <heightRatio>0.174273858921162</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_blackList->黑名单]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderTop = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var root = ee.getControl("layoutxitem18");
    if (!eb.isEmpty(showUserPage.chatRoomBlackList)) {
        var i, item;
        var itemWidth = eb.getDivRectSetting(root).w;
        var cy = 0;
        for (i=0; i< showUserPage.chatRoomBlackList.rowCount; i++) {
            var item = createPanel(root, "blklst_" + showUserPage.chatRoomBlackList.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.chatRoomBlackList, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 7);
        ee.setRect(ee.getControl("layoutxitem19"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty13").init(root);
    }
    if (this.v_items.length<=0) {
        ee.setText(root, "暂无黑名单用户");
    } else {
        ee.setText(root, " ");
    }
}

sender.arrange = function(div, ySpace) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var dw = eb.getDivRectSetting(div).w;
    var xCount = parseInt((dw-5)/(rect.w+5));
    var xSpace = (dw - rect.w*xCount) / (xCount+1);
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], parseInt(xSpace + (i%xCount)*(rect.w+xSpace)), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.deleteUser = function(userInfo) {
    var dat = showUserPage.chatRoomBlackList
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    ee.tiledResizeV(this.parentNode,5);
}

sender.appendUser = function(userInfo) {
    for (var i=0; i<showUserPage.chatRoomBlackList.rowCount; i++) {
        if (userInfo.id==showUserPage.chatRoomBlackList.getData(2,i)) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.chatRoomBlackList.rowCount; i++) {
        var a = parseInt(showUserPage.chatRoomBlackList.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.chatRoomBlackList.rowCount;
    showUserPage.chatRoomBlackList.setRowCount(showUserPage.chatRoomBlackList.rowCount + 1);
    showUserPage.chatRoomBlackList.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.chatRoomBlackList, 2, idx);
    this.init();
    ee.tiledResizeV(this.parentNode,5);
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_vipRegDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        if (sender.c_photo.v_timer!=null) {
            clearTimeout(sender.c_photo.v_timer);
            sender.c_photo.v_timer = null;
        }
        g5.p2.p2.p2sub.p1.c_chat.unblockUser(root.v_userInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.075</sizeRatio>
      <top>110</top>
      <topRatio>0.45643153526971</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem18">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>B4B4B4</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.0765027322404372</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>549</width>
      <widthRatio>0.980357142857143</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>549</left>
      <leftRatio>0.980357142857143</leftRatio>
      <sizeRatio>3.81818181818182</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0196428571428571</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>4.2</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem30">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.357142857142857</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem30/panel332">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem31">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>12</height>
      <heightRatio>0.285714285714286</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>1.2</sizeRatio>
      <top>15</top>
      <topRatio>0.357142857142857</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem31/panel333">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>1.41666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.5</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem32">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.357142857142857</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>27</top>
      <topRatio>0.642857142857143</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem32/panel334">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>80</height>
      <heightRatio>0.33195020746888</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chat->聊天区域]]></note>
      <onCreate>sender.c_chatRoot = ee.getControl("layoutyitem3");
sender.c_chatButton = ee.getControl("layoutyitem4");
</onCreate>
      <outerRight>2</outerRight>
      <sizeRatio>0.14336917562724</sizeRatio>
      <top>157</top>
      <topRatio>0.651452282157676</topRatio>
      <width>558</width>
      <widthRatio>0.996428571428571</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontSize>10</fontSize>
      <height>29</height>
      <heightRatio>0.3625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chatRoot->聊天root]]></note>
      <onCreate><![CDATA[sender.minRefreshTime = 3000;
sender.maxRefreshTime = 50000;
sender.running = false;

sender.style.overflowY = "auto";
sender.className = "scrollBar01";

sender.start = function(roomId) {
    if (this.v_roomId == roomId) {
        this.clearTimer();
        if (showUserPage.isChatRoomPubBlack) return;
        this.v_tfId = setInterval(function() {
            sender.timeFragment();    
        }, 500);
        this.running = true;
        return;
    }
    this.v_roomId = roomId;
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    this.clearTimer();
    if (showUserPage.isChatRoomPubBlack) return;
    chatGet.disabled = false;
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    this.refresh();
}
sender.stop = function() {
    chatGet.disabled = true;
    this.clearTimer();
    this.running = false;
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_chatStatus = dataset.getData(2,index);
    panel.v_roomId = dataset.getData(3,index);
    panel.v_msgContent = dataset.getData(4,index);
    panel.v_isAdmin = dataset.getData(5,index) == "1";
    panel.v_isBlack = dataset.getData(6,index) == "1";
    panel.v_isBlockTime = dataset.getData(7,index) == "1";
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 8, index);
    panel.v_isOwner = panel.v_userInfo.id == showUserPage.v_userInfo.id;
}
sender.refresh = function(force) {
    if (!chatGet.busy) {
        chatGet.roomId = this.v_roomId;
        chatGet.chatId = this.v_lastChatId;
        chatGet.isNew = 1;
        chatGet.my = this;
        chatGet.onComplete = function(dataset) {
            var cy = 0;
            var root = chatGet.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                g5.chatAlertDB.onChatReceive();
                var item = createPanel(root, "dfcr_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                root.loadData(item, dataset, i);
                if ((root.v_items.length==0) &amp;&amp; (i==dataset.rowCount-1)) {
                    root.v_firstChatId = item.v_id;
                }
                if (item.v_chatStatus == "CMD") {
                    if (!root.firstRun) {
                        if (item.v_msgContent == "AdmAdd") {
                            root.setAdmin(item.v_userInfo.id, true);
                            g5.p2.p2.p2sub.p1.c_chat.c_adminList.appendUser(item.v_userInfo);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                showUserPage.isChatRoomPubAdmin = true;
                                g5.p2.p2.p2sub.p1.c_chat.c_buttons.init();
                            }
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "AdmDel") {
                            root.setAdmin(item.v_userInfo.id, false);
                            g5.p2.p2.p2sub.p1.c_chat.c_adminList.deleteUser(item.v_userInfo);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                showUserPage.isChatRoomPubAdmin = false;
                                g5.p2.p2.p2sub.p1.c_chat.c_buttons.init();
                                if (g5.p2.p2.p2sub.p1.c_chat.getBlackListVisible()) {
                                    g5.p2.p2.p2sub.p1.c_chat.setBlackListVisible(false);
                                }
                            }
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "MsgDel") {
                            for (var j = 0; j<root.v_items.length; j++) {
                                if (root.v_items[j].v_id == item.v_userInfo.id) {
                                    root.v_items[j].v_chatStatus = "DEL";
                                    root.v_items[j].v_mode = 0;
                                    root.refreshContent(root.v_items[j], true);
                                }
                            }
                        } else if (item.v_msgContent == "MsgUndel") {
                            for (var j = 0; j<root.v_items.length; j++) {
                                if (root.v_items[j].v_id == item.v_userInfo.id) {
                                    root.v_items[j].v_chatStatus = "IDL";
                                    root.v_items[j].v_mode = 0;
                                    root.refreshContent(root.v_items[j], true);
                                }
                            }
                        } else if (item.v_msgContent == "BlackAdd") {
                            root.setBlack(item.v_userInfo.id, true);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.stop();
                                showUserPage.isChatRoomPubBlack = true;
                                g5.alert1("提示", "很遗憾，您已经被本聊天室屏蔽。您将不能在本聊天室发言，同时您也不能看到本聊天室的任何发言。");
                            }
                            g5.p2.p2.p2sub.p1.c_chat.c_blackList.appendUser(item.v_userInfo);
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "BlackDel") {
                            root.setBlack(item.v_userInfo.id, false);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.start(showUserPage.defaultChatRoomId);
                                showUserPage.isChatRoomPubBlack = false;
                            }
                            g5.p2.p2.p2sub.p1.c_chat.c_blackList.deleteUser(item.v_userInfo);
                            root.refreshContentAll();
                        }
                    }
                    root.v_lastChatId = item.v_id;
                    ee.removeControl(item);
                    continue;
                }
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
            }
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGet();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.refreshContent = function(root, resize) {
    var c = root.c_content;
    var user = g5.showCommonText(root.v_userInfo.nickName);
    if (root.v_chatStatus == "SYS") {
        user = "<font color='#a0a0a0'><b> " + g5.lang.getByCn("系统提示") + " </b></font>";;    
    } else if (root.v_userInfo.id == showUserPage.v_userInfo.id) {
        user = "<span style='background-color:#fcd801;border-radius:3px;font-weight:bold;color:#6e6e6e'> " + user + " </span>";    
    } else if (root.v_isAdmin) {
        user = "<span style='background-color:#48ccfe;border-radius:3px;font-weight:bold;color:#4e4e4e'> " + user + " </span>";  
    } else {
        user = "<span style='background-color:#f0f0ff;border-radius:3px;font-weight:bold;color:#6f6f6f'> " + user + " </span>";  
        //user = "<font color='#6f6f6f'><b>" + user + "</b></font>";
    }
    if (root.v_chatStatus == "SYS") {
        ee.setRect(c,null,null,null,10);
        ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
            " <font color='#a0a0a0'>" + g5.showCommonText(g5.lang.trans1(root.v_msgContent)) + "</font>");
        eb.processDock();
        var rect = eb.getDivRect(c.label);
        ee.setRect(c, null, null, null, rect.h);
    } else if (root.v_userInfo.status == "DISABLED") {
        ee.setRect(c,null,null,null,10);
        ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
            " <font color=#D05050><b>" + g5.lang.getByCn("用户处于禁封状态，无法查看内容") + "</b></font>");
        eb.processDock();
        var rect = eb.getDivRect(c.label);
        ee.setRect(c, null, null, null, rect.h);
    } else if (root.v_isBlack) {
        if ((showUserPage.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin)) {
            ee.setRect(c,null,null,null,0);
        } else if (root.v_mode == 0) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#D05050 id='" + c.id + "blk'><b>&amp;lt;" + g5.lang.getByCn("该用户被屏蔽,点击查看原留言") + "&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"blk");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 1;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        } else if (root.v_mode == 1) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#a0a0a0>" + g5.showCommonText(root.v_msgContent) + "</font>" +
                " <font color=#D05050 id='" + c.id + "blk'><b>&amp;lt;" + g5.lang.getByCn("该用户被屏蔽,点击隐藏留言") + "&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"blk");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 0;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        }
    } else if (root.v_chatStatus == "DEL") {
        if ((showUserPage.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            ee.setRect(c,null,null,null,0);
        } else if (root.v_mode == 0) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#D05050 id='" + c.id + "del'><b>&amp;lt;" + g5.lang.getByCn("该聊天记录已删除,点击查看") + "&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"del");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 1;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        } else if (root.v_mode == 1) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#a0a0a0>" + g5.showCommonText(root.v_msgContent) + "</font>" +
                " <font color=#D05050 id='" + c.id + "del'><b>&amp;lt;" + g5.lang.getByCn("已删除,点击隐藏") + "&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"del");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 0;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        }
    } else if (root.v_chatStatus == "IDL") {
        ee.setRect(c,null,null,null,10);
        ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " +
            user +
            " " + g5.showCommonText(root.v_msgContent));
        eb.processDock();
        var rect = eb.getDivRect(c.label);
        ee.setRect(c, null, null, null, rect.h);
    }
    
    var rect = eb.getDivRectSetting(root.c_content);
    var cy = rect.y + rect.h + 2;
    cy = Math.max(25+4,cy);
    if (rect.h == 0) {
        ee.setRect(root, null,null,null,0);
    } else {
        ee.setRect(root, null,null,null,cy);
    }
    
    if (resize) {
        cy = 0;
        for (var i = 0; i < this.v_items.length; i++) {
            if (this.v_items[i].style.visibility == "hidden") continue;
            ee.setRect(this.v_items[i], null, cy, null, null);
            rect = eb.getDivRectSetting(this.v_items[i]);
            cy += rect.h;
        }
    }
}

sender.refreshContentAll = function() {
    for (var i=0; i<this.v_items.length; i++) {
        this.refreshContent(this.v_items[i], false);
    }
    var cy = 0;
    for (var i = 0; i < this.v_items.length; i++) {
        if (this.v_items[i].style.visibility == "hidden") continue;
        ee.setRect(this.v_items[i], null, cy, null, null);
        rect = eb.getDivRectSetting(this.v_items[i]);
        cy += rect.h;
    }
}

sender.setAdmin = function(userId, isAdmin) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isAdmin = isAdmin;
    }
}

sender.setBlack = function(userId, isBlack) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isBlack = isBlack
    }
}

sender.setBlockTime = function(userId, isBlockTime) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isBlockTime = isBlockTime;
    }
}

sender.renderMsg = function(root) {
    var c,rect;
    var cy = 2;
    var mainWidth = eb.getDivRect(root).w - 10;
    //photo
    if (root.v_chatStatus != "SYS") {
        c = createPanel(root, root.id+"_img", "", 24, cy, 25, 25);
        c.style.cursor = "pointer";
        c.style.borderRadius = "50%";
        if ((root.v_userInfo.photo == "") || (root.v_userInfo.status == "DISABLED")) {
            ee.setImage(c,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
        }
        c.v_timer = null;
        root.c_photo = c;
        ee.setOnClick(c, function(sender, event) {
            if (root.v_userInfo.status == "DISABLED") {
                g5.alert1("提示", "该用户处于禁封状态，目前无法查看该用户的信息");
            } else {
                ee.getControl("panel280").show(sender, root.v_userInfo);
            }
        });
        ee.setOnMouseEnter(c, function(sender,e) {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        });
        ee.setOnMouseLeave(c, function(sender,e) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        });
    }
    //message
    var msgY = cy;
    if (root.v_chatStatus == "SYS") {
        c = createPanel(root, root.id+"_msg", "", 24, cy, mainWidth-24, 10);
    } else {
        c = createPanel(root, root.id+"_msg", "", 55, cy, mainWidth-55-24, 10);
    }
    root.c_content = c; 
    addText(c, "<font color='#6e6e6e' style='font-family:宋体,Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime)+ " " + g5.showCommonText(root.v_userInfo.nickName) + "</font> " + root.v_msgContent, "left", "top", "微软雅黑", 9, "000000", "normal");
    c.label.style.wordBreak = "break-all";
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    root.v_mode = 0;
    root.parentNode.refreshContent(root, false);

    //button
    rect = eb.getDivRectSetting(root.c_content);
    c = createPanel(root, root.id+"_btn", "", mainWidth - 24, rect.y, 20,20);
    root.c_button = c;
    c.style.cursor = "pointer";
    c.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","…","…","…","#404040","#404040","#404040","")
    ];
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    }
    ee.setOnClick(c,function(sender,event) {
        var style = new Array();
        var onClick = new Array();
        //delete
        if (((showUserPage.v_userInfo.id == g5.myUserInfo.id) || 
            (showUserPage.isChatRoomPubAdmin &amp;&amp; !root.v_isAdmin) || 
            (root.v_userInfo.id == g5.myUserInfo.id)) &amp;&amp; (!root.v_isBlack)) {
            if (root.v_chatStatus == "IDL") {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","删除聊天记录","删除聊天记录","删除聊天记录","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.popBlack.a6.show(
                            "删除聊天记录",
                            "是否删除此聊天记录？删除后，其他用户（管理员和房主除外）将无法看到此聊天记录。",
                            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
                            function() {
                                chatRoomRecdDelete.chatRoomId = showUserPage.defaultChatRoomId;
                                chatRoomRecdDelete.chatId = root.v_id;
                                chatRoomRecdDelete.onComplete = function() {
                                    root.v_chatStatus = "DEL";
                                    root.v_mode = 0;
                                    root.parentNode.refreshContent(root, true);
                                }
                                chatRoomRecdDelete();
                            },
                            function() {
                            }
                        );
                    },
                );
            } else if (root.v_chatStatus == "DEL") {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","恢复聊天记录","恢复聊天记录","恢复聊天记录","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.popBlack.a6.show(
                            "恢复聊天记录",
                            "是否恢复此聊天记录？恢复后，其他用户将能重新看到此天记录。",
                            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","恢复","确定恢复","确定恢复","#ffffff","#ffffff","#ffffff","")],
                            function() {
                                chatRoomRecdUndel.chatRoomId = showUserPage.defaultChatRoomId;
                                chatRoomRecdUndel.chatId = root.v_id;
                                chatRoomRecdUndel.onComplete = function() {
                                    root.v_chatStatus = "IDL";
                                    root.parentNode.refreshContent(root, true);
                                }
                                chatRoomRecdUndel();
                            },
                            function() {
                            }
                        );
                    },
                );
            }
        }
        //admin
        if ((showUserPage.v_userInfo.id == g5.myUserInfo.id) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isBlack)) {
            if (root.v_isAdmin) {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","解除管理员","解除管理员","解除管理员","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.deleteAdmin(root.v_userInfo);
                    },
                );
            } else {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","添加管理员","添加管理员","添加管理员","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.addAdmin(root.v_userInfo);
                    },
                );
            }
        }
        //blacklist
        if (((showUserPage.v_userInfo.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            if (root.v_isBlack) {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","解除屏蔽","解除屏蔽","解除屏蔽","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.unblockUser(root.v_userInfo);
                    },
                );
            } else if (root.v_isAdmin) {
            } else {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","屏蔽用户","屏蔽用户","屏蔽用户","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.blockUser(root.v_userInfo);
                    },
                );
            }
        }
        //blocktime
        if (((showUserPage.v_userInfo.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp;
            (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isAdmin) &amp;&amp; (!root.v_isBlack) &amp;&amp; (!root.v_isBlockTime)) {
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","禁言5分钟","禁言5分钟","禁言5分钟","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    g5.popBlack.a6.show(
                        "禁止用户发言",
                        "是否禁止<b>/%" + root.v_userInfo.nickName + "%/</b>发言5分钟？禁言期间用户不可以发言，但可以观看聊天室的内容。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","禁言","确定禁言","确定禁言","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTime.seconds = 5*60;
                            chatRoomBlockTime.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTime.userId = root.v_userInfo.id;
                            chatRoomBlockTime.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, true);
                            }
                            chatRoomBlockTime();
                        },
                        function() {
                        }
                    );
                },
            );
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","禁言1小时","禁言1小时","禁言1小时","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    g5.popBlack.a6.show(
                        "禁止用户发言",
                        "是否禁止<b>/%" + root.v_userInfo.nickName + "%/</b>发言1小时？禁言期间用户不可以发言，但可以观看聊天室的内容。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","禁言","确定禁言","确定禁言","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTime.seconds = 1*60*60;
                            chatRoomBlockTime.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTime.userId = root.v_userInfo.id;
                            chatRoomBlockTime.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, true);
                            }
                            chatRoomBlockTime();
                        },
                        function() {
                        }
                    );
                },
            );
        }
        //unblock
        if (((showUserPage.v_userInfo.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp;
            (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isAdmin) &amp;&amp; (!root.v_isBlack) &amp;&amp; (root.v_isBlockTime)) {
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","取消禁言","取消禁言","取消禁言","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    g5.popBlack.a6.show(
                        "取消禁言",
                        "是否立即取消对<b>/%" + root.v_userInfo.nickName + "%/</b>的禁止发言状态？如果先前对该用户进行过禁言则会立即恢复。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTimeDelete.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTimeDelete.userId = root.v_userInfo.id;
                            chatRoomBlockTimeDelete.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, false);
                            }
                            chatRoomBlockTimeDelete();
                        },
                        function() {
                        }
                    );
                },
            );
        }
        if (style.length<=0) return;
        if (root.v_isOwner &amp;&amp; (showUserPage.v_userInfo.id != g5.myUserInfo.id)) return;
        g5.popup1.p4.show(sender, 170, style, onClick);
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    c.init(0);
    ee.setVisible(c, false);
    ee.setOnMouseEnter(root, function(sender,event) { 
        var visible = true;
        if ((showUserPage.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            visible = false;
        };
        if (root.v_chatStatus == "SYS") {
            visible = false;
        }
        if (!visible) return;
        ee.setVisible(sender.c_button, true);
    });
    ee.setOnMouseLeave(root, function(sender,event) { 
        ee.setVisible(sender.c_button, false);
    });
    if (g5.isMobile) {
        var visible = true;
        if ((showUserPage.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            visible = false;
        };
        if (root.v_chatStatus == "SYS") {
            visible = false;
        }
        if (visible) {
            ee.setVisible(root.c_button, true);
        }
    }
}

sender.displayTime = function(time) {
    var now = new Date();
    var r = "";
    if (g5.lang.getCurrentLangIndex() == 0) {
        r = 
            (time.getMonth()+1) + "月" +
            time.getDate() + "日 " +
            (time.getHours()<10?"0":"") + time.getHours() + ":" +
            (time.getMinutes()<10?"0":"") + time.getMinutes();
        if (now.getYear() != time.getYear()) {
            r =  (time.getYear() + 1900) + "年" + r;
        }
    } else {
        r = g5.lang.moEnglish[time.getMonth()] + " " + time.getDate();
        if (now.getYear() != time.getYear()) {
            r += ", " + (time.getYear() + 1900);
        }
        r += ", " +
            (time.getHours()<10?"0":"") + time.getHours() + ":" +
            (time.getMinutes()<10?"0":"") + time.getMinutes();
    }
    return r;
}

sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGet.busy) return;
    
    sender.v_nohis = false;
    chatGet.roomId = sender.v_roomId;
    chatGet.chatId = sender.v_firstChatId;
    chatGet.isNew = 0;
    chatGet.my = sender;
    chatGet.onComplete = function(dataset) {
        if (chatGet.disabled) return;
        var cy = 0;
        var root = chatGet.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "dftcr_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            root.v_firstChatId = item.v_id;
            if (item.v_chatStatus == "CMD") {
                ee.removeControl(item);
                continue;
            }
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    chatGet();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}














]]></onCreate>
      <sizeRatio>0.0519713261648746</sizeRatio>
      <top>0</top>
      <width>558</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem4">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavyEnabled>false</heavyEnabled>
      <height>51</height>
      <heightRatio>0.6375</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chatButton->功能区root]]></note>
      <onCreate>sender.c_input = ee.getControl("edit11");
sender.c_donate = ee.getControl("panel642");

sender.setDonateEnable = function(enabled) {
    if (enabled) {
        this.c_input.outerLeft = 40;
        ee.setVisible(this.c_donate, true);
    } else {
        this.c_input.outerLeft = 10;
        ee.setVisible(this.c_donate, false);
    }
}
</onCreate>
      <sizeRatio>0.0913978494623656</sizeRatio>
      <top>29</top>
      <topRatio>0.3625</topRatio>
      <width>558</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem4/panel265">
      <backgroundColor>E6ECF0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0196078431372549</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0017921146953405</sizeRatio>
      <top>0</top>
      <width>558</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem4/edit11">
      <backgroundSkin>edit1</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <layerVisible>false</layerVisible>
      <left>40</left>
      <leftRatio>0.0716845878136201</leftRatio>
      <multiLine>true</multiLine>
      <note>c_input</note>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
if (text.length>200) text = text.substr(0,200);
if (text.split("\n").length-1>5) {
    text = text.substr(0, text.length-1);
}
edit.setText(text);
]]></onChange>
      <onCreate><![CDATA[sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));

sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem4"));
    ee.setRect(ee.getControl("layoutyitem4"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem3"));
    ee.setRect(ee.getControl("layoutyitem3"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    var rect = eb.getDivRect(this);
    ee.setRect(sender.c_tester,null,null,rect.w,null);
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        if (g5.guestMode) {
            event.preventDefault();
            setTimeout(function() {
                g5.checkGuest("在聊天室发言");
            }, 200);
            return false;
        }
        if (showUserPage.isChatRoomPubBlack) {
            g5.alert1("提示", "对不起，您已经被本聊天室屏蔽，您将不能在本聊天室发言");
            event.preventDefault();
            return false;
        }
        var msgContent = ee.getEditText(ee.getControl("edit11")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        if (msgContent.length>200) msgContent = msgContent.substr(0,200);
        
        sender.setText("");
        chatSend.roomId = showUserPage.defaultChatRoomId;
        chatSend.msgContent = msgContent;
        chatSend.onComplete = function() {
            g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.refresh(true);
        }
        chatSend();        
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <outerLeft>40</outerLeft>
      <outerRight>50</outerRight>
      <sizeRatio>0.061965811965812</sizeRatio>
      <text>有什么想说的？</text>
      <top>11</top>
      <topRatio>0.215686274509804</topRatio>
      <width>468</width>
      <widthRatio>0.838709677419355</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem4/panel266">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_send</ee_LocalName>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <layerVisible>false</layerVisible>
      <left>511</left>
      <leftRatio>0.915770609318996</leftRatio>
      <onClick><![CDATA[if (g5.checkGuest("在聊天室发言")) {
    return;
}
if (showUserPage.isChatRoomPubBlack) {
    g5.alert1("提示", "对不起，您已经被本聊天室屏蔽，您将不能在本聊天室发言");
    return;
}
var msgContent = ee.getEditText(ee.getControl("edit11")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
if (msgContent.length>200) msgContent = msgContent.substr(0,200);

ee.getControl("edit11").setText("");
chatSend.roomId = showUserPage.defaultChatRoomId;
chatSend.msgContent = msgContent;
chatSend.onComplete = function() {
    g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.refresh(true);
}
chatSend();

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <outerRight>10</outerRight>
      <sizeRatio>0.783783783783784</sizeRatio>
      <text>发送</text>
      <top>11</top>
      <topRatio>0.215686274509804</topRatio>
      <width>37</width>
      <widthRatio>0.0663082437275986</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283/panel19/layouty2/layoutyitem4/panel642">
      <cursor>pointer</cursor>
      <dockX>left</dockX>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.017921146953405</leftRatio>
      <note>c_donate</note>
      <onClick><![CDATA[var list = g5.p2.p2.v_donateList;
var v_style = new Array();
var v_onClick = new Array();
for (var i=0; i<list.length; i++) {
    v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",list[i].type,list[i].type,list[i].type,"#808080","#000000","#000000","#1da1f2"));
    var a = list[i].linkValue;
    if (list[i].linkType == "g") {
        v_onClick.push(
            function (senderBtnC, event) {
                g5.popBlack.a2.show([list[senderBtnC.parentNode.v_index].linkValue], list[senderBtnC.parentNode.v_index].linkValue);
                //g5.player.stop();
            }
        );
    } else {
        v_onClick.push(
            function (senderBtnC, event) {
                window.open(list[senderBtnC.parentNode.v_index].linkValue);
            }
        );
    }
}
g5.popup1.p4.show(sender, 240, v_style, v_onClick); 

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>1</sizeRatio>
      <text>赏</text>
      <top>11</top>
      <topRatio>0.215686274509804</topRatio>
      <width>29</width>
      <widthRatio>0.0519713261648746</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel284">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>132</height>
      <heightRatio>0.352941176470588</heightRatio>
      <layerName><![CDATA[  p3->发言和回复]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.resize = function() {
    var item = null;
    var add = 0;
    for (var i=g5.p2.p2.p3Items.length-1; i>=0; i--) {
        if (g5.p2.p2.p3Items[i].v_userInfo) {
            item = g5.p2.p2.p3Items[i];
            break;
        } else {
            add += eb.getDivRectSetting(g5.p2.p2.p3Items[i]).h;
        }
    }
    if (item == null) {
        item = g5.p2.p2.p2sub.c_buttons;
    }
    var bottomSpace = eb.getClientSize().h - eb.getDivRectSetting(item).h - add - 51;
    ee.tiledV(this,0,0,bottomSpace);
    ee.resizeV(this.parentNode, 3);
}]]></onCreate>
      <sizeRatio>0.22</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_block1</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>屏蔽别人</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>480</top>
      <topRatio>0.615384615384615</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel252">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel253">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>@xxxxx已被屏蔽</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel254">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>56</height>
      <heightRatio>0.203636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.1</sizeRatio>
      <text>是否确定要查看这些发言？查看发言不会取消屏蔽 @xxxx。</text>
      <top>69</top>
      <topRatio>0.250909090909091</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel255">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.145454545454545</heightRatio>
      <layerVisible>false</layerVisible>
      <left>246</left>
      <leftRatio>0.41</leftRatio>
      <onClick>ee.setVisible(this.parentNode, false);
var userInfo = g5.p2.p2.v_userInfo.clone();
g5.p2.p2.v_userInfo = new g5.UserInfo();
g5.p2.p2.v_forceDisplay = true;
g5.p2.p2.show(userInfo);
</onClick>
      <onCreate>sender.bgColor = "";
sender.bgColorHot = "#e8f5fe";
sender.bgColorDown = "#d2ecfc";

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(29, 161, 242)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.bgColor
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = sender.bgColorDown
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <sizeRatio>0.373831775700935</sizeRatio>
      <text>查看发言</text>
      <top>133</top>
      <topRatio>0.483636363636364</topRatio>
      <width>107</width>
      <widthRatio>0.178333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel467">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_block2</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>被屏蔽</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>480</top>
      <topRatio>0.615384615384615</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel467/panel474">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel467/panel475">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>您已被@xxxxx屏蔽</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel467/panel476">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>您无法查看该用户的详细信息</text>
      <top>64</top>
      <topRatio>0.232727272727273</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel477">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_block12</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>相互屏蔽</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>469</top>
      <topRatio>0.601282051282051</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel477/panel478">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel477/panel479">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>双方相互屏蔽</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel477/panel480">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>您屏蔽了对方，对方也屏蔽了您，双方都不可以查看对方的详细信息。</text>
      <top>64</top>
      <topRatio>0.232727272727273</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel481">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_disabled</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>封号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>469</top>
      <topRatio>0.601282051282051</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel481/panel482">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel481/panel483">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>禁封状态</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel481/panel484">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>该用户被暂时禁封，无法继续访问。</text>
      <top>64</top>
      <topRatio>0.232727272727273</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel485">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_freeze</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>冻结</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>469</top>
      <topRatio>0.601282051282051</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel485/panel486">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel485/panel487">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>冻结状态</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel485/panel488">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>该用户被暂时冻结，无法继续访问。</text>
      <top>64</top>
      <topRatio>0.232727272727273</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel510">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_del</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>销号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>522</top>
      <topRatio>0.669230769230769</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel510/panel511">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel510/panel512">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>已销号</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel510/panel513">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>该用户已经销号，无法继续访问。</text>
      <top>64</top>
      <topRatio>0.232727272727273</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel527">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_private</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>私密状态</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>522</top>
      <topRatio>0.669230769230769</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel527/panel528">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel527/panel529">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>私密状态</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel527/panel530">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>98</height>
      <heightRatio>0.356363636363636</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.175</sizeRatio>
      <text>该用户处于私密状态，您需要成为该用户的粉丝才可以访问该用户的主页</text>
      <top>71</top>
      <topRatio>0.258181818181818</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel683">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_guest</ee_LocalName>
      <height>275</height>
      <heightRatio>0.352564102564103</heightRatio>
      <layerName>游客状态</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.458333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel683/panel684">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00363636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel683/panel685">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.123636363636364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>提示</text>
      <top>32</top>
      <topRatio>0.116363636363636</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel683/panel686">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>98</height>
      <heightRatio>0.356363636363636</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.175</sizeRatio>
      <text>该用户不可访问</text>
      <top>71</top>
      <topRatio>0.258181818181818</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel115">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.0397435897435897</heightRatio>
      <layerVisible>false</layerVisible>
      <left>482</left>
      <leftRatio>0.803333333333333</leftRatio>
      <onClick>if (sender.v_index==0) {
    g5.setBlock1(g5.p2.p2.v_userInfo, null);
} else if (sender.v_index==1) {
    //follow
    if (g5.checkGuest("关注某用户")) return;
    g5.setFollow(showUserPage.v_userInfo, function(v_userInfo) {
        ee.getControl("panel256").init(2);
        showUserPage.v_userInfo = v_userInfo.clone();
    });
} else if (sender.v_index==2) {
    //cancel follow
    if (g5.checkGuest("取消关注某用户")) return;
    g5.setFollow(showUserPage.v_userInfo,function(v_userInfo) {
        ee.getControl("panel256").init(1);
        showUserPage.v_userInfo = v_userInfo.clone();
    });
} else if (sender.v_index==3) {
    //edit personal information
    g5.p2.p17.show();
} else if (sender.v_index==4) {
    g5.setBlock1(g5.p2.p2.v_userInfo, null);
}       
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e0245e","#ca2055","#b31d4b",g5.lang.getByCn("已屏蔽"),g5.lang.getByCn("取消屏蔽"),g5.lang.getByCn("取消屏蔽"),"#ffffff","#ffffff","#ffffff",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("关注"),g5.lang.getByCn("关注"),g5.lang.getByCn("关注"),"#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new g5.BStyle("#1da1f2","#ca2055","#b31d4b",g5.lang.getByCn("正在关注"),g5.lang.getByCn("取消关注"),g5.lang.getByCn("取消关注"),"#ffffff","#ffffff","#ffffff",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc",g5.lang.getByCn("编辑个人资料"),g5.lang.getByCn("编辑个人资料"),g5.lang.getByCn("编辑个人资料"),"#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new g5.BStyle("#e0245e","#ca2055","#b31d4b",g5.lang.getByCn("被屏蔽"),g5.lang.getByCn("屏蔽对方"),g5.lang.getByCn("屏蔽对方"),"#ffffff","#ffffff","#ffffff",""),
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    this.setText(this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
        eb.setDivRect(this.label.parentNode,0,0,null,null);
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
        eb.setDivRect(this.label.parentNode,-1,-1,null,null);
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    if (!this.c_cover) {
        this.c_cover = createPanel(this, "", "#00000001", 0, 0, 1, 1);
        eb.setDock(this.c_cover,"fill","fill");
    }
}

sender.setText = function(text) {
    ee.setRect(this,null,null,1,null);
    this.label.style.whiteSpace = "nowrap";
    ee.setText(this, text);
    var rect = eb.getDivRect(this.label);
    ee.setRect(this,null,null,rect.w + 30,null);
    eb.processDock();
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    sender.setText(s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    sender.setText(s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    } else {
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
}
sender.eeOnClickCancel = function(sender,event) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>0.316326530612245</sizeRatio>
      <text>button1</text>
      <top>269</top>
      <topRatio>0.344871794871795</topRatio>
      <width>98</width>
      <widthRatio>0.163333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p3</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>话题</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel83">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <layerVisible>false</layerVisible>
      <left>7</left>
      <leftRatio>0.0119250425894378</leftRatio>
      <onClick>g5.changeP2(0);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>88</width>
      <widthRatio>0.146507666098807</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel84">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.00384615384615385</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00518134715025907</sizeRatio>
      <top>75</top>
      <topRatio>0.0961538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel85">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <layerVisible>false</layerVisible>
      <left>99</left>
      <leftRatio>0.165247018739353</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.350746268656716</sizeRatio>
      <text>话题</text>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>137</width>
      <widthRatio>0.228279386712095</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel87">
      <backgroundImg>huati1.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>165</height>
      <heightRatio>0.212045169385194</heightRatio>
      <layerVisible>false</layerVisible>
      <left>26</left>
      <leftRatio>0.0436432637571157</leftRatio>
      <sizeRatio>0.342105263157895</sizeRatio>
      <top>79</top>
      <topRatio>0.101631116687578</topRatio>
      <width>562</width>
      <widthRatio>0.937381404174573</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel88">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>128</height>
      <heightRatio>0.164102564102564</heightRatio>
      <layerVisible>false</layerVisible>
      <left>44</left>
      <leftRatio>0.0732538330494037</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.256</sizeRatio>
      <text><![CDATA[<b>获取最新内容</b>在你的主页时间线上直接查看关于你关注的话题的热门发言。<b>让GET为你所用</b>获取最相关的发言、用户、事件和广告。<b>分享你感兴趣的内容</b>大家可以在你的个人资料中看到你关注的话题。]]></text>
      <top>252</top>
      <topRatio>0.323076923076923</topRatio>
      <vAlign>top</vAlign>
      <width>511</width>
      <widthRatio>0.851788756388416</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel86">
      <backgroundColor>E0E0E0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>10</height>
      <heightRatio>0.0128205128205128</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.0172711571675302</sizeRatio>
      <top>386</top>
      <topRatio>0.494871794871795</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel89">
      <backgroundColor>E0E0E0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00128205128205128</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00172711571675302</sizeRatio>
      <top>555</top>
      <topRatio>0.711538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel90">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>142</height>
      <heightRatio>0.182051282051282</heightRatio>
      <layerVisible>false</layerVisible>
      <left>46</left>
      <leftRatio>0.0766609880749574</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.295833333333333</sizeRatio>
      <text><![CDATA[马上推出一种浏览话题的方式。你关注的话题会显示在这里。如果要查看GET认为你感兴趣的所有内容，请查看<font color="#1c94e0">你的GET数据</font>。你还可以<font color="#1c94e0">了解更多</font>关于关注话题的信息。]]></text>
      <top>401</top>
      <topRatio>0.514102564102564</topRatio>
      <vAlign>top</vAlign>
      <width>491</width>
      <widthRatio>0.817717206132879</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p4</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel71">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <layerVisible>false</layerVisible>
      <left>7</left>
      <leftRatio>0.0116666666666667</leftRatio>
      <onClick>g5.changeP2(0);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>86</width>
      <widthRatio>0.143333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel77">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.00384615384615385</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00518134715025907</sizeRatio>
      <top>75</top>
      <topRatio>0.0961538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel78">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <layerVisible>false</layerVisible>
      <left>97</left>
      <leftRatio>0.161666666666667</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <text>列表</text>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>86</width>
      <widthRatio>0.143333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel79">
      <backgroundImg>pageList1.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>148</height>
      <heightRatio>0.18974358974359</heightRatio>
      <layerVisible>false</layerVisible>
      <left>170</left>
      <leftRatio>0.283333333333333</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.426512968299712</sizeRatio>
      <top>565</top>
      <topRatio>0.724358974358974</topRatio>
      <width>347</width>
      <widthRatio>0.578333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel80">
      <backgroundImg>pageList2.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>93</height>
      <heightRatio>0.119230769230769</heightRatio>
      <layerVisible>false</layerVisible>
      <left>452</left>
      <leftRatio>0.753333333333333</leftRatio>
      <sizeRatio>0.709923664122137</sizeRatio>
      <top>679</top>
      <topRatio>0.870512820512821</topRatio>
      <width>131</width>
      <widthRatio>0.218333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel81">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>88</height>
      <heightRatio>0.112820512820513</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.146666666666667</sizeRatio>
      <text>您还没有创建列表
创建列表方便管理您的发言</text>
      <top>144</top>
      <topRatio>0.184615384615385</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p5</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>书签</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_topBlank = sender.eeChildren[0];
sender.c_noResult = sender.eeChildren[1];

sender.v_headerName = "bookMark_";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_pageIndex = 0;
sender.v_lastScrollTop = 0;

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.activePage = function() {
    //g5.pushHistory("p=4");
    g5.pushHistory2("/bookmarks");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a4");
    ee.setVisible(g5.p2.p5, true)
    g5.resizeV(this.parentNode, 1);
}

sender.show = function() {
    if (this.v_status != "init") {
        g5.changeP2(4);
        g5.resizeV(this.parentNode, 1);
        document.documentElement.scrollTop = this.v_lastScrollTop;
        return;
    }
    this.clear();
    g5.changeP2(4);
    document.documentElement.scrollTop = 0;
    this.c_topBlank.show();
    this.load();
}

sender.refresh = function() {
    if (g5.currentPageIndex == 4) {
        this.v_status = "init";
        g5.notPushHistoryCount = 1;
        this.show();
    } else {
        this.v_status = "init";
    }    
}

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    ee.setVisible(this.c_noResult, false);
}

sender.load = function() {
    if (this.v_items.length>0) return;
    this.v_pageIndex = 0;
    this.fLoad();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fLoad();
}

sender.fLoad = function() {
    if (showBookMark.busy) return;
    showBookMark.pageIndex = this.v_pageIndex;
    showBookMark.onComplete = function() {
        g5.loading.close();
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< showBookMark.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + showBookMark.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, showBookMark.dataset, i);
            if (item.v_content.status == "DEL") {
                ee.removeControl(item);
                continue;
            }
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            item.v_isBookMark = true;
            g5.renderTwitter(item);
            //sender.addButton(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (showBookMark.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else {
                ee.setVisible(sender.c_noResult, false);
                var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
                addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
                item.v_noResult = true;
                sender.v_items.push(item);
            }
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,2);   
    }
    showBookMark.pageIndex<=0 ? g5.loading.show() : g5.loading.show2();
    showBookMark();
}

sender.addButton = function(root) {
    root.v_isBookMark = true;
    var c = createPanel(root, root.id+"_bkmkDel", "", eb.getDivRectSetting(root).w-120, 7, 70, 25);
    root.c_bookMarkDelete = c;
    
    c.v_style = [
        new g5.BStyle("#ffffff","#e8f5fe","#d2ecfc","移除书签","移除书签","移除书签","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
    ];
    
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    }
    ee.setOnClick(c, function(button, event) {
        if (setBookMark.busy) {
            window.event? window.event.cancelBubble = true : event.stopPropagation();
            return;
        }
        var root = button.parentNode;
        setBookMark.operation = "del";
        setBookMark.contentId = root.v_content.id;
        setBookMark.onComplete = function() {
            for (var i=0; i<sender.v_items.length; i++) {
                if (sender.v_items[i] == root) {
                    sender.v_items.splice(i,1);
                    break;
                }
            }
            ee.removeControl(root);
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else if (sender.v_items.length==1) {
                if (sender.v_items[0].v_noResult) {
                    ee.removeControl(sender.v_items[0]);
                    sender.v_items = new Array();
                    ee.setVisible(sender.c_noResult, true);
                }
            }
            g5.tiledResizeV(g5.p2.p5,2);
        }
        setBookMark();
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        //ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        //ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    c.init(0);
    ee.setVisible(c, false);
    
    var e1 = root.eeOnMouseEnter;
    var e2 = root.eeOnMouseLeave;
    ee.setOnMouseEnter(root, function(sender,event) { 
        ee.setVisible(sender.c_bookMarkDelete, true);
        e1(sender,event);
    });
    ee.setOnMouseLeave(root, function(sender,event) { 
        ee.setVisible(sender.c_bookMarkDelete, false);
        e2(sender,event);
    });
    
}







]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel92">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>55</height>
      <heightRatio>0.0705128205128205</heightRatio>
      <layerName><![CDATA[  c_topBlank->顶部留空]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.show = function() {
    ee.setVisible(this, true);
    ee.setRect(this,null,null,null,eb.getDivRectSetting(g5.p4).h);
}
</onCreate>
      <sizeRatio>0.0916666666666667</sizeRatio>
      <top>8</top>
      <topRatio>0.0102564102564103</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>376</height>
      <heightRatio>0.482051282051282</heightRatio>
      <layerName><![CDATA[  c_noResult->无内容提示]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.626666666666667</sizeRatio>
      <top>123</top>
      <topRatio>0.157692307692308</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel96">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>您还没有添加任何发言到您的书签中</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel95">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>有了之后就会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel98">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.255</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/layouty4">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>rightFlyIn</aniPos>
      <dockX>fill</dockX>
      <ee_LocalName>p8</ee_LocalName>
      <fieldCount>2</fieldCount>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>新用户页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>25</heavy>
      <height>156</height>
      <heightRatio>0.2</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.26</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel106">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.00641025641025641</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>155</top>
      <topRatio>0.993589743589744</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel107">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontFamily>黑体</fontFamily>
      <fontSize>24</fontSize>
      <fontSizeAuto>24</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>135</height>
      <heightRatio>0.864864864864865</heightRatio>
      <layerVisible>false</layerVisible>
      <left>81</left>
      <leftRatio>0.134396355353075</leftRatio>
      <sizeRatio>0.351648351648352</sizeRatio>
      <text><![CDATA[欢迎您首次使用GET，在这里您可以了解在世界上发生的最真实的故事。
我们为您推荐了众多网友关注的发言账号，您可以在看了他们的账号信息和发言后选择<b>关注</b>。
感谢您对GET的关心和支持！]]></text>
      <top>13</top>
      <topRatio>0.0810810810810811</topRatio>
      <width>497</width>
      <widthRatio>0.829157175398633</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel108">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>51</height>
      <heightRatio>0.324324324324324</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0159453302961276</leftRatio>
      <onClick>ee.showAni(ee.getControl("layouty4"), 1);
setTimeout(function() { updateHomepage(); }, 500);</onClick>
      <sizeRatio>1</sizeRatio>
      <top>5</top>
      <topRatio>0.0337837837837838</topRatio>
      <width>66</width>
      <widthRatio>0.109339407744875</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem8">
      <autoScroll>true</autoScroll>
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>624</height>
      <heightRatio>0.8</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.04</sizeRatio>
      <top>156</top>
      <topRatio>0.2</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p9</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>推文页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_items = new Array();
sender.v_hisItems = new Array();
sender.c_tabRoot = ee.getControl("panel119");
sender.v_forceDisplay = false;

sender.activePage = function() {
    g5.pageMode = 0;
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a2");
    ee.setRect(g5.p4.a2,0,0,eb.getDivRect(g5.p4).w,null);
    ee.setRect(g5.p4, null,null,null,eb.getDivRect(g5.p4.a2).h);
    g5.refreshMain(true);
    //ee.showAni(this, 0);
    ee.setVisible(this, true);
    //g5.pushHistory("p=7&amp;c=" + showTopic.topicId)
    g5.pushHistory2("/msg/"+showTopic.topicId)
}

sender.close = function() {
    showTopic.disabled = true;
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p4.a2, false);
    ee.setVisible(this, false);
    g5.player.stop();
    if (this.loadComplete) {
        this.save();
    }
}

sender.blockUser = function(userId) {
    this.v_hisItems = new Array();
    if (g5.currentPageIndex == 8) {
        setTimeout(function () {
            sender.v_notSave = true;
            history.go(-1);
            return false;
        }, 200);
    }
}

sender.HisItem = function() {
    this.contentId = 0;
    this.data = null;
    this.backTrace = null;
    this.v_items = new Array();
    this.height = 0;
    this.p2Height = 0;
    this.v_content = null;
    this.v_reContent = null;
    this.v_userInfo = null;
    this.v_reUserInfo = null;
    this.scrollTop = 0;
    
    this.tabIndex = 1;
    this.v_itemsP1 = new Array();
    this.v_itemsP2 = new Array();
    this.v_itemsP3 = new Array();
    this.v_itemsP4 = new Array();
    this.p2ContentId = 0;
    this.p3ContentId = 0;
    this.p4ContentId = 0;
    this.p1Title = "";
    this.p2Title = "";
    this.p3Title = "";
    this.p4Title = "";
}


sender.save = function() {
    if (this.v_notSave) {
        this.v_notSave = false;
        return;
    }
    var clearItems = function(root) {
        for (var i=0; i<root.v_items.length; i++) {
            ee.changeParent(root.v_items[i], null);
        }
        root.v_items = new Array();
    }
    
    var cid = showTopic.topicId;
    //g5.writeLog("save cid=" + cid)
    var idx = this._getIndexById(cid);
    if (idx>=0) {
        this.v_hisItems.splice(idx,1);
    }
    var item = new sender.HisItem();
    item.contentId = cid;
    item.data = showTopic.data;
    item.backTrace = showTopic.backTrace;
    item.v_items = this.v_items;
    clearItems(this);
    item.v_content = this.v_content;
    item.v_reContent = this.v_reContent;
    item.v_userInfo = this.v_userInfo;
    item.v_reUserInfo = this.v_reUserInfo;
    item.scrollTop = document.documentElement.scrollTop;
    item.tabIndex = this.c_tabRoot.currentPageIndex;
    item.v_itemsP1 = this.c_tabRoot.p1.v_items; clearItems(this.c_tabRoot.p1);
    item.v_itemsP2 = this.c_tabRoot.p2.v_items; clearItems(this.c_tabRoot.p2);
    item.v_itemsP3 = this.c_tabRoot.p3.v_items; clearItems(this.c_tabRoot.p3);
    item.v_itemsP4 = this.c_tabRoot.p4.v_items; clearItems(this.c_tabRoot.p4);
    item.p2ContentId = this.c_tabRoot.p2.v_contentId;
    item.p3ContentId = this.c_tabRoot.p3.v_contentId;
    item.p4ContentId = this.c_tabRoot.p4.v_contentId;
    item.p1Title = ee.getText(this.c_tabRoot.button1);
    item.p2Title = ee.getText(this.c_tabRoot.button2);
    item.p3Title = ee.getText(this.c_tabRoot.button3);
    item.p4Title = ee.getText(this.c_tabRoot.button4);
    this.v_hisItems.push(item);
}

sender.load = function(cid) {
    var loadItems = function(root, newItems) {
        var i;
        for (i=0; i<root.v_items.length; i++) {
            ee.removeControl(root.v_items[i]);
        }
        root.v_items = newItems;
        for (i=0; i<root.v_items.length; i++) {
            ee.changeParent(root.v_items[i], root, i);
        }
    }
    
    var i, idx = this._getIndexById(cid);
    if (idx<0) return false;
    //g5.writeLog("load cid=" + cid)
    var item = this.v_hisItems[idx];
    //this.v_hisItems.splice(idx,1);
    showTopic.topicId = cid;
    showTopic.data = item.data;
    showTopic.backTrace = item.backTrace;
    this.v_content = item.v_content;
    this.v_contentId = cid;
    this.v_reContent = item.v_reContent;
    this.v_userInfo = item.v_userInfo;
    this.v_reUserInfo = item.v_reUserInfo;
    loadItems(this, item.v_items);
    g5.changeP2(8);
    ee.setText(this.c_tabRoot.button1, item.p1Title);
    ee.setText(this.c_tabRoot.button2, item.p2Title);
    ee.setText(this.c_tabRoot.button3, item.p3Title);
    ee.setText(this.c_tabRoot.button4, item.p4Title);
    loadItems(this.c_tabRoot.p1, item.v_itemsP1);
    loadItems(this.c_tabRoot.p2, item.v_itemsP2);
    loadItems(this.c_tabRoot.p3, item.v_itemsP3);
    loadItems(this.c_tabRoot.p4, item.v_itemsP4);
    this.c_tabRoot.p2.v_contentId = item.p2ContentId;
    this.c_tabRoot.p3.v_contentId = item.p3ContentId;
    this.c_tabRoot.p4.v_contentId = item.p4ContentId;
    var rect = eb.getDivRectSetting(this.v_items[this.v_items.length-1]);
    ee.setRect(sender.c_tabRoot,null,rect.y+rect.h,null,null);
    this.c_tabRoot.changePage(-1);
    if ((item.tabIndex == 3) &amp;&amp; (this.c_tabRoot.p3.v_contentId == 0)) {
        this.c_tabRoot.p3.show(cid);
    } else if ((item.tabIndex == 4) &amp;&amp; (this.c_tabRoot.p4.v_contentId == 0)) {
        this.c_tabRoot.p4.show(cid);
    } else {
        this.c_tabRoot.changePage(item.tabIndex);
    }
    this.v_hisItems.splice(idx,1);
    this.sync(this.v_content.id);
    document.documentElement.scrollTop = item.scrollTop;
    this.refreshSearchText();
    return true;
}

sender._getIndexById = function(contentId) {
    for (var i=0; i<this.v_hisItems.length; i++) {
        if (this.v_hisItems[i].contentId == contentId) return i;
    }
    return -1;
}

sender.delHisById = function(contentId) {
    var i = 0;
    while (i<this.v_hisItems.length) {
        var j=0;
        for (j=0; j<this.v_hisItems[i].v_items.length; j++) {
            if (this.v_hisItems[i].v_items[j].v_content.id == contentId) break;    
        }
        if (j<this.v_hisItems[i].v_items.length) {
            this.v_hisItems.splice(i,1);
        } else i++;
    }
}

sender.refreshSearchText = function() {
    var s = "";
    for (var i = sender.v_items.length - 1; i >= 0; i--) {
        s += sender.v_items[i].v_userInfo.nickName + "@" +
            sender.v_items[i].v_userInfo.userName + ": " +
            sender.v_items[i].v_content.content + "<br/><br/>";
    }
    $g("divSearchText").innerHTML = s;
    
    if (sender.v_items.length>0) {
        var item = sender.v_items[sender.v_items.length-1];
        sender.setCanonical(window.location.href);
        sender.setMeta(["name","description"], ["content", item.v_content.content]);
        document.title =
            item.v_userInfo.nickName + "@" +
            item.v_userInfo.userName + ": " +
            item.v_content.content;
        sender.setMetaProperty("og:site_name", "Fistalk");
        sender.setMetaProperty("og:type", "website"); //article
        sender.setMetaProperty("og:url", window.location.href);
        sender.setMetaProperty("og:title", "登录FISTALK，关注" + item.v_userInfo.nickName);
        sender.setMetaProperty("og:description", item.v_content.content);
        if (item.v_content.photo1.length>0) {
            if (item.v_content.photo1.substr(0,4) == "?YTB") {
                sender.setMetaProperty("og:video", "https://www.youtube.com/watch?v=" + item.v_content.photo1.substr(4));
            } else {
                sender.setMetaProperty("og:image", "https://fistalk.com/incoming/" + item.v_content.photo1);
            }
        }
        
        var structuredData = {
            "@context": "https://schema.org",
            "@type": "SocialMediaPosting",
            "author": {
                "@type": "Person",
                "name": item.v_userInfo.nickName + "@" + item.v_userInfo.userName,
                "url": "https://fistalk.com/" + item.v_userInfo.userName,
            },
            //"datePublished": new Date(new Date().getTime() - item.v_content.seconds * 1000).toISOString().split('T')[0],
            "datePublished": new Date(new Date().getTime() - item.v_content.seconds * 1000).toISOString(),
            "headline": item.v_userInfo.nickName + "在Fistalk上发布的短文",
            "image": "https://fistalk.com/incoming/" + item.v_userInfo.photo,
            "sharedContent": {
                "@type": "WebPage",
                "url": window.location.href
            }
        };
        var imgs = new Array();
        if ((item.v_content.photo1.length>0) &amp;&amp; (item.v_content.photo1.substr(0,4) != "?YTB"))
            imgs.push("https://fistalk.com/incoming/" + item.v_content.photo1);
        if ((item.v_content.photo2.length>0) &amp;&amp; (item.v_content.photo2.substr(0,4) != "?YTB"))
            imgs.push("https://fistalk.com/incoming/" + item.v_content.photo2);
        if ((item.v_content.photo3.length>0) &amp;&amp; (item.v_content.photo3.substr(0,4) != "?YTB"))
            imgs.push("https://fistalk.com/incoming/" + item.v_content.photo3);
        if ((item.v_content.photo4.length>0) &amp;&amp; (item.v_content.photo4.substr(0,4) != "?YTB"))
            imgs.push("https://fistalk.com/incoming/" + item.v_content.photo4);
        if (imgs.length == 1) {
            structuredData.image = imgs[0];
        } else if (imgs.length > 1) {
            structuredData.image = imgs;
        }
        var script = document.createElement("script");
        script.type = "application/ld+json";
        script.text = JSON.stringify(structuredData);
        document.head.appendChild(script);        
    }
} 

sender.setMetaProperty = function(property, content) {
    var i = 0;
    while (i<document.getElementsByTagName("meta").length) {
        if (document.getElementsByTagName("meta")[i].getAttribute("property") == property) {
            document.getElementsByTagName("meta")[i].remove();
        } else i++;
    }
    if (content == "") return;
    var meta = document.createElement("meta");
    meta.setAttribute("property", property);
    meta.setAttribute("content", content);
    //meta.setAttribute("data-rh", "true");
    document.head.appendChild(meta);    
}

sender.setMeta = function(key, other) {
    if (!Array.isArray(key)) return false;
    if (key.length!=2) return false;
    if (!Array.isArray(other)) other = new Array();
    var i = 0;
    while (i<document.getElementsByTagName("meta").length) {
        if (document.getElementsByTagName("meta")[i].getAttribute(key[0]) == key[1]) {
            document.getElementsByTagName("meta")[i].remove();
        } else i++;
    }
    var meta = document.createElement("meta");
    meta.setAttribute(key[0], key[1]);
    i = 0;
    while (i < other.length - 1) {
        meta.setAttribute(other[i], other[i + 1]);
        i += 2;
    }
    document.head.appendChild(meta);    
}

sender.setCanonical = function(url) {
    var ex= document.querySelector("link[rel=\"canonical\"]");
    if (ex) {
        ex.href = url;
    } else {
        var newEx = document.createElement("link");
        newEx.rel = "canonical";
        newEx.href = url;
        document.getElementsByTagName("head")[0].appendChild(newEx);
    }
}

sender.show = function(v_content, v_reContent, v_userInfo, v_reUserInfo, contentId, forceDisplay) {
    if (showTopic.busy) return;
    this.v_forceDisplay = forceDisplay ? true:false;
    g5.changeP2(-1);
    this.c_tabRoot.init();
    if (this.load(contentId)) {
        this.loadComplete = true;
        return;
    }
    if (v_content) {
        if (v_content.exUplinkType=="L") {
            if (this.load(v_content.exContentId)) return;
        } else {
            if (this.load(v_content.id)) return;
        }
    }
    
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    
    if (eb.isEmpty(v_content)) {
        this.v_content = null;
        showTopic.topicId = contentId;
        showTopic.needRefresh = true;
        this.v_preShow = false;
        this.v_contentId = contentId;
    } else {
        v_content = v_content.clone();
        if (eb.isEmpty(v_reContent)) {
            v_reContent = new g5.ContentInfo();
        } else v_reContent = v_reContent.clone();
        if (eb.isEmpty(v_reUserInfo)) v_reUserInfo = new g5.UserInfo();
        if (v_content.exUplinkType=="L") {
            v_content.id = v_content.exContentId;
            v_content.exUplinkType = "";
        }
        showTopic.topicId = v_content.id;
        showTopic.needRefresh = true;
        this.v_preShow = true;
        this.v_contentId = v_content.id;
        this.preShow(v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
    var nohis = g5.notPushHistory;
    showTopic.onComplete = function(datasetFw, datasetBk) {
        g5.loading.close();
        if (showTopic.disabled) {
            //g5.writeLog("break response");
            return;
        } else {
            //g5.writeLog("showTopic response");
        }
        var i, item;
        var root = sender;
        if (sender.v_content == null) {
            g5.p4.changePage("a2");
        }
        var cy = eb.getDivRect(g5.p4).h-3;
        ee.tiledV(sender, 0, cy, 0);
      
        var preShowItem;
        if (sender.v_preShow) {
            preShowItem = sender.v_items[0];
        } else {
            for (i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
            g5.notPushHistory = nohis;
            g5.changeP2(8);
            g5.notPushHistory = false;
        }
        sender.v_items = new Array();
                
        var itemWidth = eb.getDivRect(root).w;
        var uType,dType;
        var lastCy = -1;
        for (i=datasetBk.rowCount-1; i >= 0; i--) {
            if (i==datasetBk.rowCount-1) {
                uType = " "
            } else uType = "T";
            dType = "T";
            var item = createPanel(root, "page8_" + datasetBk.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, datasetBk, i);
            item.v_mode = uType + dType;
            item.v_forceDisplay = sender.v_forceDisplay;
            g5.renderTwitter(item);        
            sender.v_items.push(item);
            ee.changeParent(item, item.parentNode, sender.v_items.length-1);
            lastCy = cy;
            cy += 0 + eb.getDivRect(item).h;    
        }
        
        var scrollY;
        if (lastCy<0) {
            scrollY = cy - eb.getDivRect(g5.p4).h;
        } else {
            scrollY = cy - eb.getDivRect(g5.p4).h;
            //scrollY = lastCy - eb.getDivRect(g5.p4).h;
        }
        scrollY += 2;
        
        for (i=0; i<sender.c_tabRoot.p1.v_items.length; i++) ee.removeControl(sender.c_tabRoot.p1.v_items[i]);
        sender.c_tabRoot.p1.v_items = new Array();
        var item = null;
        var scrollTop = 0;
        var reCount = 0;
        var rootUserId = 0;
        for (i=0; i< datasetFw.rowCount; i++) {
            uType = " "; dType = " ";
            if ((i==0) &amp;&amp; (datasetBk.rowCount>0)) {
                uType="T"; dType = " ";
            }
            if (sender.v_preShow &amp;&amp; i==0) {
                item = preShowItem;
                ee.setRect(item,null,cy,null,null);
            } else {
                if (i==0) dType += "x";
                item = createPanel(root, "page8_" + datasetFw.getData(0,i), "", 0, cy, itemWidth, 5);
                g5.loadTwitterRecord(item, datasetFw, i);
                if (i>0) item.v_notDisplayRe = true;
                item.v_mode = uType + dType;
                item.v_forceDisplay = sender.v_forceDisplay;
                g5.renderTwitter(item);        
            }
            if (i==0) {
                sender.v_content = item.v_content;
                sender.v_reContent = item.v_reContent;
                sender.v_userInfo = item.v_userInfo;
                sender.v_reUserInfo = item.v_reUserInfo;
                scrollTop = cy - eb.getDivRect(g5.p4).h + 1;
                rootUserId = item.v_userInfo.id;
                sender.v_items.push(item);
                ee.changeParent(item, item.parentNode, sender.v_items.length-1);
            } else {
                sender.c_tabRoot.p1.v_items.push(item);
                reCount++;
            }
            cy += eb.getDivRect(item).h;    
            if (i==0) {
                ee.setRect(sender.c_tabRoot,null,cy,null,null);
                cy += eb.getDivRectSetting(sender.c_tabRoot).h;
                root = sender.c_tabRoot.p1;
                cy = 0;
            }
        }
        document.documentElement.scrollTop = scrollTop;
        setTimeout(function() {
            document.documentElement.scrollTop = scrollTop;
        }, 10);
        eb.processDock();
        
        sender.c_tabRoot.p1.setCount(reCount);
        sender.c_tabRoot.p2.setCount(sender.v_content.fwCount);
        sender.c_tabRoot.p3.setCount(parseInt(sender.v_content.likeCount));
        sender.c_tabRoot.p4.setCount(parseInt(sender.v_content.unlikeCount));
        sender.c_tabRoot.changePage(-1);
        sender.c_tabRoot.changePage(1);
        showTopic.needRefresh = false;
        sender.loadComplete = true;
        //sender.c_tabRoot.p2.show(sender.v_content.id, true);
        sender.c_tabRoot.p3.loadFromDb(sender.v_content.id, false);  
        sender.c_tabRoot.p4.loadFromDb(sender.v_content.id, false);
        sender.refreshSearchText();
    }
    showTopic.disabled = false;
    this.loadComplete = false;
    g5.loading.show();
    showTopic();
}

sender.preShow = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    if (v_content.uplinkType=="L") v_content.uplinkType = "";
    this.v_content = v_content;
    this.v_reContent = v_reContent;
    this.v_userInfo = v_userInfo;
    this.v_reUserInfo = v_reUserInfo;
    
    g5.p4.changePage("a2");
    var cy = eb.getDivRect(g5.p4).h-1;
    var itemWidth = eb.getDivRect(this).w;
    item = createPanel(this, "page8_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    //item.v_content.photos = new Array();
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    if ((v_content.uplinkType=="N") || (v_content.uplinkType=="")) {
        item.v_mode = "  x";
    } else {
        item.v_mode = "T x";
    }
    g5.renderTwitter(item);        
    sender.v_items.push(item);
    ee.setRect(sender.c_tabRoot,null,eb.getDivRectSetting(item).y + eb.getDivRectSetting(item).h,null,null);
    
    g5.changeP2(8);
    document.documentElement.scrollTop = 0;
    sender.refreshSearchText();
}

sender.delHis = function(cid) {
    var i = 0;
    while (i<this.v_hisItems.length) {
        if (this.v_hisItems[i].contentId == cid) {
            this.v_hisItems.splice(i,1);
        } else i++;
    }
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var i = 0;
    while (i<this.v_hisItems.length) {
        if (this.v_hisItems[i].contentId == v_reContent.id) {
            this.v_hisItems.splice(i,1);
        } else i++;
    }
    if (g5.currentPageIndex != 8) return;
    if (v_content.exUplinkType == "L") {
        if (this.v_contentId != v_content.exContentId) return;
    } else if (this.v_contentId != v_reContent.id) return;
    
    var item;
    var root, items;
    if (v_content.exUplinkType == "L") {
        root = this.c_tabRoot.p2;
        items = this.c_tabRoot.p2.v_items
    } else if (v_content.uplinkType == "R") {
        root = this.c_tabRoot.p1;
        items = this.c_tabRoot.p1.v_items
    } else if (v_content.uplinkType == "F") {
        root = this.c_tabRoot.p2;
        items = this.c_tabRoot.p2.v_items
    } else return;
    var itemWidth = eb.getDivRect(root).w;
    var cy = 0;
    item = createPanel(root, "page8_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    item.v_notDisplayRe = true;
    item.v_forceDisplay = this.v_forceDisplay;
    if (v_content.exUplinkType == "L") {
        g5.renderTwitterL(item);
    } else {
        g5.renderTwitter(item);
    }
    items.splice(0, 0, item);
    ee.changeParent(item, item.parentNode, 0);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(items, 1, cy);
    if (this.c_tabRoot.currentPageIndex == 1) {
        this.c_tabRoot.changePage(-1);
        this.c_tabRoot.changePage(1);
    }
}

sender.sync = function(v_content) {
    if (!this.v_content) return;
    if (v_content.id != this.v_content.id) return;
    this.c_tabRoot.p1.setCount(v_content.reCount);
    this.c_tabRoot.p2.setCount(v_content.fwCount);
    this.c_tabRoot.p3.setCount(v_content.likeCount);
    this.c_tabRoot.p4.setCount(v_content.unlikeCount);
}


sender.loadMore = function() {
    //nouse
    if (sender.v_items.length>0) {
        var rect = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
        cy = 2 + rect.y + rect.h;
    }
    showTopic.lastId = datasetFw.getData(0, datasetFw.rowCount - 1);
}

sender.setLike = function(contentId, isLike) {
    var i = 0;
    while (i<this.v_hisItems.length) {
        if (this.v_hisItems[i].v_content.id!=contentId) {
            i++;
        } else {
            this.v_hisItems.splice(i,1);
        }
    }
    if (g5.currentPageIndex != 8) return;
    if (this.v_content.id!=contentId) return;
    var root = this.c_tabRoot.p3;
    var item = null;
    var items = this.c_tabRoot.p3.v_items;
    if (isLike) {
        for (i=0; i<items.length; i++) {
            if (!items[i].v_userInfo) continue;
            if (items[i].aniStart) continue;
            if (items[i].v_userInfo.id == g5.myUserInfo.id) {
                return;
            }
        }
        item = createPanel(root, "twlku_" + g5.myUserInfo.id, "", 0, 0, eb.getDivRectSetting(root).w, 5);
        item.v_userInfo = g5.myUserInfo;
        item.v_mode = "";
        g5.renderUserBar(item);
        items.splice(0,0,item);
        ee.changeParent(item, item.parentNode, 0);
        likeContent.aniBusy = false;    
    } else {
        for (i=0; i<items.length; i++) {
            if (!items[i].v_userInfo) continue;
            if (items[i].v_userInfo.id == g5.myUserInfo.id) {
                item = items[i];
                break;
            }
        }
        if (item == null) return;
        eb.setAni2(item,1,"disappear", "rightFlyOut", "null", 0, true);
        var aniHeight = eb.getDivRectSetting(item).h;
        eb.setAniEvent(item, 1,
            function(senderAni) {
            },
            function(senderAni) {
                var i = sender.c_tabRoot.p3.v_items.indexOf(senderAni);
                if (i>=0) sender.c_tabRoot.p3.v_items.splice(i,1);
                ee.removeControl(senderAni);
                if (sender.c_tabRoot.currentPageIndex == 3) {
                    sender.c_tabRoot.changePage(-1);
                    sender.c_tabRoot.changePage(3);
                }
            }
        );
        ee.showAni(item, 1);
    }
    if (this.c_tabRoot.currentPageIndex == 3) {
        this.c_tabRoot.changePage(-1);
        this.c_tabRoot.changePage(3);
    }
}

sender.setUnlike = function(contentId, isUnlike) {
    var i = 0;
    while (i<this.v_hisItems.length) {
        if (this.v_hisItems[i].v_content.id!=contentId) {
            i++;
        } else {
            this.v_hisItems.splice(i,1);
        }
    }
    if (g5.currentPageIndex != 8) return;
    if (this.v_content.id!=contentId) return;
    var root = this.c_tabRoot.p4;
    var item = null;
    var items = this.c_tabRoot.p4.v_items;
    if (isUnlike) {
        for (i=0; i<items.length; i++) {
            if (!items[i].v_userInfo) continue;
            if (items[i].aniStart) continue;
            if (items[i].v_userInfo.id == g5.myUserInfo.id) {
                return;
            }
        }
        item = createPanel(root, "twulku_" + g5.myUserInfo.id, "", 0, 0, eb.getDivRectSetting(root).w, 5);
        item.v_userInfo = g5.myUserInfo;
        item.v_mode = "";
        g5.renderUserBar(item);
        items.splice(0,0,item);
        ee.changeParent(item, item.parentNode, 0);
    } else {
        for (i=0; i<items.length; i++) {
            if (!items[i].v_userInfo) continue;
            if (items[i].v_userInfo.id == g5.myUserInfo.id) {
                item = items[i];
                break;
            }
        }
        if (item == null) return;
        eb.setAni2(item,1,"disappear", "rightFlyOut", "null", 0, true);
        var aniHeight = eb.getDivRectSetting(item).h;
        eb.setAniEvent(item, 1,
            function(senderAni) {
            },
            function(senderAni) {
                var i = sender.c_tabRoot.p4.v_items.indexOf(senderAni);
                if (i>=0) sender.c_tabRoot.p4.v_items.splice(i,1);
                ee.removeControl(senderAni);
                if (sender.c_tabRoot.currentPageIndex == 4) {
                    sender.c_tabRoot.changePage(-1);
                    sender.c_tabRoot.changePage(4);
                }
            }
        );
        ee.showAni(item, 1);
    }
    if (this.c_tabRoot.currentPageIndex == 4) {
        this.c_tabRoot.changePage(-1);
        this.c_tabRoot.changePage(4);
    }
}

sender.refreshNew = function() {
    if (g5.currentPageIndex != 8) return;
    showTopicRenew.topicId = this.v_contentId;
    showTopicRenew.lastId = 0;
    for (var i=0; i<g5.p2.p9.c_tabRoot.p1.v_items.length; i++) {
        if (parseInt(g5.p2.p9.c_tabRoot.p1.v_items[i].v_content.id) > showTopicRenew.lastId) {
            showTopicRenew.lastId = parseInt(g5.p2.p9.c_tabRoot.p1.v_items[i].v_content.id);
        }
    }
    showTopicRenew.onComplete = function(data1) {
        if (g5.currentPageIndex != 8) return;
        if (showTopicRenew.topicId != sender.v_contentId) return;
        if (data1.rowCount > 0) {
            var root = sender.c_tabRoot.p1;
            var cy = 0;
            var itemWidth = eb.getDivRect(root).w;
            var item = createPanel(root, "page8_" + data1.getData(0,0), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, data1, 0);
            for (var i=0; i<root.v_items.length; i++) {
                if (root.v_items[i].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    return;
                }
            }
            var isPoster = item.v_userInfo.userName == sender.v_userInfo.userName;
            var isMe = item.v_userInfo.userName == g5.myUserInfo.userName;
            var i = 0, posterPos = -1, commonPos = root.v_items.length;
            for (i=0; i<root.v_items.length; i++) {
                if (posterPos == -1) {
                    if (root.v_items[i].v_userInfo.userName == sender.v_userInfo.userName) {
                        posterPos = i;
                    }
                }
                if ((root.v_items[i].v_userInfo.userName != sender.v_userInfo.userName) &amp;&amp;
                    (item.v_userInfo.userName != g5.myUserInfo.userName)) {
                    commonPos = i;
                    break;
                }
            }
            if (posterPos == -1) posterPos = commonPos;
            if (isMe) {
                i = 0;
            } else if (isPoster) {
                i = posterPos;
            } else {
                i = commonPos;
            }
            item.v_notDisplayRe = true;
            item.v_mode = "   ";
            item.v_forceDisplay = sender.v_forceDisplay;
            g5.renderTwitter(item);
            if (root.v_items.length > 0) {
                if (i<root.v_items.length) {
                    ee.changeParent(item, root, i);
                }
            }
            root.v_items.splice(i, 0, item);
            sender.c_tabRoot.changePage(sender.c_tabRoot.currentPageIndex);
            sender.c_tabRoot.p1.setCount(parseInt(sender.v_content.reCount) + 1);
        }
    }
    showTopicRenew();
}


]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119">
      <dockX>fill</dockX>
      <height>374</height>
      <heightRatio>0.47948717948718</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_tabRoot</note>
      <onCreate><![CDATA[sender.currentPageIndex = -1;
sender.button1 = ee.getControl("layoutxitem1");
sender.button2 = ee.getControl("layoutxitem2");
sender.button3 = ee.getControl("layoutxitem6");
sender.button4 = ee.getControl("layoutxitem39");
sender.p1 = ee.getControl("panel276");
sender.p2 = ee.getControl("panel433");
sender.p3 = ee.getControl("panel434");
sender.p4 = ee.getControl("panel277");
sender.buttonLine = ee.getControl("panel275");
sender.c_title = ee.getControl("layoutx1");

sender.changePage = function(pageIndex) {
    var rect,div;
    if (this.currentPageIndex == 1) {
        this.button1.init(0);
        ee.setVisible(this.p1, false);
    } else if (this.currentPageIndex == 2) {
        this.button2.init(0);
        ee.setVisible(this.p2, false);
    } else if (this.currentPageIndex == 3) {
        this.button3.init(0);
        ee.setVisible(this.p3, false);
    } else if (this.currentPageIndex == 4) {
        this.button4.init(0);
        ee.setVisible(this.p4, false);
    }
    
    if (pageIndex == 1) {
        this.button1.init(1);
        this.button1.appendChild(this.buttonLine);
        var dh;
        if (this.p1.v_items.length>0) {
            dh = eb.getDivRectSetting(this.p1.v_items[this.p1.v_items.length-1]).h;
        } else {
            dh = eb.getDivRectSetting(this.c_title).h;
        }
        dh = eb.getClientSize().h - dh - eb.getDivRectSetting(g5.p4.a2).h + 2;
        ee.tiledV(this.p1, 0, 0, dh);
        ee.setVisible(this.p1, true);
        ee.resizeV(this, 3);
    } else if (pageIndex == 2) {
        this.button2.init(1);
        this.button2.appendChild(this.buttonLine);
        var dh;
        if (this.p2.v_items.length>0) {
            dh = eb.getDivRectSetting(this.p2.v_items[this.p2.v_items.length-1]).h;
        } else {
            dh = eb.getDivRectSetting(this.c_title).h;
        }
        dh = eb.getClientSize().h - dh - eb.getDivRectSetting(g5.p4.a2).h + 2;
        ee.tiledV(this.p2, 0, 0, dh);
        ee.setVisible(this.p2, true);
        ee.resizeV(this, 3);
    } else if (pageIndex == 3) {
        this.button3.init(1);
        this.button3.appendChild(this.buttonLine);
        var dh;
        if (this.p3.v_items.length>0) {
            dh = eb.getDivRectSetting(this.p3.v_items[this.p3.v_items.length-1]).h;
        } else {
            dh = eb.getDivRectSetting(this.c_title).h;
        }
        dh = eb.getClientSize().h - dh - eb.getDivRectSetting(g5.p4.a2).h + 2;
        ee.tiledV(this.p3, 0, 0, dh);
        ee.setVisible(this.p3, true);
        ee.resizeV(this, 3);
    } else if (pageIndex == 4) {
        this.button4.init(1);
        this.button4.appendChild(this.buttonLine);
        var dh;
        if (this.p4.v_items.length>0) {
            dh = eb.getDivRectSetting(this.p4.v_items[this.p4.v_items.length-1]).h;
        } else {
            dh = eb.getDivRectSetting(this.c_title).h;
        }
        dh = eb.getClientSize().h - dh - eb.getDivRectSetting(g5.p4.a2).h + 2;
        ee.tiledV(this.p4, 0, 0, dh);
        ee.setVisible(this.p4, true);
        ee.resizeV(this, 3);
    }
    this.currentPageIndex = pageIndex;
    eb.processDock();    
}

sender.init = function() {
    this.p1.setCount(0);
    this.p2.setCount(0);
    this.p3.setCount(0);
    this.p4.setCount(0);
    this.p1.v_contentId = 0;
    this.p2.v_contentId = 0;
    this.p3.v_contentId = 0;
    this.p4.v_contentId = 0;
}


]]></onCreate>
      <sizeRatio>0.623333333333333</sizeRatio>
      <top>285</top>
      <topRatio>0.365384615384615</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1">
      <dockX>fill</dockX>
      <fieldCount>4</fieldCount>
      <height>41</height>
      <heightRatio>0.109625668449198</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_title->题头按钮组]]></note>
      <onCreate>sender.style.boxSizing = "border-box";
sender.style.borderBottomWidth = "1px";
sender.style.borderBottomColor = "rgb(230,236,240)";
sender.style.borderBottomStyle = "solid";
</onCreate>
      <sizeRatio>0.0683333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1/layoutxitem1">
      <backgroundColor>FAFAFF</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>11</fontSize>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p9.c_tabRoot.changePage(1);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    //ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    //ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.273333333333333</sizeRatio>
      <text>回复和转发</text>
      <top>0</top>
      <width>150</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1/layoutxitem1/panel275">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.0731707317073171</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.02</sizeRatio>
      <top>38</top>
      <topRatio>0.926829268292683</topRatio>
      <width>150</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1/layoutxitem2">
      <backgroundColor>FAFAFF</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>11</fontSize>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>150</left>
      <leftRatio>0.25</leftRatio>
      <onClick>g5.p2.p9.c_tabRoot.p2.show(g5.p2.p9.v_contentId);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    //ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    //ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.273333333333333</sizeRatio>
      <text>转发者</text>
      <top>0</top>
      <width>150</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1/layoutxitem6">
      <backgroundColor>FAFAFF</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>11</fontSize>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>300</left>
      <leftRatio>0.5</leftRatio>
      <onClick>g5.p2.p9.c_tabRoot.p3.show(g5.p2.p9.v_contentId);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    //ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    //ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.273333333333333</sizeRatio>
      <text>点赞</text>
      <top>0</top>
      <width>150</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel22/panel119/layoutx1/layoutxitem39">
      <backgroundColor>FAFAFF</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>11</fontSize>
      <height>41</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>450</left>
      <leftRatio>0.75</leftRatio>
      <onClick>g5.p2.p9.c_tabRoot.p4.show(g5.p2.p9.v_contentId);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("#fafaff","#e8f5fe","#d2ecfc","--","--","--","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    //ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    //ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    //ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.273333333333333</sizeRatio>
      <text>点踩</text>
      <top>0</top>
      <width>150</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119/panel276">
      <bindControl>layoutx1</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>304</height>
      <heightRatio>0.812834224598931</heightRatio>
      <layerName><![CDATA[  p1->回复]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.c_title = sender.parentNode.button1;

sender.setCount = function(value) {
    if (value>0) {
        ee.setText(this.c_title, value + " " + g5.lang.getByTCn(501,"回复"));
    } else {
        ee.setText(this.c_title, g5.lang.getByTCn(502,"回复"));
    }
}
]]></onCreate>
      <sizeRatio>0.506666666666667</sizeRatio>
      <top>41</top>
      <topRatio>0.109625668449198</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119/panel433">
      <bindControl>layoutx1</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>274</height>
      <heightRatio>0.732620320855615</heightRatio>
      <layerName><![CDATA[  p2->转发]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.c_title = sender.parentNode.button2;
sender.v_contentId = 0;

sender.show = function(v_contentId, bgRefresh) {
    if (this.v_contentId == v_contentId) {
        this.parentNode.changePage(2);
        return;
    }
    if (showTopicP2.busy) return;
    this.v_contentId = v_contentId;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    if (!bgRefresh) this.parentNode.changePage(2);
    showTopicP2.contentId = v_contentId;
    showTopicP2.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
        sender.v_items = new Array();
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "fwdl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            var j;
            for (j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) break;
            }
            if (j<sender.v_items.length) continue;
            item.v_notDisplayRe = true;
            item.v_mode = "";
            item.v_forceDisplay = g5.p2.p9.v_forceDisplay;
            if (item.v_content.exUplinkType == "L") {
                g5.renderTwitterL(item);        
            } else {
                g5.renderTwitter(item);        
            }
            sender.v_items.push(item);
        }
        eb.processDock();
        sender.setCount(dataset.rowCount);
        var rect = eb.getDivRectSetting(g5.p4);
        if (!bgRefresh) {
            sender.parentNode.changePage(-1);
            sender.parentNode.changePage(2);
        }
    }
    g5.loading.show();
    showTopicP2();               
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}


sender.setCount = function(value) {
    if (value>0) {
        ee.setText(this.c_title, value + " " + g5.lang.getByTCn(501, "转发"));
    } else {
        ee.setText(this.c_title, g5.lang.getByTCn(502, "转发"));
    }
}
]]></onCreate>
      <sizeRatio>0.456666666666667</sizeRatio>
      <top>41</top>
      <topRatio>0.109625668449198</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119/panel434">
      <bindControl>layoutx1</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <fontSize>10</fontSize>
      <height>132</height>
      <heightRatio>0.352941176470588</heightRatio>
      <layerName><![CDATA[  p3->点赞]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.c_title = sender.parentNode.button3;
sender.v_contentId = 0;

sender.show = function(v_contentId) {
    if (this.v_contentId == v_contentId) {
        this.parentNode.changePage(3);
        return;
    }
    this.loadFromDb(v_contentId, true);          
}

sender.loadFromDb = function(v_contentId, changePage) {
    if (showLikeList.busy) return;
    this.v_contentId = v_contentId;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    if (changePage) {
        this.parentNode.changePage(3);
    }
    var itemLen = sender.v_items.length;
    showLikeList.contentId = v_contentId;
    showLikeList.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0, item;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
        sender.v_items = new Array();
        if (g5.p2.p9.v_content.isLike) {
            item = createPanel(root, "twlk_" + g5.myUserInfo.id, "", 0, 0, itemWidth, 5);
            item.v_userInfo = g5.myUserInfo.clone();
            item.v_mode = "";
            g5.renderUserBar(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        for (var i=0; i<dataset.rowCount; i++) {
            item = createPanel(root, "twlk_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            if (item.v_userInfo.id == g5.myUserInfo.id) {
                ee.removeControl(item);
                continue;
            }
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (changePage) {
            eb.processDock();
            //sender.setCount(dataset.rowCount);
            var rect = eb.getDivRectSetting(g5.p4);
            sender.parentNode.changePage(-1);
            sender.parentNode.changePage(3);
        }
    }
    g5.loading.show();
    showLikeList(); 
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.refresh = function() {
    if (this.v_contentId == 0) return;
    var cid = this.v_contentId;
    this.v_contentId = 0;
    if (g5.currentPageIndex != 8) return;
    if (g5.p2.p9.c_tabRoot.currentPageIndex == 3) {
        this.show(cid);
    } else {
        this.setCount(0);
    }
}

sender.setCount = function(value) {
    if (value>0) {
        ee.setText(this.c_title, value + " " + g5.lang.getByTCn(501, "点赞"));
    } else {
        ee.setText(this.c_title, g5.lang.getByTCn(502, "点赞"));
    }
}


]]></onCreate>
      <sizeRatio>0.22</sizeRatio>
      <top>41</top>
      <topRatio>0.109625668449198</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22/panel119/panel277">
      <bindControl>layoutx1</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>304</height>
      <heightRatio>0.812834224598931</heightRatio>
      <layerName><![CDATA[  p4->点踩]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.c_title = sender.parentNode.button4;
sender.v_contentId = 0;

sender.show = function(v_contentId) {
    if (this.v_contentId == v_contentId) {
        this.parentNode.changePage(4);
        return;
    }
}

sender.loadFromDb = function(v_contentId, changePage) {
    if (showUnlikeList.busy) return;
    this.v_contentId = v_contentId;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    if (changePage) {
        this.parentNode.changePage(4);
    }
    showUnlikeList.contentId = v_contentId;
    showUnlikeList.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
        sender.v_items = new Array();
        if (g5.p2.p9.v_content.isUnlike) {
            item = createPanel(root, "twulk_" + g5.myUserInfo.id, "", 0, 0, itemWidth, 5);
            item.v_userInfo = g5.myUserInfo.clone();
            item.v_mode = "";
            g5.renderUserBar(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "twulk_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            if (item.v_userInfo.id == g5.myUserInfo.id) {
                ee.removeControl(item);
                continue;
            }
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (changePage) {
            eb.processDock();
            //sender.setCount(dataset.rowCount);
            var rect = eb.getDivRectSetting(g5.p4);
            sender.parentNode.changePage(-1);
            sender.parentNode.changePage(4);
        }
    }
    g5.loading.show();
    showUnlikeList();               
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.refresh = function() {
    if (this.v_contentId == 0) return;
    var cid = this.v_contentId;
    this.v_contentId = 0;
    if (g5.currentPageIndex != 8) return;
    if (g5.p2.p9.c_tabRoot.currentPageIndex == 4) {
        this.show(cid);
    } else {
        this.setCount(0);
    }
}

sender.setCount = function(value) {
    if (value>0) {
        ee.setText(this.c_title, value + " " + g5.lang.getByTCn(501, "点踩"));
    } else {
        ee.setText(this.c_title, g5.lang.getByTCn(502, "点踩"));
    }
}

]]></onCreate>
      <sizeRatio>0.506666666666667</sizeRatio>
      <top>41</top>
      <topRatio>0.109625668449198</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p10</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>设置</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.show = function() {
    g5.changeP2(9);
    g5.pushHistory2("/settings");
    document.documentElement.scrollTop = 0;
    this.reset();
    this.selected = true;
    this.refresh();
}

sender.activePage = function() {
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
}

sender.close = function() {
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
}

sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
    g5.tiledResizeV(this, 2);
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel154">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0653846153846154</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel154/panel155">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.232876712328767</sizeRatio>
      <text>设置</text>
      <top>0</top>
      <width>219</width>
      <widthRatio>0.365</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel154/panel209">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel157">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel154</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid"; 


</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <top>51</top>
      <topRatio>0.0653846153846154</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel157/panel418">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel154</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>18</left>
      <leftRatio>0.03</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}

]]></onCreate>
      <outerLeft>18</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.0800711743772242</sizeRatio>
      <text>@UserName</text>
      <top>0</top>
      <width>562</width>
      <widthRatio>0.936666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel157</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p17.show();
sender.parentNode.setSelected(sender);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.selected = false;

</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    账号</text>
      <top>96</top>
      <topRatio>0.123076923076923</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158/panel159">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158/panel160">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel158</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p18.show();
sender.parentNode.setSelected(sender);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    隐私和安全</text>
      <top>141</top>
      <topRatio>0.180769230769231</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161/panel162">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161/panel163">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel647">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel161</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p36.show();
sender.parentNode.setSelected(sender);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    语言</text>
      <top>186</top>
      <topRatio>0.238461538461538</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel647/panel687">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel647/panel690">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p11</ee_LocalName>
      <height>769</height>
      <heightRatio>0.985897435897436</heightRatio>
      <layerName>搜索页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_topBlank = ee.getControl("panel336");
sender.c_buttons = ee.getControl("layoutx11");
sender.c_pages = ee.getControl("panel338");
sender.c_btnClear = ee.getControl("panel654");
sender.v_searchString = "";

sender.init = function() {
    this.c_buttons.buttonClick(this.c_buttons.c_button1);
    ee.setRect(this.c_topBlank,null,null,null,eb.getDivRectSetting(g5.p4).h);
    g5.tiledV(this,0,0,0);
}

sender.activePage = function() {
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a3");
    ee.setVisible(g5.p2.p11, true);
    //this.init();
    //this.changePage("c1");
}

sender.close = function() {
    //if (this.style.visibility == "hidden") return;
    var page = this.getPageByName(this.currentPage);
    if (page!=null) {
        page.v_scrollTop = document.documentElement.scrollTop;
    }
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
}

sender.show = function(searchString) {
    this.search(searchString);
}

sender.showByPage = function(pageName, searchString) {
    if (g5.currentPageIndex != 10) {
        this.noHis = true;
        g5.changeP2(10);
    }
    this.changePage(pageName);
    this.show(searchString);
    g5.p4.a3.clearButtonControl();
}

sender.search = function(searchString) {
    //this.clear();
    this.v_searchString = searchString;
    ee.setEditText(ee.getControl("edit14"), searchString);
    ee.setEditText(ee.getControl("edit7"), searchString);
    if (g5.currentPageIndex != 10) {
        g5.changeP2(10);
        this.changePage("c1");
        this.c_pages.c1.search(searchString);    
        g5.pushHistory2("/search/hot/" + escape(searchString));
    } else {
        if (this.currentPage == "c1") {
            g5.pushHistory2("/search/hot/" + escape(searchString));
            this.c_pages.c1.search(searchString);    
        } else if (this.currentPage == "c2") {
            g5.pushHistory2("/search/new/" + escape(searchString));
            this.c_pages.c2.search(searchString);    
        } else if (this.currentPage == "c3") {
            g5.pushHistory2("/search/user/" + escape(searchString));
            this.c_pages.c3.search(searchString);    
        } else if (this.currentPage == "c4") {
            g5.pushHistory2("/search/photo/" + escape(searchString));
            this.c_pages.c4.search(searchString);    
        } else if (this.currentPage == "c5") {
            g5.pushHistory2("/search/video/" + escape(searchString));
            this.c_pages.c5.search(searchString);    
        }
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex==10) {
        for (var i=0; i<this.c_pages.v_items.length; i++) {
            if (i==2) continue;
            if (!eb.isEmpty(this.c_pages.v_items[i].clear)) this.c_pages.v_items[i].clear();
            if (!eb.isEmpty(this.c_pages.v_items[i].v_status)) this.c_pages.v_items[i].v_status = "init";
        }
        if (this.currentPage == "c1") {
            this.c_pages.c1.search(this.v_searchString);    
        } else if (this.currentPage == "c2") {
            this.c_pages.c2.search(this.v_searchString);    
        } else if (this.currentPage == "c3") {
        } else if (this.currentPage == "c4") {
            this.c_pages.c4.search(this.v_searchString);    
        } else if (this.currentPage == "c5") {
            this.c_pages.c5.search(this.v_searchString);    
        }
    } else {
    }
}


sender.clear = function() {
    for (var i=0; i<this.c_pages.v_items.length; i++) {
        if (!eb.isEmpty(this.c_pages.v_items[i].clear)) this.c_pages.v_items[i].clear();
        if (!eb.isEmpty(this.c_pages.v_items[i].v_status)) this.c_pages.v_items[i].v_status = "init";
    }
}

sender.getPageByName = function(pageName) {
    if (pageName == "c1") {
        return this.c_pages.v_items[0];
    } else if (pageName == "c2") {
        return this.c_pages.v_items[1];
    } else if (pageName == "c3") {
        return this.c_pages.v_items[2];
    } else if (pageName == "c4") {
        return this.c_pages.v_items[3];
    } else if (pageName == "c5") {
        return this.c_pages.v_items[4];
    } else {
        return null;
    }
}
     
sender.currentPage = "";
sender.changePage = function(pageName) {
    var page = this.getPageByName(this.currentPage);
    if (page!=null) {
        if (this.currentPage != pageName) page.v_scrollTop = document.documentElement.scrollTop;
        ee.setVisible(page, false);
    }

    this.currentPage = pageName;
    page = this.getPageByName(this.currentPage);
    if (this.currentPage == "c1") {
        this.c_buttons.buttonClick(this.c_buttons.c_button1);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c2") {
        this.c_buttons.buttonClick(this.c_buttons.c_button2);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c3") {
        this.c_buttons.buttonClick(this.c_buttons.c_button3);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c4") {
        this.c_buttons.buttonClick(this.c_buttons.c_button4);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c5") {
        this.c_buttons.buttonClick(this.c_buttons.c_button5);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } 
}
 
sender.userChangePage = function(pageName) {
    if (!this.c_buttons.v_enabled) return;
    if (this.currentPage == pageName) return;
    this.changePage(pageName);
    var page = this.getPageByName(pageName);
    if (page==null) return;
    page.search(this.v_searchString);

    if (pageName == "c1") {
        g5.pushHistory2("/search/hot/" + escape(g5.p2.p11.v_searchString));
    } else if (pageName == "c2") {
        g5.pushHistory2("/search/new/" + escape(g5.p2.p11.v_searchString));
    } else if (pageName == "c3") {
        g5.pushHistory2("/search/user/" + escape(g5.p2.p11.v_searchString));
    } else if (pageName == "c4") {
        g5.pushHistory2("/search/photo/" + escape(g5.p2.p11.v_searchString));
    } else if (pageName == "c5") {
        g5.pushHistory2("/search/video/" + escape(g5.p2.p11.v_searchString));
    }
}

]]></onCreate>
      <sizeRatio>1.28166666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel336">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <height>53</height>
      <heightRatio>0.0689206762028609</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_topBlank->顶部留空]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.0883333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338">
      <dockX>fill</dockX>
      <height>629</height>
      <heightRatio>0.817945383615085</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_pages</note>
      <onCreate>sender.c1 = ee.getControl("panel339");
sender.c2 = ee.getControl("panel340");
sender.c3 = ee.getControl("panel341");
sender.c4 = ee.getControl("panel342");
sender.c5 = ee.getControl("panel343");
sender.v_items = new Array();
sender.v_items.push(sender.c1);
sender.v_items.push(sender.c2);
sender.v_items.push(sender.c3);
sender.v_items.push(sender.c4);
sender.v_items.push(sender.c5);


</onCreate>
      <sizeRatio>1.04833333333333</sizeRatio>
      <top>91</top>
      <topRatio>0.118335500650195</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel339">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c1->热门]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c1_";
sender.v_searchOptions = "hot";
sender.v_items = new Array();
sender.v_searchString = "";
sender.v_scrollTop = 0;
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) {
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_scrollTop;
        }, 1); 
        return;
    }
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.clear();
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            if ((item.v_userInfo.status == "Private") &amp;&amp; (!item.v_userInfo.isFollow)) {
                ee.removeControl(item);
                continue;
            }
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel340">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c2->最新]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c2_";
sender.v_searchOptions = "new";
sender.v_items = new Array();
sender.v_searchString = "";
sender.v_scrollTop = 0;
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) {
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_scrollTop;
        }, 1); 
        return;
    }
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.clear();
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            if ((item.v_userInfo.status == "Private") &amp;&amp; (!item.v_userInfo.isFollow)) {
                ee.removeControl(item);
                continue;
            }
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel341">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c3->用户]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c3_";
sender.v_searchOptions = "user";
sender.v_items = new Array();
sender.v_searchString = "";
sender.v_scrollTop = 0;
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) {
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_scrollTop;
        }, 1); 
        return;
    }
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.clear();
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i<searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadUserRecord(item, searchV2.dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}











]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel342">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c4->照片]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c4_";
sender.v_searchOptions = "photo";
sender.v_items = new Array();
sender.v_searchString = "";
sender.v_scrollTop = 0;
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) {
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_scrollTop;
        }, 1); 
        return;
    }
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.clear();
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            if ((item.v_userInfo.status == "Private") &amp;&amp; (!item.v_userInfo.isFollow)) {
                ee.removeControl(item);
                continue;
            }
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel343">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c5->视频]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c5_";
sender.v_searchOptions = "video";
sender.v_items = new Array();
sender.v_searchString = "";
sender.v_scrollTop = 0;
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) {
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_scrollTop;
        }, 1); 
        return;
    }
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.clear();
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            if ((item.v_userInfo.status == "Private") &amp;&amp; (!item.v_userInfo.isFollow)) {
                ee.removeControl(item);
                continue;
            }
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p12</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>通知</layerName>
      <layerVisible>false</layerVisible>
      <left>1</left>
      <leftRatio>0.00166666666666667</leftRatio>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_topBlank = sender.eeChildren[0];
sender.c_noResult = sender.eeChildren[1];
sender.v_lastScrollTop = 0;

sender.v_headerName = "prmpt_";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_pageIndex = 0;

sender.show = function() {
    if (g5.currentPageIndex==11) {
        document.documentElement.scrollTop = 0;
        return;
    }
    g5.changeP2(11);
    this.c_topBlank.show();
    this.load();
}

sender.activePage = function() {
    g5.pushHistory2("/notifications");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a5");
    ee.setVisible(g5.p2.p12, true)
    document.documentElement.scrollTop = sender.v_lastScrollTop;
}

sender.close = function() {
    sender.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p2.p12, false);
}

sender.c_alert1 = null;
sender.c_alert2 = null;
sender.c_alert3 = null;
sender.c_alert4 = null;
sender.showAlert = function(value) {
    var button1 = g5.p1.p1.c_buttons[1];
    var button2 = ee.getControl("panel352");
    var button3 = ee.getControl("panel563");
    var button4 = ee.getControl("panel571");
    var r2 = eb.getDivRectSetting(button2);
    var r3 = eb.getDivRectSetting(button3);
    var c;
    if (!this.c_alert1) {
        c = createPanel(button1, "redDot1", "", button1.v_width-10, 14, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert1 = c;
    }
    if (!this.c_alert2) {
        c = createPanel(button2.parentNode, "redDot2", "", 20, r2.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert2 = c;
    }
    if (!this.c_alert3) {
        c = createPanel(button3.parentNode, "redDot3", "", 20, r3.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert3 = c;
    }
    if (!this.c_alert4) {
        var r = eb.getDivRectSetting(button4);
        c = createPanel(button4, "redDot4", "", 105, parseInt(r.h/2-10), 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert4 = c;
    }
    value = parseInt(value);
    if (isNaN(value)) value = 0;
    value = value + "";
    ee.setText(this.c_alert1, value);
    ee.setText(this.c_alert2, value);
    ee.setText(this.c_alert3, value);
    ee.setText(this.c_alert4, value);
    if (value == "0") {
        this.c_alert1.style.visibility = "hidden";
        ee.setRect(button1,null,null,button1.v_width,null);
        this.c_alert2.style.visibility = "hidden";
        this.c_alert3.style.visibility = "hidden";
        this.c_alert4.style.visibility = "hidden";
        return;
    }
    ee.setVisible(this.c_alert1, true);
    ee.setVisible(this.c_alert2, true);
    ee.setVisible(this.c_alert3, true);
    ee.setVisible(this.c_alert4, true);
    ee.setRect(button1,null,null,button1.v_width+39,null);
    ee.setRect(this.c_alert1,null,null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert2,r2.x+23-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert3,r3.x+25-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert4,null,null,19+6*(value.length-1), null);
}


sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    if (this.c_noResultBar) {
        ee.removeControl(this.c_noResultBar);
        this.c_noResultBar = undefined;
    }    
    ee.setVisible(this.c_noResult, false);
}

sender.load = function() {
    if (this.v_items.length>0) {
        var v_pageIndex = this.v_pageIndex;
        this.v_pageIndex = 0;
        this.fLoad();
        this.showAlert(0);
        this.v_pageIndex = v_pageIndex;
        return;
    }
    this.v_pageIndex = 0;
    this.fLoad();
    this.showAlert(0);
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    if (showBookMark.busy) return;
    this.v_pageIndex++;
    this.fLoad();
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = dataset.getData(1,index);
    panel.v_status = dataset.getData(2,index);
    panel.v_type = dataset.getData(3,index);
    panel.v_text = dataset.getData(4,index);
    panel.v_url = dataset.getData(5,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,6,index);
}

sender.renderItem = function(root) {
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderTop = "";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    var w = eb.getDivRect(root).w;
    var c, cy=9;
    
    if (root.v_index < updateMain.count) {
        root.v_bgColor = "#f5f5ff";
    } else root.v_bgColor = "#ffffff";
    root.style.cursor = "pointer";
    ee.setOnClick(root,function(sender,event) {
        var param = root.v_url;
        if (param.length<=0) return;
        if (param.charAt(0) == "?") {
            var a = param.lastIndexOf("=");
            if (a>=0) {
                param = param.substr(a+1,20);
            } else return;
            param = "/msg/" + param;
        }
        g5.pushHistory2(param);
        g5.pushHistory2("/a");
        history.go(-1);
        //window.location.href = ee.pageUrl + "?" + param;
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = root.v_bgColor;
    });
    root.style.backgroundColor = root.v_bgColor;
    root.eeMouseDown = function(sender,event,x,y) {
        var t=event.target;
        while (true) {
            if (t==sender) break;
            if (!t) break;
            if (t.eeOnClick) {
                return;
            }
            t = t.parentNode;
        }
        sender.style.backgroundColor = "rgb(242,245,247)";
    }
    root.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.backgroundColor = "#ffffff";
        } else {
            sender.style.backgroundColor = "rgb(245,248,250)";
        }
    }
    root.eeOnClickCancel = function(sender,event) {
        sender.style.backgroundColor = "#ffffff";
    }                       
    
    eb.initMouseEvent(root);
    //user photo
    c = createPanel(root, root.id+"_panel13", "", 16, cy, 50, 50);
    root.c_userPhoto = c;
    root.c_photo = c;
    root.setUserPhoto = function(photo) {
        if (photo == "") {
            ee.setImage(root.c_photo,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(root.c_photo,"url:" + g5.imgUrl + photo,"trim","","")
        }
    }
    root.setUserPhoto(root.v_userInfo.photo);
    c.v_timer = null;
    c.style.cursor="pointer";
    c.style.borderRadius = "50%";
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    g5.initImgButtonV1(c,"100%","80%","70%");
    
    //title
    c = createPanel(root, root.id+"_panel16", "", 75, cy-3, w-80, 26); cy+=26;
    root.v_titleText = c;
    var temp = "";
    temp = "<div style='display:inline'><b>" + root.v_userInfo.nickName + "</b> <font color='#808080' style='font-size:12pt'>@" + root.v_userInfo.userName + "</font></div>";
    temp += "<div style='display:inline'>";
    if (root.v_type == "R") {
        temp += g5.lang.getByCn("<font color='#1b95e0'><b> 回复</b></font>了您的发言");
    } else if (root.v_type == "F") {
        temp += g5.lang.getByCn("<font color='#0bc035'><b> 转发</b></font>了您的发言");
    } else if (root.v_type == "Alt") {
        temp += g5.lang.getByCn("<font color='#1b95e0'><b> 提到</b></font>了您");
    }
    temp += "<font> · </font><font>" + g5.getMins(root.v_regDatetime) + "</font>";
    temp += "</div>";
    addText(c, temp, "left", "middle", "微软雅黑", 12, "000000", "normal");
    c.v_username = root.v_userInfo.userName;
    root.c_titleText = c.label.rows[0].cells[0].childNodes[0];
    root.c_titleText.id = root.id + "_titleText";
    root.c_titleText.v_userName = root.v_userInfo.userName;
    root.v_timeLabel = c.label.rows[0].cells[0].childNodes[1].childNodes[c.label.rows[0].cells[0].childNodes[1].childNodes.length-1];
    root.v_content = {};
    root.v_content.startTime = parseInt((new Date()).getTime()/1000)-root.v_regDatetime;
    root.v_startTime = parseInt((new Date()).getTime()/1000) - root.v_regDatetime;
    root.c_username = c.label.rows[0].cells[0].childNodes[0]; 
    c.label.rows[0].cells[0].style.whiteSpace = "nowrap";
    var r1 = eb.getDivRect(c.label.rows[0].cells[0]);
    var r2 = eb.getDivRectSetting(c);
    var r3 = eb.getDivRect(c.label.rows[0].cells[0].childNodes[1]);
    if (r1.w>r2.w) {
        root.c_username.style.width = (r2.w - r3.w - 20) + "px";
        root.c_username.style.display = "inline-block";
        root.c_username.style.overflow = "hidden";
        root.c_username.style.verticalAlign = "text-top";
        root.c_username.style.textOverflow = "ellipsis";
        //c.label.rows[0].cells[0].childNodes[timeIndex-1].innerHTML = "· ";
    }
    c.style.cursor="pointer";
    ee.setOnClick(root.c_titleText,function(sender,event) {
        g5.p2.p2.show(root.v_userInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    g5.initLinkV1(root.c_titleText);
    
    //content
    c = createPanel(root, root.id+"_panel17", "", 75, cy, w-80, 10);
    root.c_content = c;
    if (root.v_text.length<=0) root.v_text = g5.lang.getByCn("<该用户没有留下文字内容>");
    addText(c, "<font style='line-height:1.2;'>" + g5.showCommonText(root.v_text) + "</font>", "left", "top", "微软雅黑", 12, "000000", "normal");
    eb.setDock(c,"disabled","disabled");
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h + 1;
    
    cy += 9;
    eb.setDivRect(root, null, null, null, cy);
    return root;
}

sender.fLoad = function() {
    if (showBookMark.busy) return;
    var maxId = 0x7fffffff;
    if (this.v_items.length>0) {
        maxId = parseInt(this.v_items[0].v_id);
    }
    var insertPos = 1;
    showPrompt.pageIndex = this.v_pageIndex;
    showPrompt.onComplete = function() {
        g5.loading.close();
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< showPrompt.dataset.rowCount; i++) {
            if (showPrompt.dataset.getData(18,i) == "DEL") continue;
            var item = createPanel(sender, sender.v_headerName + showPrompt.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            sender.loadRecord(item, showPrompt.dataset, i);
            item.v_index = sender.v_items.length;
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_id == item.v_id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            sender.renderItem(item);
            if (parseInt(item.v_id) > maxId) {
                ee.changeParent(item, sender, insertPos);
                insertPos++;
            }
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (showPrompt.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else {
                ee.setVisible(sender.c_noResult, false);
                if (sender.c_noResultBar) {
                    ee.removeControl(sender.c_noResultBar);
                    sender.c_noResultBar = undefined;
                }
                var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
                addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
                item.v_noResult = true;
                sender.c_noResultBar = item;
            }
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,2);   
    }
    //showPrompt.pageIndex==0 ? g5.loading.show() : g5.loading.show2();
    showPrompt();
}








]]></onCreate>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <sizeRatio>1.30434782608696</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>0.996666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel356">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>55</height>
      <heightRatio>0.0705128205128205</heightRatio>
      <layerName><![CDATA[  c_topBlank->顶部留空]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.show = function() {
    ee.setVisible(this, true);
    ee.setRect(this,null,null,null,eb.getDivRectSetting(g5.p4).h);
}
</onCreate>
      <sizeRatio>0.0919732441471572</sizeRatio>
      <top>8</top>
      <topRatio>0.0102564102564103</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel422">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>376</height>
      <heightRatio>0.482051282051282</heightRatio>
      <layerName><![CDATA[  c_noResult->无内容提示]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.62876254180602</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel422/panel423">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>目前没有您的任何通知</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel422/panel424">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>如有（如用户留言等）则会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel422/panel425">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>152</left>
      <leftRatio>0.254180602006689</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.491638795986622</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel33">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p13</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>私信列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_items = new Array();
sender.v_needRefresh = true;
sender.v_lastScrollTop = 0;

sender.activePage = function() {
    g5.pushHistory2("/messages");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a7");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
}

sender.show = function() {
    if (!this.v_needRefresh) {
        if (g5.currentPageIndex==12) {
            document.documentElement.scrollTop = 0;
            return;
        }
        g5.changeP2(12);
        var rect = eb.getDivRectSetting(g5.p4);
        ee.tiledV(this, 0, rect.h, 500); 
        ee.tiledResizeV(this, 2);
        document.documentElement.scrollTop = this.v_lastScrollTop;
        return;
    }
    this.clear();
    g5.changeP2(12);
    document.documentElement.scrollTop = 0;
    var rect = eb.getDivRectSetting(g5.p4);
    ee.tiledV(this, 0, rect.h, 500); 
    this.load();
}

sender.refresh = function() {
    if (g5.currentPageIndex == 12) {
        this.v_needRefresh = true;
        this.show();
    } else {
        this.v_needRefresh = true;
    }
}


sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    ee.setVisible(this.c_noResult, false);
}

sender.load = function() {
    if (this.v_items.length>0) return;
    this.v_pageIndex = 0;
    this.fLoad();
}

sender.loadMore = function() {
    if (this.v_status == "noResult") return;
    this.v_pageIndex++;
    this.fLoad();
}

sender.fLoad = function() {
    if (showChatList.busy) return;
    showChatList.pageIndex = this.v_pageIndex;
    showChatList.pageSize = 20;
    showChatList.onComplete = function(dataset) {
        sender.loadDataset(dataset);
        sender.v_needRefresh = false;
        eb.processDock();
    }
    showChatList();
}

sender.loadRecord = function(root, dataset, index) {
    var x = 0;
    root.v_maxId = dataset.getData(x, index); x++;
    root.v_regDatetime = dataset.getData(x, index); x++;
    root.v_content = dataset.getData(x, index); x++;
    root.v_photo1 = dataset.getData(x, index); x++;
    root.v_newCount = dataset.getData(x, index); x++;
    root.v_userInfo = new g5.UserInfo();
    root.v_userInfo.loadFromDataset(dataset, x, index); x += root.v_userInfo.size;
}

sender.render = function(root) {
    var c, dw = eb.getDivRectSetting(root).w;
    root.style.cursor="pointer";
    ee.setOnClick(root,function(sender,event) {
        g5.p2.p14.show(sender.v_userInfo);
        if (parseInt(root.v_newCount)>0) {
            var newCount = parseInt(root.v_newCount);
            root.v_newCount = "0";
            g5.p2.p13.refreshItem(root);
            updateMain.chat1v1NewCount -= newCount;
            if (updateMain.chat1v1NewCount<0) updateMain.chat1v1NewCount = 0;
            g5.p2.p13.showAlert(updateMain.chat1v1NewCount);
        }
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    root.eeMouseDown = function(sender,event,x,y) {
        var t=event.target;
        while (true) {
            if (t==sender) break;
            if (!t) break;
            if (t.eeOnClick) {
                return;
            }
            t = t.parentNode;
        }
        sender.style.backgroundColor = "rgb(242,245,247)";
    }
    root.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.backgroundColor = "#ffffff";
        } else {
            sender.style.backgroundColor = "rgb(245,248,250)";
        }
    }
    root.eeOnClickCancel = function(sender,event) {
        sender.style.backgroundColor = "#ffffff";
    }
    eb.initMouseEvent(root);    
    
    
    c = createPanel(root, root.id + "panel2", "E6ECF0", 0, 75, 439, 1);
    eb.setDock(c,"fill","bottom");
    
    //avata
    c = createPanel(root, root.id + "panel13", "", 16, 9, 50, 50);
    root.c_photo = c;
    c.v_timer = null;
    if ((root.v_userInfo.photo == "") || (root.v_userInfo.status == "DISABLED") || (root.v_userInfo.status == "Del")) {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }  
    c.style.cursor="pointer";
    c.style.borderRadius = "50%";
    ee.setOnClick(c,function(sender,event) {
        if (root.v_userInfo.status == "DISABLED") {
            g5.alert1("提示", "该用户处于禁封状态，目前无法查看该用户的信息");
        } else if (root.v_userInfo.status == "Del") {
            g5.alert1("提示", "该用户已销号，目前无法查看该用户的信息");
        } else {
            ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    g5.initImgButtonV1(c,"100%","80%","70%");
    
    //title
    c = createPanel(root, root.id + "panel3", "", 75, 6, dw-140, 29);
    s = root.v_regDatetime;
    if (g5.lang.getCurrentLangIndex() == 0) {
        s = parseInt(s.substr(5,2)) + "月" + parseInt(s.substr(8,2)) + "日";
    } else {
        s = g5.lang.moEnglish[parseInt(s.substr(5,2))-1] + " " + parseInt(s.substr(8,2));
    }

    addText(c, "<div style='display:inline'><b>" + root.v_userInfo.nickName + "</b>" +
        "<font color = '#A0A0A0'> @" + root.v_userInfo.userName + "</font></div>" +
        "<font> · </font><font>" + s + "</font>",
        "left", "middle", g5.fonts.n1, 12, "000000", "normal");
    c.label.rows[0].cells[0].style.whiteSpace = "nowrap";
    root.v_timeLabel = c.label.rows[0].cells[0].childNodes[2]; 
    root.c_username = c.label.rows[0].cells[0].childNodes[0]; 
    var r1 = eb.getDivRect(c.label.rows[0].cells[0]);
    var r2 = eb.getDivRectSetting(c);
    var r3 = eb.getDivRect(root.v_timeLabel);
    if (r1.w>r2.w) {
        root.c_username.style.width = (r2.w - r3.w - 20) + "px";
        root.c_username.style.display = "inline-block";
        root.c_username.style.overflow = "hidden";
        root.c_username.style.verticalAlign = "text-top";
        root.c_username.style.textOverflow = "ellipsis";
        c.label.rows[0].cells[0].childNodes[1].innerHTML = "· ";
    }
    
    //newCount
    c = createPanel(root, root.id + "redDot1", "", 52, 2, 19, 19);
    c.style.backgroundColor = "#f1502a";
    c.style.borderRadius = "9px";
    addText(c, " ", "center", "middle", "Arial", 9, "FFFFFF", "bold");
    root.c_newCount = c;
    
    //button
    c = createPanel(root, root.id + "panel20", "", dw-45, 4, 36, 36);
    ee.setText(c,
        "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
    );
    c.style.borderRadius = "50%";
    g5.initButtonV3(c,[
        new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
    ]);
    ee.setOnClick(c,function(senderBtn,event) {
        senderBtn.style.backgroundColor = "";
        g5.popBlack.a6.show(
            "删除确认",
            "本操作将删除您与该用户的所有私信记录，您是否继续？",
            [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","确认删除","#ffffff","#ffffff","#ffffff","")],
            function() {
                if (delChatAll1v1.busy) return;
                delChatAll1v1.targetUserId = root.v_userInfo.id;
                delChatAll1v1.onComplete = function() {
                    var item = root;
                    eb.setAni2(item,1,"disappear", "rightFlyOut", "null", 0, true);
                    var items = root.parentNode.v_items;
                    eb.setAniEvent(item,1,function(){}, function(sender) {
                        var i = 0;
                        for (i=0; i<items.length; i++) if (items[i]==item) break;
                        if (i>=items.length) return;
                        var h = eb.getDivRectSetting(item).h;
                        ee.removeControl(item);
                        items.splice(i,1);
                        g5.batchMoveY(items, i, -h);
                    });
                    ee.showAni(item, 1);
                }
                delChatAll1v1();
            }
        );
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
        
    //content
    c = createPanel(root, root.id + "panel5", "", 78, 38, dw-100, 29);
    s = root.v_content;
    var ph = "/photo ";
    if (root.v_userInfo.status == "DISABLED") {
        s = g5.lang.getByCn("账户被禁封");
    } else if (root.v_userInfo.status == "Del") {
        s = g5.lang.getByCn("账户已销号");
    } else if (s.substr(0, ph.length) == ph) {
        s = g5.lang.getByCn("图片");
    }
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.color = "#000000";
    c.style.whiteSpace = "nowrap";
    c.style.cursor="pointer";
    c.innerHTML = "<div style='vertical-align:text-top;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:"+(dw-100)+"px'>" + s + "</div>";
    root.c_content = c;
    root.setContent = function(content) {
        if (content.substr(0, ph.length) == ph) {
            content = g5.lang.getByCn("图片");
        }
        this.c_content.childNodes[0].innerHTML = content;
        var now = new Date();
        this.v_timeLabel.innerHTML =  (now.getMonth()+1) + "月" + now.getDate() + "日";
    }
}

sender.refreshItem = function(item) {
    var value = item.v_newCount;
    if (parseInt(value)>0) {
        ee.setRect(item.c_newCount, null,null,19+6*(value.length-1), null);
        addText(item.c_newCount, value, "center", "middle", "Arial", 9, "FFFFFF", "bold");
        ee.setVisible(item.c_newCount, true);
    } else {
        ee.setVisible(item.c_newCount, false);
    }
}

sender.loadDataset = function(dataset) {
    var root = this;
    var y = 0;
    var c,s,hd,i,j;
    var rect;
    rect = eb.getDivRect(root);
    var rw = rect.w;
    for (i = 0; i < dataset.rowCount; i++) {
        for (j=0; j<this.v_items.length; j++) {
            if (this.v_items[j].v_userInfo.id == dataset.getData(4,i)) break;    
        }
        if (j<this.v_items.length) continue;
        hd = "prvLst_" + dataset.getData(4,i);
        c = createPanel(root, hd, "", 0, y, rw, 70);
        y += 70;
        this.loadRecord(c, dataset, i);
        this.render(c);
        this.refreshItem(c);
        this.v_items.push(c);
        //if (g5.debugMode) {
        //    for (var a =0; a<50;a++) {
        //        hd = "prvLst_" + dataset.getData(4,i);
        //        c = createPanel(root, hd, "", 0, y, rw, 70);
        //        y += 70;
        //        this.loadRecord(c, dataset, i);
        //        this.render(c);
        //        this.refreshItem(c);
        //        this.v_items.push(c);
        //    }
        //}
    }
    if (dataset.rowCount<=0) {
            sender.v_status = "noResult";
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else {
                this.v_status = "noResult";
                var item = createPanel(this, "prvPanelEnd", "", 0, y, rect.w, 60);
                addText(item, g5.lang.getByCn("没有更多了"), "center", "center", g5.fonts.n1, 12, "a0a0a0" ,"bold");
                this.v_items.push(item);
            }
        } else {
            sender.v_status = "normal";
    }
    
    ee.tiledResizeV(this, 2);
}

sender.c_alert1 = null;
sender.c_alert2 = null;
sender.c_alert3 = null;
sender.c_alert4 = null;
sender.showAlert = function(value) {
    var button1 = g5.p1.p1.c_buttons[2];
    var button2 = ee.getControl("panel203");
    var button3 = ee.getControl("panel558");
    var button4 = ee.getControl("panel566");
    var r2 = eb.getDivRectSetting(button2);
    var r3 = eb.getDivRectSetting(button3);
    var c;
    if (!this.c_alert1) {
        c = createPanel(button1, "redDot1", "", button1.v_width-10, 14, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert1 = c;
    }
    if (!this.c_alert2) {
        c = createPanel(button2.parentNode, "redDot2", "", 20, r2.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert2 = c;
    }
    if (!this.c_alert3) {
        c = createPanel(button3.parentNode, "redDot3", "", 20, r3.y+5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert3 = c;
    }
    if (!this.c_alert4) {
        var r = eb.getDivRectSetting(button4);
        c = createPanel(button4, "redDot4", "", 105, parseInt(r.h/2-10), 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
        this.c_alert4 = c;
    }
    value = parseInt(value);
    if (isNaN(value)) value = 0;
    value = value + "";
    ee.setText(this.c_alert1, value);
    ee.setText(this.c_alert2, value);
    ee.setText(this.c_alert3, value);
    ee.setText(this.c_alert4, value);
    if (value == "0") {
        this.c_alert1.style.visibility = "hidden";
        ee.setRect(button1,null,null,button1.v_width,null);
        this.c_alert2.style.visibility = "hidden";
        this.c_alert3.style.visibility = "hidden";
        this.c_alert4.style.visibility = "hidden";
        return;
    }
    ee.setVisible(this.c_alert1, true);
    ee.setVisible(this.c_alert2, true);
    ee.setVisible(this.c_alert3, true);
    ee.setVisible(this.c_alert4, true);
    ee.setRect(button1,null,null,button1.v_width+39,null);
    ee.setRect(this.c_alert1,null,null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert2,r2.x+25-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert3,r3.x+30-6*(value.length-1),null,19+6*(value.length-1), null);
    ee.setRect(this.c_alert4,null,null,19+6*(value.length-1), null);
}





]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel33/panel357">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_noResult</ee_LocalName>
      <height>376</height>
      <heightRatio>0.482051282051282</heightRatio>
      <layerName>无内容提示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.626666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel33/panel357/panel358">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>目前没有您的任何私信</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel33/panel357/panel359">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>如有私信聊天则会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel33/panel357/panel360">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.255</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel35">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p14</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>私信聊天</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.c_chat = ee.getControl("layoutyitem12");
sender.v_items = new Array();
sender.v_needRefresh = true;
sender.v_lastScrollTop = 0;
sender.v_userInfo = new g5.UserInfo();

sender.activePage = function() {
    g5.pushHistory2("/messages/" + escape(this.v_userInfo.userName));
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a8");
    ee.setVisible(this, true);
    
    markUserReadChat1v1.chatUserId = this.v_userInfo.id;
    markUserReadChat1v1.onComplete = function() {
    }
    markUserReadChat1v1();
}

sender.close = function() {
    this.c_chat.stop();
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
    
    markUserReadChat1v1.chatUserId = this.v_userInfo.id;
    markUserReadChat1v1.onComplete = function() {
    }
    markUserReadChat1v1();
}

sender.showByUserName = function(userName) {
    if (getOtherUserInfo2.busy) false;
    getOtherUserInfo2.keyType = "userName";
    getOtherUserInfo2.userKey = userName;
    getOtherUserInfo2.onComplete = function(v_userInfo) {
        sender.show(v_userInfo);
    }
    getOtherUserInfo2();
}

sender.show = function(v_userInfo) {
    if (g5.isMobile) {
        ee.setRect(ee.getControl("layoutyitem13"),null,null,null,113);
    }
    this.v_needRefresh = v_userInfo.id != this.v_userInfo.id;
    this.v_userInfo = v_userInfo;
    this.c_chat.start(this.v_userInfo.id);
    g5.p4.a8.setText1(this.v_userInfo.nickName);
    g5.p4.a8.setText2("@" + this.v_userInfo.userName);
    g5.changeP2(13);
    var r = eb.getClientSize();
    ee.setRect(g5.p2,null,null,null,r.h);
    eb.processDock();
    var rect = eb.getDivRectSetting(g5.p4);
    ee.setRect(ee.getControl("layoutyitem11"),null,null,null,rect.h);
    ee.setRect(ee.getControl("layouty6"),0,null,null,null,null);
    ee.tiledResizeV(this, 2);
}

sender.sendChat = function(msgContent) {
    if (this.v_userInfo.isBlock2) {
        g5.alert1("提示", "您已被@" + this.v_userInfo.userName + "屏蔽，您的私信被拒收。");
        return;
    }
    if (sendChat1v1.busy) return;
    if (msgContent.length>200) msgContent = msgContent.substr(0,200);
    sendChat1v1.chatUserId = this.v_userInfo.id;
    sendChat1v1.content = msgContent;
    sendChat1v1.onComplete = function() {
        ee.getControl("edit6").setText("");
        g5.p3.p3.c_chat.refresh(true);
        sender.refreshContent(sendChat1v1.chatUserId, sendChat1v1.content);
    }
    sendChat1v1();
}

sender.refreshContent = function(userId, msgContent) {
    var items = g5.p2.p13.v_items;
    var i = 0;
    for (i=0; i<items.length; i++) {
        if (!items[i].v_userInfo) continue;
        if (items[i].v_userInfo.id != userId) continue;
        items[i].setContent(msgContent);
        break;
    }
    if (i<items.length &amp;&amp; i!=0) {
        var t = items[i];
        items[i] = items[0];
        items[0] = t;
        ee.changeParent(items[0], items[0].parentNode, 0);
        ee.tiledResizeV(items[0].parentNode, 1);
    }
}









]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel35/layouty6">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";</onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem11">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>55</height>
      <heightRatio>0.0705128205128205</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>题头空白</note>
      <sizeRatio>0.0916666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem12">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>663</height>
      <heightRatio>0.85</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chat->聊天区域]]></note>
      <onCreate><![CDATA[sender.style.overflowY = "scroll";
sender.style.overflowX = "hidden";
sender.className = "scrollBar01";

sender.minRefreshTime = 3000;
sender.maxRefreshTime = 60000;
sender.running = false;
sender.start = function(roomId) {
    if (roomId == this.v_roomId) {
        this.v_nohis = false;
        this.clearTimer();
        this.v_tfId = setInterval(function() {
            sender.timeFragment();    
        }, 500);
        this.running = true;
        this.refresh();        
        return;
    }
    this.v_roomId = roomId;
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    this.clearTimer();
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    //g5.loading.show();
    this.refresh();        
}
sender.stop = function() {
    this.clearTimer();
    this.running = false;
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.refresh = function(force) {
    if (!chatGet1v1.busy) {
        chatGet1v1.chatUserId = this.v_roomId;
        chatGet1v1.chatId = this.v_lastChatId;
        chatGet1v1.isNew = 1;
        chatGet1v1.my = this;
        chatGet1v1.onComplete = function(dataset) {
            g5.loading.close();
            if (dataset.rowCount<=0) {
                eb.processDock();
                return;
            }
            
            var fi = dataset.colCount;
            dataset.setColCount(fi+1);
            dataset.setData(fi,dataset.rowCount-1,1);
            for (var i = dataset.rowCount-2; i>=0; i--) {
                if (dataset.getData(2,i+1)-dataset.getData(2,i)>300) {
                    dataset.setData(fi,i,1);    
                } else if (dataset.getData(5,i+1)!=dataset.getData(5,i)) {
                    dataset.setData(fi,i,1);    
                } else {
                    dataset.setData(fi,i,dataset.getData(fi,i+1)+1);    
                }
            }
            var isBlock = false;
            for (var i=0; i<dataset.rowCount; i++) {
                if (dataset.getData(fi,i)>=2) {
                    if (isBlock) {
                        dataset.setData(fi,i,3);
                    } else {
                        isBlock = true;
                        dataset.setData(fi,i,4);
                    }
                } else {
                    if (isBlock) {
                        isBlock = false;
                        dataset.setData(fi,i,2);
                    } else {
                    }
                }
            }
            
            var cy = 0;
            var root = chatGet1v1.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                var item = createPanel(root, "chatroom1v1_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                //g5.loadChatRecord(item, dataset, i);
                root.loadData(item, dataset, i);
                item.v_mode = dataset.getData(fi,i);
                //g5.renderChatBar(item);
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
                if (!root.firstRun) {
                    g5.p2.p14.refreshContent(item.v_userInfo.id, item.v_msgContent);
                }
            }
        
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGet1v1();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.renderMsg = function(root) {
    var mode = parseInt(root.v_mode);
    var w = eb.getDivRect(root).w;
    var cy = 0;
    var left = true;
    if (root.v_userInfo.userName == g5.myUserInfo.userName) {
        left = false;
    }
    //user photo
    if (left) {
        c = createPanel(root, root.id+"_panel13", "", 16, cy, 40, 40);
        c.style.borderRadius = "50%";
    } else {
    }
    var photo;
    if (left &amp;&amp; ((mode==1)||(mode==4))) {
        photo = root.v_userInfo.photo;
        if (photo == "") {
            ee.setImage(c,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + photo,"trim","","")
        }
    }
    
    //content
    if (left) {
        c = createPanel(root, root.id+"_panel2", "", 65, cy, w-110, 40);
        c.style.backgroundColor = "#e6ecf0";
        switch (mode) {
            case 1: c.style.borderRadius = "20px 20px 20px 0px"; break;
            case 2: c.style.borderRadius = "20px 20px 20px 0px"; break;
            case 3: c.style.borderRadius = "0px 20px 20px 0px"; break;
            case 4: c.style.borderRadius = "0px 20px 20px 0px"; break;
            default:
        }
        c = createPanel($g(root.id+"_panel2"), root.id+"_content", "", 15, 5, null, null);
    } else {
        c = createPanel(root, root.id+"_panel2", "", 65, cy, w-110, 40);
        switch (mode) {
            case 1: c.style.borderRadius = "20px 20px 0px 20px"; break;
            case 2: c.style.borderRadius = "20px 20px 0px 20px"; break;
            case 3: c.style.borderRadius = "20px 0px 0px 20px"; break;
            case 4: c.style.borderRadius = "20px 0px 0px 20px"; break;
            default:
        }
        c.style.backgroundColor = "#1da1f2";
        c = createPanel($g(root.id+"_panel2"), root.id+"_content", "", 15, 5, null, null); //40);
    }
    var ph = "/photo ";
    if (root.v_msgContent.substr(0, ph.length) == ph) {
        rect = eb.getDivRectSetting(c.parentNode);
        var pHeight = parseInt(rect.w*0.8);
        ee.setRect(c.parentNode,null,null,null,pHeight);
        ee.setRect(c,0,0,rect.w,pHeight);
        ee.setImage(c,"url:" + g5.imgUrl + root.v_msgContent.substr(ph.length), "trim", "", "");
        c.v_photo = root.v_msgContent.substr(ph.length);
        c.style.cursor = "pointer";
        if (!left) {
            ee.setRect(c.parentNode, w-25-rect.w, null, null, null)
        }
        ee.setOnClick(c, function(sender, event) {
            var pa = new Array();
            pa.push(sender.v_photo);
            g5.popBlack.a2.show(pa, sender.v_photo);
            g5.player.stop();
            window.event? window.event.cancelBubble = true : event.stopPropagation();
        }); 
        cy += pHeight+4;
    } else {
        c.style.overflow = "";
        c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
        c.style.color = left ? "#000000":"#FFFFFF";
                
        c.style.wordBreak = "break-all";
        c.style.whiteSpace = "nowrap";
        c.innerHTML = "<font style='font-size:12pt; line-height:1.2;'>" +
            g5.showCommonText(root.v_msgContent, left? "tam_hlink1":"tam_hlink2").replace(/\r\n/g,"\n").replace(/\n/g,"<br\>") + "</font>";
        var rect = eb.getDivRect(c);
        if (rect.w > w-110-15*2) {
            c.style.whiteSpace = "pre-wrap";
            c.style.wordWrap = "break-word";
            c.style.wordBreak = "normal";
            eb.setDivRect(c,null,null,w-110-15*2, null);
        }
        
        for (var i=0; i<c.childNodes[0].childNodes.length; i++) {
            if (c.childNodes[0].childNodes[i].nodeName=="SPAN") {
                ee.setOnClick(c.childNodes[0].childNodes[i], function(sender, event) {
                    g5.p2.p2.show(null,null,sender.innerText.substr(1));
                    window.event? window.event.cancelBubble = true : event.stopPropagation();
                });
            }
        }
        rect = eb.getDivRect(c);
        c = c.parentNode;
        ee.setRect(c,null,null,rect.w+15*2,rect.h+14);
        rect = eb.getDivRect(c);
        if (!left) {
            ee.setRect(c, w-25-rect.w, null, null, null)
        }
        cy += rect.h + 4;
        
        /*
        c.label.style.wordBreak = "break-all";
        c.label.style.whiteSpace = "nowrap";
        ee.setText(c, g5.processTextUrl(root.v_msgContent,left ? "css_button1":"css_button2"));
        eb.processDock();
        eb.setDivRect(c.label, null, null, 10,10);
        rect = eb.getDivRect(c.label);
        if (left) {
            if (rect.w > w-150) {
                c.label.style.whiteSpace = "pre-wrap";
                eb.setDivRect(c.label, null, null, w-150,10);
                rect = eb.getDivRect(c.label);
            }
        } else {
            if (rect.w > parseInt(w-150)) {
                c.label.style.whiteSpace = "pre-wrap";
                eb.setDivRect(c.label, null, null, w-150,10);
                rect = eb.getDivRect(c.label);
            }
        }
        ee.setRect(c, null, null, rect.w, rect.h + 10);
        rect = eb.getDivRect(c);
        c = c.parentNode;
        ee.setRect(c,null,null,rect.w+15*2,rect.h);
        rect = eb.getDivRect(c);
        if (!left) {
            ee.setRect(c, w-25-rect.w, null, null, null)
        }
        cy += rect.h + 4;
        */
    }
    
    //time
    if ((mode==1)||(mode==4)) {
        c = createPanel(root, root.id+"_panel5", "", 65, cy-3, w-65-25, 20); cy+=20;
        var s = sender.displayTime(root.v_regDatetime);
        if (left) {
            addText(c,s, "left", "top", "微软雅黑", 9, "808080", "");
        } else {
            addText(c,s, "right", "top", "微软雅黑", 9, "808080", "");
            
        }
    }
    
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}

sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_seconds = g5.getUtcTime(dataset.getData(2,index));
    panel.v_msgContent = dataset.getData(3,index);
    panel.v_photo1 = dataset.getData(4,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 5, index);
}

sender.displayTime = function(time) {
    var now = new Date();
    var r = "";
    if (g5.lang.getCurrentLangIndex() == 0) {
        r = 
            (time.getMonth()+1) + "月" +
            time.getDate() + "日 " +
            (time.getHours()<10?"0":"") + time.getHours() + ":" +
            (time.getMinutes()<10?"0":"") + time.getMinutes();
        if (now.getYear() != time.getYear()) {
            r =  (time.getYear() + 1900) + "年" + r;
        }
    } else {
        r = g5.lang.moEnglish[time.getMonth()] + " " + time.getDate();
        if (now.getYear() != time.getYear()) {
            r += ", " + (time.getYear() + 1900);
        }
        r += ", " +
            (time.getHours()<10?"0":"") + time.getHours() + ":" +
            (time.getMinutes()<10?"0":"") + time.getMinutes();
    }
    return r;
}

sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGet1v1.busy) return;    

    sender.v_nohis = false;
    chatGet1v1.roomId = sender.v_roomId;
    chatGet1v1.chatId = sender.v_items[0].v_id;
    chatGet1v1.isNew = 0;
    chatGet1v1.my = sender;
    chatGet1v1.onComplete = function(dataset) {
        g5.loading.close();
        if (dataset.rowCount<=0) {
            chatGet1v1.my.v_nohis = true;
            eb.processDock();
            return;
        }
        
        var fi = dataset.colCount;
        dataset.setColCount(fi+1);
        dataset.setData(fi,dataset.rowCount-1,1);
        for (var i = dataset.rowCount-2; i>=0; i--) {
            if (dataset.getData(2,i+1)-dataset.getData(2,i)>300) {
                dataset.setData(fi,i,1);    
            } else if (dataset.getData(5,i+1)!=dataset.getData(5,i)) {
                dataset.setData(fi,i,1);    
            } else {
                dataset.setData(fi,i,dataset.getData(fi,i+1)+1);    
            }
        }
        var isBlock = false;
        for (var i=0; i<dataset.rowCount; i++) {
            if (dataset.getData(fi,i)>=2) {
                if (isBlock) {
                    dataset.setData(fi,i,3);
                } else {
                    isBlock = true;
                    dataset.setData(fi,i,4);
                }
            } else {
                if (isBlock) {
                    isBlock = false;
                    dataset.setData(fi,i,2);
                } else {
                }
            }
        }
        
        //for (var i=dataset.rowCount-1; i>=0; i--) {
        //    dataset.setData(3,i,dataset.getData(fi,i) + " >" + dataset.getData(3,i));    
        //}

        var cy = 0;
        var root = chatGet1v1.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "chatroom1v1_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            item.v_mode = dataset.getData(fi,i);
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    //g5.loading.show();
    chatGet1v1();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}















]]></onCreate>
      <sizeRatio>1.105</sizeRatio>
      <top>55</top>
      <topRatio>0.0705128205128205</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem13">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>62</height>
      <heightRatio>0.0794871794871795</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>功能按钮区</note>
      <sizeRatio>0.103333333333333</sizeRatio>
      <top>718</top>
      <topRatio>0.92051282051282</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem13/panel120">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>1</height>
      <heightRatio>0.0161290322580645</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem13/edit6">
      <backgroundSkin>edit1</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.467741935483871</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <multiLine>true</multiLine>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
if (text.length>500) text = text.substr(0,500);
if (text.split("\n").length-1>10) {
    text = text.substr(0, text.length-1);
}
edit.setText(text);
]]></onChange>
      <onCreate><![CDATA[sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));

sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem13"));
    ee.setRect(ee.getControl("layoutyitem13"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem12"));
    ee.setRect(ee.getControl("layoutyitem12"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    var rect = eb.getDivRect(sender._input);
    ee.setRect(sender.c_tester, rect.w+300, 0, rect.w+2, sender.v_defaultH);
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var msgContent = ee.getEditText(ee.getControl("edit6")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        g5.p2.p14.sendChat(msgContent);
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <outerLeft>60</outerLeft>
      <outerRight>50</outerRight>
      <sizeRatio>0.0591836734693878</sizeRatio>
      <text>有什么想说的？</text>
      <top>11</top>
      <topRatio>0.17741935483871</topRatio>
      <width>490</width>
      <widthRatio>0.816666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem13/panel121">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <height>32</height>
      <heightRatio>0.516129032258065</heightRatio>
      <layerVisible>false</layerVisible>
      <left>556</left>
      <leftRatio>0.926666666666667</leftRatio>
      <onClick><![CDATA[var msgContent = ee.getEditText(ee.getControl("edit6")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
g5.p2.p14.sendChat(msgContent);

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.style.borderRadius = "10px";
g5.initButtonV3(c,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(101,119,134)","rgb(29,161,242)","rgb(29,161,242)","")
]);</onCreate>
      <outerRight>7</outerRight>
      <sizeRatio>0.864864864864865</sizeRatio>
      <text>发送</text>
      <top>8</top>
      <topRatio>0.129032258064516</topRatio>
      <width>37</width>
      <widthRatio>0.0616666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel35/layouty6/layoutyitem13/panel612">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.025</leftRatio>
      <onClick>if (event.target.tagName.toUpperCase() != "INPUT") {
    sender.c_file.blur();
    sender.c_file.click();
}
</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
c.value = null;
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.addEventListener("change", function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) {
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (ee.getControl("panel7").v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        g5.popBlack.a2.showConfirm(uploadImage.newFileName, function() {
                            g5.p2.p14.sendChat("/photo " + uploadImage.newFileName);
                        });
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
});

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>7</top>
      <topRatio>0.112903225806452</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p15</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>粉丝列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_lastScrollTop = 0;
sender.v_items = new Array();
sender.v_userInfo = new g5.UserInfo();
sender.c_title = ee.getControl("panel100");
sender.v_needRefresh = false;
sender.v_status = "";

sender.v_pageIndex = 0;

sender.activePage = function() {
    g5.pushHistory2("/" + escape(this.v_userInfo.userName) + "/followers");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a9");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.showByUserName = function(userName) {
    if (userName == this.v_userInfo.userName) {
        g5.changeP2(14);
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_lastScrollTop;
        }, 1); 
        ee.tiledResizeV(this, 2);
        return;
    }
    if (getOtherUserInfo2.busy) false;
    getOtherUserInfo2.keyType = "userName";
    getOtherUserInfo2.userKey = userName;
    getOtherUserInfo2.onComplete = function(v_userInfo) {
        sender.show(v_userInfo);
    }
    getOtherUserInfo2();
}

sender.refresh = function(userId) {
    var needRefresh = false;
    if (userId) {
        if (userId == this.v_userInfo.id) {
            needRefresh = true;
        }
    } else needRefresh = true;
    if (!needRefresh) return;
    if (g5.currentPageIndex == 14) {
        this.v_needRefresh = true;
        g5.notPushHistoryCount = 1;
        this.show(this.v_userInfo);
    } else {
        this.v_needRefresh = true;
    }
}

sender.refreshCount = function() {
    if (!this.v_userInfo) return;
    if (this.v_userInfo.fansCount<=0) {
        ee.setText(this.c_title, 
            g5.lang.trans2("<div style='display:inline'>/%" + this.v_userInfo.nickName+"%/<font color=#a0a0a0>@/%"+this.v_userInfo.userName+"%/</font></div><font>的粉丝</font>"));
    } else {
        ee.setText(this.c_title, 
            g5.lang.trans2("<div style='display:inline'>/%" + this.v_userInfo.nickName+"%/<font color=#a0a0a0>@/%"+this.v_userInfo.userName+"%/</font></div><font>的粉丝(/%"+this.v_userInfo.fansCount+"%/人)</font>"));
    }
    var c = this.c_title;
    var root = {};
    c.label.rows[0].cells[0].style.whiteSpace = "nowrap";
    root.v_timeLabel = c.label.rows[0].cells[0].childNodes[1]; 
    root.c_username = c.label.rows[0].cells[0].childNodes[0]; 
    var r1 = eb.getDivRect(c.label.rows[0].cells[0]);
    var r2 = eb.getDivRectSetting(c);
    var r3 = eb.getDivRect(root.v_timeLabel);
    if (r1.w>r2.w) {
        root.c_username.style.width = (r2.w - r3.w - 20) + "px";
        root.c_username.style.display = "inline-block";
        root.c_username.style.overflow = "hidden";
        root.c_username.style.verticalAlign = "text-top";
        root.c_username.style.textOverflow = "ellipsis";
    }
}


sender.show = function(v_userInfo) {
    if (this.v_needRefresh) {
        this.v_needRefresh = false;
    } else if (this.v_userInfo.id == v_userInfo.id) {
        g5.changeP2(14);
        ee.tiledResizeV(this, 2);
        document.documentElement.scrollTop = this.v_lastScrollTop;
        return;
    }
    this.v_userInfo = v_userInfo;
    this.refreshCount();
    this.v_pageIndex = 0;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    g5.changeP2(-1);
    g5.changeP2(14);
    document.documentElement.scrollTop = 0;
    this.loadFromDB();
}


sender.loadFromDB = function() {
    if (showFansList.busy) return;
    showFansList.userId = sender.v_userInfo.id;
    showFansList.pageIndex = sender.v_pageIndex;
    showFansList.onComplete = function(dataset) {
        g5.loading.close();
        if (sender.v_pageIndex==0) {
            for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
            sender.v_items = new Array();
            document.documentElement.scrollTop = 0;
        }
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        var itemCount = 0;
        for (var i=0; i<dataset.rowCount; i++) {
            if (showFansList.userId == dataset.getData(0,i)) continue;
            if (dataset.getData(4,i) == "guest") continue;
            itemCount++;
            var item = createPanel(root, "fanl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        eb.processDock();
        
        if (itemCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, "p2p15end", "", 0, cy, itemWidth, 60);
            addText(item, g5.lang.getByCn("没有更多了"), "center", "center", g5.fonts.n1, 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        
        sender.processBottom();
    }
    g5.loading.show();
    showFansList();               
}

sender.processBottom = function() {
    var rect = eb.getDivRectSetting(g5.p4);
    ee.tiledV(sender, 0, rect.h, 500);
    if (sender.v_items.length>0) {
        var rect1 = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
        ee.tiledV(sender, 0, rect.h, eb.getClientSize().h - eb.getDivRect(sender.v_items[sender.v_items.length-1]).h - rect.h + 2); 
    }
    ee.tiledResizeV(sender, 2);
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.loadMore = function() {
    if (this.v_status == "noResult") return;
    if (showFansList.busy) return;
    this.v_pageIndex++;
    this.loadFromDB();
}
]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel101">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p16</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>关注列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_lastScrollTop = 0;
sender.v_items = new Array();
sender.v_userInfo = new g5.UserInfo();
sender.c_title = g5.p4.a10.c_title;
sender.v_needRefresh = false;
sender.v_status = "";

sender.v_pageIndex = 0;

sender.activePage = function() {
    g5.pushHistory2("/" + escape(this.v_userInfo.userName) + "/following");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a10");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.showByUserName = function(userName) {
    if (userName == this.v_userInfo.userName) {
        g5.changeP2(15);
        setTimeout(function() {
            document.documentElement.scrollTop = sender.v_lastScrollTop;
        }, 1); 
        ee.tiledResizeV(this, 2);
        return;
    }
    if (getOtherUserInfo2.busy) false;
    getOtherUserInfo2.keyType = "userName";
    getOtherUserInfo2.userKey = userName;
    getOtherUserInfo2.onComplete = function(v_userInfo) {
        sender.show(v_userInfo);
    }
    getOtherUserInfo2();
}

sender.refresh = function() {
    if (this.v_userInfo.id == g5.myUserInfo.id) this.v_needRefresh = true;
}

sender.refreshCount = function() {
    if (!this.v_userInfo) return;
    if (this.v_userInfo.followCount<=0) {
        ee.setText(this.c_title, 
            g5.lang.trans2("<div style='display:inline'>/%" + this.v_userInfo.nickName+"%/<font color=#a0a0a0>@/%"+this.v_userInfo.userName+"%/</font></div><font>关注的用户</font>"));
    } else {
        ee.setText(this.c_title, 
            g5.lang.trans2("<div style='display:inline'>/%" + this.v_userInfo.nickName+"%/<font color=#a0a0a0>@/%"+this.v_userInfo.userName+"%/</font></div><font>关注的用户(/%"+this.v_userInfo.followCount+"%/人)</font>"));
    }
    var c = this.c_title;
    var root = {};
    c.label.rows[0].cells[0].style.whiteSpace = "nowrap";
    root.v_timeLabel = c.label.rows[0].cells[0].childNodes[1]; 
    root.c_username = c.label.rows[0].cells[0].childNodes[0]; 
    var r1 = eb.getDivRect(c.label.rows[0].cells[0]);
    var r2 = eb.getDivRectSetting(c);
    var r3 = eb.getDivRect(root.v_timeLabel);
    if (r1.w>r2.w) {
        root.c_username.style.width = (r2.w - r3.w - 20) + "px";
        root.c_username.style.display = "inline-block";
        root.c_username.style.overflow = "hidden";
        root.c_username.style.verticalAlign = "text-top";
        root.c_username.style.textOverflow = "ellipsis";
    }
}

sender.refreshMyInfo = function() {
    if (g5.currentPageIndex!=15) {
        this.refresh();
        return;
    }
    if (!this.v_userInfo) return;
    if (this.v_userInfo.id != g5.myUserInfo.id) return;
    this.v_userInfo = g5.myUserInfo.clone();
    this.refreshCount();
}

sender.show = function(v_userInfo) {
    if (this.v_needRefresh) {
        this.v_needRefresh = false;
    } else if (this.v_userInfo.id == v_userInfo.id) {
        g5.changeP2(15);
        ee.tiledResizeV(this, 2);
        document.documentElement.scrollTop = this.v_lastScrollTop;
        return;
    }
    this.v_userInfo = v_userInfo.clone();
    this.refreshCount();
    this.v_pageIndex = 0;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    g5.changeP2(-1);
    g5.changeP2(15);
    document.documentElement.scrollTop = 0;
    this.loadFromDB();               
}

sender.loadFromDB = function() {
    if (showFollowList.busy) return;
    showFollowList.userId = this.v_userInfo.id;
    showFollowList.pageIndex = sender.v_pageIndex;
    showFollowList.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        var itemCount = 0;
        for (var i=0; i<dataset.rowCount; i++) {
            if (showFollowList.userId == dataset.getData(0,i)) continue;
            itemCount++;
            var item = createPanel(root, "flwl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        eb.processDock();
        var rect = eb.getDivRectSetting(g5.p4);
        ee.tiledV(sender, 0, rect.h, 500); 
        
        if (itemCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, "p2p16end", "", 0, cy, itemWidth, 60);
            addText(item, g5.lang.getByCn("没有更多了"), "center", "center", g5.fonts.n1, 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        
        if (sender.v_items.length>0) {
            var rect1 = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
            ee.tiledV(sender, 0, rect.h, eb.getClientSize().h - eb.getDivRect(sender.v_items[sender.v_items.length-1]).h - rect.h + 2); 
        }
        ee.tiledResizeV(sender, 2);
    }
    g5.loading.show();
    showFollowList();
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}

sender.loadMore = function() {
    if (this.v_status == "noResult") return;
    if (showFollowList.busy) return;
    this.v_pageIndex++;
    this.loadFromDB();
}]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p17</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>设置-账号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.show = function() {
    g5.changeP2(16);
    document.documentElement.scrollTop = 0;
    this.reset();
    this.selected = true;
    this.refresh();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/account");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledV(this,0,0,0);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
}

sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel168">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0653846153846154</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel168/panel169">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.231818181818182</sizeRatio>
      <text>账号</text>
      <top>0</top>
      <width>220</width>
      <widthRatio>0.366666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel168/panel363">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel171">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p20.show();
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    用户名</text>
      <top>46</top>
      <topRatio>0.058974358974359</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel171/panel172">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel171/panel173">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel129">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p26.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    头像和主题背景</text>
      <top>94</top>
      <topRatio>0.120512820512821</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel129/panel130">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel129/panel131">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel174">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p21.show();
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    手机</text>
      <top>142</top>
      <topRatio>0.182051282051282</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel174/panel175">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel174/panel176">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel177">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p22.show();
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    电子邮件</text>
      <top>189</top>
      <topRatio>0.242307692307692</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel177/panel178">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel177/panel179">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel15">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p25.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    网址</text>
      <top>237</top>
      <topRatio>0.303846153846154</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel15/panel17">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel15/panel128">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel12">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p24.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    简介</text>
      <top>282</top>
      <topRatio>0.361538461538462</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel12/panel13">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel12/panel14">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel620">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p35.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    打赏</text>
      <top>326</top>
      <topRatio>0.417948717948718</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel620/panel621">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel620/panel622">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel180">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p23.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    密码</text>
      <top>372</top>
      <topRatio>0.476923076923077</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel180/panel181">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel180/panel182">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel503">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p27.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    删除本账号</text>
      <top>416</top>
      <topRatio>0.533333333333333</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel503/panel504">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel503/panel505">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel133">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>96</height>
      <heightRatio>0.123076923076923</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.16</sizeRatio>
      <top>522</top>
      <topRatio>0.669230769230769</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel167/panel133/panel427">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.416666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>187</left>
      <leftRatio>0.311666666666667</leftRatio>
      <note>c_button</note>
      <onClick>if (!sender.v_enabled) return;
g5.p2.p2.show(g5.myUserInfo);
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));

g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);





</onCreate>
      <sizeRatio>0.177777777777778</sizeRatio>
      <text>进入我的个人主页</text>
      <top>28</top>
      <topRatio>0.291666666666667</topRatio>
      <width>225</width>
      <widthRatio>0.375</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p18</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>设置-隐私和安全</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.show = function() {
    g5.changeP2(17);
    document.documentElement.scrollTop = 0;
    this.reset();
    this.selected = true;
    this.refresh();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/PrivacySafety");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledV(this,0,0,0);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
    ee.tiledResizeV(this, 2);
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel190">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0653846153846154</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel190/panel191">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.168316831683168</sizeRatio>
      <text>隐私和安全</text>
      <top>0</top>
      <width>303</width>
      <widthRatio>0.505</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel190/panel211">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel193">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p30.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.selected = false;
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    已隐藏账号</text>
      <top>52</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel193/panel194">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel193/panel195">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel196">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p19.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = ""; 
sender.style.borderRight = "";

sender.selected = false;
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    已屏蔽账号</text>
      <top>101</top>
      <topRatio>0.129487179487179</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel196/panel197">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel196/panel198">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel524">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p28.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = ""; 
sender.style.borderRight = "";

sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    正常/私密模式</text>
      <top>149</top>
      <topRatio>0.191025641025641</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel524/panel525">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel524/panel526">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel535">
      <backgroundColor>FFC080</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.p2.p29.show();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = ""; 
sender.style.borderRight = "";

sender.selected = false;</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    加粉请求者</text>
      <top>195</top>
      <topRatio>0.25</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel535/panel536">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <layerVisible>false</layerVisible>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel189/panel535/panel537">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel208">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p19</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-隐私和安全-已屏蔽账号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>sender.reset();</onAniStart>
      <onCreate><![CDATA[sender.v_lastScrollTop = 0;
sender.v_items = new Array();
sender.c_title = g5.p4.a11.c_title;
sender.v_loaded = false;

sender.activePage = function() {
    g5.pushHistory2("/settings/blocked");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a11");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.refresh = function() {
    if (g5.currentPageIndex == 18) {
        this.v_loaded = false;
        this.show();
    } else {
        this.v_loaded = false;
    }
}

sender.refreshTitle = function() {
    var a = this.v_items.length;
    if (a<=0) {
        ee.setText(this.c_title, g5.lang.trans2("已屏蔽账号"));
    } else {
        ee.setText(this.c_title, g5.lang.trans2("已屏蔽账号(/%"+a+"%/人)"));
    }
    if (this.v_items.length>0) {
        ee.setVisible(this.c_noResult, false);
    } else {
        ee.setVisible(this.c_noResult, true);
    }
    ee.tiledResizeV(this, 2);
}

sender.show = function() {
    if (this.v_loaded) {
        g5.changeP2(18);
        document.documentElement.scrollTop = this.v_lastScrollTop;
        ee.tiledResizeV(this, 2);
        return;
    }
    //ee.setText(this.c_title, 
    //    v_userInfo.nickName+"已屏蔽的账号("+v_userInfo.fansCount+"人)");
    if (showBlockList.busy) return;
    document.documentElement.scrollTop = 0;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    g5.changeP2(18);
    showBlockList.onComplete = function(dataset) {
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "blok_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        sender.refreshTitle();
        eb.processDock();
        var rect = eb.getDivRectSetting(g5.p4);
        ee.tiledV(sender, 0, rect.h, 500); 
        if (sender.v_items.length>0) {
            var rect1 = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
            ee.tiledV(sender, 0, rect.h, eb.getClientSize().h - eb.getDivRect(sender.v_items[sender.v_items.length-1]).h - rect.h + 2); 
        }
        sender.v_loaded = true;
        ee.tiledResizeV(sender, 2);
    }
    showBlockList();               
}

sender.deleteUser = function(userId) {
    var i;
    for (i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id == userId) break;
    }
    if (i>=this.v_items.length) return;
    ee.removeControl(this.v_items[i]);
    this.v_items.splice(i,1);
    ee.tiledResizeV(this, 2);
    this.refreshTitle();
}


sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel208/panel551">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_noResult</ee_LocalName>
      <height>376</height>
      <heightRatio>0.535612535612536</heightRatio>
      <layerName>无内容提示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.626666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel208/panel551/panel552">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>您没有屏蔽任何用户</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel208/panel551/panel553">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>有了之后就会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel208/panel551/panel554">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.255</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p20</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改用户名</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_edit = this.c_body.c_p2.c_edit;
sender.c_btnSave = this.c_body.c_btnSave;      

sender.show = function() {
    g5.changeP2(19);
    ee.setText(this.c_body.c_p1.c_labelNickName, g5.myUserInfo.nickName);
    ee.setEditText(this.c_edit, "");
    this.refresh();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/username");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.refresh = function() {
    var t = ee.getEditText(this.c_edit);
    this.c_btnSave.setEnabled(
        t.length<=20 &amp;&amp; t.length>=3
    );
}

                                
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel62">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel62/panel164">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.188888888888889</sizeRatio>
      <text>修改用户名</text>
      <top>0</top>
      <width>270</width>
      <widthRatio>0.45</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel62/panel165">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <ee_LocalName>c_body</ee_LocalName>
      <height>309</height>
      <heightRatio>0.44017094017094</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>0.515</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel185">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>66</height>
      <heightRatio>0.213592233009709</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>10</top>
      <topRatio>0.0323624595469256</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel185/panel186">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.104477611940299</sizeRatio>
      <text>当前用户名：</text>
      <top>0</top>
      <width>268</width>
      <widthRatio>0.462068965517241</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel185/panel187">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <ee_LocalName>c_labelNickName</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0509090909090909</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel188">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_p2</ee_LocalName>
      <height>66</height>
      <heightRatio>0.213592233009709</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>123</top>
      <topRatio>0.398058252427184</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel188/panel278">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.104477611940299</sizeRatio>
      <text>新用户名</text>
      <top>0</top>
      <width>268</width>
      <widthRatio>0.462068965517241</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel61/panel166/panel188/edit19">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <ee_LocalName>c_edit</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>g5.p2.p20.refresh();</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
</onCreate>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <text>请在这里输入新的用户名</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel188/panel369">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel373">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0323624595469256</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>95</top>
      <topRatio>0.307443365695793</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel374">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0647249190938511</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>207</top>
      <topRatio>0.669902912621359</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel61/panel166/panel376">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_btnSave</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.129449838187702</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
if (changeNickName.busy) return;
var p1 = ee.getEditText(ee.getControl("edit19"));
if (p1.length>20) {
    g5.alert1("用户名错误", "您输入的用户名过长，用户名的长度不能超过20个英文或者汉字");
    return;
}
if (p1.length<3) {
    g5.alert1("用户名错误", "您输入的用户名短，用户名的长度不能少于3个英文或者汉字");
    return;
}

changeNickName.nickName = p1;
changeNickName.onComplete = function() {
    g5.alert1("完成", "用户名修改完成，您的新用户名是：" + p1);
    history.go(-1);
    getUserInfo();    
}
changeNickName();
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);








</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.796116504854369</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p21</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改手机号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.c_btn1 = sender.p2.c_btn1;
sender.show = function() {
    g5.changeP2(20);
    ee.setEditText(ee.getControl("edit8"),"");
    ee.setEditText(ee.getControl("edit9"),"");
    ee.setEditText(ee.getControl("edit10"),"");
    sender.c_btn1.setEnabled(false);
    
    ee.setText(ee.getControl("panel381"), g5.myUserInfo.mobile);
    ee.setEditText(ee.getControl("edit18"), "");
}

sender.activePage = function() {
    g5.pushHistory2("/settings/cellphone");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

</onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel371">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel371/panel372">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.178321678321678</sizeRatio>
      <text>修改手机号码</text>
      <top>0</top>
      <width>286</width>
      <widthRatio>0.476666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel371/panel377">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <ee_LocalName>p2</ee_LocalName>
      <height>320</height>
      <heightRatio>0.455840455840456</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>0.533333333333333</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel379">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.20625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>10</top>
      <topRatio>0.03125</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel379/panel380">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>当前手机号码：</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.337931034482759</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel379/panel381">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <sizeRatio>0.115702479338843</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>242</width>
      <widthRatio>0.417241379310345</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel382">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.20625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>123</top>
      <topRatio>0.384375</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel382/panel383">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新手机号码</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.337931034482759</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel370/panel378/panel382/edit18">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <text>请在这里输入新的手机号码</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel382/panel384">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel385">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.03125</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>95</top>
      <topRatio>0.296875</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel386">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>207</top>
      <topRatio>0.646875</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel370/panel378/panel387">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_btn1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.125</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <onClick><![CDATA[if (changeMobile.busy) return;
var p1 = ee.getEditText(ee.getControl("edit18"));
if (p1.length<=0) {
    g5.popBlack.a6.show(
        "删除手机号",
        "是否将您的手机号信息删除？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            changeMobile.mobile = p1;
            changeMobile.onComplete = function() {
                g5.alert1("完成", "手机号码修改完成，您的手机号码信息已删除。");
                history.go(-1);
                getUserInfo();    
            }
            changeMobile();
        },
        function() {
        }
    );
    return;    
}

changeMobile.mobile = p1;
changeMobile.onComplete = function() {
    g5.alert1("完成", "手机号码修改完成，您的新手机号是：" + p1);
    history.go(-1);
    getUserInfo();    
}
changeMobile();
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);






</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.76875</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p22</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改电子邮件</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_btn1 = sender.p2.c_btn1;
sender.c_edit1 = sender.p2.p2.c_edit1;

sender.refresh = function() {
    var email = ee.getEditText(sender.c_edit1);
    var v = true;
    if (email.length>0) {
        if (!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(email)) {
            v = false;
        }
    }
    sender.c_btn1.setEnabled(v);
}

sender.show = function() {
    g5.changeP2(21);
    ee.setEditText(ee.getControl("edit8"),"");
    ee.setEditText(ee.getControl("edit9"),"");
    ee.setEditText(ee.getControl("edit10"),"");
    sender.c_btn1.setEnabled(true);
    
    ee.setText(ee.getControl("panel395"), g5.myUserInfo.email);
    ee.setEditText(ee.getControl("edit20"), "");
}

sender.activePage = function() {
    g5.pushHistory2("/settings/email");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel389">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel389/panel390">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.17</sizeRatio>
      <text>修改电子邮箱</text>
      <top>0</top>
      <width>300</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel389/panel391">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p2</ee_LocalName>
      <height>316</height>
      <heightRatio>0.45014245014245</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>0.526666666666667</sizeRatio>
      <top>51</top>
      <topRatio>0.0726495726495727</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel393">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.208860759493671</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>10</top>
      <topRatio>0.0316455696202532</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel393/panel394">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0172413793103448</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.05</sizeRatio>
      <text>当前电子邮箱：</text>
      <top>0</top>
      <width>560</width>
      <widthRatio>0.96551724137931</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel393/panel395">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0172413793103448</leftRatio>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.05</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>560</width>
      <widthRatio>0.96551724137931</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel396">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p2</ee_LocalName>
      <height>66</height>
      <heightRatio>0.208860759493671</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>123</top>
      <topRatio>0.389240506329114</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel396/panel397">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新电子邮箱</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.337931034482759</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel388/panel392/panel396/edit20">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <ee_LocalName>c_edit1</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>g5.p2.p22.refresh();</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <text>请在这里输入新的电子邮箱</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel396/panel398">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel399">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0316455696202532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>95</top>
      <topRatio>0.300632911392405</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel400">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0632911392405063</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>207</top>
      <topRatio>0.655063291139241</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel388/panel392/panel401">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_btn1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.126582278481013</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <onClick><![CDATA[if (changeEmail.busy) return;
var p1 = ee.getEditText(ee.getControl("edit20"));
if (p1.length<=0) {
    g5.popBlack.a6.show(
        "删除电子邮箱",
        "是否将您的电子邮箱地址删除？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            changeEmail.email = p1;
            changeEmail.onComplete = function() {
                g5.alert1("完成", "电子邮箱地址修改完成，您的电子邮箱地址信息已删除。");
                history.go(-1);
                getUserInfo();    
            }
            changeEmail();
        },
        function() {
        }
    );
    return;    
} else if (p1.length>30) {
    g5.alert1("提示", "电子邮件的地址不能超过30个英文字符。");
    return;
}

changeEmail.email = p1;
changeEmail.onComplete = function() {
    g5.alert1("完成", "电子邮箱地址修改完成，您的新电子邮箱地址是：" + p1);
    history.go(-1);
    getUserInfo();    
}
changeEmail();]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);










</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.778481012658228</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p23</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改密码</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.refresh = function() {
    ee.getControl("panel248").setEnabled(
        (ee.getEditText(ee.getControl("edit8")).length>0) &amp;&amp;
        (ee.getEditText(ee.getControl("edit9")).length>0) &amp;&amp;
        (ee.getEditText(ee.getControl("edit10")).length>0)
    );
}

sender.show = function() {
    g5.changeP2(22);
    ee.setEditText(ee.getControl("edit8"),"");
    ee.setEditText(ee.getControl("edit9"),"");
    ee.setEditText(ee.getControl("edit10"),"");
    ee.getControl("panel248").setEnabled(false);
}

sender.activePage = function() {
    g5.pushHistory2("/settings/password");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

                                
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel234">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel234/panel235">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.172297297297297</sizeRatio>
      <text>修改密码</text>
      <top>0</top>
      <width>296</width>
      <widthRatio>0.493333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel234/panel228">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>399</height>
      <heightRatio>0.568376068376068</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>0.665</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel237">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>10</top>
      <topRatio>0.025062656641604</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel237/panel238">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0972222222222222</sizeRatio>
      <text>当前密码</text>
      <top>0</top>
      <width>288</width>
      <widthRatio>0.496551724137931</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel231/panel236/panel237/edit8">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>ee.getControl("panel231").refresh();
</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel237/panel239">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel240">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>123</top>
      <topRatio>0.308270676691729</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel240/panel241">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0972222222222222</sizeRatio>
      <text>新密码</text>
      <top>0</top>
      <width>288</width>
      <widthRatio>0.496551724137931</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel231/panel236/panel240/edit9">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel240/panel249">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel243">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>210</top>
      <topRatio>0.526315789473684</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel243/panel244">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0972222222222222</sizeRatio>
      <text>确认密码</text>
      <top>0</top>
      <width>288</width>
      <widthRatio>0.496551724137931</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel231/panel236/panel243/edit10">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0745454545454545</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel243/panel250">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00344827586206897</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel246">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.025062656641604</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>95</top>
      <topRatio>0.238095238095238</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel247">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.050125313283208</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>291</top>
      <topRatio>0.729323308270677</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel231/panel236/panel248">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.100250626566416</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <onClick>if (!sender.v_enabled) return;
var p1 = ee.getEditText(ee.getControl("edit8"));
var p2 = ee.getEditText(ee.getControl("edit9"));
var p3 = ee.getEditText(ee.getControl("edit10"));
if (p2!=p3) {
    g5.alert1("提示", "新密码两次输入的不一致，请重新输入");
    return;
}

changePassword.old = p1;
changePassword.new = p2;
changePassword.onComplete = function(参数) {
    g5.alert1("提示", "密码修改完成，请牢记您的新密码");
    history.go(-1); 
}
changePassword();
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);










</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>323</top>
      <topRatio>0.80952380952381</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p24</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改简介</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_edit = ee.getControl("edit5"); 
sender.c_button = ee.getControl("panel443");
sender.show = function() {
    g5.changeP2(23);
    ee.setEditText(this.c_edit, g5.myUserInfo.note);
    g5.p2.p24.refreshProgress(ee.getControl("edit5"), ee.getControl("panel437"), 160);
}

sender.activePage = function() {
    g5.pushHistory2("/settings/comment");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.refreshProgress = function(edit, pdiv, maxValue) {
    var text = ee.getEditText(edit);
    if (text.length<(maxValue*0.8)) {
        pdiv.v_color = "#29a5f2";
        pdiv.v_r = "9";
        pdiv.refresh(text.length/maxValue);
        ee.setTextColor(pdiv.parentNode, "rgb(101, 119, 134)");
        this.c_button.setEnabled(true);        
    } else if (text.length<=maxValue) {
        pdiv.v_color = "#ffad1f";
        pdiv.v_r = "12";
        pdiv.refresh(text.length/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#ffad1f");
        this.c_button.setEnabled(true);        
    } else {
        pdiv.v_color = "#e0245e";
        pdiv.v_r = "14";
        pdiv.refresh((text.length-maxValue)/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#e0245e");
        this.c_button.setEnabled(false);        
    }
    ee.setText(pdiv.parentNode, text.length + "/" + maxValue);    
}
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel429">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel429/panel430">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.213389121338912</sizeRatio>
      <text>修改简介</text>
      <top>0</top>
      <width>239</width>
      <widthRatio>0.398333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel429/panel431">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>408</height>
      <heightRatio>0.581196581196581</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>0.68</sizeRatio>
      <top>51</top>
      <topRatio>0.0726495726495727</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel441">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0245098039215686</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel442">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0490196078431373</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>305</top>
      <topRatio>0.747549019607843</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel443">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0980392156862745</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <note>c_button</note>
      <onClick>if (!sender.v_enabled) return;
if (changeNote.busy) return;
var p1 = ee.getEditText(g5.p2.p24.c_edit);
changeNote.note = p1;
changeNote.onComplete = function() {
    g5.myUserInfo.note = p1;
    g5.refreshUserInfo();
    window.history.go(-1);
}
changeNote();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);










</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>344</top>
      <topRatio>0.843137254901961</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>273</height>
      <heightRatio>0.669117647058823</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.4875</sizeRatio>
      <top>19</top>
      <topRatio>0.0465686274509804</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/panel436">
      <dockX>right</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.146520146520147</heightRatio>
      <layerVisible>false</layerVisible>
      <left>439</left>
      <leftRatio>0.783928571428571</leftRatio>
      <outerRight>20</outerRight>
      <sizeRatio>0.396039603960396</sizeRatio>
      <text>0/160</text>
      <top>0</top>
      <width>101</width>
      <widthRatio>0.180357142857143</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/panel436/panel437">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.386138613861386</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/edit5">
      <backgroundColor>F5F5FA</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>233</height>
      <heightRatio>0.853479853479853</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <multiLine>true</multiLine>
      <note>c_edit</note>
      <onChange>g5.p2.p24.refreshProgress(ee.getControl("edit5"), ee.getControl("panel437"), 160);</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender._input.style.resize = "none";</onCreate>
      <sizeRatio>0.416071428571429</sizeRatio>
      <text>添加你的简介</text>
      <top>40</top>
      <topRatio>0.146520146520147</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/edit5/panel438">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.00858369098712446</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00357142857142857</sizeRatio>
      <top>231</top>
      <topRatio>0.991416309012876</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/edit5/panel440">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00429184549356223</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00178571428571429</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel428/panel432/panel435/panel439">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.102564102564103</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.168674698795181</sizeRatio>
      <text>简介</text>
      <top>7</top>
      <topRatio>0.0256410256410256</topRatio>
      <width>166</width>
      <widthRatio>0.296428571428571</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p25</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-修改网址</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_edit = ee.getControl("edit15");
sender.c_button = ee.getControl("panel451");
sender.c_rProgress = ee.getControl("panel454");
sender.v_initValue = "";

sender.show = function() {
    g5.changeP2(24);
    ee.setEditText(this.c_edit, g5.myUserInfo.homePage);
    this.v_initValue = g5.myUserInfo.homePage;
    this.refreshProgress(this.c_edit, this.c_rProgress, 50);
}

sender.activePage = function() {
    g5.pushHistory2("/settings/homepage");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.refreshProgress = function(edit, pdiv, maxValue) {
    var text = ee.getEditText(edit);
    if (text.length<(maxValue*0.8)) {
        pdiv.v_color = "#29a5f2";
        pdiv.v_r = "9";
        pdiv.refresh(text.length/maxValue);
        ee.setTextColor(pdiv.parentNode, "rgb(101, 119, 134)");
        this.c_button.setEnabled(true);        
    } else if (text.length<=maxValue) {
        pdiv.v_color = "#ffad1f";
        pdiv.v_r = "12";
        pdiv.refresh(text.length/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#ffad1f");
        this.c_button.setEnabled(true);        
    } else {
        pdiv.v_color = "#e0245e";
        pdiv.v_r = "14";
        pdiv.refresh((text.length-maxValue)/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#e0245e");
        this.c_button.setEnabled(false);        
    }
    ee.setText(pdiv.parentNode, text.length + "/" + maxValue);
    if (this.v_initValue == text) this.c_button.setEnabled(false);     
}
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel445">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel445/panel446">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.193916349809886</sizeRatio>
      <text>修改网址</text>
      <top>0</top>
      <width>263</width>
      <widthRatio>0.438333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel445/panel447">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>219</height>
      <heightRatio>0.311965811965812</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>0.365</sizeRatio>
      <top>51</top>
      <topRatio>0.0726495726495727</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel449">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.045662100456621</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel450">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.091324200913242</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>114</top>
      <topRatio>0.520547945205479</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel451">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.182648401826484</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <note>c_button</note>
      <onClick>if (!sender.v_enabled) return;
if (changeHomePage.busy) return;
var p1 = ee.getEditText(g5.p2.p25.c_edit);
changeHomePage.homePage = p1;
changeHomePage.onComplete = function() {
    g5.myUserInfo.homePage = p1;
    g5.refreshUserInfo();
    window.history.go(-1);
}
changeHomePage();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>153</top>
      <topRatio>0.698630136986301</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>83</height>
      <heightRatio>0.378995433789954</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.148214285714286</sizeRatio>
      <top>20</top>
      <topRatio>0.091324200913242</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/panel453">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.481927710843373</heightRatio>
      <layerVisible>false</layerVisible>
      <left>431</left>
      <leftRatio>0.769642857142857</leftRatio>
      <sizeRatio>0.396039603960396</sizeRatio>
      <text>0/160</text>
      <top>0</top>
      <width>101</width>
      <widthRatio>0.180357142857143</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/panel453/panel454">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_rProgress</note>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.386138613861386</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/edit15">
      <backgroundColor>F5F5FA</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>43</height>
      <heightRatio>0.518072289156627</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_edit</note>
      <onChange>g5.p2.p25.refreshProgress(g5.p2.p25.c_edit, g5.p2.p25.c_rProgress, 50);</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender._input.style.resize = "none";</onCreate>
      <sizeRatio>0.0767857142857143</sizeRatio>
      <text>添加您的网址</text>
      <top>40</top>
      <topRatio>0.481927710843373</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/edit15/panel455">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0465116279069767</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00357142857142857</sizeRatio>
      <top>41</top>
      <topRatio>0.953488372093023</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/edit15/panel456">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0232558139534884</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00178571428571429</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel444/panel448/panel452/panel457">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.337349397590361</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.168674698795181</sizeRatio>
      <text>网址</text>
      <top>7</top>
      <topRatio>0.0843373493975904</topRatio>
      <width>166</width>
      <widthRatio>0.296428571428571</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p26</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-头像和主题背景</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.c_userPhoto = ee.getControl("panel468");
sender.c_titleBg = ee.getControl("panel472");
sender.c_button = ee.getControl("panel465");
sender.v_newUserPhoto = "";
sender.v_newTitleBg = "";

sender.show = function() {
    g5.changeP2(25);
    ee.setImage(this.c_userPhoto, g5.getUserPhotoUrl(g5.myUserInfo.photo)[1], "trim","","");
    ee.setImage(this.c_titleBg, g5.getUserTitleBgUrl(g5.myUserInfo.titleBg)[1], "trim","","");
    sender.v_newUserPhoto = g5.myUserInfo.photo;
    sender.v_newTitleBg = g5.myUserInfo.titleBg;
    this.checkValid();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/image");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.checkValid = function() {
    this.c_button.setEnabled((sender.v_newUserPhoto!=g5.myUserInfo.photo) || ((sender.v_newTitleBg!=g5.myUserInfo.titleBg))); 
}

</onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel459">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel459/panel460">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.134920634920635</sizeRatio>
      <text>修改头像和主题背景</text>
      <top>0</top>
      <width>378</width>
      <widthRatio>0.63</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel459/panel461">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>422</height>
      <heightRatio>0.601139601139601</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>0.703333333333333</sizeRatio>
      <top>51</top>
      <topRatio>0.0726495726495727</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel463">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.023696682464455</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel464">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0473933649289099</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>325</top>
      <topRatio>0.770142180094787</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel465">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0947867298578199</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <note>c_button</note>
      <onClick>if (!sender.v_enabled) return;
if (changeUserPhoto.busy) return;
var p1 = ee.getEditText(g5.p2.p24.c_edit);
//photo,titleBg,onComplete
changeUserPhoto.photo = g5.p2.p26.v_newUserPhoto; 
changeUserPhoto.titleBg = g5.p2.p26.v_newTitleBg; 
changeUserPhoto.onComplete = function() {
    g5.myUserInfo.photo = changeUserPhoto.photo;
    g5.myUserInfo.titleBg = changeUserPhoto.titleBg;
    g5.refreshUserInfo();
    window.history.go(-1);
}
changeUserPhoto();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>364</top>
      <topRatio>0.862559241706161</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>293</height>
      <heightRatio>0.694312796208531</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.523214285714286</sizeRatio>
      <top>20</top>
      <topRatio>0.0473933649289099</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel132">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>195</height>
      <heightRatio>0.665529010238908</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.348214285714286</sizeRatio>
      <top>98</top>
      <topRatio>0.334470989761092</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel472">
      <backgroundColor>0E5079</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>171</height>
      <heightRatio>0.583617747440273</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_titleBg</note>
      <sizeRatio>0.305357142857143</sizeRatio>
      <top>43</top>
      <topRatio>0.146757679180887</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel472/panel473">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.298245614035088</heightRatio>
      <layerVisible>false</layerVisible>
      <left>251</left>
      <leftRatio>0.448214285714286</leftRatio>
      <onClick>if (event.target.tagName.toUpperCase() != "INPUT") {
    sender.c_file.blur();
    sender.c_file.click();
}
</onClick>
      <onCreate><![CDATA[sender.compressRatio = 0.85;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                var imgs = new Array();
                var exts = ["s", ""];
                imgs.push(sender.resize(image, 200*200));
                imgs.push(sender.resize(image, 800*800));
                if (!imgs[0] || !imgs[1]) return;
                //upload immediately
                uploadImage2.imgs = imgs;
                uploadImage2.imgExt = exts;
                uploadImage2.onComplete = function(newFiles) {
                    ee.setImage(g5.p2.p26.c_titleBg, g5.getUserTitleBgUrl(newFiles[0])[1], "trim","","");
                    g5.p2.p26.v_newTitleBg = newFiles[0];
                    g5.p2.p26.checkValid();
                }
                uploadImage2();
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}


sender.resize = function (img, maxSize) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>maxSize) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(maxSize/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>60</top>
      <topRatio>0.350877192982456</topRatio>
      <width>57</width>
      <widthRatio>0.101785714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel471">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.0955631399317406</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0985915492957746</sizeRatio>
      <text>头像和主题背景</text>
      <top>7</top>
      <topRatio>0.0238907849829352</topRatio>
      <width>284</width>
      <widthRatio>0.507142857142857</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel469">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0068259385665529</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00357142857142857</sizeRatio>
      <top>291</top>
      <topRatio>0.993174061433447</topRatio>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel468">
      <backgroundImg>user.png</backgroundImg>
      <height>119</height>
      <heightRatio>0.406143344709898</heightRatio>
      <layerVisible>false</layerVisible>
      <left>34</left>
      <leftRatio>0.0607142857142857</leftRatio>
      <lockRatio>true</lockRatio>
      <note>c_userPhoto</note>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";
</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>146</top>
      <topRatio>0.498293515358362</topRatio>
      <width>119</width>
      <widthRatio>0.2125</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel458/panel462/panel466/panel468/panel470">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.428571428571429</heightRatio>
      <layerVisible>false</layerVisible>
      <left>28</left>
      <leftRatio>0.235294117647059</leftRatio>
      <onClick>if (event.target.tagName.toUpperCase() != "INPUT") {
    sender.c_file.blur();
    sender.c_file.click();
}
</onClick>
      <onCreate><![CDATA[sender.compressRatio = 0.85;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                var imgs = new Array();
                var exts = ["s", ""];
                imgs.push(sender.resize(image, 100*100));
                imgs.push(sender.resize(image, 800*800));
                if (!imgs[0] || !imgs[1]) return;
                //upload immediately
                uploadImage2.imgs = imgs;
                uploadImage2.imgExt = exts;
                uploadImage2.onComplete = function(newFiles) {
                    ee.setImage(g5.p2.p26.c_userPhoto, g5.getUserPhotoUrl(newFiles[0])[1], "trim","","");
                    g5.p2.p26.v_newUserPhoto = newFiles[0];
                    g5.p2.p26.checkValid();
                }
                uploadImage2();
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}


sender.resize = function (img, maxSize) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>maxSize) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(maxSize/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <outerBottom>8</outerBottom>
      <outerRight>6</outerRight>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>30</top>
      <topRatio>0.252100840336134</topRatio>
      <width>57</width>
      <widthRatio>0.478991596638655</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p27</ee_LocalName>
      <height>774</height>
      <heightRatio>0.992307692307692</heightRatio>
      <layerName>设置-账号-注销</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.a1 = ee.getControl("panel493");
sender.a2 = ee.getControl("panel498");

sender.show = function() {
    if (g5.myUserInfo.status == "DelIn") {
        this.changePage("a2");
        ee.setText(sender.a2.c_label, "");
        getDelInTime.onComplete = function(timeRemain) {
            var s = "";
            var t = "";
            if (timeRemain>3600*24) {
                t+=parseInt(timeRemain/3600/24) + g5.lang.getByTCn(500,"天");
            }
            if (timeRemain>3600) {
                t+=parseInt((timeRemain%(3600*24))/3600) + g5.lang.getByTCn(500,"小时");
            }
            t+=parseInt((timeRemain%(3600))/60) + g5.lang.getByTCn(500,"分钟");
            s += g5.lang.getByCn("您目前处于账号冷却期，距离账号永久删除还剩");
            if (g5.isMobile) {
                s += "\n<spawn style='color:#a06060;font-size:25px'><b>" + t + "</b></spawn>";
            } else {
                s += "\n<spawn style='color:#a06060;font-size:35px'><b>" + t + "</b></spawn>";
            }
            s += "\n" + g5.lang.getByCn("您可以随时停止删除。");
            ee.setText(sender.a2.c_label, s);
        }
        getDelInTime();
    } else {
        this.changePage("a1");
    }
    if (g5.currentPageIndex == 26) {
        g5.notPushHistoryCount++;
    }
    g5.changeP2(-1);
    g5.changeP2(26);
}

sender.activePage = function() {
    g5.pushHistory2("/settings/DelAccount");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.v_currentPageName = "";
sender.changePage = function(pageName) {
    if (this.v_currentPageName == "a1") {
        ee.setVisible(this.a1, false);
    } else if (this.v_currentPageName == "a2") {
        ee.setVisible(this.a2, false);
    }
    if (pageName == "a1") {
        ee.setVisible(this.a1, true);
    } else if (pageName == "a2") {
        ee.setVisible(this.a2, true);
    }
    this.v_currentPageName = pageName;
}
]]></onCreate>
      <sizeRatio>1.29</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel490">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0658914728682171</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel490/panel491">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.204819277108434</sizeRatio>
      <text>删除本账号</text>
      <top>0</top>
      <width>249</width>
      <widthRatio>0.415</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel490/panel492">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>411</height>
      <heightRatio>0.531007751937985</heightRatio>
      <layerName><![CDATA[a1->账号正常状态]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>0.685</sizeRatio>
      <top>51</top>
      <topRatio>0.0658914728682171</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493/panel494">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.024330900243309</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493/panel495">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.048661800486618</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>280</top>
      <topRatio>0.681265206812652</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493/panel496">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.097323600973236</heightRatio>
      <layerVisible>false</layerVisible>
      <left>464</left>
      <leftRatio>0.773333333333333</leftRatio>
      <note>c_button</note>
      <onClick>g5.popBlack.a6.show(
    "删除账号",
    "您的账号将进入删除冷却期，冷却期结束后账号将被永久删除，您是否要继续删除自己的账号？",
    [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
    [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
    function() {
        delAccount.onComplete = function() {
            g5.myUserInfo.status = "DelIn";
            g5.p2.p27.show();
        }
        delAccount();
    },
    function() {
    }
);


</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.330578512396694</sizeRatio>
      <text>确定删除</text>
      <top>326</top>
      <topRatio>0.793187347931874</topRatio>
      <width>121</width>
      <widthRatio>0.201666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493/panel497">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>242</height>
      <heightRatio>0.588807785888078</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.432142857142857</sizeRatio>
      <top>20</top>
      <topRatio>0.048661800486618</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel493/panel497/panel502">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>222</height>
      <heightRatio>0.917355371900827</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.getLabel(sender).style.fontSize = "15px";</onCreate>
      <outerBottom>10</outerBottom>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.411111111111111</sizeRatio>
      <text>· 账号被删除后，您将不能登录本系统，同时您以前发的短文都将不可见，别的用户也无法查看您的个人信息。

· 您确定要删除您的账号后，我们会给您提供3天的冷却期，在这期间，您可以撤销您的删除账号请求。

· 冷却期过后，您的账号将被永久删除。如果需要恢复，需要和客服人员联系。</text>
      <top>10</top>
      <topRatio>0.0413223140495868</topRatio>
      <width>540</width>
      <widthRatio>0.964285714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>676</height>
      <heightRatio>0.873385012919897</heightRatio>
      <layerName><![CDATA[a2->删除冷却期]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.c_label = ee.getControl("panel509");</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>1.12666666666667</sizeRatio>
      <top>51</top>
      <topRatio>0.0658914728682171</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel499">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.014792899408284</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel500">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.029585798816568</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>461</top>
      <topRatio>0.681952662721893</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel501">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0591715976331361</heightRatio>
      <layerVisible>false</layerVisible>
      <left>464</left>
      <leftRatio>0.773333333333333</leftRatio>
      <note>c_button</note>
      <onClick>g5.popBlack.a6.show(
    "停止删除账号",
    "您的账号处于删除冷却期，冷却期结束后账号将被永久删除，您是否要停止删除自己的账号？",
    [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
    [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","停止删除","停止删除","#ffffff","#ffffff","#ffffff","")],
    function() {
        delAccount.onComplete = function() {
            g5.myUserInfo.status = "IDL";
            g5.p2.p27.show();
        }
        delAccount();
    },
    function() {
    }
);


</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.330578512396694</sizeRatio>
      <text>停止删除</text>
      <top>507</top>
      <topRatio>0.75</topRatio>
      <width>121</width>
      <widthRatio>0.201666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel506">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>242</height>
      <heightRatio>0.357988165680473</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.432142857142857</sizeRatio>
      <top>20</top>
      <topRatio>0.029585798816568</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel506/panel507">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>222</height>
      <heightRatio>0.917355371900827</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.getLabel(sender).style.fontSize = "15px";</onCreate>
      <outerBottom>10</outerBottom>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.411111111111111</sizeRatio>
      <text>· 账号被删除后，您将不能登录本系统，同时您以前发的短文都将不可见，别的用户也无法查看您的个人信息。

· 您确定要删除您的账号后，我们会给您提供3天的冷却期，在这期间，您可以撤销您的删除账号请求。

· 冷却期过后，您的账号将被永久删除。如果需要恢复，需要和客服人员联系。</text>
      <top>10</top>
      <topRatio>0.0413223140495868</topRatio>
      <width>540</width>
      <widthRatio>0.964285714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel508">
      <backgroundColor>EBEEFA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>171</height>
      <heightRatio>0.252958579881657</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.305357142857143</sizeRatio>
      <top>275</top>
      <topRatio>0.406804733727811</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel489/panel498/panel508/panel509">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>151</height>
      <heightRatio>0.883040935672515</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0178571428571429</leftRatio>
      <onCreate>ee.getLabel(sender).style.fontSize = "15px";</onCreate>
      <outerBottom>10</outerBottom>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.27962962962963</sizeRatio>
      <text>您目前处于账号冷却期，距离账号永久删除还剩
3天20小时23分
您可以随时停止删除。</text>
      <top>10</top>
      <topRatio>0.0584795321637427</topRatio>
      <width>540</width>
      <widthRatio>0.964285714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p28</ee_LocalName>
      <height>781</height>
      <heightRatio>1.00128205128205</heightRatio>
      <layerName>设置-隐私和安全-私密状态</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_imgBase = ee.getControl("panel522");
sender.c_text = sender.c_body.c_textBase.c_text;

sender.show = function() {
   if (g5.myUserInfo.status == "Private") {
        sender.setText(
            "您的账号处于<font style='font-size:16pt' color='#a06060'><b>私密模式</b></font><br\><br\>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在私密模式下，您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>任何人想加入您的粉丝必须得到您的确认。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>您也可以把您的账号切换为<font color='#a06060'><b>正常模式</b></font>。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在正常模式下，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。</li>"
        );
    } else {
        sender.setText(
            "您的账号处于<font style='font-size:16pt' color='#a06060'><b>正常模式</b></font><br\><br\>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在正常模式下，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>您也可以把您的账号切换为<font color='#a06060'><b>私密模式</b></font>。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在私密模式下，您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。</li>" +
            "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>任何人想加入您的粉丝必须得到您的确认。</li>"
        );
    }
    
    if (g5.currentPageIndex == 27) {
        g5.notPushHistoryCount++;
    }
    g5.changeP2(-1);
    g5.changeP2(27);
}

sender.activePage = function() {
    g5.pushHistory2("/settings/private");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.setText = function(text) {
    text = g5.lang.getByCn(text);
    ee.setText(sender.c_text, text);
    sender.c_text.label.style.height = "";
    var h = sender.c_text.label.offsetHeight;
    ee.setRect(sender.c_body.c_textBase,null,null,null,h+20);
    eb.processDock();
}


]]></onCreate>
      <sizeRatio>1.30166666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel515">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>c_title</ee_LocalName>
      <height>51</height>
      <heightRatio>0.0653008962868118</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel515/panel516">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.173469387755102</sizeRatio>
      <text>正常/私密模式</text>
      <top>0</top>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel515/panel517">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>c_body</ee_LocalName>
      <height>717</height>
      <heightRatio>0.918053777208707</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>1.195</sizeRatio>
      <top>51</top>
      <topRatio>0.0653008962868118</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518/panel519">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0139470013947001</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518/panel520">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel522</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0278940027894003</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <outerTop>15</outerTop>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>324</top>
      <topRatio>0.451882845188285</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518/panel521">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <bindControl>panel522</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0557880055788006</heightRatio>
      <layerVisible>false</layerVisible>
      <left>413</left>
      <leftRatio>0.688333333333333</leftRatio>
      <note>c_button</note>
      <onClick><![CDATA[if (g5.myUserInfo.status == "Private") {
    g5.popBlack.a6.show(
        "切换模式",
        "您的账号处于<font color='#a06060'><b>私密模式</b></font>，" +
            "切换为<font color='#a06060'><b>正常模式</b></font>后，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。\n您是否确定切换？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定切换","确定切换","#ffffff","#ffffff","#ffffff","")],
        function() {
            setAccountPrivate.onComplete = function() {
                g5.myUserInfo.status = "IDL";
                g5.p2.p28.show();
            }
            setAccountPrivate();
        },
        function() {
        }
    );
} else {
    g5.popBlack.a6.show(
        "切换模式",
        "您的账号处于<font color='#a06060'><b>正常模式</b></font>，" +
            "切换为<font color='#a06060'><b>私密模式</b></font>后" +
            "您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。任何人想加入您的粉丝必须得到您的确认。\n您是否确定切换？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定切换","确定切换","#ffffff","#ffffff","#ffffff","")],
        function() {
            setAccountPrivate.onComplete = function() {
                g5.myUserInfo.status = "Private";
                g5.p2.p28.show();
            }
            setAccountPrivate();
        },
        function() {
        }
    );
}
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);






</onCreate>
      <outerRight>15</outerRight>
      <outerTop>60</outerTop>
      <sizeRatio>0.232558139534884</sizeRatio>
      <text>切换模式</text>
      <top>369</top>
      <topRatio>0.514644351464435</topRatio>
      <width>172</width>
      <widthRatio>0.286666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518/panel522">
      <backgroundColor>EBEEFA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_textBase</ee_LocalName>
      <height>289</height>
      <heightRatio>0.403068340306834</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.498275862068966</sizeRatio>
      <top>20</top>
      <topRatio>0.0278940027894003</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel514/panel518/panel522/panel523">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_text</ee_LocalName>
      <fontColor>404040</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>269</height>
      <heightRatio>0.930795847750865</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0172413793103448</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.480357142857143</sizeRatio>
      <text>.</text>
      <top>10</top>
      <topRatio>0.0346020761245675</topRatio>
      <vAlign>top</vAlign>
      <width>560</width>
      <widthRatio>0.96551724137931</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel531">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p29</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>设置-隐私和安全-加粉请求者</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_lastScrollTop = 0;
sender.v_items = new Array();
sender.v_userInfo = new g5.UserInfo();
sender.c_title = g5.p4.a12.c_title;
sender.v_needRefresh = false;

sender.activePage = function() {
    g5.pushHistory2("/settings/FansRequest");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a12");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.showByUserName = function(userName) {
    if (getOtherUserInfo2.busy) false;
    getOtherUserInfo2.keyType = "userName";
    getOtherUserInfo2.userKey = userName;
    getOtherUserInfo2.onComplete = function(v_userInfo) {
        sender.show(v_userInfo);
    }
    getOtherUserInfo2();
}

sender.refresh = function(userId) {
    var needRefresh = false;
    if (userId) {
        if (userId == this.v_userInfo.id) {
            needRefresh = true;
        }
    } else needRefresh = true;
    if (!needRefresh) return;
    if (g5.currentPageIndex == 28) {
        this.v_needRefresh = true;
        g5.notPushHistoryCount = 1;
        this.show(this.v_userInfo);
    } else {
        this.v_needRefresh = true;
    }
}

sender.refreshTitle = function() {
    var s = "";
    if (this.v_items.length>0) {
        s ="加粉请求者(/%" + this.v_items.length + "%/人)";
        ee.setVisible(this.c_noResult, false);
    } else {
        s ="加粉请求者";
        ee.setVisible(this.c_noResult, true);
    }
    ee.setText(this.c_title, g5.lang.trans2(s));
    ee.tiledResizeV(this, 2);
}


sender.show = function() {
    this.refreshTitle();
    ee.setVisible(this.c_noResult, false);
    if (showFansList.busy) return;
    document.documentElement.scrollTop = 0;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    g5.changeP2(-1);
    g5.changeP2(28);
    showFansRequest.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            if (showFansList.userId == dataset.getData(0,i)) continue;
            var item = createPanel(root, "fanl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            if (item.c_button) ee.removeControl(item.c_button);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
            ee.setOnClick(item,function(senderButton, event) {
                var v_style = new Array();
                var v_onClick = new Array();
                v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","允许","允许","允许","#1da1f2","#1da1f2","#1da1f2","#1da1f2"));
                v_onClick.push(function (senderBtn, event) {
                    followAcceptReject.userId = senderButton.v_userInfo.id;
                    followAcceptReject.operation = 1;
                    followAcceptReject.onComplete = function() {
                        sender.remove(senderButton);
                    } 
                    followAcceptReject();
                });
                v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","拒绝","拒绝","拒绝","#1da1f2","#1da1f2","#1da1f2","#1da1f2"));
                v_onClick.push(function (senderBtn, event) {
                    followAcceptReject.userId = senderButton.v_userInfo.id;
                    followAcceptReject.operation = 0;
                    followAcceptReject.onComplete = function() {
                        sender.remove(senderButton);
                    }
                    followAcceptReject();
                });
                g5.popup1.p4.show(senderButton, 200, v_style, v_onClick);
            });
        }
        eb.processDock();
        var rect = eb.getDivRectSetting(g5.p4);
        ee.tiledV(sender, 0, rect.h, 500); 
        if (sender.v_items.length>0) {
            var rect1 = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
            ee.tiledV(sender, 0, rect.h, eb.getClientSize().h - eb.getDivRect(sender.v_items[sender.v_items.length-1]).h - rect.h + 2); 
        }
        sender.refreshTitle();
        //ee.tiledResizeV(sender, 2);
    }
    g5.loading.show();
    showFansRequest();               
}

sender.remove = function(item) {
    for (var i = 0; i < this.v_items.length; i++) {
        if (this.v_items[i] != item) continue;
        ee.removeControl(item);
        this.v_items.splice(i, 1);
        break;
    }
    ee.tiledResizeV(this, 2);
    if (g5.myUserInfo.fansReqCount) {
        g5.myUserInfo.fansReqCount--;
        g5.p2.p2.refreshFansFollowCount();
    }
    this.refreshTitle();
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}
]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel531/panel543">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_noResult</ee_LocalName>
      <height>376</height>
      <heightRatio>0.482051282051282</heightRatio>
      <layerName>无内容提示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.626666666666667</sizeRatio>
      <top>42</top>
      <topRatio>0.0538461538461538</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel531/panel543/panel544">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>目前没有加粉请求者</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel531/panel543/panel545">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>有了之后就会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel531/panel543/panel546">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.255</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel538">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p30</ee_LocalName>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName>设置-隐私和安全-已隐藏</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_fitInner = true;
sender.v_lastScrollTop = 0;
sender.v_items = new Array();
sender.v_userInfo = new g5.UserInfo();
sender.c_title = g5.p4.a13.c_title;
sender.v_needRefresh = false;

sender.activePage = function() {
    g5.pushHistory2("/settings/hide");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a13");
    ee.setVisible(this, true)
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false)
}

sender.showByUserName = function(userName) {
    if (getOtherUserInfo2.busy) false;
    getOtherUserInfo2.keyType = "userName";
    getOtherUserInfo2.userKey = userName;
    getOtherUserInfo2.onComplete = function(v_userInfo) {
        sender.show(v_userInfo);
    }
    getOtherUserInfo2();
}

sender.refresh = function(userId) {
    var needRefresh = false;
    if (userId) {
        if (userId == this.v_userInfo.id) {
            needRefresh = true;
        }
    } else needRefresh = true;
    if (!needRefresh) return;
    if (g5.currentPageIndex == 29) {
        this.v_needRefresh = true;
        g5.notPushHistoryCount = 1;
        this.show(this.v_userInfo);
    } else {
        this.v_needRefresh = true;
    }
}

sender.refreshTitle = function() {
    var s = "";
    if (this.v_items.length>0) {
        s = "已隐藏的用户(/%" + this.v_items.length+ "%/人)";
    } else {
        s = "已隐藏的用户";
    }
    ee.setText(this.c_title, g5.lang.trans2(s));
    if (this.v_items.length>0) {
        ee.setVisible(this.c_noResult, false);
    } else {
        ee.setVisible(this.c_noResult, true);
    }
    ee.tiledResizeV(this, 2);
}


sender.show = function() {
    this.refreshTitle();
    ee.setVisible(this.c_noResult, false);
    if (showFansList.busy) return;
    document.documentElement.scrollTop = 0;
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    g5.changeP2(-1);
    g5.changeP2(29);
    showHideList.onComplete = function(dataset) {
        g5.loading.close();
        var root = sender;
        var cy = 0;
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            if (showFansList.userId == dataset.getData(0,i)) continue;
            var item = createPanel(root, "fanl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            sender.loadRecord(item, dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
            ee.setOnClick(item, function(senderButton, event) {
                g5.setHide(senderButton.v_userInfo.clone(), function(v_userInfo) {
                    sender.remove(senderButton);
                });
            });
        }
        eb.processDock();
        var rect = eb.getDivRectSetting(g5.p4);
        ee.tiledV(sender, 0, rect.h, 500); 
        if (sender.v_items.length>0) {
            var rect1 = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
            ee.tiledV(sender, 0, rect.h, eb.getClientSize().h - eb.getDivRect(sender.v_items[sender.v_items.length-1]).h - rect.h + 2); 
        }
        sender.refreshTitle();
        ee.tiledResizeV(sender, 2);
    }
    g5.loading.show();
    showHideList();               
}

sender.remove = function(item) {
    for (var i = 0; i < this.v_items.length; i++) {
        if (this.v_items[i] != item) continue;
        ee.removeControl(item);
        this.v_items.splice(i, 1);
        break;
    }
    ee.tiledResizeV(this, 2);
    if (g5.myUserInfo.fansReqCount) {
        g5.myUserInfo.fansReqCount--;
        g5.p2.p2.refreshFansFollowCount();
    }
    this.refreshTitle();
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}
]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel538/panel547">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_noResult</ee_LocalName>
      <height>376</height>
      <heightRatio>0.482051282051282</heightRatio>
      <layerName>无内容提示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.626666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel538/panel547/panel548">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>您没有隐藏任何用户</text>
      <top>246</top>
      <topRatio>0.654255319148936</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel538/panel547/panel549">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>43</height>
      <heightRatio>0.11436170212766</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0716666666666667</sizeRatio>
      <text>有了之后就会出现在这里</text>
      <top>284</top>
      <topRatio>0.75531914893617</topRatio>
      <vAlign>top</vAlign>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel538/panel547/panel550">
      <backgroundImg>empty02.gif</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>159</height>
      <heightRatio>0.422872340425532</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.255</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.540816326530612</sizeRatio>
      <top>79</top>
      <topRatio>0.210106382978723</topRatio>
      <vAlign>top</vAlign>
      <width>294</width>
      <widthRatio>0.49</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <ee_LocalName>p31</ee_LocalName>
      <height>756</height>
      <heightRatio>0.969230769230769</heightRatio>
      <layerName>发短文手机版</layerName>
      <left>0</left>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.c_photos = ee.getControl("panel587");
sender.c_title = ee.getControl("panel589");
sender.c_button = ee.getControl("panel592");
sender.c_cirText = ee.getControl("panel581");
sender.c_cir = ee.getControl("panel580");
sender.c_p1 = ee.getControl("panel611");
sender.c_edit = ee.getControl("panel608");

sender.show = function(title) {
    this.init(title);
    ee.setVisible(ee.getControl("panel112"), true);
    ee.setVisible(this, true);
    ee.getControl("panel51").v_photos = new Array();
    this.c_p1.resize();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.init = function(titleText, keepLast) {
    if (eb.isEmpty(titleText)) titleText = "";
    titleText = g5.lang.getByTCn(501,titleText);
    ee.setText(this.c_title, titleText);
    if (!keepLast) this.c_edit.setEditText("");
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
    this.check();
    this.c_cir.refresh(0);
    ee.setText(this.c_cirText, "");    
    this.c_p1.c_vote.reset();
    this.c_p1.setMode(0);
}

sender.activePage = function() {
    g5.pushHistory2("/compose");
    ee.setVisible(this, true);
    ee.resizeV(this, 2);
    this.c_p1.setMode(0);
    //ee.tiledV(this,0,0,0);
    //ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
}

sender.check = function() {
    let enabled = false;
    if (this.c_p1.v_mode == 0) {
        enabled =
            ((this.c_edit.getEditText().trim().length>0) &amp;&amp;(this.c_edit.getEditText().trim().length<=200)) ||
            this.c_photos.v_photos.length>0;
    } else {
        enabled = this.c_p1.c_vote.checkValid();
        if (enabled) {
            enabled = this.c_p1.c_vote.v_data.length > 1;
        }
    }
    this.c_button.setEnabled(enabled);
}

sender.showLast = function() {
    this.c_p1.resize();
    g5.changeP2(30);
}

sender.showNew = function() {
    this.c_p1.resize();
    this.c_p1.setMode(0);
    this.init("发言", this.v_lastOp == "new");
    this.v_lastOp = "new";
    this.onComplete = function() {
        if (newTwitterV2.busy) return;
        newTwitterV2.uplinkType = "N";
        newTwitterV2.uplinkId = 0;
        newTwitterV2.content = sender.c_edit.getEditText();
        newTwitterV2.photos = sender.c_photos.v_photos;
        newTwitterV2.voteList = new Array();
        if (this.c_p1.v_mode == 1) {
            for (var i=0; i<this.c_p1.c_vote.v_data.length; i++) {
                newTwitterV2.voteList.push(this.c_p1.c_vote.v_data[i].value);
            }
            newTwitterV2.voteDuration = this.c_p1.c_vote.c_duration.getResultSec();
        }
        newTwitterV2.onComplete = function(contentId, noUse, voteId) {
            sender.v_lastOp = "";
            history.go(-1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "N";
            newContent.uplinkId = 0;
            newContent.content = newTwitterV2.content;
            newContent.photos = newTwitterV2.photos;
            if (newTwitterV2.voteList.length>0) {
                newContent.photos = new Array();
                newContent.photos.push("?VID" + voteId);
            }
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            g5.p2.p1.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
            if (showUserPage.v_userInfo) {
                if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
                    g5.p2.p2.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
                }
            }
        }
        newTwitterV2();
    }
    g5.changeP2(30);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.showRe = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.c_p1.resize();
    this.c_p1.setMode(0);
    this.init("回复发言", this.v_lastOp == "re" &amp;&amp; this.v_lastId == v_content.id);
    this.v_lastOp = "re";
    this.v_lastId = v_content.id;
    this.onComplete = function() {
        if (newTwitterV2.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitterV2.uplinkType = "R";
        newTwitterV2.uplinkId = contentIdB;
        newTwitterV2.content = sender.c_edit.getEditText();
        newTwitterV2.photos = sender.c_photos.v_photos;
        newTwitterV2.voteList = new Array();
        if (this.c_p1.v_mode == 1) {
            for (var i=0; i<this.c_p1.c_vote.v_data.length; i++) {
                newTwitterV2.voteList.push(this.c_p1.c_vote.v_data[i].value);
            }
            newTwitterV2.voteDuration = this.c_p1.c_vote.c_duration.getResultSec();
        }
        newTwitterV2.onComplete = function(contentId, noUse, voteId) {
            sender.v_lastOp = "";
            history.go(-1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "R";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitterV2.content;
            newContent.photos = newTwitterV2.photos;
            if (newTwitterV2.voteList.length>0) {
                newContent.photos = new Array();
                newContent.photos.push("?VID" + voteId);
            }
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            var newReContent = v_content.clone();
            if (newReContent.exUplinkType=="L") newReContent.id = newReContent.exContentId;
            g5.p2.p1.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p9.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            v_content.reCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo);
        }
        newTwitterV2();
    }
    g5.changeP2(30);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.showFw = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.c_p1.resize();
    this.c_p1.setMode(0);
    this.init("带评论转发", this.v_lastOp == "fw" &amp;&amp; this.v_lastId == v_content.id);
    this.v_lastOp = "fw";
    this.v_lastId = v_content.id;
    this.onComplete = function() {
        if (newTwitter.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkType = "F";
        newTwitter.uplinkId = contentIdB;
        newTwitter.content = sender.c_edit.getEditText();
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            sender.v_lastOp = "";
            history.go(-1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "F";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            var newReContent = v_content.clone();
            if (newReContent.exUplinkType=="L") newReContent.id = newReContent.exContentId;
            g5.p2.p1.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p9.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            v_content.fwCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo)
        }
        newTwitter();
    }
    g5.changeP2(30);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}]]></onCreate>
      <sizeRatio>1.26</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00128205128205128</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel591">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0674603174603175</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel591/panel594">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel591/panel589">
      <fontBold>true</fontBold>
      <fontColor>505050</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>48</height>
      <heightRatio>0.941176470588235</heightRatio>
      <layerVisible>false</layerVisible>
      <left>63</left>
      <leftRatio>0.105</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
</onCreate>
      <sizeRatio>0.173285198555957</sizeRatio>
      <text>发表短文或回复</text>
      <top>1</top>
      <topRatio>0.0196078431372549</topRatio>
      <width>277</width>
      <widthRatio>0.461666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel591/panel592">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>487</left>
      <leftRatio>0.811666666666667</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
sender.v_enabled = false;
var content = g5.p2.p31.c_edit.getEditText();
var photos = sender.parentNode.parentNode.c_photos.v_photos;
if ((content.length<=0) &amp;&amp; (photos.length<=0)) {
    g5.alert1("提示", "发言内容不能为空，您至少要留有文字或者至少一张图片或者视频。");
    return;
}

if (sender.parentNode.parentNode.onComplete) {
    sender.parentNode.parentNode.onComplete();
}]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByTCn(500,ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(false);





</onCreate>
      <outerRight>30</outerRight>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>发言</text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel608">
      <__U_editFontColor type="color">000000</__U_editFontColor>
      <__U_editFontFamily type="string">'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</__U_editFontFamily>
      <__U_editFontSize type="string">16pt</__U_editFontSize>
      <__U_editMaxY type="string">300px</__U_editMaxY>
      <__U_onCurPosChange-sender-oldPos-newPos type="jsMix">sender.processUserName();</__U_onCurPosChange-sender-oldPos-newPos>
      <__U_onFocusChange-sender-isFocus type="jsMix" />
      <__U_onHeightChange-sender-oldH-newH type="jsMix">var dy = newH - oldH;
if (dy == 0) return;

var r = eb.getDivRectSetting(g5.p2.p31.c_p1);
ee.setRect(g5.p2.p31.c_p1, null, r.y + dy, null,null);
</__U_onHeightChange-sender-oldH-newH>
      <__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml type="jsMix"><![CDATA[var text = ee.getEditText(sender.c_edit);

if (newText.split("\n").length-1>20) {
    return false;
}

var cp = sender.getCurPosAbs();
var sTemp = sender.convertHtml(newText);
var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>")
sender.c_edit.innerHTML = sTemp;
sender.c_edit.innerHTML = sender.c_edit.innerHTML.replace(/&amp;nbsp;/g, ' ');
sender.setCurPosAbs(cp);

sender.processUserName();

g5.p2.p31.check();
var newText = newText.trim();
var c = ee.getControl("panel580");
if (newText.length<180) {
    c.v_color = "#29a5f2";
    c.v_r = "9";
    c.refresh(newText.length/200);
    ee.setText(ee.getControl("panel581"), "");    
} else if (newText.length<=200) {
    c.v_color = "#ffad1f";
    c.v_r = "12";
    c.refresh(newText.length/200);    
    ee.setText(ee.getControl("panel581"), 200-newText.length);    
    ee.setTextColor(ee.getControl("panel581"), "#ffad1f");
} else {
    c.v_color = "#e0245e";
    c.v_r = "14";
    c.refresh((newText.length-200)/100);    
    ee.setText(ee.getControl("panel581"), 200-newText.length);
    ee.setTextColor(ee.getControl("panel581"), "#e0245e");
}
]]></__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml>
      <backgroundColor>D3D3D3</backgroundColor>
      <dockX>fill</dockX>
      <height>110</height>
      <heightRatio>0.145502645502645</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.05</leftRatio>
      <note>c_edit</note>
      <onCreate><![CDATA[//public
sender.currentText = "";
sender.currentHtml = "";
sender.currentCurPos = 0;
sender.getEditText = function() {
    return this.getPlanText().replace(/\xA0/g, " ");
}
sender.setEditText = function(text, inOnChange) {
    this.c_edit.innerHTML = this.convertHtml(text);
    if (!inOnChange) this.f_onChange();
}

sender.setEditHtm = function(htmlText, inOnChange) {
    this.c_edit.innerHTML = text;
    if (!inOnChange) this.f_onChange();
}

sender.convertHtml = function(text) {
    var textS = text.replace(/ /g, "\xA0").split("\n");
    text = "";
    for (var i=0; i<textS.length; i++) {
        if (textS[i].length<=0) {
            text += "<div><br\></div>";
        } else {
            text += "<div>" + textS[i] + "</div>";
        }
    }
    return text;
}


//private
var e = sender.c_edit;
e.contentEditable = true;
e.style.border = "none";
e.style.outline = "none";
e.style.height = "";
e.style.minHeight = (eb.getDivRectSetting(sender).h - e.outerTop - e.outerBottom) + "px";
e.style.maxHeight = sender.editMaxY;
e.style.overflowY = "auto";
e.style.fontFamily = sender.editFontFamily;
e.style.fontSize = sender.editFontSize;
e.style.color = "#" + sender.editFontColor;
e.style.whiteSpace = "pre-wrap";
e.style.wordWrap = "break-word";
e.style.wordBreak = "normal";
e.innerHTML = "";
eb.setDivRect(e, e.outerLeft, e.outerTop, eb.getDivRectSetting(sender).w - e.outerLeft - e.outerRight, null);
sender.v_lastH = eb.getDivRectSetting(sender).h;

sender.refreshH = function() {
    if (this.v_lastH!=eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom) {
        var lastH = this.v_lastH;
        this.v_lastH = eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom;
        ee.setRect(this,null,null,null,this.v_lastH);
        sender.onHeightChange(this, lastH, this.v_lastH);
    }
}

sender.onSizeChange = function(sender, rectOld, rectNew) {
    eb.setDivRect(sender.c_edit, sender.c_edit.outerLeft, sender.c_edit.outerTop,
        rectNew.w - sender.c_edit.outerLeft - sender.c_edit.outerRight, null);
}

sender.f_onChange = function() {
    if (sender.v_isIme) {
        ee.setVisible(this.c_label, this.getPlanText().length<=0); 
        return;
    }
    this.refreshH();
    var oldText = this.currentText;
    var oldHtml = this.currentHtml;
    this.currentText = this.getPlanText().replace(/\xA0/g, " ");
    this.currentHtml = this.c_edit.innerHTML;
    ee.setVisible(this.c_label, (!this.c_edit.innerText) || (this.c_edit.innerText.trim().length<=0)); 
    if (this.onInputChange(this, this.lastKey, oldText, this.currentText, oldHtml, this.currentHtml)==false) {
        this.setEditText(oldHtml, true);
        this.currentHtml = oldHtml;
        this.currentText = oldText;
        this.setCurPosAbs(this.currentCurPos);
    }
}

sender.CurPos = function() {
    this.elmIndex = new Array();
    this.curPos = 0;
}
   
sender.getCurPos = function() {
    var curPos = new this.CurPos();
    var sel, range;
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.rangeCount) {
            range = sel.getRangeAt(0);
            var node = range.commonAncestorContainer;
            while (node.parentNode) {
                var i;
                for (i=0; i<node.parentNode.childNodes.length; i++) {
                    if (node.parentNode.childNodes[i] == node) {
                        curPos.elmIndex.push(i);
                        break;
                    }
                }
                node = node.parentNode;
                if (node == this.c_edit) break;
            }
            curPos.curPos = range.endOffset;
        }
    } else if (document.selection &amp;&amp; document.selection.createRange) {
        console.log("not perform");
        range = document.selection.createRange();
        if (range.parentElement() == this.c_edit) {
            var tempEl = document.createElement("span");
            this.c_edit.insertBefore(tempEl, this.c_edit.firstChild);
            var tempRange = range.duplicate();
            tempRange.moveToElementText(tempEl);
            tempRange.setEndPoint("EndToEnd", range);
            caretPos = tempRange.text.length;
        }
    }
    return curPos;
}

sender.setCurPos = function(curPos) {
    var range = document.createRange()
    var sel = window.getSelection()
    var node = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!node.childNodes[curPos.elmIndex[i]]) break;
        node = node.childNodes[curPos.elmIndex[i]];
    }
    range.setStart(node, curPos.curPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getCurPosAbs = function() {
    var curPos = this.getCurPos();
    var nodeSel = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!nodeSel.childNodes[curPos.elmIndex[i]]) break;
        nodeSel = nodeSel.childNodes[curPos.elmIndex[i]];
    }
    var pos = 0;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i] == nodeSel) {
                if (nodeSel.nodeName.toUpperCase() =="DIV") pos++;
                pos += curPos.curPos;
                return true;
            }
            if (node.childNodes[i].nodeName.toUpperCase() == "DIV") {
                if (i>0) pos++;
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return pos;
}

sender.setCurPosAbs = function(absPos) {
    var pos = 0;
    var setNode, setPos;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i].nodeName.toUpperCase() == "DIV") {
                if (i>0) pos++;
                if (pos>=absPos) {
                    if (node.childNodes[i].childNodes.length>0) {
                        setNode = node.childNodes[i].childNodes[0];
                    } else {
                        setNode = node.childNodes[i];
                    }
                    setPos = 0;
                    return true;
                }
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    var range = document.createRange()
    var sel = window.getSelection()
    range.setStart(setNode, setPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getPlanText = function() {
    var text = "";
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i].nodeName.toUpperCase() == "DIV") {
                if (i>0) text += "\n";
                addPos(node.childNodes[i]);
            } else if (node.childNodes[i].nodeName.toUpperCase() == "BR") {
            } else if (node.childNodes[i].nodeName.toUpperCase() == "SPAN") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "#TEXT") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "A") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName.toUpperCase() == "H1") {
                text += node.childNodes[i].textContent;
            } else {
                console.log("undefined node name: " + node.childNodes[i].nodeName);
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return text;
}

e.onkeydown = function(event) {
    sender.lastCurPos = sender.getCurPos();
    sender.lastKey = {};
    sender.lastKey.key = event.key;
    sender.lastKey.keyCode = event.keyCode;
    sender.lastKey.shiftKey = event.shiftKey;
    sender.lastKey.ctrlKey = event.ctrlKey;
    sender.lastKey.altKey = event.altKey;
}

e.oninput = function(event) {
    sender.f_onChange();
}

e.onpaste = function() {
    //sender.f_onChange();
}

e.onfocus = function() {
    document.addEventListener("selectionchange", sender.f_onSelectionChange, false);
}

e.onblur = function() {
    document.removeEventListener("selectionchange", sender.f_onSelectionChange, false);
}

sender.f_onSelectionChange = function(event) {
    var oldPos = sender.currentCurPos;
    sender.currentCurPos = sender.getCurPosAbs();
    if (oldPos!=sender.currentCurPos) {
        if (sender.onCurPosChange) {
            sender.onCurPosChange(sender,oldPos,sender.currentCurPos);
        }
    }
}

sender.c_edit.addEventListener("compositionstart", function(event) {
    sender.v_isIme = true;
});

sender.c_edit.addEventListener("compositionupdate", function(event) {
    //console.log("ime update");
});

sender.c_edit.addEventListener("compositionend", function(event) {
    sender.v_isIme = false;
    sender.f_onChange();
});

sender.c_edit.addEventListener("touchstart", function(event) {
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return;
});

//user
sender.getUsername = function() {
    var newText = this.getEditText();
    var cp = this.getCurPosAbs();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return "";
    var pos = i;
    var userName = "";
    for (i=pos+1; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
            userName += ch;
        } else break;
    }
    if (userName.length<2) return "";
    if (i<=cp-1) return "";
    userName = userName.substr(0,20);
    return userName;
}

sender.setUsername = function(username) {
    var cp = sender.getCurPosAbs();
    var newText = sender.getEditText();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return;
    var pos = i+1;
    for (i=pos; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
        } else break;
    }
    if (i-pos<2) return;
    if (i<=cp-1) return;
    if (i-pos>20) i=20-pos;
    var s = newText.substr(0, pos);
    s += username;
    if (i>=newText.length) {
        s += " ";
    } else if (newText.charAt(i)=="\n") {
        s += " " + newText.substr(i);
    } else {
        s += newText.substr(i);
    }
    
    var sTemp = sender.convertHtml(s);
    var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
    sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>")
    sender.c_edit.innerHTML = sTemp;
    sender.setCurPosAbs(i+1);
}

sender.processUserName = function() {
    var userName = this.getUsername();
    if (userName.length>0) {
        g5.p2.p34.show(sender, userName, function(username) {
            sender.setUsername(username);
            sender.c_edit.blur();
        });
    } else g5.p2.p34.close();
}
]]></onCreate>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.203703703703704</sizeRatio>
      <top>64</top>
      <topRatio>0.0846560846560847</topRatio>
      <userProperty>//#P:editFontFamily|多行文字录入V2|'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif|string||用户输入文字的字体样式
//#P:editFontColor|多行文字录入V2|404040|color||用户输入文字的字体颜色
//#P:editFontSize|多行文字录入V2|12pt|string||用户输入文字的大小
//#P:editMaxY|多行文字录入V2|300px|string||编辑框最大高度
//#P:onHeightChange(sender,oldH,newH)|多行文字录入V2||jsMix||由于用户的输入导致编辑框产生的高度变化。sender:触发事件的控件，oldH:旧的高度，newH:新的高度
//#P:onInputChange(sender,key,oldText,newText,oldHtml,newHtml)|多行文字录入V2||jsMix||由于用户的输入导致内容改变，返回false表示取消本次修改。sender:触发事件的控件，key:用户按键，oldText:旧的内容，newText:新的内容，oldHtml:旧内容html形式，newHtml:新内容html形式
//#P:onFocusChange(sender,isFocus)|多行文字录入V2||jsMix||焦点发生变化。sender:触发事件的控件，isFocus:是否触发了焦点
//#P:onCurPosChange(sender,oldPos,newPos)|多行文字录入V2||jsMix||光标位置发生变化。sender:触发事件的控件，oldPos:原来的光标位置；newPos:新的光标位置；



</userProperty>
      <width>540</width>
      <widthRatio>0.9</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel608/panel609">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_label</ee_LocalName>
      <fontColor>9197A3</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>110</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.203703703703704</sizeRatio>
      <text>在这里输入您的发言内容</text>
      <top>0</top>
      <vAlign>top</vAlign>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel608/panel610">
      <backgroundColor>FFFFFF</backgroundColor>
      <ee_LocalName>c_edit</ee_LocalName>
      <fontColor>404040</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>26</height>
      <heightRatio>0.236363636363636</heightRatio>
      <layerVisible>false</layerVisible>
      <left>16</left>
      <leftRatio>0.0296296296296296</leftRatio>
      <outerBottom>2</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>2</outerRight>
      <outerTop>2</outerTop>
      <sizeRatio>0.257425742574257</sizeRatio>
      <top>15</top>
      <topRatio>0.136363636363636</topRatio>
      <v_color1>FFC0C0</v_color1>
      <v_Str>as223</v_Str>
      <vAlign>top</vAlign>
      <width>101</width>
      <widthRatio>0.187037037037037</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611">
      <dockX>fill</dockX>
      <height>401</height>
      <heightRatio>0.53042328042328</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.05</leftRatio>
      <note>c_p1</note>
      <onCreate>sender.resize = function() {
    eb.processDock();
    var ratio = 0.6185;
    var r = eb.getDivRectSetting(ee.getControl("panel585"));
    var h = parseInt(r.w *ratio);
    ee.setRect(ee.getControl("panel585"), null,null,null,h);
    ee.setRect(this, null, null, null, r.y + r.h + 100);
    eb.processDock();
}

sender.setMode = function(mode) {
    sender.v_mode = mode;
    if (mode == 0) {
        ee.setVisible(sender.c_pic, true);
        ee.setVisible(sender.c_btn1, true);
        ee.setVisible(sender.c_btn2, true);
        ee.setVisible(sender.c_vote, false);
        var r = eb.getDivRectSetting(sender.c_pic);
        ee.setRect(this, null, null, null, r.y + r.h + 30);
        
    } else {
        ee.setVisible(sender.c_pic, false);
        ee.setVisible(sender.c_btn1, false);
        ee.setVisible(sender.c_btn2, false);
        ee.setVisible(sender.c_vote, true);
        this.c_vote.refreshList();
    }
}
</onCreate>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.742592592592593</sizeRatio>
      <top>184</top>
      <topRatio>0.243386243386243</topRatio>
      <width>540</width>
      <widthRatio>0.9</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel590">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn1</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0897755610972569</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.037037037037037</leftRatio>
      <onClick>if (event.target.tagName.toUpperCase() == "INPUT") return;
var photoRoot = sender.parentNode.parentNode.c_photos;
g5.uploadPhotoCheck(photoRoot,true,function() {
    sender.c_file.blur();
    sender.c_file.click();
});
</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.addEventListener("change", function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (sender.parentNode.parentNode.c_photos.v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        if (sender.parentNode.parentNode.c_photos.v_photos.length>=4) return;
                        sender.parentNode.parentNode.c_photos.v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(sender.parentNode.parentNode.c_photos);
                        sender.parentNode.parentNode.check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
});

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>0</top>
      <width>36</width>
      <widthRatio>0.0666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel588">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn2</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0897755610972569</heightRatio>
      <layerVisible>false</layerVisible>
      <left>75</left>
      <leftRatio>0.138888888888889</leftRatio>
      <onClick><![CDATA[var photoRoot = sender.parentNode.parentNode;
g5.uploadPhotoCheck(photoRoot.c_photos,false,function() {
    if (g5.isMobile) {
        g5.p2.p32.show(function(ytbVideo) {
            var i = 0;
            for (i=0; i<photoRoot.c_photos.v_photos.length; i++) {
                var s = photoRoot.c_photos.v_photos[i];
                if (s.length<4) continue;
                if (s.substr(0,4)=="?YTB") {
                    break;
                }
            }
            if (i>=photoRoot.c_photos.v_photos.length) {
                photoRoot.c_photos.v_photos.push(ytbVideo);
            } else {
                photoRoot.c_photos.v_photos.splice(i,1,ytbVideo);
            }
            g5.refreshPhoto(photoRoot.c_photos);
            photoRoot.check();
        });
    } else {
        g5.popBlack2.a1.show(function(ytbVideo) {
            var i = 0;
            for (i=0; i<photoRoot.c_photos.v_photos.length; i++) {
                var s = photoRoot.c_photos.v_photos[i];
                if (s.length<4) continue;
                if (s.substr(0,4)=="?YTB") {
                    break;
                }
            }
            if (i>=photoRoot.c_photos.v_photos.length) {
                photoRoot.c_photos.v_photos.push(ytbVideo);
            } else {
                photoRoot.c_photos.v_photos.splice(i,1,ytbVideo);
            }
            
            g5.refreshPhoto(photoRoot.c_photos);
            photoRoot.check();
        });
    }
});
]]></onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 4500 4500\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 8px 8px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">" + g5.icon.youtube + "</svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>YTB</text>
      <top>0</top>
      <width>36</width>
      <widthRatio>0.0666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel580">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockX>right</dockX>
      <height>39</height>
      <heightRatio>0.0972568578553616</heightRatio>
      <layerVisible>false</layerVisible>
      <left>461</left>
      <leftRatio>0.853703703703704</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <outerRight>40</outerRight>
      <sizeRatio>1</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.0722222222222222</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel581">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockX>right</dockX>
      <fontFamily>Helvetica</fontFamily>
      <height>39</height>
      <heightRatio>0.0972568578553616</heightRatio>
      <layerVisible>false</layerVisible>
      <left>461</left>
      <leftRatio>0.853703703703704</leftRatio>
      <outerRight>40</outerRight>
      <sizeRatio>1</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.0722222222222222</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel585">
      <dockX>fill</dockX>
      <ee_LocalName>c_pic</ee_LocalName>
      <height>334</height>
      <heightRatio>0.832917705735661</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px";

</onCreate>
      <sizeRatio>0.618518518518518</sizeRatio>
      <top>49</top>
      <topRatio>0.122194513715711</topRatio>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel585/panel586">
      <backgroundColor>F5F5FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>334</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.618518518518518</sizeRatio>
      <text>您还没有分享图片或者视频
分享图片或视频后会出现在这里
您最多分享4张图片或者1个视频</text>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel585/panel587">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>334</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_mode = "x";
sender.v_photos = new Array();</onCreate>
      <sizeRatio>0.618518518518518</sizeRatio>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725">
      <dockX>fill</dockX>
      <ee_LocalName>c_vote</ee_LocalName>
      <height>334</height>
      <heightRatio>0.832917705735661</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.v_data = new Array();
sender.v_root = sender.c_voteList;
sender.MAXOptions = 10;

sender.reset = function() {
    this.v_data = new Array();
    this.v_data.push(new sender.type_itemData());
    this.v_data.push(new sender.type_itemData());
    this.refreshList();
}

sender.type_itemData = function() {
    this.value = "";
}

sender.renderItem = function(root) {
    var w = eb.getDivRect(root).w;
    var c,cy=10;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderTop = "";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    var cx = 0;
    var w3=50;
    var w2 = w-w3;
    
    c = createPanel(root, root.id+"W2", "", cx, cy, w2, 26); cx+=w2;
    if (root.v_data.value == "") {
        addText(c, g5.lang.getByCn("选项,点击修改"), "left", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
    } else {
        addText(c, root.v_data.value, "left", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
    }
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        g5.popBlack.a10.show(
            "输入", "选项：", "请在这里输入选项标签", root.v_data.value,
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
            function(text) {
                if (text == "") return;
                root.v_data.value = text;
                sender.refreshList();
            },
            function() {
            }
        );
    });

    c = createPanel(root, root.id+"W3", "", cx, cy-13, w3, 26+15); cx+=w3;
    addText(c, "...", "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 18, "1da1f2", "bold");
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        var v_style = new Array();
        var v_onClick = new Array();
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","上移","上移","上移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if (i>0) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i-1];
                    sender.v_data[i-1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","下移","下移","下移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if ((i>=0) &amp;&amp; (i<sender.v_data.length-1)) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i+1];
                    sender.v_data[i+1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","删除","删除","删除","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                g5.popBlack.a6.show(
                    "删除确认",
                    "在没有保存之前，本操作将不会生效，确认删除本记录/%" + (root.v_data.type==""?"":("(" + root.v_data.type + ")")) + "%/吗？",
                    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
                    [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","删除","#ffffff","#ffffff","#ffffff","")],
                    function() {
                        var i = sender.getIndexByRoot(root);
                        if (i>=0) {
                            sender.v_data.splice(i,1);
                            sender.refreshList();
                        }
                    }
                );            
            }
        );
        g5.popup1.p4.show(senderBtn, 80, v_style, v_onClick); 
    });
    
    cy+=26;
    cy+=10;
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}

sender.getIndexByRoot = function(root) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i] == root) return i;
    }
    return -1;
}


sender.addNew = function() {
    this.v_data.push(new sender.type_itemData());
    this.refreshList();
}

sender.addButton = function() {
    var cy = 0;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[this.v_items.length-1]);
        cy = cy.y + cy.h;
    }
    var root = this.v_root;
    var itemWidth = eb.getDivRect(root).w;
    var c;
    c = createPanel(root, this.id + "_BtnNew", "", 0, cy, itemWidth, 40);
    
    addText(c, g5.lang.getByCn("+ 增加"), "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "606060", "normal");
    c.style.cursor="pointer";
    c.v_style = [
        new g5.BStyle("#ffffff","#e0e0e0","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
        new g5.BStyle("#ffffff","#ffffff","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
    ];
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRectSetting(this).h/2) + "px";
    }
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    ee.setOnClick(c, function(senderBtn, event) {
        sender.removeButton();
        sender.addNew();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });    
    if (g5.isMobile) {
        c.init(1);
    } else c.init(0);
}

sender.removeButton = function() {
    var c = $g(this.id + "_BtnNew");
    if (!c) return;
    ee.removeControl(c);
}

sender.refreshList = function() {
    while (this.v_items.length>0) {
        ee.removeControl(this.v_items[0]);
        this.v_items.splice(0,1);
    }
    this.removeButton();
    
    var i;
    for (i=0; i<this.v_data.length; i++) {
        var root = this.v_root;
        var itemWidth = eb.getDivRect(this.v_root).w;
        var item;
        item = createPanel(root, this.id + "_" + i, "", 0, 0, itemWidth, 5);
        item.v_data = this.v_data[i];
        this.renderItem(item);
        this.v_items.push(item);
    }
    if (this.checkValid() &amp;&amp; (this.v_data.length<sender.MAXOptions)) this.addButton();
    this.parentNode.parentNode.check();
    ee.tiledV(this.v_root,0,0,0);
    ee.tiledV(this,0,0,0);
    let r = eb.getDivRectSetting(this);
    ee.setRect(this.parentNode, null, null, null, r.y + r.h + 130);
    ee.resizeV(this.parentNode.parentNode, 2);
}

sender.checkValid = function() {
    if (this.v_data.length > sender.MAXOptions) return false;
    for (var i=0; i<this.v_data.length; i++) {
        if (this.v_data[i].value == "") return false;
    }
    return true;
}
]]></onCreate>
      <sizeRatio>0.618518518518518</sizeRatio>
      <top>49</top>
      <topRatio>0.122194513715711</topRatio>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel726">
      <dockX>fill</dockX>
      <ee_LocalName>c_voteList</ee_LocalName>
      <heightRatio>0.29940119760479</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.185185185185185</sizeRatio>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727">
      <backgroundColor>F0F0FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_duration</ee_LocalName>
      <heightRatio>0.29940119760479</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_day = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[0].eeChildren[0].v_value;
sender.c_hour = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[1].eeChildren[0].v_value;
sender.c_min = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[2].eeChildren[0].v_value;
sender.v_minMin = 10;

sender.init = function() {
    ee.setText(this.c_day,"1");
    ee.setText(this.c_hour,"0");
    ee.setText(this.c_min,"0");
}

sender.setDay = function(value) {
    ee.setText(this.c_day,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
        this.setHour(0);
    }
}
sender.setHour = function(value) {
    ee.setText(this.c_hour,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
    }
}
sender.setMin = function(value) {
    ee.setText(this.c_min,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
    }
}
sender.getResultSec = function() {
    return (
        parseInt(ee.getText(this.c_day)) * 3600 * 24 +
        parseInt(ee.getText(this.c_hour)) * 3600 +
        parseInt(ee.getText(this.c_min)) * 60
    );
}
sender.getResultMin = function() {
    return parseInt(this.getResultSec()/60);
}



]]></onCreate>
      <sizeRatio>0.185185185185185</sizeRatio>
      <top>187</top>
      <topRatio>0.559880239520958</topRatio>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.185185185185185</sizeRatio>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem21">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <heavyEnabled>false</heavyEnabled>
      <height>38</height>
      <heightRatio>0.38</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.0703703703703704</sizeRatio>
      <text>投票有效期</text>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>62</height>
      <heightRatio>0.62</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.114814814814815</sizeRatio>
      <top>38</top>
      <topRatio>0.38</topRatio>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.114814814814815</sizeRatio>
      <top>0</top>
      <width>540</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem52">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.344444444444444</sizeRatio>
      <top>0</top>
      <width>180</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem52/panel728">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=7; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setDay(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px 5px 5px 15px";
</onCreate>
      <sizeRatio>0.344444444444444</sizeRatio>
      <top>0</top>
      <width>180</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem52/panel728/panel729">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0555555555555556</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.176470588235294</sizeRatio>
      <text>天</text>
      <top>0</top>
      <width>170</width>
      <widthRatio>0.944444444444444</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem52/panel728/panel730">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>153</left>
      <leftRatio>0.85</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.15</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem52/panel728/panel731">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0555555555555556</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.211764705882353</sizeRatio>
      <text>1</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>170</width>
      <widthRatio>0.944444444444444</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem53">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>180</left>
      <leftRatio>0.333333333333333</leftRatio>
      <sizeRatio>0.344444444444444</sizeRatio>
      <top>0</top>
      <width>180</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem53/panel732">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0277777777777778</leftRatio>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=23; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setHour(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px";
</onCreate>
      <outerLeft>5</outerLeft>
      <sizeRatio>0.354285714285714</sizeRatio>
      <top>0</top>
      <width>175</width>
      <widthRatio>0.972222222222222</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem53/panel732/panel733">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0571428571428571</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.181818181818182</sizeRatio>
      <text>小时</text>
      <top>0</top>
      <width>165</width>
      <widthRatio>0.942857142857143</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem53/panel732/panel734">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>148</left>
      <leftRatio>0.845714285714286</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.154285714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem53/panel732/panel735">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0571428571428571</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.218181818181818</sizeRatio>
      <text>0</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>165</width>
      <widthRatio>0.942857142857143</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem54">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>360</left>
      <leftRatio>0.666666666666667</leftRatio>
      <sizeRatio>0.344444444444444</sizeRatio>
      <top>0</top>
      <width>180</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem54/panel736">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0277777777777778</leftRatio>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=59; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setMin(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px 5px 15px 5px";</onCreate>
      <outerLeft>5</outerLeft>
      <sizeRatio>0.354285714285714</sizeRatio>
      <top>0</top>
      <width>175</width>
      <widthRatio>0.972222222222222</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem54/panel736/panel737">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0571428571428571</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.181818181818182</sizeRatio>
      <text>分钟</text>
      <top>0</top>
      <width>165</width>
      <widthRatio>0.942857142857143</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem54/panel736/panel738">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>148</left>
      <leftRatio>0.845714285714286</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.154285714285714</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel725/panel727/layouty7/layoutyitem22/layoutx20/layoutxitem54/panel736/panel739">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0571428571428571</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.218181818181818</sizeRatio>
      <text>0</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>165</width>
      <widthRatio>0.942857142857143</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel579/panel611/panel740">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn3</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0897755610972569</heightRatio>
      <layerVisible>false</layerVisible>
      <left>131</left>
      <leftRatio>0.242592592592593</leftRatio>
      <onClick>if (sender.parentNode.v_mode == 0) {
    sender.parentNode.setMode(1);
} else {
    sender.parentNode.setMode(0);
}
</onClick>
      <onCreate><![CDATA[sender.label = null;
sender.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.vote + "</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cee2db","","","","rgb(29,161,242)","rgb(29,161,242)","rgb(29,131,212)","")
]);]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>vote</text>
      <top>0</top>
      <width>36</width>
      <widthRatio>0.0666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <ee_LocalName>p32</ee_LocalName>
      <height>644</height>
      <heightRatio>0.825641025641026</heightRatio>
      <layerName>youtube视频链接</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAni2End>ee.setVisible(sender.parentNode, false);
sender.c_video.innerHTML = "";

</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.c_video = ee.getControl("panel600");
sender.c_input = ee.getControl("edit17");

sender.activePage = function() {
    g5.pushHistory2("/youtube");
    ee.setVisible(this, true);
    ee.resizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.show = function(onComplete) {
    this.c_video.innerHTML = "";
    ee.setEditText(this.c_input, "");
    this.v_ytbVideo = "";
    this.onComplete = onComplete;
    g5.changeP2(31);
}

</onCreate>
      <sizeRatio>1.07333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel584">
      <backgroundImg>youtubeHit1.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <height>97</height>
      <heightRatio>0.150621118012422</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.173214285714286</sizeRatio>
      <top>60</top>
      <topRatio>0.093167701863354</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel583/layoutx8">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>48</height>
      <heightRatio>0.0745341614906832</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.0857142857142857</sizeRatio>
      <top>161</top>
      <topRatio>0.25</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel583/layoutx8/layoutxitem28">
      <backgroundColor>FF0000</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <heavyEnabled>false</heavyEnabled>
      <height>48</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.421052631578947</sizeRatio>
      <text>YouTube
视频地址</text>
      <top>0</top>
      <width>114</width>
      <widthRatio>0.203571428571429</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel583/layoutx8/layoutxitem38">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>48</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>114</left>
      <leftRatio>0.203571428571429</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "2px";
sender.style.borderColor = "rgb(255,0,0)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "0px 6px 6px 0px";</onCreate>
      <sizeRatio>0.10762331838565</sizeRatio>
      <top>0</top>
      <width>446</width>
      <widthRatio>0.796428571428571</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel583/layoutx8/layoutxitem38/edit17">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <hAlign>left</hAlign>
      <height>48</height>
      <heightRatio>1</heightRatio>
      <inputFont>Arial</inputFont>
      <inputFontColor>282828</inputFontColor>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0224215246636771</leftRatio>
      <onChange>var edit = sender.parentNode;
var ytbVideo = g5.getYtbIdFromStr(ee.getEditText(edit));

var videoPanel = ee.getControl("panel600");
videoPanel.v_photo = ytbVideo;
g5.addPhoto(videoPanel);
edit.parentNode.parentNode.parentNode.v_ytbVideo = ytbVideo;
</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.112676056338028</sizeRatio>
      <text>  在这里粘贴YouTube视频地址</text>
      <top>0</top>
      <width>426</width>
      <widthRatio>0.955156950672646</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel597">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0527950310559006</heightRatio>
      <layerVisible>false</layerVisible>
      <left>454</left>
      <leftRatio>0.756666666666667</leftRatio>
      <onClick><![CDATA[history.go(-1);
setTimeout(function() {
    if (sender.parentNode.v_ytbVideo.length>0) {
        sender.parentNode.onComplete(sender.parentNode.v_ytbVideo);             
    }
}, 300);
]]></onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff",""),
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>0.26984126984127</sizeRatio>
      <text>确定</text>
      <top>529</top>
      <topRatio>0.821428571428571</topRatio>
      <width>126</width>
      <widthRatio>0.21</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel598">
      <backgroundColor>F0F0FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>291</height>
      <heightRatio>0.451863354037267</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onCreate>sender.style.borderRadius = "15px";
sender.v_mode = "-";
</onCreate>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.519642857142857</sizeRatio>
      <top>223</top>
      <topRatio>0.346273291925466</topRatio>
      <width>560</width>
      <widthRatio>0.933333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel598/panel599">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>291</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.519642857142857</sizeRatio>
      <text>复制YouTube链接
并且您的链接是正确的
视频将会出现在这里</text>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel598/panel600">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>291</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>video</note>
      <sizeRatio>0.519642857142857</sizeRatio>
      <top>0</top>
      <width>560</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel593">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0791925465838509</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel593/panel595">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel583/panel593/panel601">
      <fontBold>true</fontBold>
      <fontColor>505050</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>48</height>
      <heightRatio>0.941176470588235</heightRatio>
      <layerVisible>false</layerVisible>
      <left>63</left>
      <leftRatio>0.105</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.134453781512605</sizeRatio>
      <text>加入YouTube视频</text>
      <top>1</top>
      <topRatio>0.0196078431372549</topRatio>
      <width>357</width>
      <widthRatio>0.595</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel596">
      <ani2Pos>rightFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p33</ee_LocalName>
      <height>262</height>
      <heightRatio>0.335897435897436</heightRatio>
      <layerName>向上加载提示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.c_ani = ee.getControl("panel602");

sender.show = function() {
    return;
    ee.setVisible(this, true);
    this.c_ani.className = "aniLoading";
}

sender.close = function() {
    this.c_ani.className = "";
    ee.setVisible(this, false);
}
</onCreate>
      <sizeRatio>0.436666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel596/panel602">
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>bottom</dockY>
      <height>22</height>
      <heightRatio>0.083969465648855</heightRatio>
      <layerVisible>false</layerVisible>
      <left>289</left>
      <leftRatio>0.481666666666667</leftRatio>
      <onCreate>sender.style.backgroundColor = "";</onCreate>
      <outerBottom>10</outerBottom>
      <sizeRatio>1</sizeRatio>
      <top>230</top>
      <topRatio>0.877862595419847</topRatio>
      <width>22</width>
      <widthRatio>0.0366666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel605">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>p34</ee_LocalName>
      <height>441</height>
      <heightRatio>0.565384615384615</heightRatio>
      <layerName>搜索用户</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page34_";
sender.v_searchOptions = "user";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;
sender.style.boxSizing="border-box";
sender.style.borderWidth = "4px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.show = function(refDiv, searchText, onSelect) {
    if (refDiv) {
        var rect;
        var result = eb.getDivRect(refDiv);
        while (true) {
            refDiv = refDiv.parentNode;
            if (eb.isEmpty(refDiv)) break;
            if (refDiv.id == "divRoot") break;
            if (refDiv == g5.p2) break;
            rect = eb.getDivRect(refDiv);
            result.x+=rect.x-refDiv.scrollLeft;
            result.y+=rect.y-refDiv.scrollTop;
        }
        ee.setRect(this, null, result.y + result.h, null, eb.getClientSize().h - result.y - result.h);
    }
    ee.setVisible(this, true);
    this.f_onSelect = onSelect;
    this.search(searchText);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        sender.clear();
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i<searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadUserRecord(item, searchV2.dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            if (item.button1) ee.setVisible(item.button1, false);
            ee.setOnClick(item, function(senderBtn, event) {
                if (sender.f_onSelect) {
                    sender.f_onSelect(senderBtn.v_userInfo.userName);
                }
                sender.close();
            });
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    g5.p2.p11.c_buttons.setEnabled(false);
    searchV2();
}











]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p35</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-账号-打赏</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.v_data = new Array();
sender.v_root = ee.getControl("panel629");
sender.c_file = ee.getControl("panel640");

sender.type_itemData = function() {
    this.type = "";
    this.linkType = "";
    this.linkValue = "";
}
       
sender.show = function() {
    g5.changeP2(34);
    eb.processDock();
    this.removeButton();
    this.addButton();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/donate");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
    this.v_data = new Array();
    this.refreshList();
    if (getDonateList.busy) return;
    getDonateList.onComplete = function(dataset) {
        sender.v_data = new Array();
        for (var i=0; i<dataset.rowCount; i++) {
            var item = new sender.type_itemData();
            item.type = dataset.getData(1,i);
            item.linkType = dataset.getData(2,i);
            item.linkValue = dataset.getData(3,i);
            sender.v_data.push(item);
        }
        sender.refreshList();
    }
    getDonateList();
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.renderItem = function(root) {
    var w = eb.getDivRect(root).w;
    var c,cy=10;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderTop = "";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    var cx = 0;
    var w1=200, w3=50;
    var w2 = w-w1-w3;
    
    c = createPanel(root, root.id+"W1", "", cx, cy, w1, 26); cx+=w1;
    addText(c, root.v_data.type==""?g5.lang.getByCn("支付类型"):root.v_data.type, "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        var v_style = new Array();
        var v_onClick = new Array();
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","微信支付","微信支付","微信支付","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                senderBtn.parentNode.v_data.type = g5.lang.getByCn("微信支付");
                sender.refreshList();
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","支付宝","支付宝","支付宝","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                senderBtn.parentNode.v_data.type = g5.lang.getByCn("支付宝");
                sender.refreshList();
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","PayPal","PayPal","PayPal","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                senderBtn.parentNode.v_data.type = "PayPal";
                sender.refreshList();
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","ApplePay","ApplePay","ApplePay","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                senderBtn.parentNode.v_data.type = "ApplePay";
                sender.refreshList();
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","Venmo","Venmo","Venmo","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                senderBtn.parentNode.v_data.type = "Venmo";
                sender.refreshList();
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","自定义","自定义","自定义","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                g5.popBlack.a10.show(
                    "输入", "付款类型：", "请在这里输入付款类型，长度2-6", "",
                    [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","")],
                    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                    function(text) {
                        if ((text.length>6) || (text.length<2)) {
                            g5.alert1("输入错误", "付款类型的长度应该在2-6个汉字或英文字符之间");
                            return;
                        }
                        senderBtn.parentNode.v_data.type = text;
                        sender.refreshList();
                    },
                    function() {
                    }
                );
            }
        );
        g5.popup1.p4.show(senderBtn, 120, v_style, v_onClick); 
        
    });
    
    if (root.v_data.linkType == "") {
        c = createPanel(root, root.id+"W2", "", cx, cy, w2, 26); cx+=w2;
        addText(c, g5.lang.getByCn("二维码 / 链接"), "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
        c.style.cursor="pointer";
        ee.setOnClick(c, function(senderBtn, event) {
            var v_style = new Array();
            var v_onClick = new Array();
            v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","付款二维码","付款二维码","付款二维码","#808080","#000000","#000000",""));
            v_onClick.push(
                function (senderBtnC, event) {
                    sender.c_file.v_myData = root.v_data;                
                    sender.c_file.c_file.blur();
                    sender.c_file.c_file.click();
                }
            );
            v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","付款链接","付款链接","付款链接","#808080","#000000","#000000",""));
            v_onClick.push(
                function (senderBtnC, event) {
                    g5.popBlack.a10.show(
                        "输入", "付款链接地址：", "请在这里输入您的付款链接地址", "",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                        function(text) {
                            if (text == "") return;
                            senderBtn.parentNode.v_data.linkType = "l";
                            senderBtn.parentNode.v_data.linkValue = text;
                            sender.refreshList();
                        },
                        function() {
                        }
                    );
                }
            );
            var rect = g5.getRectAbs(senderBtn);
            g5.popup1.p4.showPos(rect.x+rect.w/2-80, rect.y+rect.h+10, 140, v_style, v_onClick); 
        });
    } else if (root.v_data.linkType == "g") {
        c = createPanel(root, root.id+"W2", "", cx, cy-6, w2, 26+12); cx+=w2;
        c.style.borderRadius = "0px 10px 0px 10px";
        c.style.borderWidth = "1px";
        c.style.borderColor = "rgb(230,236,240)";
        c.style.borderStyle = "solid";
        c.imgUrl = "url:" + g5.imgUrl + root.v_data.linkValue;
        g5.setImage(c,c.imgUrl,"trim","","",10);
        c.style.cursor="pointer";
        ee.setOnClick(c, function(senderBtn, event) {
            var v_style = new Array();
            var v_onClick = new Array();
            v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","查看","查看","查看","#808080","#000000","#000000",""));
            v_onClick.push(
                function (senderBtnC, event) {
                    g5.popBlack.a2.show([root.v_data.linkValue], root.v_data.linkValue);
                    g5.player.stop();
                }
            );
            v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","重新上传","重新上传","重新上传","#808080","#000000","#000000",""));
            v_onClick.push(
                function (senderBtnC, event) {
                    sender.c_file.v_myData = root.v_data;                
                    sender.c_file.c_file.blur();
                    sender.c_file.c_file.click();
                }
            );
            var rect = g5.getRectAbs(senderBtn);
            g5.popup1.p4.showPos(rect.x+rect.w/2-80, rect.y+rect.h+10, 140, v_style, v_onClick); 
            window.event? window.event.cancelBubble = true : event.stopPropagation();
        });
    } else if (root.v_data.linkType == "l") {
        c = createPanel(root, root.id+"W2", "", cx, cy, w2, 26); cx+=w2;
        addText(c, root.v_data.linkValue, "left", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
        c.style.cursor="pointer";
        ee.setOnClick(c, function(senderBtn, event) {
            g5.popBlack.a10.show(
                "输入", "付款链接地址：", "请在这里输入您的付款链接地址", senderBtn.parentNode.v_data.linkValue,
                [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                function(text) {
                    if (text == "") return;
                    senderBtn.parentNode.v_data.linkType = "l";
                    senderBtn.parentNode.v_data.linkValue = text;
                    sender.refreshList();
                },
                function() {
                }
            );
        });
    }
    
    c = createPanel(root, root.id+"W3", "", cx, cy-13, w3, 26+15); cx+=w3;
    addText(c, "...", "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 18, "1da1f2", "bold");
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        var v_style = new Array();
        var v_onClick = new Array();
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","上移","上移","上移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if (i>0) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i-1];
                    sender.v_data[i-1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","下移","下移","下移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if ((i>=0) &amp;&amp; (i<sender.v_data.length-1)) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i+1];
                    sender.v_data[i+1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","删除","删除","删除","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                g5.popBlack.a6.show(
                    "删除确认",
                    "在没有保存之前，本操作将不会生效，确认删除本记录/%" + (root.v_data.type==""?"":("(" + root.v_data.type + ")")) + "%/吗？",
                    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
                    [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","删除","#ffffff","#ffffff","#ffffff","")],
                    function() {
                        var i = sender.getIndexByRoot(root);
                        if (i>=0) {
                            sender.v_data.splice(i,1);
                            sender.refreshList();
                        }
                    }
                );            
            }
        );
        g5.popup1.p4.show(senderBtn, 80, v_style, v_onClick); 
    });
    
    cy+=26;
    cy+=10;
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}

sender.getIndexByRoot = function(root) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i] == root) return i;
    }
    return -1;
}


sender.addNew = function() {
    this.v_data.push(new sender.type_itemData());
    this.refreshList();
}

sender.addButton = function() {
    var cy = 0;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[this.v_items.length-1]);
        cy = cy.y + cy.h;
    }
    var root = this.v_root;
    var itemWidth = eb.getDivRect(root).w;
    var c;
    c = createPanel(root, "p2p35_BtnNew", "", 0, cy, itemWidth, 40);
    
    addText(c, g5.lang.getByCn("+ 增加"), "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "606060", "normal");
    c.style.cursor="pointer";
    c.v_style = [
        new g5.BStyle("#ffffff","#e0e0e0","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
        new g5.BStyle("#ffffff","#ffffff","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
    ];
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRectSetting(this).h/2) + "px";
    }
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    ee.setOnClick(c, function(senderBtn, event) {
        sender.removeButton();
        sender.addNew();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });    
    if (g5.isMobile) {
        c.init(1);
    } else c.init(0);
}

sender.removeButton = function() {
    var c = $g("p2p35_BtnNew");
    if (!c) return;
    ee.removeControl(c);
}

sender.refreshList = function() {
    while (this.v_items.length>0) {
        ee.removeControl(this.v_items[0]);
        this.v_items.splice(0,1);
    }
    this.removeButton();
    
    var i;
    for (i=0; i<this.v_data.length; i++) {
        var root = this.v_root;
        var itemWidth = eb.getDivRect(this.v_root).w;
        var item;
        item = createPanel(root, "p2p35_" + i, "", 0, 0, itemWidth, 5);
        item.v_data = this.v_data[i];
        this.renderItem(item);
        this.v_items.push(item);
    }
    if (this.checkValid() &amp;&amp; (this.v_data.length<5)) this.addButton();
    ee.tiledV(this.v_root,0,0,0);
}

sender.checkValid = function() {
    for (var i=0; i<this.v_data.length; i++) {
        if (this.v_data[i].type == "") return false;
        if (this.v_data[i].linkType == "") return false;
        if (this.v_data[i].linkValue == "") return false;
    }
    return true;
}




                                
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel624">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel624/panel625">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.112087912087912</sizeRatio>
      <text>打赏设置</text>
      <top>0</top>
      <width>455</width>
      <widthRatio>0.758333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel624/panel626">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>399</height>
      <heightRatio>0.568376068376068</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>0.665</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel628">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>250</height>
      <heightRatio>0.6265664160401</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.431034482758621</sizeRatio>
      <top>10</top>
      <topRatio>0.025062656641604</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel628/panel629">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>230</height>
      <heightRatio>0.92</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0172413793103448</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerBottom>10</outerBottom>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.410714285714286</sizeRatio>
      <top>10</top>
      <topRatio>0.04</topRatio>
      <width>560</width>
      <widthRatio>0.96551724137931</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel628/panel643">
      <backgroundColor>EBEEF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>10</height>
      <heightRatio>0.04</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0172413793103448</sizeRatio>
      <top>0</top>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel628/panel644">
      <backgroundColor>EBEEF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>10</height>
      <heightRatio>0.04</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0172413793103448</sizeRatio>
      <top>240</top>
      <topRatio>0.96</topRatio>
      <width>580</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel638">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.050125313283208</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>291</top>
      <topRatio>0.729323308270677</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel627/panel639">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.100250626566416</heightRatio>
      <layerVisible>false</layerVisible>
      <left>502</left>
      <leftRatio>0.836666666666667</leftRatio>
      <onClick>if (setDonateList.busy) return;
if (!sender.parentNode.parentNode.checkValid()) {
    g5.alert1("提示", "您的配置项有未完成的部分，所以无法保存。");
    return;
}
setDonateList.v_data = sender.parentNode.parentNode.v_data;
setDonateList.onComplete = function() {
    g5.alert1("提示", "保存完成");
}
setDonateList();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(true);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>323</top>
      <topRatio>0.80952380952381</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel623/panel640">
      <backgroundColor>008080</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <height>36</height>
      <heightRatio>0.0512820512820513</heightRatio>
      <layerVisible>false</layerVisible>
      <left>38</left>
      <leftRatio>0.0633333333333333</leftRatio>
      <note>c_file</note>
      <onClick>if (event.target.tagName.toUpperCase() != "INPUT") {
    sender.c_file.blur();
    sender.c_file.click();
}
</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;
ee.setVisible(sender, false);

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-200px;top:-200px;");
c.value = null;
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.addEventListener("change", function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) {
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        sender.v_myData.linkType = "g";
                        sender.v_myData.linkValue = uploadImage.newFileName;
                        sender.parentNode.refreshList();
                        //alert(uploadImage.newFileName);
                        return;
                        root.imgUrl = "url:" + g5.imgUrl + root.v_photo;
                        //g5.setImage(root,root.imgUrl,"trim","","",400);
                        ee.setImage(root,root.imgUrl,"trim","","");
                        ee.setOnClick(root, function(sender, event) {
                            g5.popBlack.a2.show(sender.parentNode.v_photos, sender.v_photo);
                            g5.player.stop();
                            window.event? window.event.cancelBubble = true : event.stopPropagation();
                        }); 
                        return;
                        if (ee.getControl("panel7").v_photos.length>=4) return;
                        ee.getControl("panel7").v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(ee.getControl("panel7"));
                        if (ee.getControl("panel7").style.visibility=="hidden") {
                            ee.setVisible(ee.getControl("panel7"), true);
                            var cy = 462-140;
                            ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+cy);
                            g5.batchMoveY(g5.p2.p1.v_items,0,cy);
                            eb.setDivRect(g5.p2.p1, null,null,null,eb.getDivRect(g5.p2.p1).h + cy);
                            eb.setDivRect(g5.p2.p1.parentNode, null,null,null,eb.getDivRect(g5.p2.p1.parentNode).h + cy);
                            eb.processDock();
                        }
                        ee.getControl("panel1").check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
});

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>381</top>
      <topRatio>0.542735042735043</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>p36</ee_LocalName>
      <height>702</height>
      <heightRatio>0.9</heightRatio>
      <layerName>设置-语言</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_btnSave = this.c_body.c_btnSave;      

sender.show = function() {
    g5.changeP2(35);
    this.refresh();
}

sender.activePage = function() {
    g5.pushHistory2("/settings/language");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(this, true);
    ee.tiledResizeV(this, 2);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.refresh = function() {
    return;
    this.c_btnSave.setEnabled(
        t.length<=20 &amp;&amp; t.length>=3
    );
}

sender.changeLang = function(langIndex) {
    if (langIndex == g5.lang.getCurrentLangIndex()) return;
    g5.popBlack.a6.show(
        "修改语言",
        "显示语言将修改为/%" + g5.lang.getLangNameByIndex(langIndex) + "%/，您是否继续？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
        function() {
            eb.setCookie("lang", g5.lang.langList[langIndex]);
            location.reload();
        }
    );
}

                                
]]></onCreate>
      <sizeRatio>1.17</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel694">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.085</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel694/panel695">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.1</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.14868804664723</sizeRatio>
      <text>修改显示语言</text>
      <top>0</top>
      <width>343</width>
      <widthRatio>0.571666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel694/panel696">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.055</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <ee_LocalName>c_body</ee_LocalName>
      <height>309</height>
      <heightRatio>0.44017094017094</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>0.515</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697/panel698">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>66</height>
      <heightRatio>0.213592233009709</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0166666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.113793103448276</sizeRatio>
      <top>10</top>
      <topRatio>0.0323624595469256</topRatio>
      <width>580</width>
      <widthRatio>0.966666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697/panel698/panel699">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0155172413793103</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.104477611940299</sizeRatio>
      <text>当前显示语言：</text>
      <top>0</top>
      <width>268</width>
      <widthRatio>0.462068965517241</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697/panel698/panel700">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <ee_LocalName>c_labelNickName</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0258620689655172</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getCurrentLangName());</onCreate>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.0509090909090909</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>550</width>
      <widthRatio>0.948275862068966</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697/panel705">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0647249190938511</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0333333333333333</sizeRatio>
      <top>105</top>
      <topRatio>0.339805825242718</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel693/panel697/panel706">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <ee_LocalName>c_btnSave</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <height>36</height>
      <heightRatio>0.116504854368932</heightRatio>
      <layerVisible>false</layerVisible>
      <left>480</left>
      <leftRatio>0.8</leftRatio>
      <onClick>var v_style = new Array();
var v_onClick = new Array();
v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","简体中文","简体中文","简体中文","#808080","#000000","#000000",""));
v_onClick.push(
    function (senderBtnC, event) {
        g5.p2.p36.changeLang(0);
    }
);
v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","English","English","English","#808080","#000000","#000000",""));
v_onClick.push(
    function (senderBtnC, event) {
        g5.p2.p36.changeLang(1);
    }
);

g5.popup1.p4.show(sender, 120, v_style, v_onClick);</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(true);








</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.342857142857143</sizeRatio>
      <text>更改</text>
      <top>144</top>
      <topRatio>0.466019417475728</topRatio>
      <width>105</width>
      <widthRatio>0.175</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>722</height>
      <heightRatio>0.907035175879397</heightRatio>
      <layerName>===P3===</layerName>
      <layerVisible>false</layerVisible>
      <left>906</left>
      <leftRatio>0.7581589958159</leftRatio>
      <onCreate>sender.v_fitInner = true;
sender.p3 = ee.getControl("panel116");
sender.p8 = ee.getControl("panel298");
sender.p9 = ee.getControl("panel365");
sender.p10 = ee.getControl("panel61");
sender.p11 = ee.getControl("panel370");
sender.p12 = ee.getControl("panel388");
ee.setVisible(sender, true);

sender.style.position="fixed";
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
</onCreate>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>0.256903765690377</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p3.p3->私信聊天]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_fitInner = true;
sender.c_chat = ee.getControl("layoutyitem12");</onCreate>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/panel36">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>306</left>
      <leftRatio>0.996742671009772</leftRatio>
      <sizeRatio>722</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.00325732899022801</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>623</height>
      <heightRatio>0.862880886426593</heightRatio>
      <layerName><![CDATA[p3.p8->个人页右侧]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_fitInner = true;
sender.p1 = ee.getControl("panel295");
sender.p2 = ee.getControl("panel307");
sender.init = function() {
    this.p1.init();
    this.p2.init();
    g5.tiledV(this, 15);
    g5.resizeV(this,2);
}

sender.activePage = function() {
    ee.setVisible(this, true);
    g5.resizeV(this.parentNode, 1);
}

sender.close = function() {
    ee.setVisible(this, false);
}


</onCreate>
      <sizeRatio>2.02931596091205</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <height>278</height>
      <heightRatio>0.446227929373997</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p1->私有聊天]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_buttons = ee.getControl("panel300");
sender.c_title = ee.getControl("panel296");
sender.c_userList = ee.getControl("layoutx4");
sender.c_chatRoom = ee.getControl("panel289");
sender.v_size = 0;

sender.init = function() {
    if (!eb.isEmpty(this.joinRequest)) {
        for (var i=0; i<this.joinRequest.length; i++) {
            ee.removeControl(this.joinRequest[i]);
        }
    }
    this.joinRequest = new Array();
    var cy = 0;
    if (!eb.isEmpty(showUserPage.joinPrvRequest)) {
        var i, item;
        var root = this;
        var itemWidth = eb.getDivRectSetting(root).w;
        for (i=0; i< showUserPage.joinPrvRequest.rowCount; i++) {
            var item = createPanel(root, "prvreq_" + showUserPage.joinPrvRequest.getData(0,i), "", 0, cy, itemWidth, 5);
            ee.changeParent(item, root, i+1);
            this.loadJoinRecord(item, showUserPage.joinPrvRequest, i);
            this.renderJoinRecord(item);
            this.joinRequest.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        g5.tiledV(root,5);
        g5.resizeV(root, 2);
    }
    ee.setVisible(this.c_userList, false);
    this.c_userList.init();
    g5.tiledV(this, 0);
    g5.resizeV(this, 3);
    this.c_buttons.init();
    ee.setRect(this.c_chatRoom,null,null,null,400);
    this.setSize("min");
} 

sender.appendJoinRequest = function(userInfo) {
    for (var i=0; i<this.joinRequest.length; i++) {
        if (this.joinRequest[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.joinPrvRequest.rowCount; i++) {
        var a = parseInt(showUserPage.joinPrvRequest.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.joinPrvRequest.rowCount;
    showUserPage.joinPrvRequest.setRowCount(showUserPage.joinPrvRequest.rowCount + 1);
    showUserPage.joinPrvRequest.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.joinPrvRequest, 2, idx);
    this.init();
    g5.tiledResizeV(this, 3);
}

sender.deleteJoinRequest = function(userInfo) {
    var dat = showUserPage.joinPrvRequest;
    for (var i=0; i<this.joinRequest.length; i++) {
        if (this.joinRequest[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    g5.tiledResizeV(this, 3);
}

sender.appendPermitUser = function(userInfo) {
    for (var i=0; i<this.c_userList.v_items.length; i++) {
        if (this.c_userList.v_items[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.permitUsers.rowCount; i++) {
        var a = parseInt(showUserPage.permitUsers.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.permitUsers.rowCount;
    showUserPage.permitUsers.setRowCount(showUserPage.permitUsers.rowCount + 1);
    showUserPage.permitUsers.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.permitUsers, 2, idx);
    this.c_userList.init();
    g5.tiledResizeV(this, 3);
}

sender.deletePermitUser = function(userInfo) {
    var dat = showUserPage.permitUsers;
    for (var i=0; i<this.c_userList.v_items.length; i++) {
        if (this.c_userList.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.c_userList.init();
    g5.tiledResizeV(this, 3);
}

sender.changeSize = function() {
    if (this.v_sizeMode == "min") {
        this.setSize("max");
    } else if (this.v_sizeMode == "max") {
        this.setSize("min");
    }
}
 
sender.setSize = function(sizeMode) {
    this.v_sizeMode = sizeMode;
    if (sizeMode == "min") {
        ee.setRect(g5.p3.p8.p1,null,null,null,eb.getDivRectSetting(g5.p3.p8.p1.c_title).h);
        ee.setVisible(this.c_buttons.eeChildren[0], false);
    } else if (sizeMode == "max") {
        g5.tiledV(g5.p3.p8.p1, 0);
        if (g5.myUserInfo.id == showUserPage.v_userInfo.id) {
            ee.setVisible(this.c_buttons.eeChildren[0], true);
        }
        this.c_buttons.init();
    }
    g5.tiledResizeV(g5.p3.p8, 2)
}

sender.loadJoinRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_reqeustDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderJoinRecord = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    root.style.borderBottom = "";
    //root.style.borderRadius = "3px 25px 3px 3px";
    root.style.cursor = "pointer";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "私有聊天室许可",
            "您是否允许<b>" + nickName + "@" + userName + "</b>进入您的私有聊天室？",
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","拒绝","拒绝进入","拒绝进入","#ffffff","#ffffff","#ffffff","")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","允许","允许进入","允许进入","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvPermit.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvPermit.userId = sender.v_userInfo.id;
                chatPrvPermit.onComplete = function() {
                    g5.p3.p8.p1.deleteJoinRequest(sender.v_userInfo);
                    g5.p3.p8.p1.appendPermitUser(sender.v_userInfo);
                }
                chatPrvPermit();
            },
            function() {
                chatPrvReject.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvReject.userId = sender.v_userInfo.id;
                chatPrvReject.onComplete = function() {
                    g5.p3.p8.p1.deleteJoinRequest(sender.v_userInfo);
                }
                chatPrvReject();
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 15,cy,38,38);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 63, cy-1, 295, 40); cy+=22;
    addText(c,
        "<b>" + root.v_userInfo.nickName + "</b>" +
        "<font color='#6e7f8d'>@" + root.v_userInfo.userName + "</font>" +
        " 请求加入您的私有聊天室，您是否同意？",
        "left", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}




]]></onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>1.00361010830325</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00160513643659711</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.129496402877698</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel297">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>私人聊天室</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>156</left>
      <leftRatio>0.563176895306859</leftRatio>
      <note><![CDATA[p3.p8.p1.buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.init = function() {
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    var w = eb.getDivRectSetting(this.parentNode).w;
    ee.setRect(this,w-cx,null,cx,null);
}


]]></onCreate>
      <sizeRatio>0.297520661157025</sizeRatio>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.436823104693141</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300/panel301">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>23</left>
      <leftRatio>0.190082644628099</leftRatio>
      <onClick>if (g5.p3.p8.p1.c_userList.style.visibility=="hidden") {
    ee.changeParent(g5.p3.p8.p1.c_userList, g5.p3.p8.p1, 1);
    ee.setVisible(g5.p3.p8.p1.c_userList, true);
} else {
    ee.setVisible(g5.p3.p8.p1.c_userList, false);
}
g5.tiledV(g5.p3.p8.p1, 0);
g5.tiledV(g5.p3.p8, 15);
g5.resizeV(g5.p3.p8.p1, 3);
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>成员</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300/panel302">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>80</left>
      <leftRatio>0.661157024793388</leftRatio>
      <onClick>g5.p3.p8.p1.changeSize();
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>64</height>
      <heightRatio>0.23021582733813</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_userList->成员列表]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    if (!eb.isEmpty(showUserPage.permitUsers)) {
        var i, item;
        var root = ee.getControl("layoutxitem8");
        var itemWidth = eb.getDivRectSetting(root).w;
        var cy = 0;
        for (i=0; i< showUserPage.permitUsers.rowCount; i++) {
            var item = createPanel(root, "prvreq_" + showUserPage.permitUsers.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.permitUsers, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 5);
        ee.setRect(ee.getControl("layoutxitem9"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty11").init(root);
    }
} 

sender.arrange = function(div, ySpace, xCount) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var xSpace = eb.getDivRectSetting(div).w;
    xSpace = parseInt((xSpace - xCount*rect.w)/(3+xCount));
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], xSpace*2 + (i%xCount)*(rect.w+xSpace), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_joinDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "移出私有聊天室",
            "是否将 <b>" + nickName + "@" + userName + "</b> 移出您的私有聊天室？该用户将不会看到私有聊天室的内容，再次进入需要重新提交申请。",
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定移出","确定移出","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvDelete.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvDelete.userId = sender.v_userInfo.id;
                chatPrvDelete.onComplete = function() {
                    g5.p3.p8.p1.deletePermitUser(sender.v_userInfo);
                }
                chatPrvDelete();
            },
            function() {
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.231046931407942</sizeRatio>
      <top>43</top>
      <topRatio>0.154676258992806</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem8">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.240601503759398</sizeRatio>
      <top>0</top>
      <width>266</width>
      <widthRatio>0.96028880866426</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>266</left>
      <leftRatio>0.96028880866426</leftRatio>
      <sizeRatio>5.81818181818182</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0397111913357401</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>6.4</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem24">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.234375</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem24/panel303">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem25">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>34</height>
      <heightRatio>0.53125</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>3.4</sizeRatio>
      <top>15</top>
      <topRatio>0.234375</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem25/panel304">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>0.5</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.176470588235294</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem26">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.234375</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>49</top>
      <topRatio>0.765625</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem26/panel305">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>fill</dockX>
      <height>143</height>
      <heightRatio>0.514388489208633</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chatRoom->聊天室]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";
//sender.style.borderRadius = "0px 0px 5px 5px";
sender.c_chatRoot = ee.getControl("layoutyitem19");

</onCreate>
      <sizeRatio>0.516245487364621</sizeRatio>
      <top>113</top>
      <topRatio>0.406474820143885</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>143</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <outerRight>2</outerRight>
      <sizeRatio>0.52</sizeRatio>
      <top>0</top>
      <width>275</width>
      <widthRatio>0.992779783393502</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>92</height>
      <heightRatio>0.643356643356643</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_chatRoot->聊天root]]></note>
      <onCreate><![CDATA[sender.minRefreshTime = 3000;
sender.maxRefreshTime = 60000;
sender.running = false;

sender.style.overflowY = "auto";
sender.className = "scrollBar01";

sender.start = function(roomId) {
    if (this.v_roomId == roomId) {
        this.clearTimer();
        this.v_tfId = setInterval(function() {
            sender.timeFragment();    
        }, 500);
        this.running = true;
        return;
    }
    this.v_roomId = roomId;
    this.clear();
    if (showUserPage.privateChatRoomRights) {
        ee.setText(ee.getControl("panel294"), "发送");
    } else {
        ee.setText(ee.getControl("panel294"), "申请");
        return;
    }
    chatGetPv.disabled = false;
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    this.refresh();        
}

sender.stop = function() {
    chatGetPv.disabled = true;
    this.clearTimer();
    this.running = false;
}

sender.clear = function() {
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    this.clearTimer();
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.refresh = function(force) {
    if (!chatGetPv.busy) {
        chatGetPv.roomId = this.v_roomId;
        chatGetPv.chatId = this.v_lastChatId;
        chatGetPv.isNew = 1;
        chatGetPv.my = this;
        chatGetPv.onComplete = function(dataset) {
            var cy = 0;
            var root = chatGetPv.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                var item = createPanel(root, "prvcr_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                root.loadData(item, dataset, i);
                if (item.v_chatStatus == "CMD") {
                    if (!root.firstRun) {
                        if (item.v_msgContent == "PrvReq") {
                            if (g5.myUserInfo.id == showUserPage.v_userInfo.id) {
                                g5.p3.p8.p1.appendJoinRequest(item.v_userInfo);
                            }
                        } else if (item.v_msgContent == "PrvDel") {
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.stop();
                                showUserPage.privateChatRoomRights = false;
                                g5.alert1("提示", "很遗憾，您已经被房主移出了私有聊天室。您将不能在本聊天室发言，您以前的发言仍旧保留。");
                            }
                        }
                    }
                    root.v_lastChatId = item.v_id;
                    ee.removeControl(item);
                    continue;
                }
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
            }
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGetPv();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.renderMsg = function(root) {
    var c,rect;
    var cy = 2;
    var mainWidth = eb.getDivRect(root).w;
    //photo
    if (root.v_chatStatus != "SYS") {
        c = createPanel(root, root.id+"_img", "", 24, cy, 25, 25);
        c.style.cursor = "pointer";
        c.style.borderRadius = "50%";
        if ((root.v_userInfo.photo == "") || (root.v_userInfo.status == "DISABLED")){
            ee.setImage(c,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
        }
        c.v_timer = null;
        root.c_photo = c;
        ee.setOnClick(c, function(sender, event) {
            if (root.v_userInfo.status == "DISABLED") {
                g5.alert1("提示", "该用户处于禁封状态，目前无法查看该用户的信息");
            } else {
                ee.getControl("panel280").show(sender, root.v_userInfo);
            }
        });
        ee.setOnMouseEnter(c, function(sender,e) {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        });
        ee.setOnMouseLeave(c, function(sender,e) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        });
    }
    //message
    if (root.v_chatStatus == "SYS") {
        c = createPanel(root, root.id+"_msg", "", 24, cy, mainWidth-24, 10);
    } else {
        c = createPanel(root, root.id+"_msg", "", 55, cy, mainWidth-60-24, 10);
    }
    root.c_content = c;
    var user = g5.showCommonText(root.v_userInfo.nickName);
    var textColor = "000000";
    if (root.v_chatStatus == "SYS") {
        user = "<span style='background-color:#48ccfe;border-radius:3px;font-weight:bold;color:#4e4e4e'> 系统提示 </span>";
        textColor = "0061a2";
    } else if (root.v_userInfo.id == showUserPage.v_userInfo.id) {
        user = "<span style='background-color:#fcd801;border-radius:3px;font-weight:bold'> " + user + " </span>";    
    } else {
        user = "<span style='background-color:#f0f0ff;border-radius:3px;font-weight:bold;color:#6f6f6f'> " + user + " </span>"; 
        //user = "<font color='#6f6f6f'><b>" + user + "</b></font>";
    }
    var v_msgContent = root.v_msgContent;
    if (root.v_userInfo.status == "DISABLED") {
        v_msgContent = "用户处于禁封状态，无法查看内容";
    }
    addText(c, "<font color='#6e6e6e' style='font-family:宋体,Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime)+ " " + user + "</font> " + v_msgContent, "left", "top", "微软雅黑", 9, textColor, "normal");
    c.label.style.wordBreak = "break-all";
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h + 2;
    cy = Math.max(25+4,cy);
    ee.setRect(root, null,null,null,cy);
}

sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_chatStatus = dataset.getData(2,index);
    panel.v_roomId = dataset.getData(3,index);
    panel.v_msgContent = dataset.getData(4,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 5, index);
}

sender.displayTime = function(time) {
    var c = new Date();
    result = "";
    if (c.getYear()!=time.getYear()) {
        result += (time.getYear()+1900)+"年";
    }
    if ((c.getYear()!=time.getYear()) || (c.getMonth()!=time.getMonth()) || (c.getDate()!=time.getDate())) {
        result += 
            (time.getMonth()+1) + "月" +
            time.getDate() + "日 ";
    }
    result += 
        (time.getHours()<10?"0":"") + time.getHours() + ":" +
        (time.getMinutes()<10?"0":"") + time.getMinutes();
    return result;
}

sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGetPv.busy) return;    

    sender.v_nohis = false;
    chatGetPv.roomId = sender.v_roomId;
    chatGetPv.chatId = sender.v_items[0].v_id;
    chatGetPv.isNew = 0;
    chatGetPv.my = sender;
    chatGetPv.onComplete = function(dataset) {
        if (chatGetPv.disabled) return;
        var cy = 0;
        var root = chatGetPv.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "prvcr_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    chatGetPv();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}














]]></onCreate>
      <sizeRatio>0.334545454545455</sizeRatio>
      <top>0</top>
      <width>275</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavyEnabled>false</heavyEnabled>
      <height>51</height>
      <heightRatio>0.356643356643357</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>功能区root</note>
      <sizeRatio>0.185454545454545</sizeRatio>
      <top>92</top>
      <topRatio>0.643356643356643</topRatio>
      <width>275</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/panel293">
      <backgroundColor>E6ECF0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0196078431372549</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00363636363636364</sizeRatio>
      <top>0</top>
      <width>275</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/edit12">
      <backgroundSkin>edit1</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0363636363636364</leftRatio>
      <multiLine>true</multiLine>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
if (text.length>200) text = text.substr(0,200);
if (text.split("\n").length-1>5) {
    text = text.substr(0, text.length-1);
}
edit.setText(text);
]]></onChange>
      <onCreate><![CDATA[sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem23"));
    ee.setRect(ee.getControl("layoutyitem23"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem19"));
    ee.setRect(ee.getControl("layoutyitem19"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    var rect = eb.getDivRect(this);
    ee.setRect(sender.c_tester,null,null,rect.w,null);
    ee.setText(sender.c_tester,text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        if (!showUserPage.privateChatRoomRights) {
            g5.chatPrvRequest(showUserPage.privateChatRoomId,showUserPage.nickName,showUserPage.userName);
            event.preventDefault();
            return;
        }
        var msgContent = ee.getEditText(ee.getControl("edit12")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        if (msgContent.length>200) msgContent = msgContent.substr(0,200);
        
        sender.setText("");
        chatSend.roomId = showUserPage.privateChatRoomId
        chatSend.msgContent = msgContent;
        chatSend.onComplete = function() {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.refresh(true);
        }
        chatSend();        
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>50</outerRight>
      <sizeRatio>0.134883720930233</sizeRatio>
      <text>有什么想说的？</text>
      <top>10</top>
      <topRatio>0.196078431372549</topRatio>
      <width>215</width>
      <widthRatio>0.781818181818182</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/panel294">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>32</height>
      <heightRatio>0.627450980392157</heightRatio>
      <layerVisible>false</layerVisible>
      <left>231</left>
      <leftRatio>0.84</leftRatio>
      <onClick><![CDATA[if (!showUserPage.privateChatRoomRights) {
    g5.chatPrvRequest(showUserPage.privateChatRoomId,showUserPage.v_userInfo.nickName,showUserPage.v_userInfo.userName);
    return;
}

var msgContent = ee.getEditText(ee.getControl("edit12")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
if (msgContent.length>200) msgContent = msgContent.substr(0,200);

ee.getControl("edit12").setText("");
chatSend.roomId = showUserPage.privateChatRoomId;
chatSend.msgContent = msgContent;
chatSend.onComplete = function() {
    g5.p3.p8.p1.c_chatRoom.c_chatRoot.refresh(true);
}
chatSend();

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <outerRight>7</outerRight>
      <sizeRatio>0.864864864864865</sizeRatio>
      <text>发送</text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>37</width>
      <widthRatio>0.134545454545455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <height>256</height>
      <heightRatio>0.41091492776886</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p2->房主推荐]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_buttons = ee.getControl("panel310");
sender.c_title = ee.getControl("panel308");
sender.c_list = ee.getControl("panel313");
sender.c_edit = ee.getControl("panel311");
sender.c_addButton = ee.getControl("panel314");
sender.v_size = 0;
sender.v_mode = "view";

sender.init = function() {
    ee.setVisible(this.c_edit, false);
    g5.tiledV(this, 10, 0, 0);
    if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
        this.v_mode = "owner";
    } else {
        this.v_mode = "view";
    }
    this.c_list.refresh(showUserPage.hostRecomd);
    g5.tiledV(g5.p3.p8.p2, 0);
    g5.resizeV(g5.p3.p8.p2, 3);
    this.setMode(this.v_mode);    
}

sender.changeMode = function() {
    if (this.v_mode == "view") {
        return;
    } else if (this.v_mode == "owner") {
        this.setMode("edit");
    } else if (this.v_mode == "edit") {
        this.setMode("owner");
    }
}

sender.setMode = function(mode) {
    this.v_mode = mode;
    this.c_list.refreshMode(mode);
    this.c_buttons.init(mode);
    ee.setVisible(this, true);
    if (this.v_mode == "view") {
        if (showUserPage.hostRecomd.rowCount <= 0) {
            ee.setVisible(this, false);
        } else {
            ee.setVisible(this.c_addButton, false);
            this.c_edit.hide();
        }
    } else if (this.v_mode == "owner") {
        ee.setVisible(this.c_addButton, false);
        this.c_edit.hide();
    } else if (this.v_mode == "edit") {
        ee.setVisible(this.c_addButton, true);
    }
    g5.tiledResizeV(this, 3);
}


sender.loadJoinRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
    panel.v_id = dataset.getData(0,index);
    panel.v_reqeustDatetime = dataset.getData(1,index);
}

sender.renderJoinRecord = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    root.style.borderBottom = "";
    //root.style.borderRadius = "3px 25px 3px 3px";
    root.style.cursor = "pointer";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "私有聊天室许可",
            "您是否允许<b>" + nickName + "@" + userName + "</b>进入您的私有聊天室？",
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","拒绝","拒绝进入","拒绝进入","#ffffff","#ffffff","#ffffff","")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","允许","允许进入","允许进入","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvPermit.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvPermit.userId = sender.v_userInfo.id;
                chatPrvPermit.onComplete = function() {
                    var p = sender.parentNode;
                    ee.removeControl(sender);
                    g5.tiledV(p, 0);
                    g5.resizeV(p, 3);
                }
                chatPrvPermit();
            },
            function() {
                chatPrvReject.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvReject.userId = sender.v_userInfo.id;
                chatPrvReject.onComplete = function() {
                    var p = sender.parentNode;
                    ee.removeControl(sender);
                    g5.tiledV(p, 0);
                    g5.resizeV(p, 3);
                }
                chatPrvReject();
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 15,cy,38,38);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 63, cy-1, 295, 40); cy+=22;
    addText(c,
        "<b>" + root.v_userInfo.nickName + "</b>" +
        "<font color='#6e7f8d'>@" + root.v_userInfo.userName + "</font>" +
        " 请求加入您的私有聊天室，您是否同意？",
        "left", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}




]]></onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>0.924187725631769</sizeRatio>
      <top>260</top>
      <topRatio>0.417335473515249</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.140625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel309">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>房主推荐视频</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>156</left>
      <leftRatio>0.563176895306859</leftRatio>
      <note><![CDATA[p3.p8.p1.buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.init = function(mode) {
    if (eb.isEmpty(mode)) mode = 0;
    if (mode == "view") {
        ee.setVisible(this.eeChildren[0], false);
    } else {
        ee.setVisible(this.eeChildren[0], true);
    }
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    var w = eb.getDivRectSetting(this.parentNode).w;
    ee.setRect(this,w-cx,null,cx,null);
}
]]></onCreate>
      <sizeRatio>0.297520661157025</sizeRatio>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.436823104693141</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310/panel315">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>26</height>
      <heightRatio>0.722222222222222</heightRatio>
      <layerVisible>false</layerVisible>
      <left>4</left>
      <leftRatio>0.0330578512396694</leftRatio>
      <onClick>g5.p3.p8.p2.changeMode();
if (g5.p3.p8.p2.v_mode == "edit") {
    sender.init(1);
} else if (g5.p3.p8.p2.v_mode == "owner") {
    sender.init(0);
}
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","编辑模式","编辑模式","编辑模式","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","编辑模式","编辑模式","编辑模式","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.382352941176471</sizeRatio>
      <text>编辑模式</text>
      <top>5</top>
      <topRatio>0.138888888888889</topRatio>
      <width>68</width>
      <widthRatio>0.56198347107438</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310/panel312">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>80</left>
      <leftRatio>0.661157024793388</leftRatio>
      <onClick>if (g5.p3.p8.p2.v_size == 0) {
    ee.setRect(g5.p3.p8.p2,null,null,null,eb.getDivRectSetting(g5.p3.p8.p2.c_title).h);
    g5.player.stop();
    g5.p3.p8.p2.v_size = 1;
} else if (g5.p3.p8.p2.v_size == 1) {
    g5.tiledV(g5.p3.p8.p2, 0);
    g5.resizeV(g5.p3.p8.p2, 3);
    g5.p3.p8.p2.v_size = 0;
}
g5.tiledV(g5.p3.p8, 15);
g5.resizeV(g5.p3.p8, 2);
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel313">
      <dockX>fill</dockX>
      <height>26</height>
      <heightRatio>0.1015625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_list->内容]]></note>
      <onCreate><![CDATA[sender.refresh = function(dataset) {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var i, item;
    var root = this;
    var itemWidth = eb.getDivRectSetting(root).w;
    if (dataset.rowCount == 0) {
        ee.setVisible(this, false);
        return;
    }
    ee.setVisible(this, true);
    var cy = 0;
    for (i=0; i < dataset.rowCount; i++) {
        var item = createPanel(root, "hRcmd_" + dataset.getData(0,i), "", 10, cy, itemWidth-20, 10);
        this.loadRecord(item, dataset, i);
        this.renderItem(item);
        if (this.parentNode.v_mode != "edit") {
            ee.setVisible(item.c_button1, false);
            ee.setVisible(item.c_button2, false);
            ee.setVisible(item.c_button3, false);
        }
        if (i==0) ee.setVisible(item.c_button1, false);
        if (i==dataset.rowCount-1) ee.setVisible(item.c_button3, false);
        this.v_items.push(item);
        cy += 0 + eb.getDivRect(item).h;
    }
    g5.tiledV(this, 10, 0, 1);
    g5.tiledResizeV(this, 4);
}

sender.refreshMode = function(mode) {
    for (var i=0; i<this.v_items.length; i++) {
        var item = this.v_items[i];
        if (mode != "edit") {
            ee.setVisible(item.c_button1, false);
            ee.setVisible(item.c_button2, false);
            ee.setVisible(item.c_button3, false);
        } else {
            ee.setVisible(item.c_button1, true);
            ee.setVisible(item.c_button2, true);
            ee.setVisible(item.c_button3, true);
        }
        if (i==0) ee.setVisible(item.c_button1, false);
        if (i==this.v_items.length-1) ee.setVisible(item.c_button3, false);
    }
}


sender.loadRecord = function(panel, dataset, index) {
    //id,regDatetime,orderSn,hostUserId,videoUrl,note
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = dataset.getData(1,index);
    panel.v_orderSn = dataset.getData(2,index);
    panel.v_videoUrl = dataset.getData(4,index);
    panel.v_note = dataset.getData(5,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderRadius = "15px";
    
    //video
    cy = w * 0.563;
    c = createPanel(root, root.id+"panel13", "", 0, 0, w, cy);
    root.c_video = c;
    c.v_mode = "";
    c = createPanel(c, root.id+"panel13a", "", 0, 0, w, cy);
    root.c_videoRoot = c;
    c.v_photo = root.v_videoUrl;
    //g5.addPhoto(c);
    g5.addVideoExt(c);

    //button1
    var by = 13;    
    c = createPanel(root, root.id+"button1", "", w-60, by, 60, 24); by+=25;
    root.c_button1 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","↑上移","↑上移","↑上移","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        hostRecomdMoveUp.videoId = sender.parentNode.v_id;
        hostRecomdMoveUp.onComplete = function() {
            refreshHostRecomd.userId = showUserPage.v_userInfo.id;
            refreshHostRecomd.onComplete = function() {
                g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
            }
            refreshHostRecomd();
        }
        hostRecomdMoveUp();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);

    //button2
    c = createPanel(root, root.id+"button2", "", w-60, by, 60, 24); by+=25;
    root.c_button2 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","×删除","×删除","×删除","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel257").show(
            "删除视频",
            "确定删除这条房主推荐视频吗？删除后其他用户将不能看到此条推荐视频。",
            [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
            function() {
                hostRecomdDelete.videoId = sender.parentNode.v_id;
                hostRecomdDelete.onComplete = function() {
                    refreshHostRecomd.userId = showUserPage.v_userInfo.id;
                    refreshHostRecomd.onComplete = function() {
                        g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
                    }
                    refreshHostRecomd();
                }
                hostRecomdDelete();
            }
        );
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);

    //button3
    c = createPanel(root, root.id+"button3", "", w-60, by, 60, 24); by+=25;
    root.c_button3 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","↓下移","↓下移","↓下移","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        hostRecomdMoveDown.videoId = sender.parentNode.v_id;
        hostRecomdMoveDown.onComplete = function() {
            refreshHostRecomd.userId = showUserPage.v_userInfo.id;
            refreshHostRecomd.onComplete = function() {
                g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
            }
            refreshHostRecomd();
        }
        hostRecomdMoveDown();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    
    //note
    c = createPanel(root, root.id+"panel16", "", 5, cy, w - 15, 10);
    root.c_note = c;
    addText(c,
        g5.showCommonText(root.v_note),
        "center", "middle", "微软雅黑", 9, "14171a", "");
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h;
    
    cy += 5;
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.0938628158844765</sizeRatio>
      <top>38</top>
      <topRatio>0.1484375</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311">
      <dockX>fill</dockX>
      <height>152</height>
      <heightRatio>0.59375</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.036101083032491</leftRatio>
      <note><![CDATA[c_edit->编辑框]]></note>
      <onCreate>sender.c_video = sender.eeChildren[0];
sender.c_videoRoot = sender.c_video.eeChildren[0];
sender.c_edit = sender.eeChildren[1];
sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px";

sender.init = function() {
    this.c_video.init();
    this.c_edit.init();
    this.clearAll();
    g5.tiledV(this, 0, 0, 0);
    g5.resizeV(this, 1);
}

sender.clearVideo = function() {
    this.c_videoRoot.innerHTML = "";
    this.c_videoRoot.v_photo = null; 
}

sender.clearAll = function() {
    this.clearVideo();
    ee.setEditText(this.c_edit, "");
}

sender.show = function() {
    ee.setVisible(this, true);
    g5.tiledResizeV(this, 4);
    ee.setText(g5.p3.p8.p2.c_addButton, "确定增加");
    g5.p3.p8.p2.c_addButton.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","确定增加","确定增加","确定增加","#404040","#404040","#404040","")
    ];
}

sender.hide = function() {
    this.clearAll();
    ee.setVisible(this, false);
    g5.tiledResizeV(this, 4);
    ee.setText(g5.p3.p8.p2.c_addButton, "+ 增加一条");
    g5.p3.p8.p2.c_addButton.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","+ 增加一条","+ 增加一条","+ 增加一条","#404040","#404040","#404040","")
    ];
}

</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.591439688715953</sizeRatio>
      <top>64</top>
      <topRatio>0.25</topRatio>
      <width>257</width>
      <widthRatio>0.927797833935018</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>113</height>
      <heightRatio>0.743421052631579</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_video->视频框]]></note>
      <onClick><![CDATA[var url = prompt("请输入播放地址：", "");
if (url == null) return;
if (url.length<=0) return;
ytbVideo = "";
var pos;
if ((pos=url.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
    ytbVideo = url.substr(pos + "youtube.com/watch?v=".length, url.length);
} else if ((pos=url.toLowerCase().indexOf("youtu.be/",0))>0) {
    ytbVideo = url.substr(pos + "youtu.be/".length, url.length);
} else {
    g5.alert1("提示", "您输入的视频地址不正确");
    return;
}
if ((ytbVideo.length<=8)||(ytbVideo.length>=14)) {
    g5.alert1("提示", "您输入的视频地址不正确");
    return;
}
ytbVideo = "?YTB" + ytbVideo;

sender.parentNode.c_videoRoot.v_photo = ytbVideo;
g5.addPhoto(sender.parentNode.c_videoRoot);
    ]]></onClick>
      <onCreate>sender.init = function() {
    var rect = eb.getDivRectSetting(this.parentNode);
    ee.setRect(this, 0, null, rect.w, rect.w * 0.563);
    eb.processDock();
}
</onCreate>
      <sizeRatio>0.439688715953307</sizeRatio>
      <text>点击输入视频地址</text>
      <top>1</top>
      <topRatio>0.00657894736842105</topRatio>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel319">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>113</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_videoRoot->视频底]]></note>
      <sizeRatio>0.439688715953307</sizeRatio>
      <top>0</top>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel318">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <layerVisible>false</layerVisible>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>g5.p3.p8.p2.c_edit.clearVideo();
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","清除","清除","清除","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>清除</text>
      <top>13</top>
      <topRatio>0.115044247787611</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel320">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <layerVisible>false</layerVisible>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>hostRecomdAppend.videoUrl = g5.p3.p8.p2.c_edit.c_videoRoot.v_photo;
hostRecomdAppend.note = ee.getEditText(g5.p3.p8.p2.c_edit.c_edit);

if (eb.isEmpty(hostRecomdAppend.videoUrl)) {
    g5.alert1("提示", "您必须指定推荐的视频");
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return;
}

hostRecomdAppend.onComplete = function() {
    g5.p3.p8.p2.c_edit.hide();
    refreshHostRecomd.userId = showUserPage.id;
    refreshHostRecomd.onComplete = function() {
        g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
    }
    refreshHostRecomd();
}
hostRecomdAppend();

window.event? window.event.cancelBubble = true : event.stopPropagation();

</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","确定","确定","确定","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>确定</text>
      <top>38</top>
      <topRatio>0.336283185840708</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel321">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <layerVisible>false</layerVisible>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>g5.p3.p8.p2.c_edit.hide();
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","取消","取消","取消","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>取消</text>
      <top>63</top>
      <topRatio>0.557522123893805</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/edit13">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <height>25</height>
      <heightRatio>0.164473684210526</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0194552529182879</leftRatio>
      <multiLine>true</multiLine>
      <note>c_edit</note>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
if (text.length > 0) {
    if (text.charAt(text.length-1)=="\n") text+="a";
}
ee.setText(edit.c_tester, text);
var h = eb.getDivRect(edit.c_tester.label).h;
h = Math.max(edit.v_defaultH, h);
var lastH = eb.getDivRectSetting(edit).h;
if (h!=lastH) {
    ee.setRect(edit, null, null, null, h);
    if (!eb.isEmpty(edit.onHeightChange)) {
        edit.onHeightChange(edit, lastH, h);
    }
}

]]></onChange>
      <onCreate>sender.onHeightChange = function(sender, oldHeight, newHeight) {
    g5.tiledResizeV(sender.parentNode, 4);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;

sender.init = function() {
    //ee.setRect(this, null, null, null, 28);
}
</onCreate>
      <outerLeft>5</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.103305785123967</sizeRatio>
      <text>请输入视频说明文字</text>
      <top>124</top>
      <topRatio>0.815789473684211</topRatio>
      <width>242</width>
      <widthRatio>0.941634241245136</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel317">
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0657894736842105</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0389105058365759</sizeRatio>
      <top>151</top>
      <topRatio>0.993421052631579</topRatio>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel314">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.12890625</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_addButton->底部增加按钮]]></note>
      <onClick>if (sender.parentNode.c_edit.style.visibility == "hidden") {
    sender.parentNode.c_edit.init();
    sender.parentNode.c_edit.show();
} else {
    ee.getControl("panel320").click();
}
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","+增加一条","+增加一条","+增加一条","#404040","#404040","#404040","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    //this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);
</onCreate>
      <sizeRatio>0.11913357400722</sizeRatio>
      <text>+ 增加一条</text>
      <top>220</top>
      <topRatio>0.859375</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel322">
      <heightRatio>0.160513643659711</heightRatio>
      <layerVisible>false</layerVisible>
      <left>25</left>
      <leftRatio>0.0814332247557003</leftRatio>
      <note>底部空白</note>
      <sizeRatio>1.08695652173913</sizeRatio>
      <top>251</top>
      <topRatio>0.402889245585875</topRatio>
      <width>92</width>
      <widthRatio>0.299674267100977</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>623</height>
      <heightRatio>0.862880886426593</heightRatio>
      <layerName><![CDATA[p3.p9->主页公告]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_fitInner = true;
sender.p1 = ee.getControl("panel366");
sender.init = function() {
    this.p1.init();
    g5.tiledV(this, 15);
    g5.resizeV(this,2);
}
</onCreate>
      <sizeRatio>2.02931596091205</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <height>278</height>
      <heightRatio>0.446227929373997</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p1->公告栏]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_title = ee.getControl("panel366");
sender.c_text = ee.getControl("panel375");

sender.v_size = 0;

sender.init = function() {
    g5.tiledV(this, 0);
    g5.resizeV(this, 3);
} 
</onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>1.00361010830325</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00160513643659711</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel367">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.129496402877698</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel367/panel368">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>公告</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel375">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>fill</dockX>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>192</height>
      <heightRatio>0.690647482014389</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.036101083032491</leftRatio>
      <note><![CDATA[c_text->公告内容]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";
//sender.style.borderRadius = "0px 0px 5px 5px";
sender.c_chatRoot = ee.getControl("layoutxitem6");

</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.747081712062257</sizeRatio>
      <text>拳头聊天室正式上线，欢迎各位网友进行测试！有什么建议可以直接私信爱听不听（推特账号）。我们会随时根据用户反馈的体验进行修改！请用文字+截图的形式，非常欢迎大家的参与！
</text>
      <top>36</top>
      <topRatio>0.129496402877698</topRatio>
      <vAlign>top</vAlign>
      <width>257</width>
      <widthRatio>0.927797833935018</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>98</height>
      <heightRatio>0.123115577889447</heightRatio>
      <layerName>===P4===</layerName>
      <layerVisible>false</layerVisible>
      <left>302</left>
      <leftRatio>0.252719665271967</leftRatio>
      <onCreate>sender.v_fitInner = true;
sender.style.position="fixed";

sender.currentPage = "";
sender.changePage = function(pageName) {
    if (this.currentPage == "a1") {
        ee.setVisible(this.a1, false);
    } else if (this.currentPage == "a2") {
        ee.setVisible(this.a2, false);
    } else if (this.currentPage == "a3") {
        ee.setVisible(this.a3, false);
    } else if (this.currentPage == "a4") {
        ee.setVisible(this.a4, false);
    } else if (this.currentPage == "a5") {
        ee.setVisible(this.a5, false);
    } else if (this.currentPage == "a6") {
        ee.setVisible(this.a6, false);
    } else if (this.currentPage == "a7") {
        ee.setVisible(this.a7, false);
    } else if (this.currentPage == "a8") {
        ee.setVisible(this.a8, false);
    } else if (this.currentPage == "a9") {
        ee.setVisible(this.a9, false);
    } else if (this.currentPage == "a10") {
        ee.setVisible(this.a10, false);
    } else if (this.currentPage == "a11") {
        ee.setVisible(this.a11, false);
    } else if (this.currentPage == "a12") {
        ee.setVisible(this.a12, false);
    } else if (this.currentPage == "a13") {
        ee.setVisible(this.a13, false);
    }
    this.currentPage = pageName;
    if (pageName == "") {
        ee.setVisible(this, false);
        return;
    }
    if (this.currentPage == "a1") {
        ee.setVisible(this.a1, true);
        this.a1.refreshMobile();
    } else if (this.currentPage == "a2") {
        ee.setVisible(this.a2, true);
    } else if (this.currentPage == "a3") {
        this.a3.activePage();
    } else if (this.currentPage == "a4") {
        ee.setVisible(this.a4, true);
    } else if (this.currentPage == "a5") {
        ee.setVisible(this.a5, true);
    } else if (this.currentPage == "a6") {
        this.a6.activePage();
    } else if (this.currentPage == "a7") {
        ee.setVisible(this.a7, true);
    } else if (this.currentPage == "a8") {
        ee.setVisible(this.a8, true);
    } else if (this.currentPage == "a9") {
        ee.setVisible(this.a9, true);
    } else if (this.currentPage == "a10") {
        ee.setVisible(this.a10, true);
    } else if (this.currentPage == "a11") {
        ee.setVisible(this.a11, true);
    } else if (this.currentPage == "a12") {
        ee.setVisible(this.a12, true);
    } else if (this.currentPage == "a13") {
        ee.setVisible(this.a13, true);
    }
    g5.tiledV(this,0,0,0);
    ee.setVisible(this, true);
    
    setTimeout(function() {
        sender.scrollLeft = 0;
    }, 200); 
}

setTimeout(function() {
    sender.scrollLeft = 0;
}, 500); 
</onCreate>
      <sizeRatio>0.165540540540541</sizeRatio>
      <top>-3</top>
      <topRatio>-0.00376884422110553</topRatio>
      <width>592</width>
      <widthRatio>0.495397489539749</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a1</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>主页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.c_main = ee.getControl("layoutx13");
sender.c_menu = ee.getControl("panel559");
sender.c_btnClear = ee.getControl("panel657");
sender.c_btnSearch = ee.getControl("panel184");

sender.refreshMobile = function() {
    if (g5.isMobile) {
        var r = eb.getDivRectSetting(this.c_menu);
        eb.setOuter(this.c_main,r.w+20,10,10,10);
        ee.setRect(this.c_menu,0,null,null,null,null);
        ee.setVisible(this.c_menu, true);
    } else {
        eb.setOuter(this.c_main,20,10,10,10);
        ee.setVisible(this.c_menu, false);
    }
    this.clearButtonControl();
    eb.processDock();
}

sender.clearButtonControl = function() {
    if (ee.getEditText(ee.getControl("edit14"))!="") {
        ee.setVisible(this.c_btnClear, true);
        this.c_btnSearch.init(0);
    } else {
        ee.setVisible(this.c_btnClear, false);
        this.c_btnSearch.init(1);
    }
}</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>-3</top>
      <topRatio>-0.0306122448979592</topRatio>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel34/layoutx13">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.101351351351351</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>60</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.0632183908045977</sizeRatio>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>522</width>
      <widthRatio>0.881756756756757</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0718954248366013</sizeRatio>
      <top>0</top>
      <width>459</width>
      <widthRatio>0.879310344827586</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e6ecf0","#F6FCFF","#F6FCFF","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    //ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

sender.init(0);</onCreate>
      <sizeRatio>0.0718954248366013</sizeRatio>
      <top>0</top>
      <width>459</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem20">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.942857142857143</sizeRatio>
      <top>0</top>
      <width>35</width>
      <widthRatio>0.0762527233115468</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem20/panel183">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.iconSearch + "</svg>";
sender.style.borderRadius = "50%";
//ee.setOnMouseEnter(sender, function(sender,event) {
//    sender.style.backgroundColor = "#dfeffa";
//    sender.childNodes[0].style.color = "rgb(29,161,242)";
//});    
//ee.setOnMouseLeave(sender, function(sender,event) {
//    sender.style.backgroundColor = "";
//    sender.childNodes[0].style.color = "rgb(101,119,134)";
//});

]]></onCreate>
      <sizeRatio>0.942857142857143</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>35</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem21">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>35</left>
      <leftRatio>0.0762527233115468</leftRatio>
      <sizeRatio>0.0852713178294574</sizeRatio>
      <top>0</top>
      <width>387</width>
      <widthRatio>0.843137254901961</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem21/edit14">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.939393939393939</heightRatio>
      <inputFont>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</inputFont>
      <inputFontColor>404040</inputFontColor>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0258397932816537</leftRatio>
      <onChange>g5.p4.a1.clearButtonControl();</onChange>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var text = ee.getEditText(sender);
        g5.p2.p11.search(text);
        event.preventDefault();
        return false;
    }
});

sender._input.style.lineHeight = "";</onCreate>
      <onFocus>ee.getControl("layoutx10").init(1);</onFocus>
      <onFocusLost>ee.getControl("layoutx10").init(0);</onFocusLost>
      <outerBottom>2</outerBottom>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.0822281167108753</sizeRatio>
      <text>站内搜索　　</text>
      <top>0</top>
      <width>377</width>
      <widthRatio>0.974160206718346</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem45">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>422</left>
      <leftRatio>0.919389978213508</leftRatio>
      <sizeRatio>0.891891891891892</sizeRatio>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.0806100217864924</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem45/panel657">
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setEditText(ee.getControl("edit14"), "");
ee.setEditText(ee.getControl("edit7"), "");
g5.p4.a1.clearButtonControl();
</onClick>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.icon.close + "</svg>";


]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>33</width>
      <widthRatio>0.891891891891892</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem31">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>459</left>
      <leftRatio>0.879310344827586</leftRatio>
      <sizeRatio>0.523809523809524</sizeRatio>
      <top>0</top>
      <width>63</width>
      <widthRatio>0.120689655172414</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem31/panel184">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.158730158730159</leftRatio>
      <onClick>if (sender.v_index!=0) return;
var text = ee.getEditText(ee.getControl("edit14"))
g5.p2.p11.search(text);
</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(29,161,242)","rgb(29,161,242)","rgb(29,161,242)",""),
    new g5.BStyle("","#dfeffa","#cfdfea","","","","#808080","#808080","#808080","")
]);
sender.style.borderRadius = "10px";







</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.622641509433962</sizeRatio>
      <text>搜索</text>
      <top>0</top>
      <width>53</width>
      <widthRatio>0.841269841269841</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/panel559">
      <backgroundColor>1DA1F2</backgroundColor>
      <dockY>fill</dockY>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.cursor="pointer";
</onCreate>
      <sizeRatio>0.803030303030303</sizeRatio>
      <text>Menu</text>
      <top>0</top>
      <width>66</width>
      <widthRatio>0.111486486486486</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/panel559/panel606">
      <backgroundImg>fistal_black128.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>35</height>
      <heightRatio>0.660377358490566</heightRatio>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.227272727272727</leftRatio>
      <note>c_userPhoto</note>
      <onClick>if (g5.guestMode) {
    g5.popBlack.a11.show();
} else {
    g5.popBlack.a9.show();
}
return false;</onClick>
      <onCreate>sender.style.borderRadius = "50%";
g5.initImgButtonV1(sender,"100%","80%","70%");
</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>9</top>
      <topRatio>0.169811320754717</topRatio>
      <width>35</width>
      <widthRatio>0.53030303030303</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel38">
      <backgroundColor>FFC080</backgroundColor>
      <ee_LocalName>a2</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>推文页</layerName>
      <layerVisible>false</layerVisible>
      <left>2</left>
      <leftRatio>0.00337837837837838</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.0939716312056738</sizeRatio>
      <top>2</top>
      <topRatio>0.0204081632653061</topRatio>
      <width>564</width>
      <widthRatio>0.952702702702703</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel38/panel39">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>51</left>
      <leftRatio>0.0904255319148936</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.195571955719557</sizeRatio>
      <text>发言</text>
      <top>0</top>
      <width>271</width>
      <widthRatio>0.480496453900709</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel38/panel212">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0354609929078014</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";

g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0585106382978723</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel348">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>a4</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>书签</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel348/panel351">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>51</left>
      <leftRatio>0.0861486486486486</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.24537037037037</sizeRatio>
      <text>收藏</text>
      <top>0</top>
      <width>216</width>
      <widthRatio>0.364864864864865</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel348/panel362">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel353">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>a5</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>通知</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel353/panel354">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>51</left>
      <leftRatio>0.0861486486486486</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.181506849315068</sizeRatio>
      <text>通知</text>
      <top>0</top>
      <width>292</width>
      <widthRatio>0.493243243243243</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel353/panel364">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a6</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>个人主页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.c_btnClear = ee.getControl("panel659");
sender.c_btnSearch = ee.getControl("panel416");

sender.activePage = function() {
    ee.setVisible(this, true);
    this.clearButtonControl();
}

sender.clearButtonControl = function() {
    if (ee.getEditText(ee.getControl("edit22"))!="") {
        ee.setVisible(this.c_btnClear, true);
        this.c_btnSearch.init(0);
    } else {
        ee.setVisible(this.c_btnClear, false);
        this.c_btnSearch.init(1);
    }
}</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel57/layoutx15">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>20</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.0587188612099644</sizeRatio>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>562</width>
      <widthRatio>0.949324324324324</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem33">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.673469387755102</sizeRatio>
      <top>0</top>
      <width>49</width>
      <widthRatio>0.0871886120996441</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem33/panel417">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>0</top>
      <width>33</width>
      <widthRatio>0.673469387755102</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>49</left>
      <leftRatio>0.0871886120996441</leftRatio>
      <sizeRatio>0.0774647887323944</sizeRatio>
      <top>0</top>
      <width>426</width>
      <widthRatio>0.758007117437722</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e6ecf0","#F6FCFF","#F6FCFF","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    //ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

sender.init(0);</onCreate>
      <sizeRatio>0.0774647887323944</sizeRatio>
      <top>0</top>
      <width>426</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem34">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.942857142857143</sizeRatio>
      <top>0</top>
      <width>35</width>
      <widthRatio>0.0821596244131455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem34/panel415">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>var text = ee.getEditText(ee.getControl("edit22"))
g5.p2.p11.search(text);
</onClick>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.iconSearch + "</svg>";
sender.style.borderRadius = "50%";
//ee.setOnMouseEnter(sender, function(sender,event) {
//    sender.style.backgroundColor = "#dfeffa";
//    sender.childNodes[0].style.color = "rgb(29,161,242)";
//});    
//ee.setOnMouseLeave(sender, function(sender,event) {
//    sender.style.backgroundColor = "";
//    sender.childNodes[0].style.color = "rgb(101,119,134)";
//});

]]></onCreate>
      <sizeRatio>0.942857142857143</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>35</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem35">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>35</left>
      <leftRatio>0.0821596244131455</leftRatio>
      <sizeRatio>0.0932203389830508</sizeRatio>
      <top>0</top>
      <width>354</width>
      <widthRatio>0.830985915492958</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem35/edit22">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.939393939393939</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontColor>404040</inputFontColor>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0282485875706215</leftRatio>
      <onChange>g5.p4.a6.clearButtonControl();</onChange>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var text = ee.getEditText(sender);
        g5.p2.p11.search(text);
        event.preventDefault();
        return false;
    }
});

sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];
sender.v_index = 0;
</onCreate>
      <onFocus>ee.getControl("layoutx16").init(1);</onFocus>
      <onFocusLost>ee.getControl("layoutx16").init(0);</onFocusLost>
      <outerBottom>2</outerBottom>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.0901162790697674</sizeRatio>
      <text>站内搜索</text>
      <top>0</top>
      <width>344</width>
      <widthRatio>0.971751412429379</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem46">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>389</left>
      <leftRatio>0.913145539906103</leftRatio>
      <sizeRatio>0.891891891891892</sizeRatio>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.0868544600938967</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem46/panel659">
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setEditText(ee.getControl("edit22"), "");
g5.p4.a6.clearButtonControl();
</onClick>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.icon.close + "</svg>";


]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>33</width>
      <widthRatio>0.891891891891892</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem37">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>475</left>
      <leftRatio>0.845195729537367</leftRatio>
      <sizeRatio>0.379310344827586</sizeRatio>
      <top>0</top>
      <width>87</width>
      <widthRatio>0.154804270462633</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem37/panel416">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.114942528735632</leftRatio>
      <onClick>if (sender.v_index!=0) return;
var text = ee.getEditText(ee.getControl("edit22"))
g5.p2.p11.search(text);
</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","rgb(29,161,242)","rgb(29,161,242)","rgb(29,161,242)",""),
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","#808080","#808080","#808080","")
]);
sender.style.borderRadius = "10px";
</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.428571428571429</sizeRatio>
      <text>搜索</text>
      <top>0</top>
      <width>77</width>
      <widthRatio>0.885057471264368</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel29">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a7</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>私信1</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel29/panel30">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>54</left>
      <leftRatio>0.0912162162162162</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.181506849315068</sizeRatio>
      <text>私信</text>
      <top>0</top>
      <width>292</width>
      <widthRatio>0.493243243243243</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel29/panel109">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel31">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a8</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>私信2</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.setText1 = function(text) {
    c = ee.getControl("panel32");
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "14pt";
    c.style.color = "#14171a";
    c.style.fontWeight = "bold";
    c.style.textOverflow = "ellipsis";
    c.style.inlineBlock = "max-width";
    c.style.whiteSpace = "nowrap";
    c.innerHTML = text;
}

sender.setText2 = function(text) {
    c = ee.getControl("panel582");
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.color = "#808080";
    c.style.textOverflow = "ellipsis";
    c.style.inlineBlock = "max-width";
    c.style.whiteSpace = "nowrap";
    c.innerHTML = text;
}
</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel31/panel32">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>26</height>
      <heightRatio>0.490566037735849</heightRatio>
      <layerVisible>false</layerVisible>
      <left>58</left>
      <leftRatio>0.097972972972973</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <outerLeft>58</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.0505836575875486</sizeRatio>
      <text>...</text>
      <top>5</top>
      <topRatio>0.0943396226415094</topRatio>
      <width>514</width>
      <widthRatio>0.868243243243243</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel31/panel114">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel31/panel582">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>26</height>
      <heightRatio>0.490566037735849</heightRatio>
      <layerVisible>false</layerVisible>
      <left>58</left>
      <leftRatio>0.097972972972973</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <outerLeft>58</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.0505836575875486</sizeRatio>
      <text>...</text>
      <top>27</top>
      <topRatio>0.509433962264151</topRatio>
      <width>514</width>
      <widthRatio>0.868243243243243</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel99">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a9</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>粉丝列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>-1</top>
      <topRatio>-0.0102040816326531</topRatio>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel99/panel100">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>53</left>
      <leftRatio>0.089527027027027</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>53</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.102119460500963</sizeRatio>
      <text>粉丝列表</text>
      <top>0</top>
      <width>519</width>
      <widthRatio>0.876689189189189</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel99/panel104">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel102">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a10</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>关注列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel102/panel103">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>53</left>
      <leftRatio>0.089527027027027</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>53</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.102119460500963</sizeRatio>
      <text>关注列表</text>
      <top>0</top>
      <width>519</width>
      <widthRatio>0.876689189189189</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel102/panel118">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel419">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>a11</ee_LocalName>
      <height>51</height>
      <heightRatio>0.520408163265306</heightRatio>
      <layerName>设置-已屏蔽账号</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.0861486486486486</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel419/panel420">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>60</left>
      <leftRatio>0.101351351351351</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.17056856187291</sizeRatio>
      <text>已屏蔽账号</text>
      <top>0</top>
      <width>299</width>
      <widthRatio>0.505067567567568</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel419/panel421">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.647058823529412</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel532">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a12</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>加粉请求列表</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel532/panel533">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>53</left>
      <leftRatio>0.089527027027027</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.10515873015873</sizeRatio>
      <text>加粉请求</text>
      <top>0</top>
      <width>504</width>
      <widthRatio>0.851351351351351</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel532/panel534">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel539">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a13</ee_LocalName>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName>已隐藏</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel539/panel540">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>53</left>
      <leftRatio>0.089527027027027</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.10515873015873</sizeRatio>
      <text>已隐藏</text>
      <top>0</top>
      <width>504</width>
      <widthRatio>0.851351351351351</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel539/panel541">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>a3</ee_LocalName>
      <height>106</height>
      <heightRatio>1.08163265306122</heightRatio>
      <layerName>搜索页</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.c_btnClear = ee.getControl("panel654");
sender.c_btnSearch = ee.getControl("panel645");

sender.activePage = function() {
    ee.setVisible(this, true);
    g5.tiledV(this,0,0,0);
    this.clearButtonControl();
}

sender.clearButtonControl = function() {
    if (ee.getEditText(ee.getControl("edit7"))!="") {
        ee.setVisible(this.c_btnClear, true);
        this.c_btnSearch.init(0);
    } else {
        ee.setVisible(this.c_btnClear, false);
         this.c_btnSearch.init(1);
    }
}
</onCreate>
      <sizeRatio>0.179054054054054</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/panel646">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <height>53</height>
      <heightRatio>0.5</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>顶部</note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/panel646/panel649">
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 26 26\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:5px 0px 0px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.icon.back+"</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>33</width>
      <widthRatio>0.0557432432432432</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <layerVisible>false</layerVisible>
      <left>70</left>
      <leftRatio>0.118243243243243</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>70</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.064453125</sizeRatio>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>512</width>
      <widthRatio>0.864864864864865</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0734966592427617</sizeRatio>
      <top>0</top>
      <width>449</width>
      <widthRatio>0.876953125</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e6ecf0","#F6FCFF","#F6FCFF","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    //ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

sender.init(0);</onCreate>
      <sizeRatio>0.0734966592427617</sizeRatio>
      <top>0</top>
      <width>449</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem41">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.942857142857143</sizeRatio>
      <top>0</top>
      <width>35</width>
      <widthRatio>0.0779510022271715</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem41/panel263">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.iconSearch + "</svg>";
sender.style.borderRadius = "50%";
//ee.setOnMouseEnter(sender, function(sender,event) {
//    sender.style.backgroundColor = "#dfeffa";
//    sender.childNodes[0].style.color = "rgb(29,161,242)";
//});    
//ee.setOnMouseLeave(sender, function(sender,event) {
//    sender.style.backgroundColor = "";
//    sender.childNodes[0].style.color = "rgb(101,119,134)";
//});

]]></onCreate>
      <sizeRatio>0.942857142857143</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>35</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem42">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>35</left>
      <leftRatio>0.0779510022271715</leftRatio>
      <sizeRatio>0.0875331564986737</sizeRatio>
      <top>0</top>
      <width>377</width>
      <widthRatio>0.839643652561247</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem42/edit7">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.939393939393939</heightRatio>
      <inputFont>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</inputFont>
      <inputFontColor>404040</inputFontColor>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.026525198938992</leftRatio>
      <onChange>g5.p4.a3.clearButtonControl();</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var text = ee.getEditText(sender);
        g5.p2.p11.search(text);
        event.preventDefault();
        return false;
    }
});

sender._input.style.lineHeight = "";</onCreate>
      <onFocus>ee.getControl("layoutx10").init(1);</onFocus>
      <onFocusLost>ee.getControl("layoutx10").init(0);</onFocusLost>
      <outerBottom>2</outerBottom>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.0844686648501362</sizeRatio>
      <text>站内搜索</text>
      <top>0</top>
      <width>367</width>
      <widthRatio>0.973474801061008</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem44">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>412</left>
      <leftRatio>0.917594654788419</leftRatio>
      <sizeRatio>0.891891891891892</sizeRatio>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.0824053452115813</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem40/layoutx17/layoutxitem44/panel654">
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setEditText(ee.getControl("edit14"), "");
ee.setEditText(ee.getControl("edit7"), "");
g5.p4.a3.clearButtonControl();
</onClick>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.icon.close + "</svg>";


]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>33</width>
      <widthRatio>0.891891891891892</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem43">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>449</left>
      <leftRatio>0.876953125</leftRatio>
      <sizeRatio>0.523809523809524</sizeRatio>
      <top>0</top>
      <width>63</width>
      <widthRatio>0.123046875</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/panel646/layoutx12/layoutxitem43/panel645">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.158730158730159</leftRatio>
      <onClick>if (sender.v_index!=0) return;
var text = ee.getEditText(ee.getControl("edit7"))
g5.p2.p11.search(text);
</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","rgb(29,161,242)","rgb(29,161,242)","rgb(29,161,242)",""),
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","#808080","#808080","#808080","")
]);
sender.style.borderRadius = "10px";


</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.622641509433962</sizeRatio>
      <text>搜索</text>
      <top>0</top>
      <width>53</width>
      <widthRatio>0.841269841269841</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel74/layoutx11">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fieldCount>5</fieldCount>
      <height>38</height>
      <heightRatio>0.358490566037736</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>搜索按钮组</note>
      <onCreate><![CDATA[//sender.style.position="fixed";
sender.style.boxSizing = "border-box";
sender.style.borderBottomWidth = "1px";
sender.style.borderBottomColor = "rgb(230,236,240)";
sender.style.borderBottomStyle = "solid";
sender.c_line = ee.getControl("panel337");
sender.c_button1 = ee.getControl("layoutxitem22");
sender.c_button2 = ee.getControl("layoutxitem23");
sender.c_button3 = ee.getControl("layoutxitem24");
sender.c_button4 = ee.getControl("layoutxitem25");
sender.c_button5 = ee.getControl("layoutxitem26");
sender.v_enabled = true;

sender.buttonClick = function(button) {
    if (!this.v_enabled) return;
    for (var i=0; i<this.eeChildren.length; i++) {
        this.eeChildren[i].init(0);
    }
    button.init(1);
    button.appendChild(this.c_line);
    eb.processDock();
}

sender.setEnabled = function(enabled) {
    if (enabled) {
        this.style.cursor = "pointer";
    } else {
        this.style.cursor = "wait";
    }
    this.v_enabled = enabled;
}

]]></onCreate>
      <sizeRatio>0.0641891891891892</sizeRatio>
      <top>45</top>
      <topRatio>0.424528301886792</topRatio>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem22">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p11.userChangePage("c1");</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);






</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>热门</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem22/panel337">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.0789473684210526</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0254237288135593</sizeRatio>
      <top>35</top>
      <topRatio>0.921052631578947</topRatio>
      <width>118</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem23">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>118</left>
      <leftRatio>0.199324324324324</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c2");</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);








</onCreate>
      <sizeRatio>0.319327731092437</sizeRatio>
      <text>最新</text>
      <top>0</top>
      <width>119</width>
      <widthRatio>0.201013513513514</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem24">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>237</left>
      <leftRatio>0.400337837837838</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c3");</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>用户</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem25">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>355</left>
      <leftRatio>0.599662162162162</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c4");</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);


</onCreate>
      <sizeRatio>0.319327731092437</sizeRatio>
      <text>照片</text>
      <top>0</top>
      <width>119</width>
      <widthRatio>0.201013513513514</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel74/layoutx11/layoutxitem26">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>474</left>
      <leftRatio>0.800675675675676</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c5");</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#657786","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","")
]);

</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>视频</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>571</height>
      <heightRatio>0.717336683417085</heightRatio>
      <layerName>===P1===</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setVisible(sender, true);

sender.currentPageName = "";
sender.v_fitInner = true;
sender.style.position="fixed";
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);

sender.changePage = function(pageName) {
    if (this.currentPageName == "p1") {
        ee.setVisible(this.p1, false);
    } else if (this.currentPageName == "p2") {
        ee.setVisible(this.p2, false);
    } else if (this.currentPageName == "p3") {
        ee.setVisible(this.p3, false);
    } else if (this.currentPageName == "p4") {
        ee.setVisible(this.p4, false);
    } else if (this.currentPageName == "p5") {
        ee.setVisible(this.p5, false);
    } else if (this.currentPageName == "p6") {
        ee.setVisible(this.p6, false);
    }
    if (pageName == "p1") {
        ee.setVisible(this.p1, true);
        ee.setRect(this,null,0,null,570);
    } else if (pageName == "p2") {
        ee.setVisible(this.p2, true);
        ee.setRect(this,null,0,null,570);
    } else if (pageName == "p3") {
        var h = "60px";
        ee.setVisible(this.p3, true);
        this.style.top = "";
        this.style.width = "100%";
        this.style.height = h;
        this.style.bottom = "0px";
        this.p3.line1.style.top = "";
        this.p3.line1.style.width = "100%";
        this.p3.line1.style.bottom = h;
    } else if (pageName == "p4") {
        var h = "60px";
        ee.setVisible(this.p4, true);
        this.style.top = "";
        this.style.width = "100%";
        this.style.height = h;
        this.style.bottom = "0px";
    } else if (pageName == "p5") {
        ee.setVisible(this.p5, true);
        ee.setRect(this,null,0,null,570);
    } else if (pageName == "p6") {
        ee.setVisible(this.p6, true);
        ee.setRect(this,null,0,null,570);
    }
    this.currentPageName = pageName;
}


</onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00251256281407035</topRatio>
      <width>552</width>
      <widthRatio>0.461924686192469</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p1</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>标准菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(sender.c_p1.c_button1);
sender.c_buttons.push(sender.c_p1.c_button2);
sender.c_buttons.push(sender.c_p1.c_button3);
sender.c_buttons.push(sender.c_p1.c_button4);
sender.c_buttons.push(sender.c_p1.c_button5);
sender.c_buttons.push(sender.c_p1.c_button6);
sender.c_buttons.push(sender.c_p1.c_button7);

sender.f_click = function(btn) {
    var items = this.c_buttons;
    for (var i=0; i<items.length; i++) {
        if (eb.isEmpty(items[i].baseColor)) continue;
        if (items[i]==btn) {
            items[i].baseColor="#1fa2f2";
        } else {
            items[i].baseColor="#14171a";
        }
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.f_click(this.c_buttons[0]);
    } else if (g5.currentPageIndex == 11) {
        this.f_click(this.c_buttons[1]);
    } else if (g5.currentPageIndex == 12) {
        this.f_click(this.c_buttons[2]);
    } else if (g5.currentPageIndex == 4) {
        this.f_click(this.c_buttons[3]);
    } else if (g5.currentPageIndex == 1) {
        this.f_click(this.c_buttons[4]);
    } else if (g5.currentPageIndex == 9) {
        this.f_click(this.c_buttons[5]);
    } else {
        this.f_click(null);
    }
}


]]></onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel141">
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>LRBtn9</backgroundSkin>
      <cursor>pointer</cursor>
      <ee_LocalName>c_button8</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>46</left>
      <leftRatio>0.0833333333333333</leftRatio>
      <onClick>g5.popBlack.a3.showNew(); </onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
</onCreate>
      <sizeRatio>0.207207207207207</sizeRatio>
      <text>发言</text>
      <top>489</top>
      <topRatio>0.856392294220666</topRatio>
      <width>222</width>
      <widthRatio>0.402173913043478</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel144">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>48</height>
      <heightRatio>0.0840630472854641</heightRatio>
      <layerVisible>false</layerVisible>
      <left>40</left>
      <leftRatio>0.072463768115942</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.p2.p1.show();]]></onClick>
      <sizeRatio>0.738461538461539</sizeRatio>
      <top>7</top>
      <topRatio>0.0122591943957968</topRatio>
      <width>65</width>
      <widthRatio>0.117753623188406</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel127">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"20 -15 280 280\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.speaker+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);




]]></onCreate>
      <sizeRatio>0.657142857142857</sizeRatio>
      <text>新鲜事</text>
      <top>72</top>
      <topRatio>0.126094570928196</topRatio>
      <width>70</width>
      <widthRatio>0.126811594202899</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel150">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button3</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p13.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);




]]></onCreate>
      <sizeRatio>0.938775510204082</sizeRatio>
      <text>私信</text>
      <top>186</top>
      <topRatio>0.325744308231173</topRatio>
      <width>49</width>
      <widthRatio>0.088768115942029</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel151">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button4</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p5.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMark+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);




]]></onCreate>
      <sizeRatio>0.938775510204082</sizeRatio>
      <text>收藏</text>
      <top>243</top>
      <topRatio>0.425569176882662</topRatio>
      <width>49</width>
      <widthRatio>0.088768115942029</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel152">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button5</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p2.show(g5.myUserInfo);

</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.homePage+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);




]]></onCreate>
      <sizeRatio>0.534883720930233</sizeRatio>
      <text>个人主页</text>
      <top>299</top>
      <topRatio>0.523642732049037</topRatio>
      <width>86</width>
      <widthRatio>0.155797101449275</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel153">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button6</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p10.show();

</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconConfig+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);





]]></onCreate>
      <sizeRatio>0.425925925925926</sizeRatio>
      <text>设置和隐私</text>
      <top>356</top>
      <topRatio>0.623467600700525</topRatio>
      <width>108</width>
      <widthRatio>0.195652173913043</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel148">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button7</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);




]]></onCreate>
      <sizeRatio>0.547619047619048</sizeRatio>
      <text>退出登录</text>
      <top>413</top>
      <topRatio>0.723292469352014</topRatio>
      <width>84</width>
      <widthRatio>0.152173913043478</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel94">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button2</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p12.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";

sender.label.rows[0].cells[0].style.whiteSpace="nowrap";
sender.v_width = sender.label.offsetWidth+20;
ee.setRect(sender,null,null,sender.v_width,null);





]]></onCreate>
      <sizeRatio>0.938775510204082</sizeRatio>
      <text>通知</text>
      <top>129</top>
      <topRatio>0.225919439579685</topRatio>
      <width>49</width>
      <widthRatio>0.088768115942029</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p2</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>收窄菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(sender.c_p1.c_button1);
sender.c_buttons.push(sender.c_p1.c_button2);
sender.c_buttons.push(sender.c_p1.c_button3);
sender.c_buttons.push(sender.c_p1.c_button4);
sender.c_buttons.push(sender.c_p1.c_button5);
sender.c_buttons.push(sender.c_p1.c_button6);
sender.c_buttons.push(sender.c_p1.c_button7);

sender.f_click = function(btn) {
    var items = this.c_buttons;
    for (var i=0; i<items.length; i++) {
        if (eb.isEmpty(items[i].baseColor)) continue;
        if (items[i]==btn) {
            items[i].baseColor="#1fa2f2";
        } else {
            items[i].baseColor="#14171a";
        }
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.f_click(this.c_buttons[0]);
    } else if (g5.currentPageIndex == 11) {
        this.f_click(this.c_buttons[1]);
    } else if (g5.currentPageIndex == 12) {
        this.f_click(this.c_buttons[2]);
    } else if (g5.currentPageIndex == 4) {
        this.f_click(this.c_buttons[3]);
    } else if (g5.currentPageIndex == 1) {
        this.f_click(this.c_buttons[4]);
    } else if (g5.currentPageIndex == 9) {
        this.f_click(this.c_buttons[5]);
    } else {
        this.f_click(null);
    }
}


]]></onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel201">
      <backgroundImg>fingerP.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button8</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>56</height>
      <heightRatio>0.0980735551663748</heightRatio>
      <layerVisible>false</layerVisible>
      <left>246</left>
      <leftRatio>0.445652173913043</leftRatio>
      <onClick>g5.popBlack.a3.showNew();
//g5.p2.p31.showNew();</onClick>
      <onCreate><![CDATA[sender.baseColor1 = "rgb(29, 161, 242)";
//sender.style.backgroundColor = sender.baseColor1;
//ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 8px 8px;fill:#ffffff;vertical-align:middle;\">"+g5.iconNew+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    //sender.style.backgroundColor = "#1a91da";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    //sender.style.backgroundColor = sender.baseColor1;
});
sender.eeMouseDown = function(sender,event,x,y) {
    //sender.style.backgroundColor = "#1781c2";
}
sender.eeMouseUp = function(sender,event,x,y) {
    //sender.style.backgroundColor = "#1a91da";
}
eb.initMouseEvent(sender);
//sender.style.borderRadius = "50%";

]]></onCreate>
      <sizeRatio>0.933333333333333</sizeRatio>
      <top>459</top>
      <topRatio>0.80385288966725</topRatio>
      <width>60</width>
      <widthRatio>0.108695652173913</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel202">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <height>37</height>
      <heightRatio>0.0647985989492119</heightRatio>
      <layerVisible>false</layerVisible>
      <left>257</left>
      <leftRatio>0.465579710144928</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.p2.p1.show();]]></onClick>
      <sizeRatio>0.973684210526316</sizeRatio>
      <top>16</top>
      <topRatio>0.0280210157618214</topRatio>
      <width>38</width>
      <widthRatio>0.0688405797101449</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel210">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"20 -15 280 280\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.speaker+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>主页</text>
      <top>74</top>
      <topRatio>0.129597197898424</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel203">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button3</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p13.show();</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>私信</text>
      <top>181</top>
      <topRatio>0.316987740805604</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel204">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button4</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p5.show();</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMark+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>收藏</text>
      <top>235</top>
      <topRatio>0.411558669001751</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel205">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button5</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p2.show(g5.myUserInfo);
</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.homePage+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>个人资料</text>
      <top>289</top>
      <topRatio>0.506129597197898</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel206">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button6</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p10.show();

</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconConfig+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>设置和隐私</text>
      <top>342</top>
      <topRatio>0.598949211908932</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel207">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button7</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>退出登录</text>
      <top>396</top>
      <topRatio>0.693520140105079</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel352">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button2</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p12.show();

</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>通知</text>
      <top>128</top>
      <topRatio>0.224168126094571</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p3</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>手机底部菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(ee.getControl("panel556"));
sender.c_buttons.push(ee.getControl("panel558"));
sender.c_buttons.push(ee.getControl("panel563"));
sender.c_buttons.push(ee.getControl("panel557"));

sender.f_click = function(btn) {
    var items = this.c_buttons;
    for (var i=0; i<items.length; i++) {
        if (eb.isEmpty(items[i].baseColor)) continue;
        if (items[i]==btn) {
            items[i].baseColor="#1fa2f2";
        } else {
            items[i].baseColor="#14171a";
        }
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.f_click(this.c_buttons[0]);
    } else if (g5.currentPageIndex == 12) {
        this.f_click(this.c_buttons[1]);
    } else if (g5.currentPageIndex == 11) {
        this.f_click(this.c_buttons[2]);
    } else if (g5.currentPageIndex == 1) {
        this.f_click(this.c_buttons[3]);
    } else {
        this.f_click(null);
    }
}


]]></onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel192">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3">
      <dockX>fill</dockX>
      <dockY>center</dockY>
      <fieldCount>4</fieldCount>
      <height>60</height>
      <heightRatio>0.10507880910683</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.108695652173913</sizeRatio>
      <top>255</top>
      <topRatio>0.446584938704028</topRatio>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem7">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.434782608695652</sizeRatio>
      <top>0</top>
      <width>138</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem7/panel556">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>52</height>
      <heightRatio>0.866666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.311594202898551</leftRatio>
      <onClick>g5.p1.p3.f_click(sender);
g5.p2.p1.show();
</onClick>
      <onCreate><![CDATA[sender.style.borderRadius = "50%";
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"20 -15 280 280\" style=\"display:inline;font-size: 13px;height:2.5em;width:2.5em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.speaker+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender, event, x, y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#e8f5fe";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>新鲜事</text>
      <top>4</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>52</width>
      <widthRatio>0.376811594202899</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem15">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>138</left>
      <leftRatio>0.25</leftRatio>
      <sizeRatio>0.434782608695652</sizeRatio>
      <top>0</top>
      <width>138</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem15/panel558">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>52</height>
      <heightRatio>0.866666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.311594202898551</leftRatio>
      <onClick>g5.p1.p3.f_click(sender);
g5.p2.p13.show();</onClick>
      <onCreate><![CDATA[sender.style.borderRadius = "50%";
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"1 1 24 24\" style=\"display:inline;font-size: 13px;height:2.5em;width:2.5em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender, event, x, y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#e8f5fe";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>私信</text>
      <top>4</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>52</width>
      <widthRatio>0.376811594202899</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem16">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>276</left>
      <leftRatio>0.5</leftRatio>
      <sizeRatio>0.434782608695652</sizeRatio>
      <top>0</top>
      <width>138</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem16/panel563">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>52</height>
      <heightRatio>0.866666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.311594202898551</leftRatio>
      <onClick>g5.p1.p3.f_click(sender);
g5.p2.p12.show();

</onClick>
      <onCreate><![CDATA[sender.style.borderRadius = "50%";
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"1 1 24 24\" style=\"display:inline;font-size: 13px;height:2.5em;width:2.5em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender, event, x, y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#e8f5fe";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);







]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>通知</text>
      <top>4</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>52</width>
      <widthRatio>0.376811594202899</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem27">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>414</left>
      <leftRatio>0.75</leftRatio>
      <sizeRatio>0.434782608695652</sizeRatio>
      <top>0</top>
      <width>138</width>
      <widthRatio>0.25</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel192/layoutx3/layoutxitem27/panel557">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>52</height>
      <heightRatio>0.866666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.311594202898551</leftRatio>
      <onClick>g5.p1.p3.f_click(sender);
g5.p2.p2.show(g5.myUserInfo);
</onClick>
      <onCreate><![CDATA[sender.style.borderRadius = "50%";
sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"1 1 24 24\" style=\"display:inline;font-size:13px;height:2.5em;width:2.5em;fill: currentcolor;margin:8px 8px 12px 8px;vertical-align:middle;\">"+g5.icon.homePage+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender, event, x, y) {
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = "";
    } else {
        sender.style.backgroundColor = "#e8f5fe";
    }
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.backgroundColor = "";
}
eb.initMouseEvent(sender);







]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>个人主页</text>
      <top>4</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>52</width>
      <widthRatio>0.376811594202899</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel170/panel555">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>line1</ee_LocalName>
      <height>2</height>
      <heightRatio>0.00350262697022767</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>0.0036231884057971</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel660">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p4</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>手机Guest底部菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel660/panel661">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel136/panel660/panel661/layoutx18">
      <dockX>fill</dockX>
      <dockY>center</dockY>
      <fieldCount>2</fieldCount>
      <height>60</height>
      <heightRatio>0.10507880910683</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.108695652173913</sizeRatio>
      <top>255</top>
      <topRatio>0.446584938704028</topRatio>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel660/panel661/layoutx18/layoutxitem47">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.217391304347826</sizeRatio>
      <top>0</top>
      <width>276</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel660/panel661/layoutx18/layoutxitem47/panel662">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>c_btnOK</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.566666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>65</left>
      <leftRatio>0.235507246376812</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/login"</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.232876712328767</sizeRatio>
      <text>登 录</text>
      <top>13</top>
      <topRatio>0.216666666666667</topRatio>
      <width>146</width>
      <widthRatio>0.528985507246377</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel136/panel660/panel661/layoutx18/layoutxitem48">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>276</left>
      <leftRatio>0.5</leftRatio>
      <sizeRatio>0.217391304347826</sizeRatio>
      <top>0</top>
      <width>276</width>
      <widthRatio>0.5</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel660/panel661/layoutx18/layoutxitem48/panel663">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>c_btnCancel</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.566666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>65</left>
      <leftRatio>0.235507246376812</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/reg"</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.232876712328767</sizeRatio>
      <text>注 册</text>
      <top>13</top>
      <topRatio>0.216666666666667</topRatio>
      <width>146</width>
      <widthRatio>0.528985507246377</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel660/panel666">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>line1</ee_LocalName>
      <height>2</height>
      <heightRatio>0.00350262697022767</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0036231884057971</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p5</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>标准菜单Guest</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(sender.c_p1.c_button1);
sender.c_buttons.push(sender.c_p1.c_button2);
sender.c_buttons.push(sender.c_p1.c_button3);
sender.c_buttons.push(sender.c_p1.c_button4);
sender.c_buttons.push(sender.c_p1.c_button5);
sender.c_buttons.push(sender.c_p1.c_button6);
sender.c_buttons.push(sender.c_p1.c_button7);

sender.f_click = function(btn) {
    var items = this.c_buttons;
    for (var i=0; i<items.length; i++) {
        if (eb.isEmpty(items[i].baseColor)) continue;
        if (items[i]==btn) {
            items[i].baseColor="#1fa2f2";
        } else {
            items[i].baseColor="#14171a";
        }
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.f_click(this.c_buttons[0]);
    } else if (g5.currentPageIndex == 11) {
        this.f_click(this.c_buttons[1]);
    } else if (g5.currentPageIndex == 12) {
        this.f_click(this.c_buttons[2]);
    } else if (g5.currentPageIndex == 4) {
        this.f_click(this.c_buttons[3]);
    } else if (g5.currentPageIndex == 1) {
        this.f_click(this.c_buttons[4]);
    } else if (g5.currentPageIndex == 9) {
        this.f_click(this.c_buttons[5]);
    } else {
        this.f_click(null);
    }
}


]]></onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664/panel665">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664/panel665/panel675">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>48</height>
      <heightRatio>0.0840630472854641</heightRatio>
      <layerVisible>false</layerVisible>
      <left>40</left>
      <leftRatio>0.072463768115942</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.p2.p1.show();]]></onClick>
      <sizeRatio>0.738461538461539</sizeRatio>
      <top>7</top>
      <topRatio>0.0122591943957968</topRatio>
      <width>65</width>
      <widthRatio>0.117753623188406</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664/panel665/panel676">
      <cursor>pointer</cursor>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>g5.p1.p1.f_click(sender);
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"20 -15 280 280\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.speaker+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.353846153846154</sizeRatio>
      <text>新鲜事</text>
      <top>72</top>
      <topRatio>0.126094570928196</topRatio>
      <width>130</width>
      <widthRatio>0.235507246376812</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664/panel665/panel674">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnOK</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0700525394045534</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/login"</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.254777070063694</sizeRatio>
      <text>登 录</text>
      <top>269</top>
      <topRatio>0.471103327495622</topRatio>
      <width>157</width>
      <widthRatio>0.284420289855072</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel664/panel665/panel682">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnCancel</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0700525394045534</heightRatio>
      <layerVisible>false</layerVisible>
      <left>43</left>
      <leftRatio>0.0778985507246377</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/reg"</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.254777070063694</sizeRatio>
      <text>注 册</text>
      <top>329</top>
      <topRatio>0.576182136602452</topRatio>
      <width>157</width>
      <widthRatio>0.284420289855072</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel688">
      <ani2Alpha>disappear</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>p6</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName>收窄菜单Guest</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(sender.c_p1.c_button1);

sender.f_click = function(btn) {
    var items = this.c_buttons;
    for (var i=0; i<items.length; i++) {
        if (eb.isEmpty(items[i].baseColor)) continue;
        if (items[i]==btn) {
            items[i].baseColor="#1fa2f2";
        } else {
            items[i].baseColor="#14171a";
        }
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

sender.refresh = function() {
    if (g5.currentPageIndex == 0) {
        this.f_click(this.c_buttons[0]);
    } else if (g5.currentPageIndex == 11) {
        this.f_click(this.c_buttons[1]);
    } else if (g5.currentPageIndex == 12) {
        this.f_click(this.c_buttons[2]);
    } else if (g5.currentPageIndex == 4) {
        this.f_click(this.c_buttons[3]);
    } else if (g5.currentPageIndex == 1) {
        this.f_click(this.c_buttons[4]);
    } else if (g5.currentPageIndex == 9) {
        this.f_click(this.c_buttons[5]);
    } else {
        this.f_click(null);
    }
}


]]></onCreate>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel688/panel689">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.03442028985507</sizeRatio>
      <top>0</top>
      <width>552</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel688/panel689/panel691">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <height>37</height>
      <heightRatio>0.0647985989492119</heightRatio>
      <layerVisible>false</layerVisible>
      <left>257</left>
      <leftRatio>0.465579710144928</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.p2.p1.show();]]></onClick>
      <sizeRatio>0.973684210526316</sizeRatio>
      <top>16</top>
      <topRatio>0.0280210157618214</topRatio>
      <width>38</width>
      <widthRatio>0.0688405797101449</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel688/panel689/panel692">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"20 -15 280 280\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.speaker+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>主页</text>
      <top>74</top>
      <topRatio>0.129597197898424</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel688/panel689/panel701">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_button7</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <layerVisible>false</layerVisible>
      <left>253</left>
      <leftRatio>0.458333333333333</leftRatio>
      <onClick>g5.p1.p2.f_click(sender);
eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");</onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>退出登录</text>
      <top>137</top>
      <topRatio>0.239929947460595</topRatio>
      <width>46</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel242">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>300</left>
      <leftRatio>0.251046025104603</leftRatio>
      <note>PLine1</note>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>796</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.000836820083682008</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel245">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>899</left>
      <leftRatio>0.752301255230125</leftRatio>
      <note>PLine2</note>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>796</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.000836820083682008</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288">
      <backgroundSkin>button1003</backgroundSkin>
      <fontColor>FFFFFF</fontColor>
      <hAlign>left</hAlign>
      <height>388</height>
      <heightRatio>0.487437185929648</heightRatio>
      <layerName>LOG</layerName>
      <layerVisible>false</layerVisible>
      <left>705</left>
      <leftRatio>0.589958158995816</leftRatio>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>2.03141361256545</sizeRatio>
      <top>12</top>
      <topRatio>0.0150753768844221</topRatio>
      <vAlign>bottom</vAlign>
      <width>191</width>
      <widthRatio>0.159832635983264</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel37">
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>FFFFFF</fontColor>
      <hAlign>left</hAlign>
      <height>111</height>
      <heightRatio>0.286082474226804</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0261780104712042</leftRatio>
      <onClick>sender.setText("时间；浪费时间；理发师阿道夫；路上看见；浪费空间撒旦飞洒；了烦死拉进来是否；拉萨；附件；老师");</onClick>
      <onCreate>sender.setText = function(text) {
    ee.setRect(this,null,null,null,1);
    ee.setText(this, text);
    var h = eb.getDivRect(this.label).h;
    ee.setRect(this,null,null,null,h);
}
</onCreate>
      <outerBottom>5</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>5</outerRight>
      <sizeRatio>0.613259668508287</sizeRatio>
      <text>======Log======</text>
      <top>272</top>
      <topRatio>0.701030927835052</topRatio>
      <vAlign>top</vAlign>
      <width>181</width>
      <widthRatio>0.947643979057592</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel285">
      <backgroundColor>9E9E8C</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>move</cursor>
      <height>21</height>
      <heightRatio>0.0541237113402062</heightRatio>
      <layerVisible>false</layerVisible>
      <left>99</left>
      <leftRatio>0.518324607329843</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
if (sender.style.backgroundColor == "") {
    sender.style.backgroundColor = "rgba(255,255,255,0.01)";
}
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.228260869565217</sizeRatio>
      <top>0</top>
      <width>92</width>
      <widthRatio>0.481675392670157</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel113">
      <backgroundSkin>button3a</backgroundSkin>
      <dockX>fill</dockX>
      <hAlign>left</hAlign>
      <height>70</height>
      <heightRatio>0.180412371134021</heightRatio>
      <layerVisible>false</layerVisible>
      <left>7</left>
      <leftRatio>0.0366492146596859</leftRatio>
      <outerLeft>7</outerLeft>
      <outerRight>4</outerRight>
      <sizeRatio>0.388888888888889</sizeRatio>
      <text>status</text>
      <top>28</top>
      <topRatio>0.0721649484536082</topRatio>
      <width>180</width>
      <widthRatio>0.942408376963351</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel572">
      <backgroundColor>E6ECF0</backgroundColor>
      <height>80</height>
      <heightRatio>0.100502512562814</heightRatio>
      <layerName>pButton</layerName>
      <layerVisible>false</layerVisible>
      <left>1037</left>
      <leftRatio>0.867782426778243</leftRatio>
      <onCreate>sender.style.position="fixed";
sender.style.top = "";
sender.style.left = "";
sender.style.bottom = "75px";
sender.style.right = "15px";

</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>616</top>
      <topRatio>0.773869346733668</topRatio>
      <width>80</width>
      <widthRatio>0.0669456066945607</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel572/panel578">
      <backgroundImg>fingerP.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>80</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.p2.p31.showNew();
return false;</onClick>
      <onCreate>g5.initImgButtonV1(c,"100%","80%","70%");

</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>0</top>
      <width>80</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112">
      <autoScroll>true</autoScroll>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popBlack->主界面弹窗黑色]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>if (!ee.isInternalNode(sender, event.target)) {
    return;
}
if (sender.a3.style.visibility != "hidden") return;
if (sender.a7.style.visibility != "hidden") return;
sender.close();
</onClick>
      <onCreate><![CDATA[sender.style.position = "fixed";
sender.style.zIndex=100;
sender.a6 = ee.getControl("divRoot").popBlack3.a6;
sender.v_canScroll = false;

sender.addEventListener("mousewheel", function(e) {
    if (!sender.v_canScroll) {
        window.event? window.event.cancelBubble = true : e.stopPropagation();
        e.returnValue = false;
        return false;
    }
    sender.v_canScroll = false;
});

sender.close = function(sender1) {
    if (sender1) {
        let needClose = true;
        for (var i=0; i<sender.eeChildren.length; i++) {
            if (sender.eeChildren[i].style.visibility != "hidden") {
                if (sender.eeChildren[i] == sender1) {
                    if (sender1.close) {
                        sender1.close();
                    } else {
                        ee.showAni(sender1, 1);
                    }
                } else {
                    needClose = false;
                }
            }
        }
        if (needClose) {
            ee.setVisible(this, false);
        }
    } else {
        for (var i=0; i<sender.eeChildren.length; i++) {
            if (sender.eeChildren[i].style.visibility != "hidden") {
                if (sender.eeChildren[i].close) {
                    sender.eeChildren[i].close();
                    ee.setVisible(this, false);
                } else {
                    ee.showAni(sender.eeChildren[i], 1);
                }
            }
        }
    }
}

if ("ontouchstart" in window) {
    if (g5.isIos) {
        //1.touch down drag page bug
        //2.touch down context menu
        //eb.addEvent(sender, "touchstart", function (event) {
        //    event.preventDefault();
        //    window.event? window.event.cancelBubble = true : event.stopPropagation();
        //    return false;
        //}, false);
        eb.addEvent(sender, "touchend", function (event) {
            event.preventDefault();
            window.event? window.event.cancelBubble = true : event.stopPropagation();
            return false;
        }, false);
        eb.addEvent(sender, "touchmove", function (event) {
            event.preventDefault();
            window.event? window.event.cancelBubble = true : event.stopPropagation();
            return false;
        }, false);
    }
}
]]></onCreate>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>pointDisappear</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a1</ee_LocalName>
      <height>228</height>
      <heightRatio>0.28643216080402</heightRatio>
      <layerName>删除发言确认</layerName>
      <layerVisible>false</layerVisible>
      <left>328</left>
      <leftRatio>0.354811715481172</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);
if (sender.formResult) {
    sender.formResult = false;
    delTwitter();
}
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.formResult = false;</onCreate>
      <sizeRatio>0.658959537572254</sizeRatio>
      <top>284</top>
      <topRatio>0.35678391959799</topRatio>
      <width>346</width>
      <widthRatio>0.289539748953975</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel139">
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>76</height>
      <heightRatio>0.333333333333333</heightRatio>
      <layerVisible>false</layerVisible>
      <left>31</left>
      <leftRatio>0.0895953757225433</leftRatio>
      <sizeRatio>0.268551236749117</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及搜索结果中移除。</text>
      <top>62</top>
      <topRatio>0.271929824561404</topRatio>
      <width>283</width>
      <widthRatio>0.817919075144509</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel138">
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <height>39</height>
      <heightRatio>0.171052631578947</heightRatio>
      <layerVisible>false</layerVisible>
      <left>109</left>
      <leftRatio>0.315028901734104</leftRatio>
      <sizeRatio>0.3046875</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0789473684210526</topRatio>
      <width>128</width>
      <widthRatio>0.369942196531792</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel117/button11">
      <backgroundSkin>LRBtn12</backgroundSkin>
      <backgroundSkin1>twitterG008</backgroundSkin1>
      <backgroundSkin2>twitterG009</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0867052023121387</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel117"), 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>取消</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel117/button12">
      <backgroundSkin>LRBtn13</backgroundSkin>
      <backgroundSkin1>twitterG010</backgroundSkin1>
      <backgroundSkin2>twitterG011</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontColor1>FFFFFF</fontColor1>
      <fontColor2>FFFFFF</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>182</left>
      <leftRatio>0.526011560693642</leftRatio>
      <onClick>ee.getControl("panel117").formResult = true;
ee.showAni(ee.getControl("panel117"), 1);
</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>删除</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel221">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.285087719298246</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.187861271676301</sizeRatio>
      <top>0</top>
      <width>346</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>a2</ee_LocalName>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName>图片展示</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAni2End>sender.close();
</onAni2End>
      <onClick>sender.parentNode.close();
return;
if (!ee.isInternalNode(sender, event.target)) {
    return;
}
sender.parentNode.close();</onClick>
      <onCreate><![CDATA[sender.c_photo = sender.c_photoRoot.c_photo;
sender.c_video = sender.c_photoRoot.c_video;

sender.show = function(photos, photo) {
    ee.setVisible(this.c_mobileBg, g5.isMobile);
    ee.setVisible(this.c_button1, true);
    ee.setVisible(this.c_button2, true);
    ee.setVisible(this.c_BtnConfirm, false);
    if (g5.isMobile) {
        this.setHammer();
        
        eb.setOuter(sender.c_photoRoot,0,0,0,0);
        sender.c_button1.dockX = "disabled";
        sender.c_button1.dockY = "bottom";
        sender.c_button2.dockX = "disabled";
        sender.c_button2.dockY = "bottom";
        var w = eb.getClientSize().w;
        w = parseInt(w - 100*2)/3;
        ee.setRect(sender.c_button1, w,null,100,50);
        ee.setRect(sender.c_button2, w+100+w,null,100,50);
        sender.c_button1.style.borderRadius = "25px 0px 0px 25px";
        sender.c_button2.style.borderRadius = "0px 25px 25px 0px";
        sender.c_button1.style.backgroundColor = "";
        sender.c_button2.style.backgroundColor = "";
        eb.processDock();
        var r = eb.getDivRectSetting(sender.c_photoRoot);
        ee.setRect(sender.c_photo, 0,0,r.w, r.h);
        ee.setRect(sender.c_iosCover, 0,0,r.w, r.h);
    } else {
        this.setPC();
    }
    sender.v_photos = photos;
    sender.v_index = -1;
    for (var i = 0; i < photos.length; i++) {
        if (photos[i]==photo) {
            sender.v_index = i;
            break;
        }    
    }
    if (sender.v_index<0) return;
    sender.refresh();    
    document.addEventListener("keydown", this.onKeyDown);
    ee.setVisible(this, true);
    ee.setVisible(this.parentNode, true);
}

sender.showConfirm = function(photo, onConfirm) {
    ee.setVisible(this.c_mobileBg, g5.isMobile);
    ee.setVisible(this.c_button1, false);
    ee.setVisible(this.c_button2, false);
    ee.setVisible(this.c_BtnConfirm, true);
    this.f_onConfirm = onConfirm;
    if (g5.isMobile) {
        this.setHammer();
        
        eb.setOuter(sender.c_photoRoot,0,0,0,0);
        sender.c_button1.dockX = "disabled";
        sender.c_button1.dockY = "bottom";
        sender.c_button2.dockX = "disabled";
        sender.c_button2.dockY = "bottom";
        var w = eb.getClientSize().w;
        w = parseInt(w - 100*2)/3;
        ee.setRect(sender.c_button1, w,null,100,50);
        ee.setRect(sender.c_button2, w+100+w,null,100,50);
        sender.c_button1.style.borderRadius = "25px 0px 0px 25px";
        sender.c_button2.style.borderRadius = "0px 25px 25px 0px";
        sender.c_button1.style.backgroundColor = "";
        sender.c_button2.style.backgroundColor = "";
        eb.processDock();
        var r = eb.getDivRectSetting(sender.c_photoRoot);
        ee.setRect(sender.c_photo, 0,0,r.w, r.h);
        ee.setRect(sender.c_iosCover, 0,0,r.w, r.h);
    } else {
        this.setPC();
    }
    this.v_photos = new Array();
    this.v_photos.push(photo);
    this.v_index = 0;
    sender.refresh();    
    document.addEventListener("keydown", this.onKeyDown);
    ee.setVisible(this, true);
    ee.setVisible(this.parentNode, true);
}

sender.setPC = function() {
    sender.v_ri = null;
    sender.v_sc = 1;
    sender.v_r = eb.getDivRectSetting(sender.c_photoRoot);
    ee.setRect(sender.c_photo, 0,0,sender.v_r.w, sender.v_r.h);
    if (!sender.c_photo.v_eventWheel) {
        sender.c_photo.addEventListener("wheel", (event) => {
            event.preventDefault();
            if (!sender.v_ri) {
                if (sender.c_photo.img) {
                    sender.v_ri = new Rect();
                    sender.v_ri.w = sender.c_photo.img.width;
                    sender.v_ri.h = sender.c_photo.img.height;
                    sender.v_rr = new Rect();
                    sender.v_rr.w = sender.c_photo.img.naturalWidth;
                    sender.v_rr.h = sender.c_photo.img.naturalHeight;
                    if (sender.v_ri.w>sender.v_rr.w) {
                        sender.v_maxSc = 3;
                    } else {
                        sender.v_maxSc = sender.v_rr.w * 3 / sender.v_ri.w;
                    }
                } else return;
            }
            let sc = sender.v_sc;
            if (event.deltaY < 0) {
                sc = sc * 1.05;
            } else {
                sc = sc * (1/1.05);
            }
            sc = Math.max(1, sc);
            sc = Math.min(sender.v_maxSc, sc);
            let scDiff = sc / sender.v_sc - 1;
            sender.v_sc = sc;
            
            let r1 = eb.getDivRectSetting(sender.c_photo);
            let r0 = eb.getDivRectSetting(sender.c_photoRoot);
            let r = new Rect();
            r.w = parseInt(sender.v_r.w * sc);
            r.h = parseInt(sender.v_r.h * sc);
            r.x = r1.x - scDiff * (event.clientX - sender.v_r.x - r1.x);
            r.y = r1.y - scDiff * (event.clientY - sender.v_r.y - r1.y);
            //r.x = parseInt((sender.v_r.w/2) - r.w/2);
            //r.y = parseInt((sender.v_r.h/2) - r.h/2);
            r.x = Math.min(0, r.x);
            r.y = Math.min(0, r.y);
            if (r.x+r.w<r0.w) r.x = r0.w-r.w;
            if (r.y+r.h<r0.h) r.y = r0.h-r.h;
            ee.setRect(sender.c_photo, r.x,r.y,r.w,r.h);
        });
        sender.c_photo.v_eventWheel = true;
    }
        
    if (!sender.c_photo.v_eventMousedown) {
        sender.c_photo.addEventListener("mousedown", (event) => {
            sender.v_MPos = new Rect();
            sender.v_MPos.x = event.clientX;
            sender.v_MPos.y = event.clientY;
            sender.v_Drag = true;
            const onMouseMove = (event) => {
                if (!sender.v_Drag) return;
                let dx = event.clientX - sender.v_MPos.x;
                let dy = event.clientY - sender.v_MPos.y;
                sender.v_MPos.x = event.clientX;
                sender.v_MPos.y = event.clientY;
                let r1 = eb.getDivRectSetting(sender.c_photo);
                dx += r1.x; r1.x = Math.min(0, dx);
                dy += r1.y; r1.y = Math.min(0, dy);
                let r0 = eb.getDivRectSetting(sender.c_photoRoot);
                r1.x = Math.max(r1.x, r0.w - r1.w);
                r1.y = Math.max(r1.y, r0.h - r1.h);
                ee.setRect(sender.c_photo, r1.x, r1.y, null, null);
            };
            const onMouseUp = () => {
                sender.v_Drag = false;
                document.removeEventListener("mousemove", onMouseMove);
                document.removeEventListener("mouseup", onMouseUp);
            };
            document.addEventListener("mousemove", onMouseMove);
            document.addEventListener("mouseup", onMouseUp); 
        });
        sender.c_photo.v_eventMousedown = true;
    }
    
    if (!sender.c_photo.v_eventClick) {
        sender.c_photo.addEventListener("click", (event) => {
            if (event.target === sender.c_photo.img) {
                event.stopPropagation();
            }
        });
        sender.c_photo.v_eventClick = true;
    }
}


sender.setHammer = function() {
    if (!g5.isMobile) return;
    sender.c_photo.dockX = "disabled";
    sender.c_photo.dockY = "disabled";
    sender.v_touchEnd = true;
    sender.v_r = eb.getDivRectSetting(sender);
    sender.v_startP = new Point(0,0);
    if (sender.hammer) sender.hammer.destroy();
    sender.hammer = new Hammer(sender.c_photoRoot);
    
    /*
    ee.getControl("panel75").addEventListener("touchstart", function(ev) {
        console.log("touchStart Received");
    });
    ee.getControl("panel75").addEventListener("touchend", function() {
        console.log("touchEnd Received");
    });
    ee.getControl("panel75").addEventListener("touchmove", function() {
        console.log("touchmove Received");
    });
    */
    
    sender.hammer.get("pinch").set({ enable: true });
    sender.hammer.get("pan").set({ direction: Hammer.DIRECTION_ALL });
    sender.hammer.on("pan", function(ev) {
        if (sender.v_touchEnd) {
            sender.v_r = eb.getDivRectSetting(sender.c_photo);
            sender.v_startP.x = ev.deltaX;
            sender.v_startP.y = ev.deltaY;
            sender.v_touchEnd = false;
        }
        if (ev.eventType == 4) {
            sender.v_touchEnd = true;
        }
        var r0 = eb.getDivRectSetting(sender.c_photoRoot);
        var r = new Rect();
        r.x = sender.v_r.x + ev.deltaX - sender.v_startP.x;
        r.y = sender.v_r.y + ev.deltaY - sender.v_startP.y;
        r.w = sender.v_r.w;
        r.h = sender.v_r.h;
        r.x = Math.min(0, r.x);
        r.y = Math.min(0, r.y);
        if (r.x+r.w<r0.w) r.x = r0.w-r.w;
        if (r.y+r.h<r0.h) r.y = r0.h-r.h;
        ee.setRect(sender.c_photo, r.x,r.y, null, null);
        if (sender.c_iosCover.style.visibility == "visible") {
            ee.setRect(sender.c_iosCover, r.x,r.y, null, null);
        }
    });
    
    sender.hammer.on("pinchstart", function(ev) {
        sender.v_r = eb.getDivRectSetting(sender.c_photo);
        sender.v_scale = ev.scale;
        sender.v_ri = new Rect();
        sender.v_ri.w = sender.c_photo.img.width;
        sender.v_ri.h = sender.c_photo.img.height;
    });
    sender.hammer.on("pinchmove",  function(ev) {
        var r0 = eb.getDivRectSetting(sender.c_photoRoot);
        var r = new Rect();
        var sc = Math.min(ev.scale/sender.v_scale, Math.max(r0.w*2/sender.v_ri.w, r0.h*2/sender.v_ri.h));
        r.w = parseInt(sender.v_r.w * sc);
        r.h = parseInt(sender.v_r.h * sc);
        r.w = Math.max(r.w, r0.w);
        r.h = Math.max(r.h, r0.h);
        r.x = parseInt((sender.v_r.x + sender.v_r.w/2) - r.w/2 + ev.deltaX);
        r.y = parseInt((sender.v_r.y + sender.v_r.h/2) - r.h/2 + ev.deltaY);
        r.x = Math.min(0, r.x);
        r.y = Math.min(0, r.y);
        if (r.x+r.w<r0.w) r.x = r0.w-r.w;
        if (r.y+r.h<r0.h) r.y = r0.h-r.h;
        ee.setRect(sender.c_photo, r.x,r.y,r.w,r.h);
        ee.setVisible(sender.c_iosCover, false);
        //if (sender.c_iosCover.style.visibility == "visible") {
        //    ee.setRect(sender.c_iosCover, r.x,r.y,r.w,r.h);
        //}
    });
    sender.hammer.on("pinchend",  function(ev) {
        sender.v_touchEnd = true;
    });
    sender.hammer.on("swipeleft",  function(ev) {
        var r0 = eb.getDivRectSetting(sender.c_photoRoot);
        var r1 = eb.getDivRectSetting(sender.c_photo);
        if (r0.w!=r1.w) return;
        sender.clickRight();
    });
    sender.hammer.on("swiperight",  function(ev) {
        var r0 = eb.getDivRectSetting(sender.c_photoRoot);
        var r1 = eb.getDivRectSetting(sender.c_photo);
        if (r0.w!=r1.w) return;
        //g5.writeLog(ev.type);
        sender.clickLeft();
    });
    /*
    var c = document.getElementById("divRoot");
    c.style.overflow = "hidden";
    var c = document.getElementById("ee_divRoot");
    c.style.overflow = "hidden";
    var c = ee.getControl("panel134");
    c.style.overflow = "hidden";    
    */
}

sender.onKeyDown = function(event) {
    event = event || window.event;
    if (event.keyCode == 37) {
        ee.getControl("panel8").click();
    } else if (event.keyCode == 39) {
        ee.getControl("panel52").click();
    } else if (event.keyCode == 27) {
        sender.parentNode.click();
    }
}

sender.refresh = function() {
    if (this.v_index<0) return;
    if (this.v_index>=this.v_photos.length) return;
    var v_photo = this.v_photos[this.v_index];
    var rect = eb.getDivRect(this.c_photo);
    this.c_video.innerHTML = "";
    ee.setVisible(this.c_video, false);
    if (v_photo.substr(0,4) == "?YTB") {
        ee.setVisible(this.c_photo, false);
        this.c_video.innerHTML =
            "<iframe width='" + rect.w + "' height='" + rect.h + "' src='https://www.youtube.com/embed/" +
            v_photo.substr(4, v_photo.length) + 
            "' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>";
        ee.setVisible(this.c_video, true);
        ee.setVisible(this.c_iosCover, false);
    } else {
        this.c_photo.imgUrl = g5.getUserTitleBgUrl(v_photo)[1];
        ee.setImage(this.c_photo, this.c_photo.imgUrl,"fill","","");
        ee.setVisible(this.c_photo, true);
        ee.setVisible(this.c_iosCover, g5.isIos);
        if (g5.isIos) ee.setImage(this.c_iosCover, this.c_photo.imgUrl,"fill","","");
    }
}

sender.clear = function() {
    ee.setImage(this.c_photo,"","fill","","");
    this.c_video.innerHTML = "";
    ee.setVisible(this.c_photo, false);
    ee.setVisible(this.c_video, false);
}

sender.close = function() {
    ee.setVisible(this.parentNode, false);
    ee.setVisible(this, false);
    document.removeEventListener("keydown", this.onKeyDown);
    this.clear();
}

sender.clickLeft = function() {
    if (sender.v_photos.length<=1) return;
    this.c_photoRoot.className = "aniAll3";
    this.c_photoRoot.id = "";
    this.c_photo.id = "";
    this.c_video.id= "";
    var r = eb.getDivRectSetting(this);
    var delCon = this.c_photoRoot;
    ee.setRect(delCon,r.w,null,null,null);
    setTimeout(function() {
        ee.removeControl(delCon);
    }, 500);
    
    this.c_photoRoot = createPanel(this, "panel145", "",-r.w,0,r.w,r.h);
    ee.setOnClick(this.c_photoRoot, function(senderP, event) {
        senderP.parentNode.parentNode.close();
    }); 
    ee.changeParent(this.c_photoRoot,this,1);
    this.c_photoRoot.className = "aniAll3";
    this.c_photo = createPanel(this.c_photoRoot, "panel75", "",0,0,r.w,r.h);    
    this.c_video = createPanel(this.c_photoRoot, "panel76", "",0,0,r.w,r.h);
    this.setHammer();    
    if (this.v_index==0) {
        this.v_index = this.v_photos.length-1;
    } else {
        this.v_index--;
    }
    this.refresh();
    eb.setDivRect(this.c_photoRoot,0,null,null,null);
}

sender.clickRight = function() {
    if (sender.v_photos.length<=1) return;
    this.c_photoRoot.className = "aniAll3";
    this.c_photoRoot.id = "";
    this.c_photo.id = "";
    this.c_video.id= "";
    var r = eb.getDivRectSetting(this);
    var delCon = this.c_photoRoot;
    ee.setRect(delCon,-r.w,null,null,null);
    setTimeout(function() {
        ee.removeControl(delCon);
    }, 500);

    this.c_photoRoot = createPanel(this, "panel145", "",r.w,0,r.w,r.h);
    ee.setOnClick(this.c_photoRoot, function(senderP, event) {
        senderP.parentNode.parentNode.close();
    }); 
    ee.changeParent(this.c_photoRoot,this,1);
    this.c_photoRoot.className = "aniAll3";
    this.c_photo = createPanel(this.c_photoRoot, "panel75", "",0,0,r.w,r.h);    
    this.c_video = createPanel(this.c_photoRoot, "panel76", "",0,0,r.w,r.h);    
    this.setHammer(); 
    if (this.v_index >= this.v_photos.length-1) {
        this.v_index = 0;
    } else {
        this.v_index++;
    }
    this.refresh();
    eb.setDivRect(this.c_photoRoot,0,null,null,null);
}
]]></onCreate>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel607">
      <backgroundColor>403534</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_mobileBg</ee_LocalName>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_photoRoot</ee_LocalName>
      <height>696</height>
      <heightRatio>0.874371859296482</heightRatio>
      <layerVisible>false</layerVisible>
      <left>80</left>
      <leftRatio>0.0669456066945607</leftRatio>
      <onClick>sender.parentNode.parentNode.close();</onClick>
      <outerBottom>50</outerBottom>
      <outerLeft>80</outerLeft>
      <outerRight>80</outerRight>
      <outerTop>50</outerTop>
      <sizeRatio>0.672463768115942</sizeRatio>
      <top>50</top>
      <topRatio>0.0628140703517588</topRatio>
      <width>843</width>
      <widthRatio>0.866108786610879</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145/panel75">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_photo</ee_LocalName>
      <height>696</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.672463768115942</sizeRatio>
      <top>0</top>
      <width>843</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145/panel76">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_video</ee_LocalName>
      <height>696</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.672463768115942</sizeRatio>
      <top>0</top>
      <width>843</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel147">
      <height>49</height>
      <heightRatio>0.0615577889447236</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.00836820083682008</leftRatio>
      <sizeRatio>0.844827586206897</sizeRatio>
      <top>10</top>
      <topRatio>0.0125628140703518</topRatio>
      <width>58</width>
      <widthRatio>0.0485355648535565</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel147/panel146">
      <backgroundImg>i087_01.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>39</height>
      <heightRatio>0.795918367346939</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0862068965517241</leftRatio>
      <onClick>sender.parentNode.parentNode.close();</onClick>
      <outerBottom>5</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>5</outerRight>
      <outerTop>5</outerTop>
      <sizeRatio>0.8125</sizeRatio>
      <top>5</top>
      <topRatio>0.102040816326531</topRatio>
      <width>48</width>
      <widthRatio>0.827586206896552</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel619">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>c_iosCover</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontSize>14</fontSize>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>eb.setAlpha(sender, 1);
sender.addEventListener("touchstart", function(ev) {
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
    //ev.preventDefault();
});

sender.addEventListener("touchmove", function(ev) {
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("touchend", function(ev) {
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("touchcanceled", function(ev) {
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("touchenter", function(ev) {
    console.log("touchenter");
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("touchleave", function(ev) {
    console.log("touchleave");
    var newEv = new TouchEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("pointerdown", function(ev) {
    var newEv = new PointerEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("pointerup", function(ev) {
    var newEv = new PointerEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});

sender.addEventListener("pointermove", function(ev) {
    var newEv = new PointerEvent(ev.type, ev);
    sender.parentNode.c_photoRoot.dispatchEvent(newEv);
});



</onCreate>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel8">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>left</dockX>
      <dockY>center</dockY>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontSize>14</fontSize>
      <height>176</height>
      <heightRatio>0.221105527638191</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.style.borderRadius = "0px 25px 25px 0px";
sender.baseColor = "rgba(0,0,0,0.2)";
sender.style.backgroundColor = sender.baseColor;
ee.setText(sender,"<svg viewBox=\"0 0 800 800\" style=\"display:inline;height:1.9em;width:1.9em;margin:0px 0px 0px 0px;fill:#ffffff;vertical-align:middle;\">"+g5.icon.left1+"</svg>" + "  ");
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.5)";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = sender.baseColor;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.8)";
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.5)";
}
ee.setOnClick(sender, function(sender, event) {
    sender.parentNode.clickLeft();
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
eb.initMouseEvent(sender);

]]></onCreate>
      <sizeRatio>3.2</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>310</top>
      <topRatio>0.389447236180905</topRatio>
      <width>55</width>
      <widthRatio>0.0460251046025105</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel52">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>center</dockY>
      <ee_LocalName>c_button2</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontSize>14</fontSize>
      <height>176</height>
      <heightRatio>0.221105527638191</heightRatio>
      <layerVisible>false</layerVisible>
      <left>948</left>
      <leftRatio>0.95397489539749</leftRatio>
      <onCreate><![CDATA[sender.style.borderRadius = "25px 0px 0px 25px";
sender.baseColor = "rgba(0,0,0,0.2)";
sender.style.backgroundColor = sender.baseColor;
ee.setText(sender,"<svg viewBox=\"0 0 800 800\" style=\"display:inline;height:1.9em;width:1.9em;margin:0px 0px 0px 0px;fill:#ffffff;vertical-align:middle;\">"+g5.icon.right1+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.5)";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = sender.baseColor;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.8)";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (sender.style.backgroundColor.length>0) sender.style.backgroundColor = "rgba(0,0,0,0.5)";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}
ee.setOnClick(sender, function(sender, event) {
    sender.parentNode.clickRight();
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
eb.initMouseEvent(sender);

]]></onCreate>
      <sizeRatio>3.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>310</top>
      <topRatio>0.389447236180905</topRatio>
      <width>55</width>
      <widthRatio>0.0460251046025105</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel613">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>bottom</dockY>
      <ee_LocalName>c_BtnConfirm</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.050251256281407</heightRatio>
      <layerVisible>false</layerVisible>
      <left>421</left>
      <leftRatio>0.432635983263598</leftRatio>
      <onClick>sender.parentNode.f_onConfirm();
sender.parentNode.parentNode.close();
window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#20b020","#20c020","#30a030","发送","发送","发送","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    setTimeout(function() {
        ee.setText(sender, s.text3);
    }, 1000); 
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    setTimeout(function() {
        ee.setText(sender, s.text2);
    }, 1000); 
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>30</outerBottom>
      <sizeRatio>0.25</sizeRatio>
      <text>发送</text>
      <top>726</top>
      <topRatio>0.912060301507538</topRatio>
      <width>160</width>
      <widthRatio>0.133891213389121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a3</ee_LocalName>
      <height>611</height>
      <heightRatio>0.767587939698492</heightRatio>
      <layerName>发短文</layerName>
      <layerVisible>false</layerVisible>
      <left>235</left>
      <leftRatio>0.276987447698745</leftRatio>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.c_photos = ee.getControl("panel412");
sender.c_edit = ee.getControl("panel614");
sender.c_title = ee.getControl("panel47");
sender.c_button = ee.getControl("panel220");
sender.c_search = ee.getControl("panel617");

sender.show = function(title) {
    this.init(title);
    ee.setVisible(ee.getControl("panel112"), true);
    ee.setVisible(this, true);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.init = function(titleText, keepLast) {
    if (eb.isEmpty(titleText)) titleText = "";
    ee.setText(this.c_title, titleText);
    if (!keepLast) this.c_edit.setEditText("");
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
    this.check();
    var cir = ee.getControl("panel50");
    var cirText = ee.getControl("panel45");
    cir.refresh(0);
    ee.setText(cirText, "");
    this.c_vote.reset();
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
}

sender.check = function() {
    let enabled = false;
    if (this.v_mode == 0) {
        enabled =
            ((this.c_edit.getEditText().trim().length>0) &amp;&amp; (this.c_edit.getEditText().trim().length<=200)) ||
            this.c_photos.v_photos.length>0;
    } else {
        enabled = this.c_vote.checkValid();
        if (enabled) {
            enabled = this.c_vote.v_data.length > 1;
        }
    }
    this.c_button.setEnabled(enabled);
}

sender.showNew = function() {
    this.init(g5.lang.getByCn("发言"), this.v_lastOp == "new");
    this.setMode(0);
    this.v_lastOp = "new";
    this.onComplete = function() {
        if (newTwitterV2.busy) return;
        newTwitterV2.uplinkType = "N";
        newTwitterV2.uplinkId = 0;
        newTwitterV2.content = sender.c_edit.getEditText();
        newTwitterV2.photos = sender.c_photos.v_photos;
        newTwitterV2.voteList = new Array();
        if (this.v_mode == 1) {
            for (var i=0; i<this.c_vote.v_data.length; i++) {
                newTwitterV2.voteList.push(this.c_vote.v_data[i].value);
            }
            newTwitterV2.voteDuration = this.c_vote.c_duration.getResultSec();
        }
        newTwitterV2.onComplete = function(contentId) {
            sender.v_lastOp = "";
            sender.close();
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "N";
            newContent.uplinkId = 0;
            newContent.content = newTwitterV2.content;
            newContent.photos = newTwitterV2.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            g5.p2.p1.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
            if (showUserPage.v_userInfo) {
                if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
                    g5.p2.p2.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
                }
            }
        }
        newTwitterV2();
    }
    ee.setVisible(ee.getControl("panel112"), true);
    ee.setVisible(this, true);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.showRe = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.init(g5.lang.getByCn("回复发言"), this.v_lastOp == "re" &amp;&amp; this.v_lastId == v_content.id);
    this.setMode(0);
    this.v_lastOp = "re";
    this.v_lastId = v_content.id;
    this.onComplete = function() {
        if (newTwitter.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkType = "R";
        newTwitter.uplinkId = contentIdB;
        newTwitter.content = sender.c_edit.getEditText();
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            sender.v_lastOp = "";
            sender.close();
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "R";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            var newReContent = v_content.clone();
            if (newReContent.exUplinkType=="L") newReContent.id = newReContent.exContentId;
            g5.p2.p1.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p9.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            v_content.reCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo);
        }
        newTwitter();
    }
    ee.setVisible(ee.getControl("panel112"), true);
    ee.setVisible(this, true);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.showFw = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.init(g5.lang.getByCn("带评论转发"), this.v_lastOp == "fw" &amp;&amp; this.v_lastId == v_content.id);
    this.setMode(0);
    this.v_lastOp = "fw";
    this.v_lastId = v_content.id;
    this.onComplete = function() {
        if (newTwitter.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkType = "F";
        newTwitter.uplinkId = contentIdB;
        newTwitter.content = sender.c_edit.getEditText();
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            sender.v_lastOp = "";
            sender.close();
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "F";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            var newReContent = v_content.clone();
            if (newReContent.exUplinkType=="L") newReContent.id = newReContent.exContentId;
            g5.p2.p1.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            g5.p2.p9.insert(newContent.clone(),newReContent,g5.myUserInfo,v_userInfo);
            v_content.fwCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo)
        }
        newTwitter();
    }
    ee.setVisible(ee.getControl("panel112"), true);
    ee.setVisible(this, true);
    ee.getControl("panel51").v_photos = new Array();
    g5.refreshPhoto(ee.getControl("panel51"));
}

sender.setMode = function(mode) {
    sender.v_mode = mode;
    if (mode == 0) {
        ee.setVisible(sender.c_pic, true);
        ee.setVisible(sender.c_btn1, true);
        ee.setVisible(sender.c_btn2, true);
        ee.setVisible(sender.c_vote, false);
        var r = eb.getDivRectSetting(sender.c_pic);
        ee.setRect(this, null, null, null, r.y + r.h + 30);
        
    } else {
        ee.setVisible(sender.c_pic, false);
        ee.setVisible(sender.c_btn1, false);
        ee.setVisible(sender.c_btn2, false);
        ee.setVisible(sender.c_vote, true);
        this.c_vote.refreshList();
    }
}

]]></onCreate>
      <sizeRatio>1.1484962406015</sizeRatio>
      <top>92</top>
      <topRatio>0.115577889447236</topRatio>
      <width>532</width>
      <widthRatio>0.445188284518828</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel618">
      <backgroundSkin>edit1</backgroundSkin>
      <height>154</height>
      <heightRatio>0.252045826513912</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.056390977443609</leftRatio>
      <sizeRatio>0.326271186440678</sizeRatio>
      <top>79</top>
      <topRatio>0.129296235679214</topRatio>
      <width>472</width>
      <widthRatio>0.887218045112782</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel50">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>39</height>
      <heightRatio>0.0638297872340425</heightRatio>
      <layerVisible>false</layerVisible>
      <left>327</left>
      <leftRatio>0.614661654135338</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>圆形进度条</text>
      <top>240</top>
      <topRatio>0.392798690671031</topRatio>
      <width>39</width>
      <widthRatio>0.0733082706766917</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel45">
      <backgroundColor>EAEAF4</backgroundColor>
      <fontFamily>Helvetica</fontFamily>
      <height>39</height>
      <heightRatio>0.0638297872340425</heightRatio>
      <layerVisible>false</layerVisible>
      <left>327</left>
      <leftRatio>0.614661654135338</leftRatio>
      <sizeRatio>1</sizeRatio>
      <text>.</text>
      <top>240</top>
      <topRatio>0.392798690671031</topRatio>
      <width>39</width>
      <widthRatio>0.0733082706766917</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel43">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.0016366612111293</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0150375939849624</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00193798449612403</sizeRatio>
      <top>64</top>
      <topRatio>0.104746317512275</topRatio>
      <width>516</width>
      <widthRatio>0.969924812030075</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel44">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <layerVisible>false</layerVisible>
      <left>476</left>
      <leftRatio>0.894736842105263</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>X</text>
      <top>18</top>
      <topRatio>0.0294599018003273</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel46">
      <height>60</height>
      <heightRatio>0.0981996726677578</heightRatio>
      <layerVisible>false</layerVisible>
      <left>27</left>
      <leftRatio>0.0507518796992481</leftRatio>
      <lockRatio>true</lockRatio>
      <sizeRatio>1</sizeRatio>
      <top>82</top>
      <topRatio>0.134206219312602</topRatio>
      <width>60</width>
      <widthRatio>0.112781954887218</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51">
      <ee_LocalName>c_pic</ee_LocalName>
      <height>292</height>
      <heightRatio>0.477905073649754</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0545112781954887</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px";

</onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <top>289</top>
      <topRatio>0.472995090016367</topRatio>
      <width>473</width>
      <widthRatio>0.889097744360902</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51/panel411">
      <backgroundColor>F5F5FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>292</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <text>您还没有分享图片或者视频
分享图片或视频后会出现在这里
您最多分享4张图片或者1个视频</text>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51/panel412">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>292</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.v_mode = "x";
sender.v_photos = new Array();</onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel413">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn1</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <layerVisible>false</layerVisible>
      <left>41</left>
      <leftRatio>0.0770676691729323</leftRatio>
      <onClick>g5.uploadPhotoCheck(sender.parentNode.c_photos,true,function() {
    sender.c_file.click();
});
</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (sender.parentNode.c_photos.v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        if (sender.parentNode.c_photos.v_photos.length>=4) return;
                        sender.parentNode.c_photos.v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(sender.parentNode.c_photos);
                        sender.parentNode.check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>241</top>
      <topRatio>0.39443535188216</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel105">
      <backgroundImg>CPY0003.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn2</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <layerVisible>false</layerVisible>
      <left>87</left>
      <leftRatio>0.163533834586466</leftRatio>
      <onClick><![CDATA[g5.uploadPhotoCheck(sender.parentNode.c_photos,false,function() {
    g5.popBlack2.a1.show(function(ytbVideo) {
        var i = 0;
        for (i=0; i<sender.parentNode.c_photos.v_photos.length; i++) {
            var s = sender.parentNode.c_photos.v_photos[i];
            if (s.length<4) continue;
            if (s.substr(0,4)=="?YTB") {
                break;
            }
        }
        if (i>=sender.parentNode.c_photos.v_photos.length) {
            sender.parentNode.c_photos.v_photos.push(ytbVideo);
        } else {
            sender.parentNode.c_photos.v_photos.splice(i,1,ytbVideo);
        }
        
        g5.refreshPhoto(sender.parentNode.c_photos);
        sender.parentNode.check();
    });
});

]]></onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 4500 4500\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 8px 8px 4px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">" + g5.icon.youtube + "</svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <top>241</top>
      <topRatio>0.39443535188216</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel709">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btn3</ee_LocalName>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <layerVisible>false</layerVisible>
      <left>134</left>
      <leftRatio>0.25187969924812</leftRatio>
      <onClick>if (sender.parentNode.v_mode == 0) {
    sender.parentNode.setMode(1);
} else {
    sender.parentNode.setMode(0);
}
</onClick>
      <onCreate><![CDATA[sender.label = null;
sender.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.vote + "</svg>";
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cee2db","","","","rgb(29,161,242)","rgb(29,161,242)","rgb(29,131,212)","")
]);]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>vote</text>
      <top>241</top>
      <topRatio>0.39443535188216</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel47">
      <fontBold>true</fontBold>
      <fontColor>505050</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>48</height>
      <heightRatio>0.0785597381342062</heightRatio>
      <layerVisible>false</layerVisible>
      <left>26</left>
      <leftRatio>0.0488721804511278</leftRatio>
      <sizeRatio>0.115107913669065</sizeRatio>
      <text>发表短文或回复</text>
      <top>13</top>
      <topRatio>0.0212765957446809</topRatio>
      <width>417</width>
      <widthRatio>0.783834586466165</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel414">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.106382978723404</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.142231947483589</sizeRatio>
      <top>0</top>
      <width>457</width>
      <widthRatio>0.859022556390977</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel220">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.0540098199672668</heightRatio>
      <layerVisible>false</layerVisible>
      <left>412</left>
      <leftRatio>0.774436090225564</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
sender.v_enabled = false;
var content = sender.parentNode.c_edit.getEditText();
var photos = sender.parentNode.c_photos.v_photos;
if ((content.length<=0) &amp;&amp; (photos.length<=0)) {
    g5.alert1("提示", "发言内容不能为空，您至少要留有文字或者至少一张图片或者视频。");
    return;
}

if (sender.parentNode.onComplete) {
    sender.parentNode.onComplete();
}
]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByTCn(500,ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","","","",""),
    new g5.BStyle("#8ed0f9","#8ed0f9","#8ed0f9","","","","","","","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.init(enabled?0:1);
}
sender.setEnabled(false);







</onCreate>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>发言</text>
      <top>242</top>
      <topRatio>0.39607201309329</topRatio>
      <width>83</width>
      <widthRatio>0.156015037593985</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel614">
      <__U_editFontColor type="color">000000</__U_editFontColor>
      <__U_editFontFamily type="string">'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</__U_editFontFamily>
      <__U_editFontSize type="string">16pt</__U_editFontSize>
      <__U_editMaxY type="string">150px</__U_editMaxY>
      <__U_onCurPosChange-sender-oldPos-newPos type="jsMix">sender.processUserName();</__U_onCurPosChange-sender-oldPos-newPos>
      <__U_onFocusChange-sender-isFocus type="jsMix" />
      <__U_onHeightChange-sender-oldH-newH type="jsMix" />
      <__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml type="jsMix"><![CDATA[var text = ee.getEditText(sender.c_edit);

if (newText.split("\n").length-1>20) {
    return false;
}

var cp = sender.getCurPosAbs();
var sTemp = sender.convertHtml(newText);
var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>")
sender.c_edit.innerHTML = sTemp;
sender.c_edit.innerHTML = sender.c_edit.innerHTML.replace(/&amp;nbsp;/g, ' ');
sender.setCurPosAbs(cp);

sender.processUserName();

var newText = newText.trim();
var c = ee.getControl("panel50");
if (newText.length<180) {
    c.v_color = "#29a5f2";
    c.v_r = "9";
    c.refresh(newText.length/200);
    ee.setText(ee.getControl("panel45"), "");    
} else if (newText.length<=200) {
    c.v_color = "#ffad1f";
    c.v_r = "12";
    c.refresh(newText.length/200);    
    ee.setText(ee.getControl("panel45"), 200-newText.length);    
    ee.setTextColor(ee.getControl("panel45"), "#ffad1f");
} else {
    c.v_color = "#e0245e";
    c.v_r = "14";
    c.refresh((newText.length-200)/100);    
    ee.setText(ee.getControl("panel45"), 200-newText.length);
    ee.setTextColor(ee.getControl("panel45"), "#e0245e");
}
sender.parentNode.check();
]]></__U_onInputChange-sender-key-oldText-newText-oldHtml-newHtml>
      <backgroundColor>D3D3D3</backgroundColor>
      <dockX>fill</dockX>
      <height>133</height>
      <heightRatio>0.217675941080196</heightRatio>
      <layerVisible>false</layerVisible>
      <left>32</left>
      <leftRatio>0.0601503759398496</leftRatio>
      <note>c_edit</note>
      <onCreate><![CDATA[//public
sender.currentText = "";
sender.currentHtml = "";
sender.currentCurPos = 0;
sender.getEditText = function() {
    return this.getPlanText().replace(/\xA0/g, " ");
}
sender.setEditText = function(text, inOnChange) {
    this.c_edit.innerHTML = this.convertHtml(text);
    if (!inOnChange) this.f_onChange();
}

sender.setEditHtm = function(htmlText, inOnChange) {
    this.c_edit.innerHTML = text;
    if (!inOnChange) this.f_onChange();
}

sender.convertHtml = function(text) {
    var textS = text.replace(/ /g, "\xA0").split("\n");
    text = "";
    for (var i=0; i<textS.length; i++) {
        if (textS[i].length<=0) {
            text += "<div><br\></div>";
        } else {
            text += "<div>" + textS[i] + "</div>";
        }
    }
    return text;
}


//protected
sender.c_label = sender.eeChildren[0];
sender.c_edit = sender.eeChildren[1];

//private
var e = sender.c_edit;
e.contentEditable = true;
e.style.border = "none";
e.style.outline = "none";
e.style.height = "";
e.style.minHeight = (eb.getDivRectSetting(sender).h - e.outerTop - e.outerBottom) + "px";
e.style.maxHeight = sender.editMaxY;
e.style.overflowY = "auto";
e.style.fontFamily = sender.editFontFamily;
e.style.fontSize = sender.editFontSize;
e.style.color = "#" + sender.editFontColor;
e.style.whiteSpace = "pre-wrap";
e.style.wordWrap = "break-word";
e.style.wordBreak = "normal";
e.innerHTML = "";
eb.setDivRect(e, e.outerLeft, e.outerTop, eb.getDivRectSetting(sender).w - e.outerLeft - e.outerRight, null);
sender.v_lastH = eb.getDivRectSetting(sender).h;

sender.refreshH = function() {
    if (this.v_lastH!=eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom) {
        var lastH = this.v_lastH;
        this.v_lastH = eb.getDivRect(sender.c_edit).h+e.outerTop+e.outerBottom;
        ee.setRect(this,null,null,null,this.v_lastH);
        sender.onHeightChange(this, lastH, this.v_lastH);
    }
}

sender.onSizeChange = function(sender, rectOld, rectNew) {
    eb.setDivRect(sender.c_edit, sender.c_edit.outerLeft, sender.c_edit.outerTop,
        rectNew.w - sender.c_edit.outerLeft - sender.c_edit.outerRight, null);
}

sender.f_onChange = function() {
    if (sender.v_isIme) {
        ee.setVisible(this.c_label, this.getPlanText().length<=0); 
        return;
    }
    this.refreshH();
    var oldText = this.currentText;
    var oldHtml = this.currentHtml;
    this.currentText = this.getPlanText().replace(/\xA0/g, " ");
    this.currentHtml = this.c_edit.innerHTML;
    ee.setVisible(this.c_label, (!this.c_edit.innerText) || (this.c_edit.innerText.trim().length<=0)); 
    if (this.onInputChange(this, this.lastKey, oldText, this.currentText, oldHtml, this.currentHtml)==false) {
        this.setEditText(oldHtml, true);
        this.currentHtml = oldHtml;
        this.currentText = oldText;
        this.setCurPosAbs(this.currentCurPos);
    }
}

sender.CurPos = function() {
    this.elmIndex = new Array();
    this.curPos = 0;
}
   
sender.getCurPos = function() {
    var curPos = new this.CurPos();
    var sel, range;
    if (window.getSelection) {
        sel = window.getSelection();
        if (sel.rangeCount) {
            range = sel.getRangeAt(0);
            var node = range.commonAncestorContainer;
            while (node.parentNode) {
                var i;
                for (i=0; i<node.parentNode.childNodes.length; i++) {
                    if (node.parentNode.childNodes[i] == node) {
                        curPos.elmIndex.push(i);
                        break;
                    }
                }
                node = node.parentNode;
                if (node == this.c_edit) break;
            }
            curPos.curPos = range.endOffset;
        }
    } else if (document.selection &amp;&amp; document.selection.createRange) {
        console.log("not perform");
        range = document.selection.createRange();
        if (range.parentElement() == this.c_edit) {
            var tempEl = document.createElement("span");
            this.c_edit.insertBefore(tempEl, this.c_edit.firstChild);
            var tempRange = range.duplicate();
            tempRange.moveToElementText(tempEl);
            tempRange.setEndPoint("EndToEnd", range);
            caretPos = tempRange.text.length;
        }
    }
    return curPos;
}

sender.setCurPos = function(curPos) {
    var range = document.createRange()
    var sel = window.getSelection()
    var node = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!node.childNodes[curPos.elmIndex[i]]) break;
        node = node.childNodes[curPos.elmIndex[i]];
    }
    range.setStart(node, curPos.curPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getCurPosAbs = function() {
    var curPos = this.getCurPos();
    var nodeSel = this.c_edit;
    for (var i=curPos.elmIndex.length-1; i>=0; i--) {
        if (!nodeSel.childNodes[curPos.elmIndex[i]]) break;
        nodeSel = nodeSel.childNodes[curPos.elmIndex[i]];
    }
    var pos = 0;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i] == nodeSel) {
                if (nodeSel.nodeName =="DIV") pos++;
                pos += curPos.curPos;
                return true;
            }
            if (node.childNodes[i].nodeName == "DIV") {
                if (i>0) pos++;
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName == "BR") {
            } else if (node.childNodes[i].nodeName == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName == "#text") {
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return pos;
}


sender.setCurPosAbs = function(absPos) {
    var pos = 0;
    var setNode, setPos;
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i].nodeName == "DIV") {
                if (i>0) pos++;
                if (pos>=absPos) {
                    if (node.childNodes[i].childNodes.length>0) {
                        setNode = node.childNodes[i].childNodes[0];
                    } else {
                        setNode = node.childNodes[i];
                    }
                    setPos = 0;
                    return true;
                }
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName == "BR") {
            } else if (node.childNodes[i].nodeName == "SPAN") {
                if (addPos(node.childNodes[i])) return true;
            } else if (node.childNodes[i].nodeName == "#text") {
                if (pos+node.childNodes[i].textContent.length>=absPos) {
                    setNode = node.childNodes[i];
                    setPos = absPos - pos;
                    return true;
                }
                pos += node.childNodes[i].textContent.length;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    var range = document.createRange()
    var sel = window.getSelection()
    range.setStart(setNode, setPos);
    range.collapse(true)
    sel.removeAllRanges()
    sel.addRange(range)
}

sender.getPlanText = function() {
    var text = "";
    var addPos = function(node) {
        for (var i=0; i<node.childNodes.length; i++) {
            if (node.childNodes[i].nodeName == "DIV") {
                if (i>0) text += "\n";
                addPos(node.childNodes[i]);
            } else if (node.childNodes[i].nodeName == "BR") {
            } else if (node.childNodes[i].nodeName == "SPAN") {
                text += node.childNodes[i].textContent;
            } else if (node.childNodes[i].nodeName == "#text") {
                text += node.childNodes[i].textContent;
            }
        }
        return false;
    }
    addPos(this.c_edit);
    return text;
}

e.onkeydown = function(event) {
    sender.lastCurPos = sender.getCurPos();
    sender.lastKey = {};
    sender.lastKey.key = event.key;
    sender.lastKey.keyCode = event.keyCode;
    sender.lastKey.shiftKey = event.shiftKey;
    sender.lastKey.ctrlKey = event.ctrlKey;
    sender.lastKey.altKey = event.altKey;
}

e.oninput = function(event) {
    sender.f_onChange();
}

e.onpaste = function() {
    sender.f_onChange();
}

e.onfocus = function() {
    document.addEventListener("selectionchange", sender.f_onSelectionChange, false);
}

e.onblur = function() {
    document.removeEventListener("selectionchange", sender.f_onSelectionChange, false);
}

sender.f_onSelectionChange = function(event) {
    var oldPos = sender.currentCurPos;
    sender.currentCurPos = sender.getCurPosAbs();
    if (oldPos!=sender.currentCurPos) {
        if (sender.onCurPosChange) {
            sender.onCurPosChange(sender,oldPos,sender.currentCurPos);
        }
    }
}


sender.c_edit.addEventListener("compositionstart", function(event) {
    sender.v_isIme = true;
});

sender.c_edit.addEventListener("compositionupdate", function(event) {
    //console.log("ime update");
});

sender.c_edit.addEventListener("compositionend", function(event) {
    sender.v_isIme = false;
    sender.f_onChange();
});

sender.c_edit.addEventListener("touchstart", function(event) {
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return;
});

//user
sender.getUsername = function() {
    var newText = this.getEditText();
    var cp = this.getCurPosAbs();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return "";
    var pos = i;
    var userName = "";
    for (i=pos+1; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
            userName += ch;
        } else break;
    }
    if (userName.length<2) return "";
    if (i<=cp-1) return "";
    userName = userName.substr(0,20);
    return userName;
}

sender.setUsername = function(username) {
    var cp = sender.getCurPosAbs();
    var newText = sender.getEditText();
    var i;
    for (i=cp-1; i>=0; i--) {
        if (newText.charAt(i)=="@") break;
    }
    if (i<0) return;
    var pos = i+1;
    for (i=pos; i<=newText.length; i++) {
        var ch = newText.charAt(i);
        if ((ch>="a" &amp;&amp; ch<="z") ||
            (ch>="A" &amp;&amp; ch<="Z") ||
            (ch>="0" &amp;&amp; ch<="9") ||
            (ch=="_") || (ch=="-")) {
        } else break;
    }
    if (i-pos<2) return;
    if (i<=cp-1) return;
    if (i-pos>20) i=20-pos;
    var s = newText.substr(0, pos);
    s += username;
    if (i>=newText.length) {
        s += " ";
    } else if (newText.charAt(i)=="\n") {
        s += " " + newText.substr(i);
    } else {
        s += newText.substr(i);
    }
    
    var sTemp = sender.convertHtml(s);
    var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
    sTemp = sTemp.replace(ptn, "<span style='color:#1da1f2'>@$1</span>")
    sender.c_edit.innerHTML = sTemp;
    sender.setCurPosAbs(i+1);
}

sender.processUserName = function() {
    var userName = this.getUsername();
    if (userName.length>0) {
        this.parentNode.c_search.show(sender, userName, function(username) {
            sender.setUsername(username);
            sender.c_edit.blur();
        });
    } else this.parentNode.c_search.close();
}
]]></onCreate>
      <outerLeft>32</outerLeft>
      <outerRight>29</outerRight>
      <sizeRatio>0.282377919320594</sizeRatio>
      <top>80</top>
      <topRatio>0.130932896890344</topRatio>
      <userProperty>//#P:editFontFamily|多行文字录入V2|'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif|string||用户输入文字的字体样式
//#P:editFontColor|多行文字录入V2|404040|color||用户输入文字的字体颜色
//#P:editFontSize|多行文字录入V2|12pt|string||用户输入文字的大小
//#P:editMaxY|多行文字录入V2|300px|string||编辑框最大高度
//#P:onHeightChange(sender,oldH,newH)|多行文字录入V2||jsMix||由于用户的输入导致编辑框产生的高度变化。sender:触发事件的控件，oldH:旧的高度，newH:新的高度
//#P:onInputChange(sender,key,oldText,newText,oldHtml,newHtml)|多行文字录入V2||jsMix||由于用户的输入导致内容改变，返回false表示取消本次修改。sender:触发事件的控件，key:用户按键，oldText:旧的内容，newText:新的内容，oldHtml:旧内容html形式，newHtml:新内容html形式
//#P:onFocusChange(sender,isFocus)|多行文字录入V2||jsMix||焦点发生变化。sender:触发事件的控件，isFocus:是否触发了焦点
//#P:onCurPosChange(sender,oldPos,newPos)|多行文字录入V2||jsMix||光标位置发生变化。sender:触发事件的控件，oldPos:原来的光标位置；newPos:新的光标位置；



</userProperty>
      <width>471</width>
      <widthRatio>0.885338345864662</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel614/panel615">
      <backgroundColor>C0FFC0</backgroundColor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>9197A3</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>16</fontSize>
      <height>133</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_label</note>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.282377919320594</sizeRatio>
      <text>在这里输入您的发言内容</text>
      <top>0</top>
      <width>471</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel614/panel616">
      <backgroundColor>FFFFFF</backgroundColor>
      <fontColor>404040</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>26</height>
      <heightRatio>0.195488721804511</heightRatio>
      <layerVisible>false</layerVisible>
      <left>16</left>
      <leftRatio>0.0339702760084926</leftRatio>
      <note>c_edit</note>
      <outerBottom>2</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>2</outerRight>
      <outerTop>2</outerTop>
      <sizeRatio>0.257425742574257</sizeRatio>
      <top>15</top>
      <topRatio>0.112781954887218</topRatio>
      <v_color1>FFC0C0</v_color1>
      <v_Str>as223</v_Str>
      <vAlign>top</vAlign>
      <width>101</width>
      <widthRatio>0.214437367303609</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710">
      <ee_LocalName>c_vote</ee_LocalName>
      <height>292</height>
      <heightRatio>0.477905073649754</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0545112781954887</leftRatio>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.v_data = new Array();
sender.v_root = sender.c_voteList;
sender.MAXOptions = 10;

sender.reset = function() {
    this.v_data = new Array();
    this.v_data.push(new sender.type_itemData());
    this.v_data.push(new sender.type_itemData());
    this.refreshList();
}

sender.type_itemData = function() {
    this.value = "";
}

sender.renderItem = function(root) {
    var w = eb.getDivRect(root).w;
    var c,cy=10;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderTop = "";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    var cx = 0;
    var w3=50;
    var w2 = w-w3;
    
    c = createPanel(root, root.id+"W2", "", cx, cy, w2, 26); cx+=w2;
    if (root.v_data.value == "") {
        addText(c, g5.lang.getByCn("选项,点击修改"), "left", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
    } else {
        addText(c, root.v_data.value, "left", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "1da1f2", "normal");
    }
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        g5.popBlack.a10.show(
            "输入", "选项：", "请在这里输入选项标签", root.v_data.value,
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
            function(text) {
                if (text == "") return;
                root.v_data.value = text;
                sender.refreshList();
            },
            function() {
            }
        );
    });

    c = createPanel(root, root.id+"W3", "", cx, cy-13, w3, 26+15); cx+=w3;
    addText(c, "...", "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 18, "1da1f2", "bold");
    c.style.cursor="pointer";
    ee.setOnClick(c, function(senderBtn, event) {
        var v_style = new Array();
        var v_onClick = new Array();
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","上移","上移","上移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if (i>0) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i-1];
                    sender.v_data[i-1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","下移","下移","下移","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                var i = sender.getIndexByRoot(root);
                if ((i>=0) &amp;&amp; (i<sender.v_data.length-1)) {
                    var t = sender.v_data[i];
                    sender.v_data[i] = sender.v_data[i+1];
                    sender.v_data[i+1] = t;
                    sender.refreshList();
                }
            }
        );
        v_style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","删除","删除","删除","#808080","#000000","#000000",""));
        v_onClick.push(
            function (senderBtnC, event) {
                g5.popBlack.a6.show(
                    "删除确认",
                    "在没有保存之前，本操作将不会生效，确认删除本记录/%" + (root.v_data.type==""?"":("(" + root.v_data.type + ")")) + "%/吗？",
                    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
                    [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","删除","#ffffff","#ffffff","#ffffff","")],
                    function() {
                        var i = sender.getIndexByRoot(root);
                        if (i>=0) {
                            sender.v_data.splice(i,1);
                            sender.refreshList();
                        }
                    }
                );            
            }
        );
        g5.popup1.p4.show(senderBtn, 80, v_style, v_onClick); 
    });
    
    cy+=26;
    cy+=10;
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}

sender.getIndexByRoot = function(root) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i] == root) return i;
    }
    return -1;
}


sender.addNew = function() {
    this.v_data.push(new sender.type_itemData());
    this.refreshList();
}

sender.addButton = function() {
    var cy = 0;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[this.v_items.length-1]);
        cy = cy.y + cy.h;
    }
    var root = this.v_root;
    var itemWidth = eb.getDivRect(root).w;
    var c;
    c = createPanel(root, this.id + "_BtnNew", "", 0, cy, itemWidth, 40);
    
    addText(c, g5.lang.getByCn("+ 增加"), "center", "center", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "606060", "normal");
    c.style.cursor="pointer";
    c.v_style = [
        new g5.BStyle("#ffffff","#e0e0e0","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
        new g5.BStyle("#ffffff","#ffffff","#d0d0d0",g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),g5.lang.getByCn("+ 增加"),"#404040","#404040","#404040",""),
    ];
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRectSetting(this).h/2) + "px";
    }
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    ee.setOnClick(c, function(senderBtn, event) {
        sender.removeButton();
        sender.addNew();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });    
    if (g5.isMobile) {
        c.init(1);
    } else c.init(0);
}

sender.removeButton = function() {
    var c = $g(this.id + "_BtnNew");
    if (!c) return;
    ee.removeControl(c);
}

sender.refreshList = function() {
    while (this.v_items.length>0) {
        ee.removeControl(this.v_items[0]);
        this.v_items.splice(0,1);
    }
    this.removeButton();
    
    var i;
    for (i=0; i<this.v_data.length; i++) {
        var root = this.v_root;
        var itemWidth = eb.getDivRect(this.v_root).w;
        var item;
        item = createPanel(root, this.id + "_" + i, "", 0, 0, itemWidth, 5);
        item.v_data = this.v_data[i];
        this.renderItem(item);
        this.v_items.push(item);
    }
    if (this.checkValid() &amp;&amp; (this.v_data.length<sender.MAXOptions)) this.addButton();
    this.parentNode.check();
    ee.tiledV(this.v_root,0,0,0);
    ee.tiledV(this,0,0,0);
    var r = eb.getDivRectSetting(this);
    ee.setRect(this.parentNode, null, null, null, r.y + r.h + 30);
}

sender.checkValid = function() {
    if (this.v_data.length > sender.MAXOptions) return false;
    for (var i=0; i<this.v_data.length; i++) {
        if (this.v_data[i].value == "") return false;
    }
    return true;
}
]]></onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <top>289</top>
      <topRatio>0.472995090016367</topRatio>
      <width>473</width>
      <widthRatio>0.889097744360902</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel711">
      <dockX>fill</dockX>
      <ee_LocalName>c_voteList</ee_LocalName>
      <heightRatio>0.342465753424658</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.211416490486258</sizeRatio>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712">
      <backgroundColor>F0F0FA</backgroundColor>
      <dockX>fill</dockX>
      <ee_LocalName>c_duration</ee_LocalName>
      <heightRatio>0.342465753424658</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_day = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[0].eeChildren[0].v_value;
sender.c_hour = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[1].eeChildren[0].v_value;
sender.c_min = sender.eeChildren[0].eeChildren[1].eeChildren[0].eeChildren[2].eeChildren[0].v_value;
sender.v_minMin = 10;

sender.init = function() {
    ee.setText(this.c_day,"1");
    ee.setText(this.c_hour,"0");
    ee.setText(this.c_min,"0");
}

sender.setDay = function(value) {
    ee.setText(this.c_day,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
        this.setHour(0);
    }
}
sender.setHour = function(value) {
    ee.setText(this.c_hour,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
    }
}
sender.setMin = function(value) {
    ee.setText(this.c_min,value+"");
    if (this.getResultMin()<this.v_minMin) {
        this.setMin(this.v_minMin);
    }
}
sender.getResultSec = function() {
    return (
        parseInt(ee.getText(this.c_day)) * 3600 * 24 +
        parseInt(ee.getText(this.c_hour)) * 3600 +
        parseInt(ee.getText(this.c_min)) * 60
    );
}
sender.getResultMin = function() {
    return parseInt(this.getResultSec()/60);
}



]]></onCreate>
      <sizeRatio>0.211416490486258</sizeRatio>
      <top>187</top>
      <topRatio>0.64041095890411</topRatio>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.211416490486258</sizeRatio>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem34">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <heavyEnabled>false</heavyEnabled>
      <height>38</height>
      <heightRatio>0.38</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.080338266384778</sizeRatio>
      <text>投票有效期</text>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>62</height>
      <heightRatio>0.62</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.13107822410148</sizeRatio>
      <top>38</top>
      <topRatio>0.38</topRatio>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.13107822410148</sizeRatio>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem49">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.392405063291139</sizeRatio>
      <top>0</top>
      <width>158</width>
      <widthRatio>0.334038054968288</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem49/panel713">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=7; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setDay(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px 5px 5px 15px";
</onCreate>
      <sizeRatio>0.392405063291139</sizeRatio>
      <top>0</top>
      <width>158</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem49/panel713/panel714">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0632911392405063</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.202702702702703</sizeRatio>
      <text>天</text>
      <top>0</top>
      <width>148</width>
      <widthRatio>0.936708860759494</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem49/panel713/panel719">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>131</left>
      <leftRatio>0.829113924050633</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.170886075949367</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem49/panel713/panel722">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0632911392405063</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.243243243243243</sizeRatio>
      <text>1</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>148</width>
      <widthRatio>0.936708860759494</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem50">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>158</left>
      <leftRatio>0.334038054968288</leftRatio>
      <sizeRatio>0.394904458598726</sizeRatio>
      <top>0</top>
      <width>157</width>
      <widthRatio>0.331923890063425</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem50/panel715">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0318471337579618</leftRatio>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=23; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setHour(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px";
</onCreate>
      <outerLeft>5</outerLeft>
      <sizeRatio>0.407894736842105</sizeRatio>
      <top>0</top>
      <width>152</width>
      <widthRatio>0.968152866242038</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem50/panel715/panel716">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0657894736842105</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.211267605633803</sizeRatio>
      <text>小时</text>
      <top>0</top>
      <width>142</width>
      <widthRatio>0.934210526315789</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem50/panel715/panel720">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>125</left>
      <leftRatio>0.822368421052632</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.177631578947368</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem50/panel715/panel723">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0657894736842105</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.253521126760563</sizeRatio>
      <text>0</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>142</width>
      <widthRatio>0.934210526315789</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem51">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>315</left>
      <leftRatio>0.665961945031712</leftRatio>
      <sizeRatio>0.392405063291139</sizeRatio>
      <top>0</top>
      <width>158</width>
      <widthRatio>0.334038054968288</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem51/panel717">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>5</left>
      <leftRatio>0.0316455696202532</leftRatio>
      <onClick><![CDATA[let style = new Array();
let i;
for (i=0; i<=59; i++) {
    style.push(new g5.BStyle("","#e8f5fe","#d2ecfc",i+"",i+"",i+"","#404040","#404040","#404040",""));
}

g5.popup1.p4.v_itemHeight = 30;
g5.popup1.p4.show(sender, 170, style, function(index,text1,text2,text3) {
    sender.parentNode.parentNode.parentNode.parentNode.parentNode.setMin(text1);
});
   ]]></onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "5px 5px 15px 5px";</onCreate>
      <outerLeft>5</outerLeft>
      <sizeRatio>0.405228758169935</sizeRatio>
      <top>0</top>
      <width>153</width>
      <widthRatio>0.968354430379747</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem51/panel717/panel718">
      <dockX>fill</dockX>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.483870967741936</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.065359477124183</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.20979020979021</sizeRatio>
      <text>分钟</text>
      <top>0</top>
      <width>143</width>
      <widthRatio>0.934640522875817</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem51/panel717/panel721">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <height>62</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>126</left>
      <leftRatio>0.823529411764706</leftRatio>
      <onCreate><![CDATA[c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"height:100%;width:100%;margin:0px 0px 0px 0px;fill:#808080;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
]]></onCreate>
      <sizeRatio>2.2962962962963</sizeRatio>
      <text>V</text>
      <top>0</top>
      <width>27</width>
      <widthRatio>0.176470588235294</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel710/panel712/layouty8/layoutyitem35/layoutx19/layoutxitem51/panel717/panel724">
      <dockX>fill</dockX>
      <ee_LocalName>v_value</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.580645161290323</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.065359477124183</leftRatio>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.251748251748252</sizeRatio>
      <text>0</text>
      <top>22</top>
      <topRatio>0.354838709677419</topRatio>
      <width>143</width>
      <widthRatio>0.934640522875817</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel617">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>365</height>
      <heightRatio>0.597381342062193</heightRatio>
      <layerName>c_search</layerName>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0150375939849624</leftRatio>
      <onCreate><![CDATA[sender.v_headerName = "pageCSearch_";
sender.v_searchOptions = "user";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;
sender.style.boxSizing="border-box";
sender.style.borderWidth = "4px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.show = function(refDiv, searchText, onSelect) {
    ee.setVisible(this, true);
    this.f_onSelect = onSelect;
    this.search(searchText);
}

sender.close = function() {
    ee.setVisible(this, false);
}

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_searchString == searchString) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    if (searchV2.searchString == "") return;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        g5.p2.p11.c_buttons.setEnabled(true);
        sender.clear();
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i<searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadUserRecord(item, searchV2.dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            if (item.button1) ee.setVisible(item.button1, false);
            ee.setOnClick(item, function(senderBtn, event) {
                if (sender.f_onSelect) {
                    sender.f_onSelect(senderBtn.v_userInfo.userName);
                }
                sender.close();
            });
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多了", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        //g5.tiledV(sender,0,0,0);
        //g5.tiledResizeV(sender,4);   
    }
    searchV2();
}











]]></onCreate>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.707364341085271</sizeRatio>
      <top>232</top>
      <topRatio>0.379705400981997</topRatio>
      <width>516</width>
      <widthRatio>0.969924812030075</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>tinyZoomOut</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <aniSize>tinyZoom</aniSize>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a4</ee_LocalName>
      <height>650</height>
      <heightRatio>0.816582914572864</heightRatio>
      <layerName>转发用户列表</layerName>
      <layerVisible>false</layerVisible>
      <left>201</left>
      <leftRatio>0.248535564853556</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);</onAni2End>
      <onAniStart>ee.setVisible(ee.getControl("panel112"), true);</onAniStart>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.c_title = ee.getControl("panel123");
sender.c_root = ee.getControl("layoutyitem2");
sender.v_items = new Array();

sender.show = function(userId, showType) {
    if (showType == "fans") {
        ee.setText(this.c_title, "拥有的粉丝");
        if (showFansList.busy) return;
        showFansList.userId = userId;
        showFansList.onComplete = function(dataset) {
            var i,root = sender.c_root;
            for (i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
            sender.v_items = new Array();
            var cy = 0;
            var itemWidth = eb.getDivRect(root).w;
            for (var i=0; i<dataset.rowCount; i++) {
                if (showFansList.userId == dataset.getData(0,i)) continue;
                var item = createPanel(root, "fanl_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                sender.loadRecord(item, dataset, i);
                item.v_mode = "";
                g5.renderUserBar(item);
                cy += eb.getDivRect(item).h;
                sender.v_items.push(item);
            }
            eb.processDock();
            ee.setVisible(sender.parentNode, true);
            ee.showAni(ee.getControl("panel10"),0);
        }
        showFansList();               
    } else if (showType == "follow") {
    
    }
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,0,index);
}
]]></onCreate>
      <sizeRatio>1.08333333333333</sizeRatio>
      <top>73</top>
      <topRatio>0.0917085427135678</topRatio>
      <width>600</width>
      <widthRatio>0.502092050209205</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel112/panel10/layouty1">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>625</height>
      <heightRatio>0.961538461538462</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0133333333333333</leftRatio>
      <outerBottom>18</outerBottom>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <outerTop>7</outerTop>
      <sizeRatio>1.07020547945205</sizeRatio>
      <top>7</top>
      <topRatio>0.0107692307692308</topRatio>
      <width>584</width>
      <widthRatio>0.973333333333333</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>50</height>
      <heightRatio>0.08</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.0856164383561644</sizeRatio>
      <top>0</top>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel25">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>38</height>
      <heightRatio>0.76</heightRatio>
      <layerVisible>false</layerVisible>
      <left>7</left>
      <leftRatio>0.011986301369863</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel10"), 1);</onClick>
      <sizeRatio>0.844444444444444</sizeRatio>
      <top>6</top>
      <topRatio>0.12</topRatio>
      <width>45</width>
      <widthRatio>0.0770547945205479</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel11">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.02</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00171232876712329</sizeRatio>
      <top>49</top>
      <topRatio>0.98</topRatio>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel123">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>37</height>
      <heightRatio>0.74</heightRatio>
      <layerVisible>false</layerVisible>
      <left>58</left>
      <leftRatio>0.0993150684931507</leftRatio>
      <note>c_title</note>
      <sizeRatio>0.121311475409836</sizeRatio>
      <text>转推者</text>
      <top>7</top>
      <topRatio>0.14</topRatio>
      <width>305</width>
      <widthRatio>0.522260273972603</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem2">
      <autoScroll>true</autoScroll>
      <backgroundColor>d0d0d0</backgroundColor>
      <height>575</height>
      <heightRatio>0.92</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_root</note>
      <onCreate>sender.style.overflowX = "hidden";
sender.addEventListener("mousewheel", function(e) {
    g5.popBlack.v_canScroll = true;
});</onCreate>
      <sizeRatio>0.98458904109589</sizeRatio>
      <top>50</top>
      <topRatio>0.08</topRatio>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/panel222">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>56</height>
      <heightRatio>0.0861538461538462</heightRatio>
      <layerVisible>false</layerVisible>
      <left>135</left>
      <leftRatio>0.225</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.12280701754386</sizeRatio>
      <top>0</top>
      <width>456</width>
      <widthRatio>0.76</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>pointDisappear</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a5</ee_LocalName>
      <height>228</height>
      <heightRatio>0.28643216080402</heightRatio>
      <layerName>屏蔽确认</layerName>
      <layerVisible>false</layerVisible>
      <left>328</left>
      <leftRatio>0.354811715481172</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>//v_root
sender.formResult = false;
sender.show = function() {
    ee.setText(ee.getControl("panel219"), "屏蔽 @" + this.v_root.v_userName);
    ee.setText(ee.getControl("panel218"), "该用户将无法关注你或查看你的发言，你也不会看到来自 @"+this.v_root.v_userName+" 的发言或通知。");
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}</onCreate>
      <sizeRatio>0.658959537572254</sizeRatio>
      <top>284</top>
      <topRatio>0.35678391959799</topRatio>
      <width>346</width>
      <widthRatio>0.289539748953975</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel218">
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>76</height>
      <heightRatio>0.333333333333333</heightRatio>
      <layerVisible>false</layerVisible>
      <left>31</left>
      <leftRatio>0.0895953757225433</leftRatio>
      <sizeRatio>0.268551236749117</sizeRatio>
      <text>该用户将无法关注你或查看你的发言，你也不会看到来自@xxx的发言或通知。</text>
      <top>62</top>
      <topRatio>0.271929824561404</topRatio>
      <width>283</width>
      <widthRatio>0.817919075144509</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel219">
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <height>39</height>
      <heightRatio>0.171052631578947</heightRatio>
      <layerVisible>false</layerVisible>
      <left>16</left>
      <leftRatio>0.046242774566474</leftRatio>
      <sizeRatio>0.12540192926045</sizeRatio>
      <text>屏蔽</text>
      <top>18</top>
      <topRatio>0.0789473684210526</topRatio>
      <width>311</width>
      <widthRatio>0.898843930635838</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel217/button2">
      <backgroundSkin>LRBtn12</backgroundSkin>
      <backgroundSkin1>twitterG008</backgroundSkin1>
      <backgroundSkin2>twitterG009</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0867052023121387</leftRatio>
      <onClick>ee.showAni(sender.parentNode.parentNode, 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>取消</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel217/button3">
      <backgroundSkin>LRBtn13</backgroundSkin>
      <backgroundSkin1>twitterG010</backgroundSkin1>
      <backgroundSkin2>twitterG011</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontColor1>FFFFFF</fontColor1>
      <fontColor2>FFFFFF</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <layerVisible>false</layerVisible>
      <left>182</left>
      <leftRatio>0.526011560693642</leftRatio>
      <onClick>blockUser.userId = sender.parentNode.parentNode.v_root.v_userId;
blockUser.isBlock = 1;
blockUser();
ee.showAni(sender.parentNode.parentNode, 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>屏蔽</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel223">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>63</height>
      <heightRatio>0.276315789473684</heightRatio>
      <layerVisible>false</layerVisible>
      <left>6</left>
      <leftRatio>0.0173410404624277</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.188059701492537</sizeRatio>
      <top>0</top>
      <width>335</width>
      <widthRatio>0.968208092485549</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>pointDisappear</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a7</ee_LocalName>
      <height>211</height>
      <heightRatio>0.265075376884422</heightRatio>
      <layerName>通用提示窗口</layerName>
      <layerVisible>false</layerVisible>
      <left>322</left>
      <leftRatio>0.34979079497908</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>//samples
/*
popBlack.a7.show(
        "提示", "修改您的用户信息完成",
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
        //[new g5.BStyle("","#e8f5fe","#d2ecfc","确定","确定","确定","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        function() {}
    );
*/

//public
sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#a0a0a0";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "10px";
sender.style.boxShadow = "5px 5px 15px #808080";
//sender.className = "elementToFadeInAndOut";
   
   
//implementation
sender.show = function(title,text,bStyle,onComplete) {
    if (g5.lang) {
        title = g5.lang.trans2(title);
        text = g5.lang.trans2(text);
    }
    ee.setText(this.c_title,title);

    this.c_text.label.style.height = "";
    this.c_text.label.rows[0].cells[0].style.textAlign = "left";
    ee.setText(this.c_text,text);
    var cy = this.c_text.label.offsetHeight + 5;
    ee.setRect(this.c_text, null, null, null, cy);
    cy += eb.getDivRectSetting(this.c_text).y + 30;
    ee.setRect(this.c_btnOk, null, cy, null, null);
    cy += eb.getDivRectSetting(this.c_btnOk).h;
    cy += 28;
    ee.setRect(this, null, null, null, cy);
        
    this.c_btnOk.v_style = bStyle;
    this.c_btnOk.init(0);
    this.onComplete = onComplete;
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    document.addEventListener("keydown", this.onKeyDown);
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    document.removeEventListener("keydown", this.onKeyDown);
}

sender.onKeyDown = function(event) {
    event = event || window.event;
    if (event.keyCode == 13) {
        sender.close();
        sender.onComplete();        
    }
}


if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
}</onCreate>
      <sizeRatio>0.587743732590529</sizeRatio>
      <top>292</top>
      <topRatio>0.366834170854271</topRatio>
      <width>359</width>
      <widthRatio>0.300418410041841</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel345">
      <ee_LocalName>c_text</ee_LocalName>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>78</height>
      <heightRatio>0.369668246445498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>26</left>
      <leftRatio>0.0724233983286908</leftRatio>
      <sizeRatio>0.252427184466019</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及 GET搜索结果中移除。</text>
      <top>54</top>
      <topRatio>0.255924170616114</topRatio>
      <width>309</width>
      <widthRatio>0.860724233983287</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel346">
      <dockX>center</dockX>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>202326</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.184834123222749</heightRatio>
      <layerVisible>false</layerVisible>
      <left>25</left>
      <leftRatio>0.0696378830083565</leftRatio>
      <sizeRatio>0.12621359223301</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0853080568720379</topRatio>
      <width>309</width>
      <widthRatio>0.860724233983287</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel347">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.308056872037915</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.changedTouches[0].screenX;
        sender.v_y = event.changedTouches[0].screenY;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        var sender = event.target;
        sender.v_down = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.changedTouches[0].screenX - sender.v_x;
            var dy = event.changedTouches[0].screenY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.changedTouches[0].screenX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.changedTouches[0].screenY ;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
} else {
    sender.onpointerdown = function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.clientX;
        sender.v_y = event.clientY;
        sender.setPointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointerup = function(event) {
        var sender = event.target;
        sender.v_down = false;
        sender.releasePointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointermove = function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.clientX - sender.v_x;
            var dy = event.clientY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.clientX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.clientY;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
}




]]></onCreate>
      <sizeRatio>0.181058495821727</sizeRatio>
      <top>0</top>
      <width>359</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel349">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_btnOk</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.18957345971564</heightRatio>
      <layerVisible>false</layerVisible>
      <left>116</left>
      <leftRatio>0.323119777158774</leftRatio>
      <onClick>sender.parentNode.close();
sender.parentNode.onComplete();</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRectSetting(sender).h/2) + "px";

</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>确认</text>
      <top>142</top>
      <topRatio>0.672985781990521</topRatio>
      <width>126</width>
      <widthRatio>0.350974930362117</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel350">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.170616113744076</heightRatio>
      <layerVisible>false</layerVisible>
      <left>305</left>
      <leftRatio>0.84958217270195</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";

g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0710900473933649</topRatio>
      <width>36</width>
      <widthRatio>0.100278551532033</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a8</ee_LocalName>
      <height>645</height>
      <heightRatio>0.810301507537688</heightRatio>
      <layerName>编辑个人信息</layerName>
      <layerVisible>false</layerVisible>
      <left>201</left>
      <leftRatio>0.248535564853556</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onClick>return;
window.event? window.event.cancelBubble = true : event.stopPropagation();
event.returnValue = false;
return false;
</onClick>
      <onCreate><![CDATA[sender.c_button = ee.getControl("panel49");
sender.c_titleBg = ee.getControl("panel58");
sender.c_userPhoto = ee.getControl("panel55");

sender.show = function() {
    sender.refreshProgress(ee.getControl("edit2"), ee.getControl("panel225"), 20);
    sender.refreshProgress(ee.getControl("edit3"), ee.getControl("panel230"), 160);
    sender.refreshProgress(ee.getControl("edit4"), ee.getControl("panel233"), 50);
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
}

sender.refreshProgress = function(edit, pdiv, maxValue) {
    var text = ee.getEditText(edit);
    if (text.length<(maxValue*0.8)) {
        pdiv.v_color = "#29a5f2";
        pdiv.v_r = "9";
        pdiv.refresh(text.length/maxValue);
        ee.setTextColor(pdiv.parentNode, "rgb(101, 119, 134)");
        this.c_button.setEnabled(true);        
    } else if (text.length<=maxValue) {
        pdiv.v_color = "#ffad1f";
        pdiv.v_r = "12";
        pdiv.refresh(text.length/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#ffad1f");
        this.c_button.setEnabled(true);        
    } else {
        pdiv.v_color = "#e0245e";
        pdiv.v_r = "14";
        pdiv.refresh((text.length-maxValue)/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#e0245e");
        this.c_button.setEnabled(false);        
    }
    ee.setText(pdiv.parentNode, text.length + "/" + maxValue);    
}

ee.setVisible(ee.getControl("panel225"), false);
ee.setVisible(ee.getControl("panel230"), false);
ee.setVisible(ee.getControl("panel233"), false);]]></onCreate>
      <sizeRatio>1.075</sizeRatio>
      <top>75</top>
      <topRatio>0.0942211055276382</topRatio>
      <width>600</width>
      <widthRatio>0.502092050209205</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel56">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>39</height>
      <heightRatio>0.0598802395209581</heightRatio>
      <layerVisible>false</layerVisible>
      <left>13</left>
      <leftRatio>0.0219435736677116</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <sizeRatio>0.689655172413793</sizeRatio>
      <top>10</top>
      <topRatio>0.0149700598802395</topRatio>
      <width>55</width>
      <widthRatio>0.0909090909090909</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel58">
      <backgroundColor>0E5079</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>171</height>
      <heightRatio>0.265116279069767</heightRatio>
      <layerVisible>false</layerVisible>
      <left>8</left>
      <leftRatio>0.0133333333333333</leftRatio>
      <note>c_titleBg</note>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.292808219178082</sizeRatio>
      <top>55</top>
      <topRatio>0.0852713178294574</topRatio>
      <width>584</width>
      <widthRatio>0.973333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel58/panel5">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.298245614035088</heightRatio>
      <layerVisible>false</layerVisible>
      <left>263</left>
      <leftRatio>0.450342465753425</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function(newFileName) {
                        getUserInfo();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>60</top>
      <topRatio>0.350877192982456</topRatio>
      <width>57</width>
      <widthRatio>0.0976027397260274</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel55">
      <backgroundImg>user.png</backgroundImg>
      <height>119</height>
      <heightRatio>0.184496124031008</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0483333333333333</leftRatio>
      <lockRatio>true</lockRatio>
      <note>c_userPhoto</note>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>179</top>
      <topRatio>0.277519379844961</topRatio>
      <width>119</width>
      <widthRatio>0.198333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel55/panel4">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.428571428571429</heightRatio>
      <layerVisible>false</layerVisible>
      <left>28</left>
      <leftRatio>0.235294117647059</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxWidth = 200;
sender.maxHeight = 200;
sender.compressRatio = 0.90;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function(newFileName) {
                        getUserInfo();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var width = img.width;
    var height = img.height;
    if(width > height) {
        if(width > sender.maxWidth) {
            height = Math.round(height *= sender.maxWidth / width);
            width = sender.maxWidth
        }
    }else{
        if(height > sender.maxHeight) {
            width = Math.round(width *= sender.maxHeight / height);
            height = sender.maxHeight
        }
    }
    canvas.width = width;
    canvas.height = height;
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, width, height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <outerBottom>6</outerBottom>
      <outerRight>6</outerRight>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>31</top>
      <topRatio>0.260504201680672</topRatio>
      <width>57</width>
      <widthRatio>0.478991596638655</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel140">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>34</height>
      <heightRatio>0.0523952095808383</heightRatio>
      <layerVisible>false</layerVisible>
      <left>66</left>
      <leftRatio>0.11</leftRatio>
      <sizeRatio>0.0857843137254902</sizeRatio>
      <text>个人信息</text>
      <top>11</top>
      <topRatio>0.0164670658682635</topRatio>
      <width>408</width>
      <widthRatio>0.68</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel224">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>58</height>
      <heightRatio>0.089922480620155</heightRatio>
      <layerVisible>false</layerVisible>
      <left>54</left>
      <leftRatio>0.09</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.21969696969697</sizeRatio>
      <top>0</top>
      <width>264</width>
      <widthRatio>0.44</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>66</height>
      <heightRatio>0.102325581395349</heightRatio>
      <layerVisible>false</layerVisible>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <sizeRatio>0.121546961325967</sizeRatio>
      <top>310</top>
      <topRatio>0.48062015503876</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel63">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0165745856353591</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>用户名</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.360957642725599</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel59/edit2">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit2"), ee.getControl("panel225"), 20);</onChange>
      <sizeRatio>0.0755064456721915</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/edit2/panel64">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0487804878048781</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>39</top>
      <topRatio>0.951219512195122</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel60">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.606060606060606</heightRatio>
      <layerVisible>false</layerVisible>
      <left>446</left>
      <leftRatio>0.821362799263352</leftRatio>
      <sizeRatio>0.465116279069767</sizeRatio>
      <text>0/20</text>
      <top>0</top>
      <width>86</width>
      <widthRatio>0.158379373848987</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel60/panel225">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.453488372093023</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>132</height>
      <heightRatio>0.204651162790698</heightRatio>
      <layerVisible>false</layerVisible>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <sizeRatio>0.243093922651934</sizeRatio>
      <top>394</top>
      <topRatio>0.610852713178295</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel229">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>431</left>
      <leftRatio>0.793738489871087</leftRatio>
      <sizeRatio>0.396039603960396</sizeRatio>
      <text>0/160</text>
      <top>0</top>
      <width>101</width>
      <widthRatio>0.186003683241252</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel229/panel230">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.386138613861386</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel226/edit3">
      <backgroundSkin>empty</backgroundSkin>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>103</height>
      <heightRatio>0.78030303030303</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>12</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <multiLine>true</multiLine>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit3"), ee.getControl("panel230"), 160);</onChange>
      <onCreate>sender._input.style.resize = "none";</onCreate>
      <sizeRatio>0.189686924493554</sizeRatio>
      <text>添加你的简介</text>
      <top>29</top>
      <topRatio>0.21969696969697</topRatio>
      <vAlign>top</vAlign>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/edit3/panel66">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0194174757281553</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>101</top>
      <topRatio>0.980582524271845</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel65">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.212121212121212</heightRatio>
      <layerVisible>false</layerVisible>
      <left>9</left>
      <leftRatio>0.0165745856353591</leftRatio>
      <sizeRatio>0.168674698795181</sizeRatio>
      <text>简介</text>
      <top>0</top>
      <width>166</width>
      <widthRatio>0.305709023941068</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.113178294573643</heightRatio>
      <layerVisible>false</layerVisible>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <sizeRatio>0.134438305709024</sizeRatio>
      <top>542</top>
      <topRatio>0.84031007751938</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel232">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.547945205479452</heightRatio>
      <layerVisible>false</layerVisible>
      <left>433</left>
      <leftRatio>0.797421731123389</leftRatio>
      <sizeRatio>0.404040404040404</sizeRatio>
      <text>0/50</text>
      <top>0</top>
      <width>99</width>
      <widthRatio>0.18232044198895</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel232/panel233">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.393939393939394</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel67">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.383561643835616</heightRatio>
      <layerVisible>false</layerVisible>
      <left>11</left>
      <leftRatio>0.0202578268876611</leftRatio>
      <sizeRatio>0.106870229007634</sizeRatio>
      <text>网站</text>
      <top>0</top>
      <width>262</width>
      <widthRatio>0.482504604051565</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel227/edit4">
      <backgroundSkin>empty</backgroundSkin>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>38</height>
      <heightRatio>0.520547945205479</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit4"), ee.getControl("panel233"), 100);</onChange>
      <sizeRatio>0.0699815837937385</sizeRatio>
      <text>添加你的网站</text>
      <top>35</top>
      <topRatio>0.479452054794521</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/edit4/panel68">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0526315789473684</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>36</top>
      <topRatio>0.947368421052632</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel49">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.0511627906976744</heightRatio>
      <layerVisible>false</layerVisible>
      <left>491</left>
      <leftRatio>0.818333333333333</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
if (updateUserInfo.busy) return;

updateUserInfo.nickName = ee.getEditText(ee.getControl("edit2"));
updateUserInfo.note = ee.getEditText(ee.getControl("edit3"));
updateUserInfo.homePage = ee.getEditText(ee.getControl("edit4"));

if (updateUserInfo.nickName.length<3) {
    g5.alert1(
        "昵称不符合要求",
        "昵称或者姓名不能少于3个英文字母或汉字"
    );
    return;
}
if (updateUserInfo.nickName.length>20) {
    g5.alert1(
        "昵称不符合要求",
        "昵称的长度不能大于20"
    );
    return;
}
if (updateUserInfo.note.length>160) {
    g5.alert1(
        "简介不符合要求",
        "简介的长度不能大于160"
    );
    return;
}
if (updateUserInfo.homePage.length>50) {
    g5.alert1(
        "网站不符合要求",
        "网站地址的长度不能大于50"
    );
    return;
}

updateUserInfo.onComplete = function() {
    sender.parentNode.close();
    getUserInfo();
    return;
    g5.popBlack.a7.show(
        "提示", "修改您的用户信息完成",
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
        //[new g5.BStyle("","#e8f5fe","#d2ecfc","确定","确定","确定","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        function() {}
    );
}
updateUserInfo();]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(false);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>保存</text>
      <top>15</top>
      <topRatio>0.0232558139534884</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>left</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>a9</ee_LocalName>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName>手机左侧弹出菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.c_buttons = new Array();
sender.c_buttons.push(ee.getControl("panel565"));
sender.c_buttons.push(ee.getControl("panel571"));
sender.c_buttons.push(ee.getControl("panel566"));
sender.c_buttons.push(ee.getControl("panel567"));
sender.c_buttons.push(ee.getControl("panel568"));
sender.c_buttons.push(ee.getControl("panel569"));
sender.c_buttons.push(ee.getControl("panel570"));

sender.show = function() {
    this.refresh();
    ee.setVisible(sender, true);
    ee.setVisible(sender.parentNode, true);
    ee.setRect(sender, 0,null,null,null);
    return;
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    sender.className = "";
    this.refresh();
    var r = eb.getDivRectSetting(this);
    ee.setRect(this, -r.w,null,null,null);
    setTimeout(function() {
        sender.className = "aniMove3";
        ee.setVisible(sender, true);
        ee.setVisible(sender.parentNode, true);
        ee.setRect(sender, 0,null,null,null);
    }, 50);
    //ee.showAni(this, 0);
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    return;

    sender.className = "";
    ee.setRect(this, 0,null,null,null);
    var r = eb.getDivRectSetting(this);
    ee.setVisible(this, true);
    ee.setVisible(this.parentNode, true);
    setTimeout(function() {
        sender.className = "aniMove3";
        ee.setRect(sender, -r.w,null,null,null);
        sender.addEventListener("transitionend", sender.onAniEnd);    
    }, 50);
}

sender.onAniEnd = function() {
    ee.setVisible(sender, false);
    ee.setVisible(sender.parentNode, false);
    sender.removeEventListener("transitionend", sender.onAniEnd);
}



sender.aniClose = function() {
    //ee.showAni(this,1);
}

sender.refresh = function() {
    //titleBg
    //this.c_titleBg.init(g5.myUserInfo.titleBg);
    ee.setVisible(this.c_titleBg, false);
    this.c_userPhoto.init(g5.myUserInfo.photo);
    ee.setText(this.c_nickName, g5.myUserInfo.nickName);
    ee.setText(this.c_userName, "@" + g5.myUserInfo.userName);
    this.refreshFansFollowCount();
}

sender.refreshFansFollowCount = function() {
    var s = 
        "<div id='mobileMenu01' style='display:inline;'>" + g5.myUserInfo.followCount + g5.lang.getByCn("个关注") + "</div>" +
        "     <div id='mobileMenu02' style='display:inline;'>" + g5.myUserInfo.fansCount + g5.lang.getByCn("个粉丝") + "</div>";
    if (g5.myUserInfo.fansReqCount &amp;&amp; (g5.myUserInfo.fansReqCount>0)) {
        s += "     <div id='mobileMenu03' style='display:inline;'>" + g5.myUserInfo.fansReqCount + g5.lang.getByCn("个加粉请求") + "</div>";
    }
    ee.setText(this.c_followInfo, s);
    var c = this.c_followInfo; 
    c.link01=$g("mobileMenu01");
    c.link02=$g("mobileMenu02");
    c.link03=$g("mobileMenu03");
    if (g5.myUserInfo.followCount>0) {
        c.link01.style.cursor = "pointer";
        ee.setOnClick(c.link01, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p16.show(g5.myUserInfo);
        });
        g5.initLinkV1(c.link01);
    }
    if (g5.myUserInfo.fansCount>0) {
        c.link02.style.cursor = "pointer";
        g5.initLinkV1(c.link02);
        ee.setOnClick(c.link02, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p15.show(g5.myUserInfo);
        });
    }
    if (!eb.isEmpty(c.link03)) {
        c.link03.style.cursor = "pointer";
        g5.initLinkV1(c.link03);
        ee.setOnClick(c.link03, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p29.show();
        });
    }
}
]]></onCreate>
      <sizeRatio>2.73539518900344</sizeRatio>
      <top>0</top>
      <width>291</width>
      <widthRatio>0.243514644351464</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel562">
      <backgroundColor>C0C0FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>c_titleBg</ee_LocalName>
      <height>166</height>
      <heightRatio>0.208542713567839</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setImage(this, g5.getUserTitleBgUrl(photoString)[1]);
    this.v_photo = photoString;
}

ee.setVisible(sender, false);
</onCreate>
      <sizeRatio>0.570446735395189</sizeRatio>
      <top>0</top>
      <width>291</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>611</height>
      <heightRatio>0.767587939698492</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <outerTop>185</outerTop>
      <sizeRatio>2.09965635738832</sizeRatio>
      <top>185</top>
      <topRatio>0.232412060301508</topRatio>
      <width>291</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel112/panel560/panel561/layouty3">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>7</fieldCount>
      <height>571</height>
      <heightRatio>0.934533551554828</heightRatio>
      <layerVisible>false</layerVisible>
      <left>25</left>
      <leftRatio>0.0859106529209622</leftRatio>
      <outerBottom>40</outerBottom>
      <outerLeft>25</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>2.32113821138211</sizeRatio>
      <top>0</top>
      <width>246</width>
      <widthRatio>0.845360824742268</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem5">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>82</height>
      <heightRatio>0.143607705779334</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem5/panel565">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>82</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.homePage+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";

g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);






]]></onCreate>
      <sizeRatio>0.333333333333333</sizeRatio>
      <text>新鲜事</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem6">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>81</height>
      <heightRatio>0.141856392294221</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.329268292682927</sizeRatio>
      <top>82</top>
      <topRatio>0.143607705779334</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem6/panel571">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>81</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p12.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);





]]></onCreate>
      <sizeRatio>0.329268292682927</sizeRatio>
      <text>通知</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem9">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>82</height>
      <heightRatio>0.143607705779334</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>163</top>
      <topRatio>0.285464098073555</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem9/panel566">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>82</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p13.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);






]]></onCreate>
      <sizeRatio>0.333333333333333</sizeRatio>
      <text>私信</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem10">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>81</height>
      <heightRatio>0.141856392294221</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.329268292682927</sizeRatio>
      <top>245</top>
      <topRatio>0.42907180385289</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem10/panel567">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>81</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p5.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMark+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);





]]></onCreate>
      <sizeRatio>0.329268292682927</sizeRatio>
      <text>收藏</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem14">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>82</height>
      <heightRatio>0.143607705779334</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>326</top>
      <topRatio>0.57092819614711</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem14/panel568">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>82</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p2.show(g5.myUserInfo);

</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconFace+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);




]]></onCreate>
      <sizeRatio>0.333333333333333</sizeRatio>
      <text>个人主页</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem15">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>81</height>
      <heightRatio>0.141856392294221</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.329268292682927</sizeRatio>
      <top>408</top>
      <topRatio>0.714535901926445</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem15/panel569">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>81</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p10.show();

</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconConfig+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);



]]></onCreate>
      <sizeRatio>0.329268292682927</sizeRatio>
      <text>设置和隐私</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem16">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>82</height>
      <heightRatio>0.143607705779334</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.333333333333333</sizeRatio>
      <top>489</top>
      <topRatio>0.856392294220666</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel561/layouty3/layoutyitem16/panel570">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>82</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";
g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);


]]></onCreate>
      <sizeRatio>0.333333333333333</sizeRatio>
      <text>退出登录</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel573">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <ee_LocalName>c_userPhoto</ee_LocalName>
      <height>60</height>
      <heightRatio>0.0753768844221105</heightRatio>
      <layerVisible>false</layerVisible>
      <left>19</left>
      <leftRatio>0.0652920962199313</leftRatio>
      <onClick>g5.popBlack.a9.close();
//g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";
sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setVisible(this, false);
    ee.setImage(this, g5.getUserPhotoUrl(photoString)[1], "trim","","");
    this.v_photo = photoString;
}
</onCreate>
      <onImageLoad>ee.setVisible(sender, true);</onImageLoad>
      <outerBottom>1</outerBottom>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <outerTop>1</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>17</top>
      <topRatio>0.021356783919598</topRatio>
      <width>60</width>
      <widthRatio>0.206185567010309</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel574">
      <ee_LocalName>c_nickName</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.042713567839196</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

</onCreate>
      <sizeRatio>0.142259414225941</sizeRatio>
      <text>昵称nicheng</text>
      <top>79</top>
      <topRatio>0.0992462311557789</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel575">
      <ee_LocalName>c_userName</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.042713567839196</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";
</onCreate>
      <sizeRatio>0.142259414225941</sizeRatio>
      <text>@用户名</text>
      <top>104</top>
      <topRatio>0.130653266331658</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel576">
      <ee_LocalName>c_followInfo</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>39</height>
      <heightRatio>0.0489949748743719</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <sizeRatio>0.163179916317992</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>129</top>
      <topRatio>0.162060301507538</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel560/panel564">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <height>36</height>
      <heightRatio>0.0452261306532663</heightRatio>
      <layerVisible>false</layerVisible>
      <left>235</left>
      <leftRatio>0.807560137457045</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1</sizeRatio>
      <text>X</text>
      <top>17</top>
      <topRatio>0.021356783919598</topRatio>
      <width>36</width>
      <widthRatio>0.123711340206186</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>pointDisappear</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a10</ee_LocalName>
      <height>209</height>
      <heightRatio>0.262562814070352</heightRatio>
      <layerName>通用字符串输入窗口</layerName>
      <layerVisible>false</layerVisible>
      <left>322</left>
      <leftRatio>0.34979079497908</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#a0a0a0";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "10px";
sender.style.boxShadow = "5px 5px 15px #808080";

sender.show = function(title,text,inputHint,defaultValue,bStyle1,bStyle2,onComplete,onButton1) {
    title = g5.lang.getByCn(title);
    text = g5.lang.getByCn(text);
    inputHint = g5.lang.getByCn(inputHint);
    ee.setText(this.c_title,title);
    ee.setText(this.c_p1.c_text,text);
    this.c_btnCancel.v_style = bStyle1;
    this.c_btnCancel.init(0);
    this.c_btnOK.v_style = bStyle2;
    this.c_btnOK.init(0);
    ee.setText(this.c_p1.c_edit, inputHint);
    this.c_p1.c_edit._inputHint = inputHint;
    ee.setEditText(this.c_p1.c_edit, defaultValue);
    this.onComplete = onComplete;
    this.onButton1 = onButton1;
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    document.addEventListener("keydown", this.onKeyDown);
}

sender.close = function() {
    ee.setVisible(this, false);
    document.removeEventListener("keydown", this.onKeyDown);
}

sender.onKeyDown = function(event) {
    event = event || window.event;
    if (event.keyCode == 13) {
        sender.close();
        if (sender.onComplete) sender.onComplete(ee.getEditText(ee.getControl("edit1")));
    } else if (event.keyCode == 27) {
        sender.parentNode.close();
        if (!eb.isEmpty(sender.onButton1)) {
            sender.onButton1();
            sender.onButton1 = null;
        }
    }
}

if ("ontouchstart" in window) {
    //sender.addEventListener("touchstart", function(event) {
    //    window.event? window.event.cancelBubble = true : event.stopPropagation();
    //    event.returnValue = false;
    //    return false;
    //});
    //sender.addEventListener("touchend", function(event) {
    //    window.event? window.event.cancelBubble = true : event.stopPropagation();
    //    event.returnValue = false;
    //    return false;
    //});
    sender.addEventListener("touchmove", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
}


</onCreate>
      <sizeRatio>0.583798882681564</sizeRatio>
      <top>293</top>
      <topRatio>0.368090452261307</topRatio>
      <width>358</width>
      <widthRatio>0.299581589958159</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel632">
      <dockX>center</dockX>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>202326</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.186602870813397</heightRatio>
      <layerVisible>false</layerVisible>
      <left>50</left>
      <leftRatio>0.139664804469274</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";
</onCreate>
      <sizeRatio>0.151750972762646</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0861244019138756</topRatio>
      <width>257</width>
      <widthRatio>0.717877094972067</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel633">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.311004784688995</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.changedTouches[0].screenX;
        sender.v_y = event.changedTouches[0].screenY;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        var sender = event.target;
        sender.v_down = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.changedTouches[0].screenX - sender.v_x;
            var dy = event.changedTouches[0].screenY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.changedTouches[0].screenX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.changedTouches[0].screenY ;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
} else {
    sender.onpointerdown = function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.clientX;
        sender.v_y = event.clientY;
        sender.setPointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointerup = function(event) {
        var sender = event.target;
        sender.v_down = false;
        sender.releasePointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointermove = function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.clientX - sender.v_x;
            var dy = event.clientY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.clientX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.clientY;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
}




]]></onCreate>
      <sizeRatio>0.181564245810056</sizeRatio>
      <top>0</top>
      <width>358</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel634">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnCancel</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <height>35</height>
      <heightRatio>0.167464114832536</heightRatio>
      <layerVisible>false</layerVisible>
      <left>46</left>
      <leftRatio>0.128491620111732</leftRatio>
      <onClick>sender.parentNode.parentNode.close(sender.parentNode);
if (!eb.isEmpty(sender.parentNode.onButton1)) {
    sender.parentNode.onButton1();
    sender.parentNode.onButton1 = null;
}
</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <sizeRatio>0.277777777777778</sizeRatio>
      <text>取消</text>
      <top>155</top>
      <topRatio>0.741626794258373</topRatio>
      <width>126</width>
      <widthRatio>0.35195530726257</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel635">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnOK</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif</fontFamily>
      <fontSize>12</fontSize>
      <height>35</height>
      <heightRatio>0.167464114832536</heightRatio>
      <layerVisible>false</layerVisible>
      <left>195</left>
      <leftRatio>0.544692737430168</leftRatio>
      <onClick>sender.parentNode.parentNode.close(sender.parentNode);
sender.parentNode.onComplete(ee.getEditText(sender.parentNode.c_p1.c_edit));</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <sizeRatio>0.277777777777778</sizeRatio>
      <text>确认</text>
      <top>155</top>
      <topRatio>0.741626794258373</topRatio>
      <width>126</width>
      <widthRatio>0.35195530726257</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel636">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.172248803827751</heightRatio>
      <layerVisible>false</layerVisible>
      <left>304</left>
      <leftRatio>0.849162011173184</leftRatio>
      <onClick>sender.parentNode.parentNode.close(sender.parentNode);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0717703349282297</topRatio>
      <width>36</width>
      <widthRatio>0.100558659217877</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel637">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <ee_LocalName>c_p1</ee_LocalName>
      <height>66</height>
      <heightRatio>0.315789473684211</heightRatio>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0279329608938547</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.195266272189349</sizeRatio>
      <top>75</top>
      <topRatio>0.358851674641148</topRatio>
      <width>338</width>
      <widthRatio>0.94413407821229</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel630/panel637/edit1">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <ee_LocalName>c_edit</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <layerVisible>false</layerVisible>
      <left>15</left>
      <leftRatio>0.0443786982248521</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.133116883116883</sizeRatio>
      <text>输入提示位置</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>308</width>
      <widthRatio>0.911242603550296</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel637/panel641">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.00591715976331361</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>338</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel630/panel637/panel631">
      <dockX>fill</dockX>
      <ee_LocalName>c_text</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>31</height>
      <heightRatio>0.46969696969697</heightRatio>
      <layerVisible>false</layerVisible>
      <left>18</left>
      <leftRatio>0.0532544378698225</leftRatio>
      <outerLeft>18</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.101639344262295</sizeRatio>
      <text>输入字符串说明</text>
      <top>0</top>
      <width>305</width>
      <widthRatio>0.902366863905325</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>left</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>a11</ee_LocalName>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName>手机左侧弹出菜单Guest</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.show = function() {
    this.refresh();
    ee.setVisible(sender, true);
    ee.setVisible(sender.parentNode, true);
    ee.setRect(sender, 0,null,null,null);
    return;
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    sender.className = "";
    this.refresh();
    var r = eb.getDivRectSetting(this);
    ee.setRect(this, -r.w,null,null,null);
    setTimeout(function() {
        sender.className = "aniMove3";
        ee.setVisible(sender, true);
        ee.setVisible(sender.parentNode, true);
        ee.setRect(sender, 0,null,null,null);
    }, 50);
    //ee.showAni(this, 0);
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    return;

    sender.className = "";
    ee.setRect(this, 0,null,null,null);
    var r = eb.getDivRectSetting(this);
    ee.setVisible(this, true);
    ee.setVisible(this.parentNode, true);
    setTimeout(function() {
        sender.className = "aniMove3";
        ee.setRect(sender, -r.w,null,null,null);
        sender.addEventListener("transitionend", sender.onAniEnd);    
    }, 50);
}

sender.onAniEnd = function() {
    ee.setVisible(sender, false);
    ee.setVisible(sender.parentNode, false);
    sender.removeEventListener("transitionend", sender.onAniEnd);
}



sender.aniClose = function() {
    //ee.showAni(this,1);
}

sender.refresh = function() {
    //titleBg
    //this.c_titleBg.init(g5.myUserInfo.titleBg);
    ee.setVisible(this.c_titleBg, false);
    this.c_userPhoto.init(g5.myUserInfo.photo);
    ee.setText(this.c_nickName, g5.myUserInfo.nickName);
    ee.setText(this.c_userName, "@" + g5.myUserInfo.userName);
    this.refreshFansFollowCount();
}

sender.refreshFansFollowCount = function() {
    var s = 
        "<div id='mobileMenu01' style='display:inline;'>" + g5.myUserInfo.followCount + g5.lang.getByCn("个关注") + "</div>" +
        "     <div id='mobileMenu02' style='display:inline;'>" + g5.myUserInfo.fansCount + g5.lang.getByCn("个粉丝") + "</div>";
    if (g5.myUserInfo.fansReqCount &amp;&amp; (g5.myUserInfo.fansReqCount>0)) {
        s += "     <div id='mobileMenu03' style='display:inline;'>" + g5.myUserInfo.fansReqCount + g5.lang.getByCn("个加粉请求") + "</div>";
    }
    ee.setText(this.c_followInfo, s);
    var c = this.c_followInfo; 
    c.link01=$g("mobileMenu01");
    c.link02=$g("mobileMenu02");
    c.link03=$g("mobileMenu03");
    if (g5.myUserInfo.followCount>0) {
        c.link01.style.cursor = "pointer";
        ee.setOnClick(c.link01, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p16.show(g5.myUserInfo);
        });
        g5.initLinkV1(c.link01);
    }
    if (g5.myUserInfo.fansCount>0) {
        c.link02.style.cursor = "pointer";
        g5.initLinkV1(c.link02);
        ee.setOnClick(c.link02, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p15.show(g5.myUserInfo);
        });
    }
    if (!eb.isEmpty(c.link03)) {
        c.link03.style.cursor = "pointer";
        g5.initLinkV1(c.link03);
        ee.setOnClick(c.link03, function(senderLink, event) {
            g5.popBlack.a9.close();
            g5.p2.p29.show();
        });
    }
}
]]></onCreate>
      <sizeRatio>2.73539518900344</sizeRatio>
      <top>0</top>
      <width>291</width>
      <widthRatio>0.243514644351464</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel668">
      <backgroundColor>C0C0FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <ee_LocalName>c_titleBg</ee_LocalName>
      <height>166</height>
      <heightRatio>0.208542713567839</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setImage(this, g5.getUserTitleBgUrl(photoString)[1]);
    this.v_photo = photoString;
}

ee.setVisible(sender, false);
</onCreate>
      <sizeRatio>0.570446735395189</sizeRatio>
      <top>0</top>
      <width>291</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel669">
      <ani2Pos>leftFlyOut</ani2Pos>
      <aniPos>leftFlyIn</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>611</height>
      <heightRatio>0.767587939698492</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <outerTop>185</outerTop>
      <sizeRatio>2.09965635738832</sizeRatio>
      <top>185</top>
      <topRatio>0.232412060301508</topRatio>
      <width>291</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel112/panel667/panel669/layouty5">
      <dockX>fill</dockX>
      <height>221</height>
      <heightRatio>0.361702127659574</heightRatio>
      <layerVisible>false</layerVisible>
      <left>25</left>
      <leftRatio>0.0859106529209622</leftRatio>
      <outerLeft>25</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.898373983739837</sizeRatio>
      <top>0</top>
      <width>246</width>
      <widthRatio>0.845360824742268</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel667/panel669/layouty5/layoutyitem17">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>74</height>
      <heightRatio>0.334841628959276</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.300813008130081</sizeRatio>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel669/layouty5/layoutyitem17/panel670">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>74</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>g5.popBlack.a9.close();
g5.p2.p1.show();</onClick>
      <onCreate><![CDATA[ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.homePage+"</svg>"+
    " " + ee.getText(sender));
sender.style.borderRadius = "24px";

g5.initButtonV3(sender,[
    new g5.BStyle("","#e5f5ff","#dfeffa","","","","","","","")
]);






]]></onCreate>
      <sizeRatio>0.300813008130081</sizeRatio>
      <text>新鲜事</text>
      <top>0</top>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel667/panel669/layouty5/layoutyitem18">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>73</height>
      <heightRatio>0.330316742081448</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.296747967479675</sizeRatio>
      <top>74</top>
      <topRatio>0.334841628959276</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel667/panel669/layouty5/layoutyitem20">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>74</height>
      <heightRatio>0.334841628959276</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.300813008130081</sizeRatio>
      <top>147</top>
      <topRatio>0.665158371040724</topRatio>
      <width>246</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel669/panel671">
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <ee_LocalName>c_nickName</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>185</height>
      <heightRatio>0.30278232405892</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.63573883161512</sizeRatio>
      <top>426</top>
      <topRatio>0.69721767594108</topRatio>
      <width>291</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel669/panel671/panel672">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_btnOK</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.216216216216216</heightRatio>
      <layerVisible>false</layerVisible>
      <left>40</left>
      <leftRatio>0.13745704467354</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/login"</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.18957345971564</sizeRatio>
      <text>登 录</text>
      <top>38</top>
      <topRatio>0.205405405405405</topRatio>
      <width>211</width>
      <widthRatio>0.725085910652921</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel669/panel671/panel673">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <ee_LocalName>c_btnCancel</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.216216216216216</heightRatio>
      <layerVisible>false</layerVisible>
      <left>40</left>
      <leftRatio>0.13745704467354</leftRatio>
      <onClick>eb.setCookie("twitterGToken", "");
window.location.href = "https://fistalk.com/reg"</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","","","","#ffffff","#ffffff","#ffffff","")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.18957345971564</sizeRatio>
      <text>注 册</text>
      <top>98</top>
      <topRatio>0.52972972972973</topRatio>
      <width>211</width>
      <widthRatio>0.725085910652921</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel677">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <ee_LocalName>c_userPhoto</ee_LocalName>
      <height>60</height>
      <heightRatio>0.0753768844221105</heightRatio>
      <layerVisible>false</layerVisible>
      <left>19</left>
      <leftRatio>0.0652920962199313</leftRatio>
      <onClick>g5.popBlack.a9.close();
//g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";
sender.init = function(photoString) {
    ee.setImage(this, "");
    ee.setVisible(this, false);
    ee.setImage(this, g5.getUserPhotoUrl(photoString)[1], "trim","","");
    this.v_photo = photoString;
}
</onCreate>
      <onImageLoad>ee.setVisible(sender, true);</onImageLoad>
      <outerBottom>1</outerBottom>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <outerTop>1</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>17</top>
      <topRatio>0.021356783919598</topRatio>
      <width>60</width>
      <widthRatio>0.206185567010309</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel678">
      <ee_LocalName>c_nickName</ee_LocalName>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.042713567839196</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

</onCreate>
      <sizeRatio>0.142259414225941</sizeRatio>
      <text>昵称nicheng</text>
      <top>79</top>
      <topRatio>0.0992462311557789</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel679">
      <ee_LocalName>c_userName</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.042713567839196</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";
</onCreate>
      <sizeRatio>0.142259414225941</sizeRatio>
      <text>@用户名</text>
      <top>104</top>
      <topRatio>0.130653266331658</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel680">
      <ee_LocalName>c_followInfo</ee_LocalName>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>39</height>
      <heightRatio>0.0489949748743719</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0687285223367698</leftRatio>
      <sizeRatio>0.163179916317992</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>129</top>
      <topRatio>0.162060301507538</topRatio>
      <width>239</width>
      <widthRatio>0.821305841924399</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel667/panel681">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <height>36</height>
      <heightRatio>0.0452261306532663</heightRatio>
      <layerVisible>false</layerVisible>
      <left>235</left>
      <leftRatio>0.807560137457045</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1</sizeRatio>
      <text>X</text>
      <top>17</top>
      <topRatio>0.021356783919598</topRatio>
      <width>36</width>
      <widthRatio>0.123711340206186</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popup1->主界面弹窗]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.style.position = "fixed";
sender.style.zIndex=100;
sender.p1 = ee.getControl("panel149");
sender.p2 = ee.getControl("panel124");
sender.p3 = ee.getControl("panel213");
sender.p4 = ee.getControl("panel323");

sender.addEventListener("mousewheel",function(event){
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            sender.eeChildren[i].style.visibility = "hidden";
        }
    }
    sender.style.visibility = "hidden";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);

sender.close = function() {
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            ee.setVisible(sender.eeChildren[i], false);
            //ee.showAni(sender.eeChildren[i], 1);
        }
    }
    ee.setVisible(sender, false);
    g5.popupPos = null;
}

]]></onCreate>
      <onMouseMove><![CDATA[return;
var getDist = function(x,y,div) {
    var rect = eb.getDivRectSetting(div);
    var dx, dy;
    if (x<rect.x) {
        dx = rect.x - x;
    } else if (x<rect.x+rect.w) {
        dx = -1;
    } else {
        dx = x - rect.x - rect.w;
    }
    if (y<rect.y) {
        dy = rect.y - y;
    } else if (y<rect.y+rect.h) {
        dy = -1;
    } else {
        dy = y - rect.y - rect.h;
    }
    return Math.max(dx,dy);
}

var div = null;
for (var i = 0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        div = sender.eeChildren[i];
        break;
    }
}
if (div == null) return;

var lastDist = getDist(sender.v_lastX,sender.v_lastY, div);
var currentDist = getDist(x,y, div);
if (currentDist>lastDist) {
    sender.v_closeCount++;
} else {
    sender.v_closeCount = 0;
}
sender.v_lastX = x;
sender.v_lastY = y;
if (sender.v_closeCount>=4) {
    sender.click();
}


]]></onMouseMove>
      <onMouseUp>sender.close();</onMouseUp>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>211</height>
      <heightRatio>0.265075376884422</heightRatio>
      <layerName>p1.A自己选项</layerName>
      <layerVisible>false</layerVisible>
      <left>381</left>
      <leftRatio>0.318828451882845</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.v_isBookMark = false;

sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";

sender.show = function(refDiv, v_content, v_reContent, v_userInfo, v_reUserInfo) {
    g5.popupPos = document.documentElement.scrollTop+1;
    g5.popupFunc = function() {
        g5.popup1.close();
    }
    this.v_content = v_content.clone();
    this.v_reContent = v_reContent.clone();
    this.v_userInfo = v_userInfo;
    this.v_reUserInfo = v_reUserInfo;
    var rect = g5.getRectAbs(refDiv);
    var sr = eb.getDivRectSetting(this);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, Math.min(rect.x - 50,eb.getClientSize().w - sr.w), rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, Math.min(rect.x - 50,eb.getClientSize().w - sr.w), rect.y+rect.h+10, null, null);
    }
    ee.setText(this.c_button1,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(224, 36, 94,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.trash + "</svg> " + g5.lang.getByCn("删除"));
    if (this.v_content.forceTopSn == "0") {
        ee.setText(sender.c_button2,"   <svg viewBox=\"0 -4 34 34\" style='height: 1.75rem;color: rgba(20, 23, 26,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.pin + "</svg> " + g5.lang.getByCn("在个人主页中置顶"));
    } else {    
        ee.setText(sender.c_button2,"   <svg viewBox=\"0 -4 34 34\" style='height: 1.75rem;color: rgba(20, 23, 26,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.pin + "</svg> " + g5.lang.getByCn("在个人主页中取消置顶"));
    }
    if (this.v_isBookMark) {
        this.c_button3.replaceText(g5.lang.getByCn("移除此收藏"));
    } else {
        this.c_button3.replaceText(g5.lang.getByCn("收藏此发言"));
    }

    ee.tiledV(this, 0, 0, 0);
    ee.tiledResizeV(this, 1);
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
}

ee.setOnClick(sender.c_button1, function(c_button1, event) {
    g5.popBlack.a6.show(
        "删除确认",
        "此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及搜索结果中移除。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","确认删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            var cid;
            if (sender.v_content.exUplinkType == "L") {
                cid = sender.v_content.exContentId;
            } else {
                cid = sender.v_content.id;
            }
            var c = sender.v_content.clone();
            c.id = cid;
            c.exUplinkType = "";
            g5.deleteTwitter(c,sender.v_reContent,sender.v_userInfo,sender.v_reUserInfo);
        }
    );
});

ee.setOnClick(sender.c_button2, function(c_button2, event) {
    var cid;
    if (sender.v_content.exUplinkType == "L") {
        cid = sender.v_content.exContentId;
    } else {
        cid = sender.v_content.id;
    }
    g5.setTwitterForceTop(cid, sender.v_content.forceTopSn=="0");
});]]></onCreate>
      <sizeRatio>0.861224489795918</sizeRatio>
      <top>192</top>
      <topRatio>0.241206030150754</topRatio>
      <width>245</width>
      <widthRatio>0.205020920502092</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel110">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <ee_LocalName>c_button1</ee_LocalName>
      <fontColor>E0245E</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.23696682464455</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);</onCreate>
      <sizeRatio>0.204081632653061</sizeRatio>
      <text> x 删除</text>
      <top>0</top>
      <width>245</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel111">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <ee_LocalName>c_button2</ee_LocalName>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.23696682464455</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);</onCreate>
      <sizeRatio>0.204081632653061</sizeRatio>
      <text> x 置顶到你的个人资料</text>
      <top>52</top>
      <topRatio>0.246445497630332</topRatio>
      <width>245</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel28">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <ee_LocalName>c_button3</ee_LocalName>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.23696682464455</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>if (sender.parentNode.v_isBookMark) {
    g5.contentDel(sender.parentNode.v_content.id, function() { });
    setBookMark.operation = "del";
    setBookMark.contentId = sender.parentNode.v_content.id;
    setBookMark.onComplete = function() {
    }
    setBookMark();
} else {
    setBookMark.operation = "add";
    setBookMark.contentId = sender.parentNode.v_content.id;
    setBookMark.onComplete = function() {
        g5.alert1(
            "增加（标记）书签",
            "您已经将此发言标记为书签，点击书签可以随时查看。"
        );
        g5.p2.p5.refresh();
    }
    setBookMark();
}</onClick>
      <onCreate><![CDATA[g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.replaceText = function(text) {
    this.setText("   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
        g5.icon.bookMark +
        "</svg> <div style='display:inline;'>" + text + "</div>");
}
sender.replaceText("收藏此发言");
]]></onCreate>
      <sizeRatio>0.204081632653061</sizeRatio>
      <text> x 收藏此发言</text>
      <top>101</top>
      <topRatio>0.478672985781991</topRatio>
      <width>245</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel708">
      <bindControl>disabled</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.23696682464455</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button4</note>
      <onClick><![CDATA[var cid = sender.parentNode.v_content.id;
if (sender.parentNode.v_content.exUplinkType == "L") cid = sender.parentNode.v_content.exContentId;
var value = window.location.origin + "/msg/" + cid;
g5.copyClipboard(value,
    function() {
        g5.alert1("复制成功", "/%" + value + "%/<br/>已经成功复制到您的剪贴板");
    },
    function() {
        g5.alert1("复制失败", "您的浏览器或许不支持或者没有权限复制剪贴板，请手工复制以下链接：<br/>/%" + value + "%/");
    }
);]]></onClick>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
    "<g><path d=\"M11.96 14.945c-.067 0-.136-.01-.203-.027-1.13-.318-2.097-.986-2.795-1.932-.832-1.125-1.176-2.508-.968-3.893s.942-2.605 2.068-3.438l3.53-2.608c2.322-1.716 5.61-1.224 7.33 1.1.83 1.127 1.175 2.51.967 3.895s-.943 2.605-2.07 3.438l-1.48 1.094c-.333.246-.804.175-1.05-.158-.246-.334-.176-.804.158-1.05l1.48-1.095c.803-.592 1.327-1.463 1.476-2.45.148-.988-.098-1.975-.69-2.778-1.225-1.656-3.572-2.01-5.23-.784l-3.53 2.608c-.802.593-1.326 1.464-1.475 2.45-.15.99.097 1.975.69 2.778.498.675 1.187 1.15 1.992 1.377.4.114.633.528.52.928-.092.33-.394.547-.722.547z\"></path><path d=\"M7.27 22.054c-1.61 0-3.197-.735-4.225-2.125-.832-1.127-1.176-2.51-.968-3.894s.943-2.605 2.07-3.438l1.478-1.094c.334-.245.805-.175 1.05.158s.177.804-.157 1.05l-1.48 1.095c-.803.593-1.326 1.464-1.475 2.45-.148.99.097 1.975.69 2.778 1.225 1.657 3.57 2.01 5.23.785l3.528-2.608c1.658-1.225 2.01-3.57.785-5.23-.498-.674-1.187-1.15-1.992-1.376-.4-.113-.633-.527-.52-.927.112-.4.528-.63.926-.522 1.13.318 2.096.986 2.794 1.932 1.717 2.324 1.224 5.612-1.1 7.33l-3.53 2.608c-.933.693-2.023 1.026-3.105 1.026z\"></path></g>" +
    "</svg> <div style='display:inline;'>" + g5.lang.getByCn("复制发言链接") + "</div>");    

g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);]]></onCreate>
      <sizeRatio>0.204081632653061</sizeRatio>
      <text>   X   复制发言链接</text>
      <top>146</top>
      <topRatio>0.691943127962085</topRatio>
      <width>245</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>103</height>
      <heightRatio>0.129396984924623</heightRatio>
      <layerName>p2.B转推菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>372</left>
      <leftRatio>0.311297071129707</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel40"), false);</onAni2End>
      <onCreate><![CDATA[sender.c_button1 = ee.getControl("panel125");
sender.c_button2 = ee.getControl("panel126");

sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";
sender.setMode=function(isForward) {
    if (isForward) {
        $g("panel125label").innerHTML = g5.lang.getByCn("取消转发");
    } else {
        $g("panel125label").innerHTML = g5.lang.getByCn("转发");
    }
}

sender.show = function(refDiv,v_content,v_reContent,v_userInfo,v_reUserInfo) {
    g5.popupPos = document.documentElement.scrollTop+1;
    g5.popupFunc = function() {
        g5.popup1.close();
    }
    var rect = g5.getRectAbs(refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 10, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 10, rect.y+rect.h+10, null, null);
    }
    this.setMode(v_content.isForward);
    v_content = v_content.clone();
    v_reContent = v_reContent.clone();
    ee.setOnClick(this.c_button1, function(button1, event) {
        if (newTwitter.busy) return;
        if (g5.myUserInfo.status == "FREEZE") {
            g5.alert1("不能转发", "对不起，您的账户目前处于冻结状态，不能对短文进行直接转发操作。");
            return;
        }
        if (updateMain.busy) {
            updateMain.cancel = true;
        }
        newTwitter.content="";
        newTwitter.uplinkType="L";
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkId = contentIdB;
        newTwitter.photos=new Array();
        newTwitter.onComplete = function(contentId) {
            if (v_content.isForward) {
                var v_newContent = v_content.clone();
                v_newContent.exContentId = v_newContent.id;
                v_newContent.id = contentId;
                v_newContent.exUplinkType = "L";
                v_newContent.exUserInfo = g5.myUserInfo;
                g5.p2.p2.insert(v_newContent, v_reContent, v_userInfo, v_reUserInfo);
                g5.p2.p9.insert(v_newContent, v_content, v_userInfo, v_reUserInfo);
            }
        }
        newTwitter();
        sender.close();
        if (v_content.isForward) {
            v_content.isForward = false;
            v_content.fwCount--;
            if (v_content.fwCount<0) v_content.fwCount = 0;
            g5.contentDel(g5.contentGetMyDownlinkId(contentIdB, "L"), function() {});
            g5.p2.p9.delHis(contentIdB);
        } else {
            v_content.isForward = true;
            v_content.fwCount++;
        }
        v_content.id = contentIdB;
        g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo);
    });
    ee.setOnClick(this.c_button2, function(button2, event) {
        if (g5.isMobile) {
            g5.p2.p31.showFw(v_content.clone(),v_reContent.clone(),v_userInfo,v_reUserInfo);
        } else {
            g5.popBlack.a3.showFw(v_content.clone(),v_reContent.clone(),v_userInfo,v_reUserInfo);
        }
    });
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
}


sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
}
]]></onCreate>
      <sizeRatio>0.47906976744186</sizeRatio>
      <top>341</top>
      <topRatio>0.428391959798995</topRatio>
      <width>215</width>
      <widthRatio>0.179916317991632</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124/panel125">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button1</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>"+g5.icon.forward+"</svg> <div id='panel125label' style='display:inline;'>转发</div>");
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);]]></onCreate>
      <sizeRatio>0.232558139534884</sizeRatio>
      <text>   X   转发</text>
      <top>0</top>
      <width>215</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124/panel126">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button2</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'><g><path d=\"M22.132 7.653c0-.6-.234-1.166-.66-1.59l-3.535-3.536c-.85-.85-2.333-.85-3.182 0L3.417 13.865c-.323.323-.538.732-.63 1.25l-.534 5.816c-.02.223.06.442.217.6.14.142.332.22.53.22.023 0 .046 0 .068-.003l5.884-.544c.45-.082.86-.297 1.184-.62l11.337-11.34c.425-.424.66-.99.66-1.59zm-17.954 8.69l3.476 3.476-3.825.35.348-3.826zm5.628 2.447c-.282.283-.777.284-1.06 0L5.21 15.255c-.292-.292-.292-.77 0-1.06l8.398-8.398 4.596 4.596-8.398 8.397zM20.413 8.184l-1.15 1.15-4.595-4.597 1.15-1.15c.14-.14.33-.22.53-.22s.388.08.53.22l3.535 3.536c.142.142.22.33.22.53s-.08.39-.22.53z\"></path></g></svg> " +
    g5.lang.getByCn("带评论转发"));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);]]></onCreate>
      <sizeRatio>0.232558139534884</sizeRatio>
      <text>   X   带评论转发</text>
      <top>52</top>
      <topRatio>0.504854368932039</topRatio>
      <width>215</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>281</height>
      <heightRatio>0.353015075376884</heightRatio>
      <layerName>p3.C其他人选项</layerName>
      <layerVisible>false</layerVisible>
      <left>304</left>
      <leftRatio>0.254393305439331</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel40"), false);</onAni2End>
      <onCreate><![CDATA[sender.c_button1 = ee.getControl("panel214");
sender.c_button2 = ee.getControl("panel215");
sender.c_button3 = ee.getControl("panel143");
sender.c_button4 = ee.getControl("panel216");
sender.c_button5 = ee.getControl("panel542");

sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";
sender.setMode=function(mode) {
    if (mode=="0") {
        $g("panel125label").innerHTML = "转推";
    } else if (mode=="1") {
        $g("panel125label").innerHTML = "取消转推";
    }
}
sender.show = function(refDiv, content, userInfo) {
    g5.popupPos = document.documentElement.scrollTop+1;
    g5.popupFunc = function() {
        g5.popup1.close();
    }
    this.v_content = content
    this.v_userInfo = userInfo;
    var rect = g5.getRectAbs(refDiv);
    var sr = eb.getDivRectSetting(this);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, Math.min(rect.x - 50,eb.getClientSize().w - sr.w), rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, Math.min(rect.x - 50,eb.getClientSize().w - sr.w), rect.y+rect.h+10, null, null);
    }
    if (userInfo.isBlock1) {
        ee.setText(this.c_button1,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g><g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g>" +
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("取消屏蔽") + " @"+userInfo.userName+"</div>");
    } else if (userInfo.isFollow) {
        ee.setText(this.c_button1,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M20.083 6.173l2.323 2.323c.293.293.768.293 1.06 0s.294-.768 0-1.06l-2.32-2.326 2.322-2.323c.293-.294.293-.77 0-1.062s-.768-.293-1.06 0L20.082 4.05 17.76 1.73c-.293-.293-.768-.293-1.06 0-.147.146-.22.338-.22.53s.072.384.22.53l2.32 2.32-2.32 2.325c-.147.146-.22.338-.22.53s.072.384.22.53c.292.293.767.293 1.06 0l2.323-2.32zM8.417 11.816c1.355 0 2.872-.15 3.84-1.256.813-.93 1.077-2.367.806-4.392-.38-2.826-2.116-4.513-4.645-4.513-2.53 0-4.267 1.687-4.646 4.513-.273 2.025-.01 3.462.805 4.393.968 1.108 2.485 1.257 3.84 1.257zm-3.16-5.448c.16-1.2.786-3.212 3.16-3.212 2.373 0 2.998 2.013 3.16 3.212.207 1.55.056 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.256-.223-2.71-.743c-.507-.578-.658-1.656-.45-3.205zm11.44 12.867c-.88-3.525-4.283-5.988-8.28-5.988-3.998 0-7.403 2.463-8.28 5.988-.172.693-.03 1.4.395 1.94.408.522 1.04.822 1.733.822H14.57c.69 0 1.323-.3 1.73-.82.425-" +
            ".54.568-1.247.396-1.942zm-1.577 1.018c-.126.16-.316.245-.55.245H2.264c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.113 1.994 6.824 4.85c.06.24.017.48-.12.655z\"></path></g>" +
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("取消关注") + " @"+userInfo.userName+"</div>");    
    } else {
        ee.setText(this.c_button1,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M23.152 3.483h-2.675V.81c0-.415-.336-.75-.75-.75s-.75.335-.75.75v2.674H16.3c-.413 0-.75.336-.75.75s.337.75.75.75h2.677V7.66c0 .413.336.75.75.75s.75-.337.75-.75V4.982h2.675c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zM8.417 11.816c1.355 0 2.872-.15 3.84-1.256.813-.93 1.077-2.367.806-4.392-.38-2.826-2.116-4.513-4.646-4.513S4.15 3.342 3.77 6.168c-.27 2.025-.007 3.462.807 4.393.968 1.108 2.485 1.257 3.84 1.257zm-3.16-5.448c.16-1.2.786-3.212 3.16-3.212 2.373 0 2.998 2.013 3.16 3.212.207 1.55.056 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.256-.223-2.71-.743c-.507-.578-.658-1.656-.45-3.205zm11.44 12.867c-.88-3.525-4.283-5.988-8.28-5.988-3.998 0-7.403 2.463-8.28 5.988-.172.693-.03 1.4.395 1.94.408.522 1.04.822 1.733.822H14.57c.69 0 1.323-.3 1.73-.82.425-.54.568-1.247.396-1.942zm-1.577 1.018c-.126.16-.316.245-.55.245H2.264c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.113 1.994 6.824 4.85c.06.24.017.48-.12.655z\"></path></g>" +
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("关注") + " @"+userInfo.userName+"</div>");    
    }
    if (userInfo.isBlock1) {
        ee.setVisible(this.c_button2, false);
    } else {
        ee.setVisible(this.c_button2, true);
        ee.setText(this.c_button2,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g><g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g>" +
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("屏蔽") + " @"+userInfo.userName+"</div>");
    }
    if (userInfo.isHide) {
        ee.setText(this.c_button5,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.mute + 
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("取消隐藏") + " @"+userInfo.userName+"</div>");    
    } else {
        ee.setText(this.c_button5,"&amp;emsp;<svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.mute + 
            "</svg> <div style='display:inline;'>" + g5.lang.getByCn("隐藏") + " @"+userInfo.userName+"</div>");    
    }
    if (this.v_isBookMark) {
        this.c_button3.replaceText("移除此收藏");
    } else {
        this.c_button3.replaceText("收藏此发言");
    }    

    ee.tiledV(this,0,0,0);
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    //ee.showAni(this, 0);
}
]]></onCreate>
      <sizeRatio>0.851515151515152</sizeRatio>
      <top>174</top>
      <topRatio>0.218592964824121</topRatio>
      <width>330</width>
      <widthRatio>0.276150627615063</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel214">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.177935943060498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button1</note>
      <onClick>if (g5.checkGuest("取消关注某用户")) return;
if (sender.parentNode.v_userInfo.isBlock1) {
    g5.setBlock1(sender.parentNode.v_userInfo, null);
} else {
    g5.setFollow(sender.parentNode.v_userInfo, null);
}
</onClick>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);</onCreate>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   取消关注/关注 @xxx</text>
      <top>0</top>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel215">
      <bindControl>panel214</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.177935943060498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button2</note>
      <onClick>if (g5.checkGuest("屏蔽某用户")) return;
g5.setBlock1(sender.parentNode.v_userInfo, null);
</onClick>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);</onCreate>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   屏蔽 @xxx</text>
      <top>50</top>
      <topRatio>0.177935943060498</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel143">
      <bindControl>panel215</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.177935943060498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button3</note>
      <onClick>if (g5.checkGuest("收藏发言")) return;
var cid = sender.parentNode.v_content.id;
if (sender.parentNode.v_content.exUplinkType == "L") cid = sender.parentNode.v_content.exContentId;
if (sender.parentNode.v_isBookMark) {
    g5.contentDel(cid, function() { });
    setBookMark.operation = "del";
    setBookMark.contentId = cid;
    setBookMark.onComplete = function() {
    }
    setBookMark();
} else {
    setBookMark.operation = "add";
    setBookMark.contentId = cid;
    setBookMark.onComplete = function() {
        g5.alert1(
            "发言已收藏",
            "可点击菜单栏“收藏”按钮进行查看。"
        );
        g5.p2.p5.refresh();
    }
    setBookMark();
}
</onClick>
      <onCreate><![CDATA[g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);

sender.replaceText = function(text) {
    text = g5.lang.getByCn(text);
    this.setText("   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
        g5.icon.bookMark +
        "</svg> <div style='display:inline;'>" + text + "</div>");
}
sender.replaceText("收藏此发言");
]]></onCreate>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   收藏此发言</text>
      <topRatio>0.355871886120996</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel216">
      <bindControl>panel143</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.177935943060498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button4</note>
      <onClick><![CDATA[var cid = sender.parentNode.v_content.id;
if (sender.parentNode.v_content.exUplinkType == "L") cid = sender.parentNode.v_content.exContentId;
var value = window.location.origin + "/msg/" + cid;
g5.copyClipboard(value,
    function() {
        g5.alert1("复制成功", "/%" + value + "%/<br/>已经成功复制到您的剪贴板");
    },
    function() {
        g5.alert1("复制失败", "您的浏览器或许不支持或者没有权限复制剪贴板，请手工复制以下链接：<br/>/%" + value + "%/");
    }
);]]></onClick>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
    "<g><path d=\"M11.96 14.945c-.067 0-.136-.01-.203-.027-1.13-.318-2.097-.986-2.795-1.932-.832-1.125-1.176-2.508-.968-3.893s.942-2.605 2.068-3.438l3.53-2.608c2.322-1.716 5.61-1.224 7.33 1.1.83 1.127 1.175 2.51.967 3.895s-.943 2.605-2.07 3.438l-1.48 1.094c-.333.246-.804.175-1.05-.158-.246-.334-.176-.804.158-1.05l1.48-1.095c.803-.592 1.327-1.463 1.476-2.45.148-.988-.098-1.975-.69-2.778-1.225-1.656-3.572-2.01-5.23-.784l-3.53 2.608c-.802.593-1.326 1.464-1.475 2.45-.15.99.097 1.975.69 2.778.498.675 1.187 1.15 1.992 1.377.4.114.633.528.52.928-.092.33-.394.547-.722.547z\"></path><path d=\"M7.27 22.054c-1.61 0-3.197-.735-4.225-2.125-.832-1.127-1.176-2.51-.968-3.894s.943-2.605 2.07-3.438l1.478-1.094c.334-.245.805-.175 1.05.158s.177.804-.157 1.05l-1.48 1.095c-.803.593-1.326 1.464-1.475 2.45-.148.99.097 1.975.69 2.778 1.225 1.657 3.57 2.01 5.23.785l3.528-2.608c1.658-1.225 2.01-3.57.785-5.23-.498-.674-1.187-1.15-1.992-1.376-.4-.113-.633-.527-.52-.927.112-.4.528-.63.926-.522 1.13.318 2.096.986 2.794 1.932 1.717 2.324 1.224 5.612-1.1 7.33l-3.53 2.608c-.933.693-2.023 1.026-3.105 1.026z\"></path></g>" +
    "</svg> <div style='display:inline;'>" + g5.lang.getByCn("复制发言链接") + "</div>");    

g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);]]></onCreate>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   复制发言链接</text>
      <top>150</top>
      <topRatio>0.533807829181495</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel542">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.177935943060498</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>c_button4</note>
      <onClick>if (g5.checkGuest("使用隐藏功能")) return;
g5.setHide(sender.parentNode.v_userInfo.clone(), function(v_userInfo) {
});

</onClick>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";

ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","rgb(245,248,250)","rgb(240,243,245)","","","","","","","")
]);</onCreate>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   隐藏</text>
      <top>199</top>
      <topRatio>0.708185053380783</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel323">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>205</height>
      <heightRatio>0.257537688442211</heightRatio>
      <layerName>p4.通用弹出菜单</layerName>
      <layerVisible>false</layerVisible>
      <left>375</left>
      <leftRatio>0.313807531380753</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.style.borderRadius = "10px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";

sender.v_defaultItemHeight = 50;
sender.v_itemHeight = 0;

sender.show = function(refDiv, width, v_style, v_function) {
    this.showPos(eb.getClientSize().w+100, 0, width, v_style, v_function);
    var rect = g5.getRectAbs(refDiv);
    rect.y += document.documentElement.scrollTop;
    var x, y;
    var sr = eb.getDivRectSetting(this);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        x = rect.x - 50;
        y = rect.y - sr.h - 10;
    } else {
        x = rect.x - 50;
        y = rect.y + rect.h + 10;
    }
    x = Math.min(x, eb.getClientSize().w - sr.w);
    x = Math.max(20, x);
    eb.setDivRect(this,x,y,null,null);
}

sender.f_onMousewheel = function(event) {
    event.stopPropagation(); 
}
sender.f_onMouseup = function(event) {
    event.stopPropagation(); 
}

sender.showPos = function(x, y, width, v_style, v_function) {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var i, item, cy=0;
    var root = this;
    ee.setRect(root,null,null,width,null);
    var itemWidth = eb.getDivRectSetting(root).w;
    for (i=0; i < v_style.length; i++) {
        v_style[i].sText1 = v_style[i].text1;
        v_style[i].sText2 = v_style[i].text2;
        v_style[i].sText3 = v_style[i].text3;
        if (v_style[i].text1.search("&amp;nbsp;&amp;nbsp;&amp;nbsp;") == 0) break;
        v_style[i].text1 = "&amp;nbsp;&amp;nbsp;&amp;nbsp;" + g5.lang.getByCn(v_style[i].text1.trim());
        v_style[i].text2 = "&amp;nbsp;&amp;nbsp;&amp;nbsp;" + g5.lang.getByCn(v_style[i].text2.trim());
        v_style[i].text3 = "&amp;nbsp;&amp;nbsp;&amp;nbsp;" + g5.lang.getByCn(v_style[i].text3.trim());
    }
    this.v_style = v_style;
    this.v_function = v_function;
    var maxLen = 0;
    var currentLen;
    let itemHeight;
    if (sender.v_itemHeight == 0) {
        itemHeight = sender.v_defaultItemHeight;
    } else {
        itemHeight = sender.v_itemHeight;
        sender.v_itemHeight = 0;
    }
    for (i=0; i<v_style.length; i++) {
        var item = createPanel(root, "popup1_" + i, "", 0, cy, itemWidth, itemHeight);
        item.v_index = i;
        currentLen = this.renderItem(item);
        maxLen = Math.max(currentLen, maxLen);
        ee.removeControl(item);
    }
    maxLen += 30;
    ee.setRect(root,null,null,maxLen,null);
    for (i=0; i<v_style.length; i++) {
        var item = createPanel(root, "popup1_" + i, "", 0, cy, maxLen, itemHeight);
        item.v_index = i;
        currentLen = this.renderItem(item);
        maxLen = Math.max(currentLen, maxLen);
        this.v_items.push(item);
        cy += 0 + eb.getDivRect(item).h;
    }
    g5.tiledV(this, 0, 0, 0); 
    let r = eb.getDivRectSetting(this);
    if (r.h>eb.getClientSize().h/2) {
        eb.setDivRect(this,null,null,null,parseInt(eb.getClientSize().h/2));
        this.style.overflowX = "hidden";
        this.style.overflowY = "auto";
        this.addEventListener("mousewheel", this.f_onMousewheel);
        this.addEventListener("mouseup", this.f_onMouseup);
    } else {
        this.style.overflowX = "hidden";
        this.style.overflowY = "hidden";
        this.removeEventListener("mousewheel", this.f_onMousewheel);
        this.removeEventListener("mouseup", this.f_onMouseup);
    }
    ee.setRect(this, x, y, null, null);
    
    this.parentNode.v_lastX = -1000
    this.parentNode.v_lastY = -1000;
    this.parentNode.v_closeCount = 0;
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    //ee.showAni(this, 0);
}


sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var h = eb.getDivRectSetting(root).h;
    var c,cy=7;
    
    //button1
    c = createPanel(root, root.id+"button1", "", 0,0,w,h);
    root.c_button = c;
    c.style.cursor = "pointer";
    c.v_style = root.parentNode.v_style[root.v_index];
    addText(c, c.v_style.text1, "left", "middle", "微软雅黑", 12, "ffffff", "");
    if (typeof sender.v_function === "function") {
        ee.setOnClick(c,function(senderBtn,event) {
            let index = senderBtn.parentNode.v_index;
            senderBtn.parentNode.parentNode.v_function(index,
                senderBtn.parentNode.parentNode.v_style[index].sText1,
                senderBtn.parentNode.parentNode.v_style[index].sText2,
                senderBtn.parentNode.parentNode.v_style[index].sText3
            );
            senderBtn.parentNode.parentNode.parentNode.close();
        });
    } else {
        ee.setOnClick(c,function(sender,event) {
            sender.parentNode.parentNode.v_function[sender.parentNode.v_index](sender,event);
        });
    }
    g5.initButtonV3(c,[
        c.v_style
    ]);
    c.label.style.width = "";
    c.label.rows[0].cells[0].style.whiteSpace="nowrap";
    var r = c.label.offsetWidth;
    ee.setRect(c,null,null,w,null);
    c.label.rows[0].cells[0].style.whiteSpace="normal";
    return r; 
}

]]></onCreate>
      <sizeRatio>0.776515151515151</sizeRatio>
      <top>18</top>
      <topRatio>0.0226130653266332</topRatio>
      <width>264</width>
      <widthRatio>0.22092050209205</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[Root->主界面弹窗Top]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>sender.close();</onClick>
      <onCreate><![CDATA[sender.style.zIndex=100;
sender.style.position = "fixed";
sender.addEventListener("mousewheel",function(event){
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            sender.eeChildren[i].style.visibility = "hidden";
        }
    }
    sender.style.visibility = "hidden";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);

sender.close = function() {
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            if (sender.eeChildren[i].v_noAni) {
                ee.setVisible(sender.eeChildren[i], false);
                ee.setVisible(sender, false);
            } else {
                ee.showAni(sender.eeChildren[i], 1);
            }
        }
    }
}
]]></onCreate>
      <onMouseMove><![CDATA[var getDist = function(x,y,div) {
    var rect = eb.getDivRectSetting(div);
    var dx, dy;
    if (x<rect.x) {
        dx = rect.x - x;
    } else if (x<rect.x+rect.w) {
        dx = -1;
    } else {
        dx = x - rect.x - rect.w;
    }
    if (y<rect.y) {
        dy = rect.y - y;
    } else if (y<rect.y+rect.h) {
        dy = -1;
    } else {
        dy = y - rect.y - rect.h;
    }
    return Math.max(dx,dy);
}

var div = null;
for (var i = 0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        div = sender.eeChildren[i];
        break;
    }
}
if (div == null) return;

var currentDist = getDist(x,y, div);
if (currentDist>100) {
    sender.click();
}


]]></onMouseMove>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <height>292</height>
      <heightRatio>0.366834170854271</heightRatio>
      <layerName><![CDATA[Root->主界面弹窗->D用户信息]]></layerName>
      <layerVisible>false</layerVisible>
      <left>252</left>
      <leftRatio>0.210878661087866</leftRatio>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.v_noAni = true;
sender.c_button1 = ee.getControl("panel269");

sender.show = function(refDiv, v_userInfo) {
    g5.popupPos = document.documentElement.scrollTop+1;
    g5.popupFunc = function() {
        ee.getControl("panel268").close();
    }
    this.v_userInfo = v_userInfo
    this.refDiv = refDiv;
    ee.setVisible(this.c_button1, !v_userInfo.isBlock2);
    this.refresh();
}

sender.refresh = function() {
    //photo
    var c = ee.getControl("panel267");
    if (sender.v_userInfo.photo == "") {
        ee.setImage(c,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + this.v_userInfo.photo,"trim","","")
    }
    ee.setOnClick(c,function(senderButton,event) {
        g5.p2.p2.show(sender.v_userInfo);
        ee.setVisible(sender, false);
        ee.setVisible(sender.parentNode, false);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    g5.initImgButtonV1(c,"100%","80%","70%");
    //button
    c = ee.getControl("panel269");
    if (this.v_userInfo.id == g5.myUserInfo.id) {
        c.init(3);
    } else if (this.v_userInfo.isBlock1) {
        c.init(0);
    //} else if (this.v_userInfo.isBlock2) {
    //    //not support yet
    //    c.init(0);
    } else if (this.v_userInfo.isFollow) {
        c.init(2);
    } else {
        c.init(1);
    }
    //nickName
    c = ee.getControl("panel271");
    c.setText(this.v_userInfo.nickName);
    //userName    
    c = ee.getControl("panel270");
    c.setText("@" + this.v_userInfo.userName);
    //userName    
    c = ee.getControl("panel272");
    c.setText(this.v_userInfo.note);
    var cy = eb.getDivRect(c).y + eb.getDivRect(c).h + 5;
    //followCount,fansCount        
    c = ee.getControl("panel273");
    ee.setRect(c, null, cy, null, 1);
    ee.setText(c, "  <div id='userMiniLink01' style='display:inline;'>"+this.v_userInfo.followCount+g5.lang.getByCn("个关注")+"</div>" +
        "     <div id='userMiniLink02' style='display:inline;'>" + this.v_userInfo.fansCount + g5.lang.getByCn("个粉丝")+"</div><br>" +
        "  <div style='display:inline;'>" + this.v_userInfo.postCount + g5.lang.getByCn("篇短文")+"</div>");
    var dh = eb.getDivRect(c.label).h;
    ee.setRect(c,null,null,null,dh);
    //var c = ee.getControl("panel72"); 
    c.link01=$g("userMiniLink01");
    c.link02=$g("userMiniLink02");
    var root = this;
    if (this.v_userInfo.followCount>0) {
        c.link01.style.cursor = "pointer";
        g5.initLinkV1(c.link01);
        ee.setOnClick(c.link01, function(senderLink1, event) {
            g5.p2.p16.show(sender.v_userInfo);
            ee.setVisible(sender, false);
            ee.setVisible(sender.parentNode, false);
        });
    }
    if (this.v_userInfo.fansCount>0) {
        c.link02.style.cursor = "pointer";
        g5.initLinkV1(c.link02);
        ee.setOnClick(c.link02, function(senderLink2, event) {
            ee.setVisible(sender, false);
            ee.setVisible(sender.parentNode, false);
            g5.p2.p15.show(sender.v_userInfo);
        });
    }
    
    cy += eb.getDivRect(c).h;
    
    //root
    ee.setRect(this, null, null, null, cy + 25);
    
    var rect = g5.getRectAbs(this.refDiv);
    var sr = eb.getDivRectSetting(this);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, Math.max(0,rect.x - 50), rect.y - eb.getDivRect(this).h - (-10), null, null);
    } else {
        ee.setRect(this, Math.max(0,rect.x - 50), rect.y+rect.h + (-10), null, null);
    }
    
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    //ee.showAni(this, 0);
    console.log(eb.getDivRect(this).h);
}
]]></onCreate>
      <sizeRatio>0.791327913279133</sizeRatio>
      <top>134</top>
      <topRatio>0.168341708542714</topRatio>
      <width>369</width>
      <widthRatio>0.308786610878661</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel267">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <height>60</height>
      <heightRatio>0.205479452054795</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate>ee.setText(sender, "");
sender.style.backgroundColor = "";
sender.style.borderRadius = "50%";
</onCreate>
      <sizeRatio>1</sizeRatio>
      <text>photo</text>
      <top>27</top>
      <topRatio>0.0924657534246575</topRatio>
      <width>60</width>
      <widthRatio>0.16260162601626</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel269">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>35</height>
      <heightRatio>0.11986301369863</heightRatio>
      <layerVisible>false</layerVisible>
      <left>213</left>
      <leftRatio>0.577235772357724</leftRatio>
      <onClick>if (sender.v_index==0) {
    g5.setBlock1(sender.parentNode.v_userInfo, null);
} else if (sender.v_index==1) {
    //follow
    if (g5.checkGuest("关注某用户")) {
        ee.setVisible(sender.parentNode, false);
        ee.setVisible(sender.parentNode.parentNode, false);
        return;
    }
    g5.setFollow(sender.parentNode.v_userInfo,function(v_userInfo) {
        sender.init(2);
        sender.parentNode.v_userInfo = v_userInfo.clone();
    });
} else if (sender.v_index==2) {
    ee.setVisible(sender.parentNode, false);
    ee.setVisible(sender.parentNode.parentNode, false);
    if (g5.checkGuest("取消关注某用户")) return;
    g5.setFollow(sender.parentNode.v_userInfo,function(v_userInfo) {
        sender.init(1);
        sender.parentNode.v_userInfo = v_userInfo.clone();
    });
} else if (sender.v_index==3) {
    //edit personal information
    if (g5.checkGuest("编辑个人信息")) {
        ee.setVisible(sender.parentNode, false);
        ee.setVisible(sender.parentNode.parentNode, false);
        return;
    }
    ee.setVisible(sender.parentNode, false);
    ee.setVisible(sender.parentNode.parentNode, false);
    g5.p2.p17.show();
}
</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","关注","关注","关注","#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new g5.BStyle("#1da1f2","#ca2055","#b31d4b","正在关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","编辑个人资料","编辑个人资料","编辑个人资料","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";










</onCreate>
      <sizeRatio>0.271317829457364</sizeRatio>
      <text>主按钮</text>
      <top>25</top>
      <topRatio>0.0856164383561644</topRatio>
      <width>129</width>
      <widthRatio>0.349593495934959</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel270">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.116438356164384</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.111111111111111</sizeRatio>
      <text>@用户名</text>
      <top>114</top>
      <topRatio>0.39041095890411</topRatio>
      <width>306</width>
      <widthRatio>0.829268292682927</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel271">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.116438356164384</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.111111111111111</sizeRatio>
      <text>昵称nicheng</text>
      <top>89</top>
      <topRatio>0.304794520547945</topRatio>
      <width>306</width>
      <widthRatio>0.829268292682927</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel272">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontFamily>微软雅黑</fontFamily>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.0958904109589041</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate>sender.setText = function(text) {
    ee.setRect(this,null,null,null,1);
    ee.setText(this, text);
    var h = eb.getDivRect(this.label).h;
    ee.setRect(this,null,null,null,h);
}
</onCreate>
      <sizeRatio>0.0894568690095847</sizeRatio>
      <text>简介</text>
      <top>147</top>
      <topRatio>0.503424657534247</topRatio>
      <vAlign>top</vAlign>
      <width>313</width>
      <widthRatio>0.848238482384824</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel273">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.0958904109589041</heightRatio>
      <layerVisible>false</layerVisible>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <sizeRatio>0.0894568690095847</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>179</top>
      <topRatio>0.613013698630137</topRatio>
      <width>313</width>
      <widthRatio>0.848238482384824</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel274">
      <backgroundColor>00C0C0</backgroundColor>
      <height>90</height>
      <heightRatio>0.308219178082192</heightRatio>
      <layerVisible>false</layerVisible>
      <left>89</left>
      <leftRatio>0.241192411924119</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.changedTouches[0].screenX;
        sender.v_y = event.changedTouches[0].screenY;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        var sender = event.target;
        sender.v_down = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.changedTouches[0].screenX - sender.v_x;
            var dy = event.changedTouches[0].screenY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.changedTouches[0].screenX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.changedTouches[0].screenY ;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
} else {
    sender.onpointerdown = function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.clientX;
        sender.v_y = event.clientY;
        sender.setPointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointerup = function(event) {
        var sender = event.target;
        sender.v_down = false;
        sender.releasePointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointermove = function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.clientX - sender.v_x;
            var dy = event.clientY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.clientX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.clientY;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
}




]]></onCreate>
      <sizeRatio>0.743801652892562</sizeRatio>
      <top>8</top>
      <topRatio>0.0273972602739726</topRatio>
      <width>121</width>
      <widthRatio>0.327913279132791</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popBlack2->主界面弹窗黑色]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setVisible(this, false);
  
</onClick>
      <onCreate>sender.style.zIndex=100;
sender.a1 = ee.getControl("panel402");
sender.style.position = "fixed";
sender.addEventListener("mousewheel", function(e) {
    window.event? window.event.cancelBubble = true : e.stopPropagation();
    e.returnValue = false;
    return false;
});</onCreate>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402">
      <ani2Alpha>disappear</ani2Alpha>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>569</height>
      <heightRatio>0.714824120603015</heightRatio>
      <layerName><![CDATA[  a1->youtube视频链接]]></layerName>
      <layerVisible>false</layerVisible>
      <left>180</left>
      <leftRatio>0.230962343096234</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);
sender.c_video.innerHTML = "";

</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.c_video = ee.getControl("panel410");
sender.c_input = ee.getControl("edit21");

sender.show = function(onComplete) {
    this.c_video.innerHTML = "";
    ee.setEditText(this.c_input, "");
    this.v_ytbVideo = "";
    this.onComplete = onComplete;
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
}

</onCreate>
      <sizeRatio>0.886292834890966</sizeRatio>
      <top>113</top>
      <topRatio>0.141959798994975</topRatio>
      <width>642</width>
      <widthRatio>0.537238493723849</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel408">
      <backgroundImg>youtubeHit1.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <height>97</height>
      <heightRatio>0.170474516695958</heightRatio>
      <layerVisible>false</layerVisible>
      <left>20</left>
      <leftRatio>0.0311526479750779</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.161129568106312</sizeRatio>
      <top>14</top>
      <topRatio>0.0246045694200351</topRatio>
      <width>602</width>
      <widthRatio>0.937694704049844</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel405">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>118</height>
      <heightRatio>0.207381370826011</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.183800623052959</sizeRatio>
      <top>0</top>
      <width>642</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel407">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.0632688927943761</heightRatio>
      <layerVisible>false</layerVisible>
      <left>588</left>
      <leftRatio>0.91588785046729</leftRatio>
      <onClick>ee.setVisible(sender.parentNode.parentNode, false);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
sender.style.backgroundColor = "#ffffff";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "#ffffff";
});
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0263620386643234</topRatio>
      <width>36</width>
      <widthRatio>0.0560747663551402</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel48/panel402/layoutx14">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0615114235500879</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0467289719626168</leftRatio>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.0601374570446735</sizeRatio>
      <top>115</top>
      <topRatio>0.202108963093146</topRatio>
      <width>582</width>
      <widthRatio>0.906542056074766</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem29">
      <backgroundColor>FF0000</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <heavyEnabled>false</heavyEnabled>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.225806451612903</sizeRatio>
      <text>YouTube视频地址</text>
      <top>0</top>
      <width>155</width>
      <widthRatio>0.266323024054983</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem32">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>155</left>
      <leftRatio>0.266323024054983</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "2px";
sender.style.borderColor = "rgb(255,0,0)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "0px 6px 6px 0px";</onCreate>
      <sizeRatio>0.0819672131147541</sizeRatio>
      <top>0</top>
      <width>427</width>
      <widthRatio>0.733676975945017</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem32/edit21">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <inputFont>Arial</inputFont>
      <inputFontColor>282828</inputFontColor>
      <layerVisible>false</layerVisible>
      <left>10</left>
      <leftRatio>0.0234192037470726</leftRatio>
      <onChange>var edit = sender.parentNode;
var ytbVideo = g5.getYtbIdFromStr(ee.getEditText(edit));

var videoPanel = ee.getControl("panel410");
videoPanel.v_photo = ytbVideo;
g5.addPhoto(videoPanel);
edit.parentNode.parentNode.parentNode.v_ytbVideo = ytbVideo;
</onChange>
      <onCreate>sender._inputHint = g5.lang.getByCn(ee.getText(sender));
ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.085995085995086</sizeRatio>
      <text>  在这里粘贴YouTube视频地址</text>
      <top>0</top>
      <width>407</width>
      <widthRatio>0.953161592505855</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel404">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0597539543057996</heightRatio>
      <layerVisible>false</layerVisible>
      <left>183</left>
      <leftRatio>0.285046728971963</leftRatio>
      <onClick>ee.setVisible(sender.parentNode.parentNode, false);

</onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";






</onCreate>
      <sizeRatio>0.26984126984127</sizeRatio>
      <text>取消</text>
      <top>508</top>
      <topRatio>0.892794376098418</topRatio>
      <width>126</width>
      <widthRatio>0.196261682242991</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel406">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0597539543057996</heightRatio>
      <layerVisible>false</layerVisible>
      <left>332</left>
      <leftRatio>0.517133956386293</leftRatio>
      <onClick><![CDATA[ee.setVisible(sender.parentNode.parentNode, false);
if (sender.parentNode.v_ytbVideo.length>0) {
    sender.parentNode.onComplete(sender.parentNode.v_ytbVideo);             
}]]></onClick>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));
g5.initButtonV3(sender,[
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff",""),
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";








</onCreate>
      <sizeRatio>0.26984126984127</sizeRatio>
      <text>确认</text>
      <top>508</top>
      <topRatio>0.892794376098418</topRatio>
      <width>126</width>
      <widthRatio>0.196261682242991</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409">
      <backgroundColor>F0F0FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>327</height>
      <heightRatio>0.57469244288225</heightRatio>
      <layerVisible>false</layerVisible>
      <left>30</left>
      <leftRatio>0.0467289719626168</leftRatio>
      <onCreate>sender.style.borderRadius = "15px";
sender.v_mode = "-";
</onCreate>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.561855670103093</sizeRatio>
      <top>167</top>
      <topRatio>0.293497363796134</topRatio>
      <width>582</width>
      <widthRatio>0.906542056074766</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409/panel403">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>327</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>ee.setText(sender, g5.lang.getByCn(ee.getText(sender)));</onCreate>
      <sizeRatio>0.561855670103093</sizeRatio>
      <text>复制YouTube链接
并且您的链接是正确的
视频将会出现在这里</text>
      <top>0</top>
      <width>582</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409/panel410">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>327</height>
      <heightRatio>1</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <note>video</note>
      <sizeRatio>0.561855670103093</sizeRatio>
      <top>0</top>
      <width>582</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <ee_LocalName>popBlack3</ee_LocalName>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName>弹出窗口3</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick>ee.setVisible(this, false);
sender.a6.close();
  
</onClick>
      <onCreate>sender.a6 = ee.getControl("panel257");
sender.style.zIndex=100;
sender.a1 = ee.getControl("panel402");
sender.style.position = "fixed";
sender.addEventListener("mousewheel", function(e) {
    window.event? window.event.cancelBubble = true : e.stopPropagation();
    e.returnValue = false;
    return false;
});


if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
}</onCreate>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257">
      <ani2Alpha>disappear</ani2Alpha>
      <ani2Size>pointDisappear</ani2Size>
      <aniAlpha>appear</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <ee_LocalName>a6</ee_LocalName>
      <height>305</height>
      <heightRatio>0.383165829145729</heightRatio>
      <layerName>通用确认窗口</layerName>
      <layerVisible>false</layerVisible>
      <left>316</left>
      <leftRatio>0.344769874476987</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#a0a0a0";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "10px";
sender.style.boxShadow = "5px 5px 15px #808080";

sender.show = function(title,text,bStyle1,bStyle2,onComplete,onButton1) {
    ee.setText(this.c_title,g5.lang.trans2(title));
    
    this.c_text.label.style.height = "";
    this.c_text.label.rows[0].cells[0].style.textAlign = "left";
    ee.setText(this.c_text,g5.lang.trans2(text));
    var cy = this.c_text.label.offsetHeight + 5;
    ee.setRect(this.c_text, null, null, null, cy);
    cy += eb.getDivRectSetting(this.c_text).y + 30;
    ee.setRect(this.c_btnCancel, null, cy, null, null);
    ee.setRect(this.c_btnOK, null, cy, null, null);
    cy += eb.getDivRectSetting(this.c_btnCancel).h;
    cy += 28;
    ee.setRect(this, null, null, null, cy);

    this.c_btnCancel.v_style = bStyle1;
    this.c_btnCancel.init(0);
    this.c_btnOK.v_style = bStyle2;
    this.c_btnOK.init(0);
    this.onComplete = onComplete;
    this.onButton1 = onButton1;
    ee.setVisible(this.parentNode, true);
    ee.setVisible(this, true);
    document.addEventListener("keydown", this.onKeyDown);
}

sender.close = function() {
    ee.setVisible(this, false);
    ee.setVisible(this.parentNode, false);
    document.removeEventListener("keydown", this.onKeyDown);
}

sender.onKeyDown = function(event) {
    event = event || window.event;
    if (event.keyCode == 13) {
        sender.close();
        if (sender.onComplete) sender.onComplete();
    } else if (event.keyCode == 27) {
        sender.parentNode.close();
        if (!eb.isEmpty(sender.onButton1)) {
            sender.onButton1();
            sender.onButton1 = null;
        }
    }
}

if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
}




</onCreate>
      <sizeRatio>0.824324324324324</sizeRatio>
      <top>245</top>
      <topRatio>0.307788944723618</topRatio>
      <width>370</width>
      <widthRatio>0.309623430962343</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel258">
      <ee_LocalName>c_text</ee_LocalName>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>169</height>
      <heightRatio>0.554098360655738</heightRatio>
      <layerVisible>false</layerVisible>
      <left>44</left>
      <leftRatio>0.118918918918919</leftRatio>
      <sizeRatio>0.578767123287671</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及 GET搜索结果中移除。</text>
      <top>58</top>
      <topRatio>0.19016393442623</topRatio>
      <width>292</width>
      <widthRatio>0.789189189189189</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel259">
      <dockX>center</dockX>
      <ee_LocalName>c_title</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>202326</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.127868852459016</heightRatio>
      <layerVisible>false</layerVisible>
      <left>57</left>
      <leftRatio>0.154054054054054</leftRatio>
      <onCreate>sender.label.style.tableLayout = "fixed";
sender.label.rows[0].cells[0].style.overflow = "hidden";
sender.label.rows[0].cells[0].style.textOverflow = "ellipsis";
sender.label.rows[0].cells[0].style.whiteSpace = "nowrap";
</onCreate>
      <sizeRatio>0.152941176470588</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.059016393442623</topRatio>
      <width>255</width>
      <widthRatio>0.689189189189189</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel260">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.213114754098361</heightRatio>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
if ("ontouchstart" in window) {
    sender.addEventListener("touchstart", function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.changedTouches[0].screenX;
        sender.v_y = event.changedTouches[0].screenY;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchend", function(event) {
        var sender = event.target;
        sender.v_down = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
    sender.addEventListener("touchmove", function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.changedTouches[0].screenX - sender.v_x;
            var dy = event.changedTouches[0].screenY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.changedTouches[0].screenX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.changedTouches[0].screenY ;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    });
} else {
    sender.onpointerdown = function(event) {
        var sender = event.target;
        sender.v_down = true;
        sender.v_x = event.clientX;
        sender.v_y = event.clientY;
        sender.setPointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointerup = function(event) {
        var sender = event.target;
        sender.v_down = false;
        sender.releasePointerCapture(event.pointerId);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
    sender.onpointermove = function(event) {
        var sender = event.target;
        if (sender.v_down) {
            var dx = event.clientX - sender.v_x;
            var dy = event.clientY - sender.v_y;
            var rect = eb.getDivRect(sender.parentNode);
            var rectP = eb.getDivRect(sender.parentNode.parentNode);
            if (rect.x+dx<0) dx = null;
            if (rect.x+dx+rect.w>=rectP.w) dx = null;
            if (dx!=null) {
                sender.v_x = event.clientX;
                dx = rect.x+dx;
            }
            if (rect.y+dy<0) dy = null;
            if (rect.y+dy+rect.h>=rectP.h) dy = null;
            if (dy!=null) {
                sender.v_y = event.clientY;
                dy = rect.y+dy;
            }
            ee.setRect(sender.parentNode, dx, dy, null, null);
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    }
}




]]></onCreate>
      <sizeRatio>0.175675675675676</sizeRatio>
      <top>0</top>
      <width>370</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel261">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnCancel</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.131147540983607</heightRatio>
      <layerVisible>false</layerVisible>
      <left>50</left>
      <leftRatio>0.135135135135135</leftRatio>
      <onClick>sender.parentNode.close();
if (!eb.isEmpty(sender.parentNode.onButton1)) {
    sender.parentNode.onButton1();
    sender.parentNode.onButton1 = null;
}
</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>取消</text>
      <top>237</top>
      <topRatio>0.777049180327869</topRatio>
      <width>126</width>
      <widthRatio>0.340540540540541</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel262">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <ee_LocalName>c_btnOK</ee_LocalName>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.131147540983607</heightRatio>
      <layerVisible>false</layerVisible>
      <left>199</left>
      <leftRatio>0.537837837837838</leftRatio>
      <onClick>sender.parentNode.close();
sender.parentNode.onComplete();</onClick>
      <onCreate>g5.initButtonV3(sender,[
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
]);
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";





</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>确认</text>
      <top>237</top>
      <topRatio>0.777049180327869</topRatio>
      <width>126</width>
      <widthRatio>0.340540540540541</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel73/panel257/panel306">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.118032786885246</heightRatio>
      <layerVisible>false</layerVisible>
      <left>316</left>
      <leftRatio>0.854054054054054</leftRatio>
      <onClick>sender.parentNode.close();</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.icon.close + "</svg>"
);
sender.style.borderRadius = "50%";
g5.initButtonV3(sender,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","","","","")
]);
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0491803278688525</topRatio>
      <width>36</width>
      <widthRatio>0.0972972972972973</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel291">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <height>93</height>
      <heightRatio>0.116834170854271</heightRatio>
      <layerName>loading 等待动画</layerName>
      <layerVisible>false</layerVisible>
      <left>514</left>
      <leftRatio>0.430125523012552</leftRatio>
      <onCreate>sender.style.position = "fixed";
sender.c_ani = ee.getControl("panel290");
sender.style.zIndex=200;
sender.c_text = ee.getControl("panel292");

sender.show = function() {
    return;
    ee.setVisible(this, true);
    ee.setVisible(this.c_text, false);
    this.c_ani.className = "aniLoading";
    var r1 = eb.getDivRectSetting(g5.p2);
    var r2 = eb.getDivRectSetting(this);
    ee.setRect(this, parseInt((r1.w-r2.w)/2 + r1.x), parseInt((eb.getClientSize().h-r2.h)/2), null, null);
}

sender.show2 = function() {
    return;
    if (g5.isMobile) {
        return this.show();
    }
    ee.setVisible(this, true);
    ee.setVisible(this.c_text, false);
    this.c_ani.className = "aniLoading";
    var r1 = eb.getDivRectSetting(g5.p2);
    var r2 = eb.getDivRectSetting(this);
    ee.setRect(this, r1.x-110, eb.getClientSize().h-r2.h+30, null, null);
}

sender.close = function() {
    ee.setVisible(this, false);
    this.c_ani.className = "";
}
</onCreate>
      <sizeRatio>0.592356687898089</sizeRatio>
      <top>351</top>
      <topRatio>0.440954773869347</topRatio>
      <width>157</width>
      <widthRatio>0.131380753138075</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel291/panel290">
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <height>22</height>
      <heightRatio>0.236559139784946</heightRatio>
      <layerVisible>false</layerVisible>
      <left>67</left>
      <leftRatio>0.426751592356688</leftRatio>
      <onCreate>sender.style.backgroundColor = "";</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>20</top>
      <topRatio>0.21505376344086</topRatio>
      <width>22</width>
      <widthRatio>0.140127388535032</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel291/panel292">
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>arial</fontFamily>
      <height>25</height>
      <heightRatio>0.268817204301075</heightRatio>
      <layerVisible>false</layerVisible>
      <left>50</left>
      <leftRatio>0.318471337579618</leftRatio>
      <outerLeft>20</outerLeft>
      <sizeRatio>0.324675324675325</sizeRatio>
      <text>loading...</text>
      <top>47</top>
      <topRatio>0.505376344086022</topRatio>
      <width>77</width>
      <widthRatio>0.490445859872611</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel426">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <cursor>wait</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName>blockLoading全局屏蔽输入</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.zIndex=100;
sender.style.position = "fixed";
sender.show = function() {
    ee.setVisible(this, true);
}

sender.close = function() {
    ee.setVisible(this, false);
}


</onCreate>
      <onMouseMove><![CDATA[var getDist = function(x,y,div) {
    var rect = eb.getDivRectSetting(div);
    var dx, dy;
    if (x<rect.x) {
        dx = rect.x - x;
    } else if (x<rect.x+rect.w) {
        dx = -1;
    } else {
        dx = x - rect.x - rect.w;
    }
    if (y<rect.y) {
        dy = rect.y - y;
    } else if (y<rect.y+rect.h) {
        dy = -1;
    } else {
        dy = y - rect.y - rect.h;
    }
    return Math.max(dx,dy);
}

var div = null;
for (var i = 0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        div = sender.eeChildren[i];
        break;
    }
}
if (div == null) return;

var currentDist = getDist(x,y, div);
if (currentDist>100) {
    sender.click();
}


]]></onMouseMove>
      <sizeRatio>0.666108786610879</sizeRatio>
      <top>0</top>
      <width>1003</width>
      <widthRatio>1</widthRatio>
    </control>
  </controls>
  <taskSet count="79">
    <taskSetItem name="uploadImage">
      <script1>//data,controlName,onComplete
//newFileName

eio.appendString16(g5.token);
eio.appendString16(uploadImage.controlName);
eio.appendString32(uploadImage.data);</script1>
      <script2><![CDATA[var token = eio.readString16();
var controlName = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var getFileName = function(sn, sep) {
    sn = parseInt(sn);
    var f1 = (sn &amp; 0xFF000000) >> 24;
    var f2 = (sn &amp; 0x00fff000) >> 12;
    f1 = f1 ^ 0x59AE;
    f2 = f2 ^ 0xA93;
    sn = ((sn >> 7) | ((sn &amp; 0x7f)<<24)) ^ 0x5BC3A96A;
    return "usr" + f1 + sep + f2 + sep + "p" + sn + ".jpg";
}

//onUploadStart(): newFilePathName,newFileName
var newFilePathName, newFileName;
sql = "select next value for dbo.SEQImageSn as Sn";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    return;
}
db.read(sqlResult);
var sn = db.getInt32(sqlResult, "Sn");
newFileName = getFileName(sn, "/");
newFilePathName = "c:\\www\\incoming\\"+ getFileName(sn, "\\");

//implementation
var buff = eio.readString32();
var pos = buff.indexOf("base64,",0);
if (pos<0) return;
pos += "base64,".length;
buff = buff.substr(pos, buff.length - pos);
es.saveBase64AsFile(newFilePathName, buff);

if (controlName == "ee_panel299") {
} else if (controlName == "ee_panel4") {
    sql = "update userInfo set photo = '" + db.encode(newFileName) + "' where userName = '" + db.encode(myUserName) + "'";
    if (!db.executeNoneQuery("DB", sql)) {
        eio.appendString8("F");
        return;
    }
} else if (controlName == "ee_panel5") {
    sql = "update userInfo set titleBg = '" + db.encode(newFileName) + "' where userName = '" + db.encode(myUserName) + "'";
    if (!db.executeNoneQuery("DB", sql)) {
        eio.appendString8("F");
        return;
    }
}

eio.appendString8("T");
eio.appendString16(newFileName);

]]></script2>
      <script3>if (eio.readString8()!="T") {
    return;
}

uploadImage.newFileName = eio.readString16();  

if (!eb.isEmpty(uploadImage.onComplete)) {
    uploadImage.onComplete(uploadImage.newFileName);
    uploadImage.onComplete = null;
}</script3>
    </taskSetItem>
    <taskSetItem name="uploadImage2">
      <script1><![CDATA[//imgs,imgExt,onComplete
//newFileName 
eio.appendString16(g5.token);
eio.appendInt32(uploadImage2.imgs.length);
for (var i=0; i<uploadImage2.imgs.length; i++) {
    eio.appendString32(uploadImage2.imgs[i]);
    eio.appendString16(uploadImage2.imgExt[i]);
}]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var imgs = new Array();
var imgExt = new Array();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

//read parameter
var len = Math.min(eio.readInt32(), 10);
for (var i=0; i<len; i++) {
    imgs.push(eio.readString32());
    imgExt.push(eio.readString16());
}

var getFileName = function(sn, sep, ext) {
    sn = parseInt(sn);
    var f1 = (sn &amp; 0xFF000000) >> 24;
    var f2 = (sn &amp; 0x00fff000) >> 12;
    f1 = f1 ^ 0x59AE;
    f2 = f2 ^ 0xA93;
    sn = ((sn >> 7) | ((sn &amp; 0x7f)<<24)) ^ 0x5BC3A96A;
    return "usr" + f1 + sep + f2 + sep + "p" + sn + ext + ".jpg";
}

//onUploadStart(): newFilePathName,newFileName
var newFilePathName = new Array();
var newFileName = new Array();
sql = "select next value for dbo.SEQImageSn as Sn";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    return;
}
db.read(sqlResult);
var sn = db.getInt32(sqlResult, "Sn");
for (var i=0; i<len; i++) {
    newFileName.push(getFileName(sn, "/", imgExt[i]));
    newFilePathName.push("c:\\www\\incoming\\"+ getFileName(sn, "\\", imgExt[i]));
    var buff = imgs[i];
    var pos = buff.indexOf("base64,",0);
    if (pos<0) return;
    pos += "base64,".length;
    buff = buff.substr(pos, buff.length - pos);
    es.saveBase64AsFile(newFilePathName[i], buff);
}

eio.appendString8("T");
eio.appendInt32(newFileName.length);
for (var i=0; i<newFileName.length; i++) {
    eio.appendString16(newFileName[i]);
}

]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    return;
}

uploadImage2.newFileName = new Array();
var len = eio.readInt32();
for (var i=0; i<len; i++) uploadImage2.newFileName.push(eio.readString16());

if (!eb.isEmpty(uploadImage2.onComplete)) {
    uploadImage2.onComplete(uploadImage2.newFileName);
    uploadImage2.onComplete = null;
}]]></script3>
    </taskSetItem>
    <taskSetItem name="getUserInfo">
      <script1>g5.token = eb.getCookie("twitterGToken");

eio.appendString16(g5.token);









</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = 
    "exec getUserInfoBySession '" + db.encode(token) + "';" +
    "exec getUserInfoBySession '" + db.encode(token) + "';";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
session.set("userName", db.getString(sqlResult,"userName"));
var myUserId = db.getString(sqlResult,"id");

db.nextResult(sqlResult);
eio.appendString8("T");
es.logCommon("用户token登录,userName=" + db.getString(sqlResult,"userName") +
    ",nickName=" + db.getString(sqlResult, "nickName"));
eio.appendDataSet(sqlResult,"id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,postCount,isFollow,block1,block2,email",0,1);

sql = "exec createDefaultChatRoom " + myUserId + "; ";
db.executeNoneQuery("DB", sql);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    eb.setCookie("twitterGToken", "");
    window.location.href = "https://fistalk.com/login";
    return;
}

g5.myUserInfo = new g5.UserInfo();
g5.myUserInfo.loadFromDataset(eio.readDataSet(),0,0);
g5.myUserInfo.follow = "1";
g5.myUserInfo.isFollow = true;
g5.isGuest = g5.myUserInfo.userName == "guest";

g5.refreshUserInfo();
g5.p2.p1.init();
g5.processUrl();   

                               



</script3>
    </taskSetItem>
    <taskSetItem name="getOtherUserInfo2">
      <script1>//userKey,keyType(userName/userId),onComplete(v_userInfo)
getOtherUserInfo2.busy = true;
eio.appendString16(g5.token);
eio.appendString16(getOtherUserInfo2.keyType);
eio.appendString16(getOtherUserInfo2.userKey + "");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var keyType = eio.readString16();
var userKey = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

if (keyType == "userName") {
    sql = "select id from userInfo where userName = '" + db.encode(userKey) + "'; ";
} else {
    sql = "select id from userInfo where id = " + parseInt(userKey) + "; ";
}
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    es.logWarning("用户不存在, sql=" + sql);
    return;
}
var userId = db.getString(sqlResult,"id");

sql =
    "SELECT   TOP (100) PERCENT dbo.userInfo.id, dbo.userInfo.status, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) " +
    "                AS regDatetime, CONVERT(VARCHAR(50), dbo.userInfo.lastAccessTime, 120) AS lastAccessTime,  " +
    "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount,dbo.userInfo.postCount,  " +
    "                CASE WHEN dbo.follow.id IS NULL THEN 0 ELSE 1 END AS isFollow, CASE WHEN dbo.blockList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlock1, CASE WHEN blockList_1.id IS NULL THEN 0 ELSE 1 END AS isBlock2 " +
    "FROM      dbo.blockList RIGHT OUTER JOIN " +
    "                dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS blockList_1 ON dbo.userInfo.id = blockList_1.userId AND blockList_1.blockUserId = " + myUserId + " ON  " +
    "                dbo.blockList.blockUserId = dbo.userInfo.id AND dbo.blockList.userId = " + myUserId + " " +
    "WHERE dbo.userInfo.id = " + userId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
    "followCount,fansCount,postCount,isFollow,isBlock1,isBlock2", 0, 1);
              ]]></script2>
      <script3>if (eio.readString8() != "T") {
    getOtherUserInfo2.busy = false;
    return;
}
getOtherUserInfo2.dataset = eio.readDataSet()
getOtherUserInfo2.v_userInfo = new g5.UserInfo();
getOtherUserInfo2.v_userInfo.loadFromDataset(getOtherUserInfo2.dataset, 0, 0);
if (!eb.isEmpty(getOtherUserInfo2.onComplete)) {
    getOtherUserInfo2.onComplete(getOtherUserInfo2.v_userInfo);
    getOtherUserInfo2.onComplete = null;
}
getOtherUserInfo2.busy = false;



                        
</script3>
    </taskSetItem>
    <taskSetItem name="updateUserInfo">
      <script1>//nickName,note,homePage,onComplete
updateUserInfo.busy = true;

g5.loading.show();
eio.appendString16(g5.token);
eio.appendString16(updateUserInfo.nickName);
eio.appendString16(updateUserInfo.note);
eio.appendString16(updateUserInfo.homePage);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var nickName = eio.readString16();
var note = eio.readString16();
var homepage = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对个人信息进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set nickName = '" + db.encode(nickName) + "'" +
    ", note= '" + db.encode(note) + "'" +
    ", homePage= '" + db.encode(homepage) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>g5.loading.close();
if (eio.readString8() == "F") {
    g5.alert1("无法修改您的信息", eio.readString8());
    updateUserInfo.busy = false;
    return;
}

updateUserInfo.onComplete();
updateUserInfo.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="newTwitter">
      <script1><![CDATA[//busy,content,uplinkType,uplinkId,busy,photos(array),onComplete(contentId)
if (newTwitter.busy) return;
newTwitter.busy = true;

if (eb.isEmpty(newTwitter.photos)) newTwitter.photos = new Array();

var text = newTwitter.content;
if (newTwitter.uplinkType!="L") {
    if ((text.length<=0) &amp;&amp; (newTwitter.photos.length<=0)) {
        g5.alert1("发言内容不符合要求", "发言内容不能为空");
        newTwitter.busy = false;
        return;
    }
}

eio.appendString16(g5.token);
eio.appendString16(text);
eio.appendString16(newTwitter.uplinkType);
eio.appendString16(newTwitter.uplinkId+"");
eio.appendInt32(newTwitter.photos.length);
for (var i=0; i<newTwitter.photos.length; i++) eio.appendString16(newTwitter.photos[i]);







]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var text = eio.readString16();
var uplinkType = eio.readString16();
var uplinkId = eio.readString16();
var count = Math.min(eio.readInt32(),4);
var photos = new Array();
for (var i=0; i<count; i++) {
    photos.push(eio.readString16());
}
while (photos.length<4) photos.push("");

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对发言进行操作，请注册正式用户。");
    return;
}
var myStatus = db.getString(sqlResult,"status");
if (myStatus == "FREEZE") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于冻结状态，不能发表或者回复短文。");
    return;
} else if (myStatus == "Private") {
} else if (myStatus != "IDL") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于非正常状态（" + myStatus + "），不能发表或者回复短文。");
    return;
}

var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
var s = text.replace(ptn, "@$1|");
var alertUsers = new Array();
var i=0,j;
while (i<s.length) {
    if (s.charAt(i)!="@") {
        i++;
        continue;
    }
    j = i+1;
    while (j<s.length) {
        if (s.charAt(j)=="|") break;
        j++;
    }
    if (j-i-1>0) {
        var un = s.substr(i+1,j-i-1);
        if (un.toUpperCase()!=userName.toUpperCase())
            alertUsers.push(un);
    }
    i=j;
}

sql = "exec twitterNew " +
    userId + 
    ",N'" + db.encode(text) + "'" +
    ",1" +
    ",'" + db.encode(photos[0]) + "'" +
    ",'" + db.encode(photos[1]) + "'" +
    ",'" + db.encode(photos[2]) + "'" +
    ",'" + db.encode(photos[3]) + "'" +
    ",'" + db.encode(uplinkType) + "'" +
    "," + db.encode(uplinkId) + ";\n";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
var contentId = db.getString(sqlResult,"contentId");
var postCountDiff = db.getString(sqlResult,"postCountDiff");

sql = "";
for (var i=0; i<alertUsers.length; i++) {
    sql += "exec [userPromptSend] " +
        userId +
        ",'" + db.encode(alertUsers[i]) + "'" +
        "," + contentId +
        ",'" + db.encode(text) + "';\n";
}
if (sql.length>0) sqlResult = db.executeNoneQuery("DB", sql);

eio.appendString8("T");
eio.appendString8(contentId);
eio.appendString8(postCountDiff);

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    newTwitter.busy = false;
    return;
}
newTwitter.contentId = eio.readString8();
newTwitter.postCountDiff = parseInt(eio.readString8());
if (newTwitter.onComplete) {
    g5.syncPostCount(newTwitter.postCountDiff);
    newTwitter.onComplete(newTwitter.contentId, newTwitter.postCountDiff);
}
newTwitter.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="newTwitterV2">
      <script1><![CDATA[//busy,content,uplinkType,uplinkId,busy,photos(array),voteList,voteDuration,onComplete(contentId)
if (newTwitterV2.busy) return;
newTwitterV2.busy = true;

if (eb.isEmpty(newTwitterV2.photos)) newTwitterV2.photos = new Array();

var text = newTwitterV2.content;
if (newTwitterV2.uplinkType!="L") {
    if ((text.length<=0) &amp;&amp; (newTwitterV2.photos.length<=0)) {
        g5.alert1("发言内容不符合要求", "发言内容不能为空");
        newTwitterV2.busy = false;
        return;
    }
}

eio.appendString16(g5.token);
eio.appendString16(text);
eio.appendString16(newTwitterV2.uplinkType);
eio.appendString16(newTwitterV2.uplinkId+"");
eio.appendInt32(newTwitterV2.photos.length);
for (var i=0; i<newTwitterV2.photos.length; i++) eio.appendString16(newTwitterV2.photos[i]);
eio.appendByte(newTwitterV2.voteList.length);
for (var i=0; i<newTwitterV2.voteList.length; i++) eio.appendString8(newTwitterV2.voteList[i]);
if (!newTwitterV2.voteDuration) newTwitterV2.voteDuration = 10 * 60;
eio.appendString8(newTwitterV2.voteDuration+"");







]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var text = eio.readString16();
var uplinkType = eio.readString16();
var uplinkId = eio.readString16();
let count = Math.min(eio.readInt32(),4);
var photos = new Array();
for (var i=0; i<count; i++) {
    photos.push(eio.readString16());
}
while (photos.length<4) photos.push("");
count = Math.min(eio.readByte(), 5);
let voteList = new Array();
for (var i=0; i<count; i++) {
    voteList.push(eio.readString8());
}
let voteDuration = parseInt(eio.readString8());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对发言进行操作，请注册正式用户。");
    return;
}
var myStatus = db.getString(sqlResult,"status");
if (myStatus == "FREEZE") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于冻结状态，不能发表或者回复短文。");
    return;
} else if (myStatus == "Private") {
} else if (myStatus != "IDL") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于非正常状态（" + myStatus + "），不能发表或者回复短文。");
    return;
}

var ptn = /@([a-zA-Z0-9_\-]{2,20})/gim;
var s = text.replace(ptn, "@$1|");
var alertUsers = new Array();
var i=0,j;
while (i<s.length) {
    if (s.charAt(i)!="@") {
        i++;
        continue;
    }
    j = i+1;
    while (j<s.length) {
        if (s.charAt(j)=="|") break;
        j++;
    }
    if (j-i-1>0) {
        var un = s.substr(i+1,j-i-1);
        if (un.toUpperCase()!=userName.toUpperCase())
            alertUsers.push(un);
    }
    i=j;
}

sql = "DECLARE @voteNames TYPEStringTable;\n";
if (voteList.length>0) {
    sql += "INSERT INTO @voteNames (value) VALUES ";
    for (var i=0; i<voteList.length; i++) {
        if (i>0) sql += ",";
        sql += "('" + db.encode(voteList[i]) + "')";
    }
    sql += ";\n";
}
sql +=
    "exec twitterNewV2 " +
    userId + 
    ",N'" + db.encode(text) + "'" +
    ",1" +
    ",'" + db.encode(photos[0]) + "'" +
    ",'" + db.encode(photos[1]) + "'" +
    ",'" + db.encode(photos[2]) + "'" +
    ",'" + db.encode(photos[3]) + "'" +
    ",'" + db.encode(uplinkType) + "'" +
    ",'" + db.encode(uplinkId) + "'" +
    ",@voteNames" +
    "," + voteDuration + ";\n";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
let contentId = db.getString(sqlResult,"contentId");
let voteId = db.getString(sqlResult,"voteId");
let postCountDiff = db.getString(sqlResult,"postCountDiff");

sql = "";
for (var i=0; i<alertUsers.length; i++) {
    sql += "exec [userPromptSend] " +
        userId +
        ",'" + db.encode(alertUsers[i]) + "'" +
        "," + contentId +
        ",'" + db.encode(text) + "';\n";
}
if (sql.length>0) sqlResult = db.executeNoneQuery("DB", sql);

eio.appendString8("T");
eio.appendString8(contentId);
eio.appendString8(postCountDiff);
eio.appendString8(voteId);

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    newTwitterV2.busy = false;
    return;
}
newTwitterV2.contentId = eio.readString8();
newTwitterV2.postCountDiff = parseInt(eio.readString8());
newTwitterV2.voteId = parseInt(eio.readString8());
if (newTwitterV2.onComplete) {
    g5.syncPostCount(newTwitterV2.postCountDiff);
    newTwitterV2.onComplete(newTwitterV2.contentId, newTwitterV2.postCountDiff, newTwitterV2.voteId);
}
newTwitterV2.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="updateHomepage">
      <script1>//busy,contentId,isForward,onComplete(dataset)
if (updateHomepage.busy) return;
updateHomepage.busy = true;
eio.appendString16(g5.token);
eio.appendString16(updateHomepage.contentId+"");
eio.appendString16(updateHomepage.isForward?"T":"F");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var lastIdStr = eio.readString16();
var lastId = parseInt(lastIdStr);
var isForward = eio.readString16()=="T"?true:false;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");

if (isNaN(lastId)) {
    eio.appendString8("F");
    es.logWarning("lastId is NaN(" + lastIdStr + "), userName=" + userName + ",isForward=" + isForward);
    return;
}

var sql1 = "";
if (lastId == 0) {
} else if (isForward) {
    sql1 = "and dbo.tContent.id < " + lastId + " ";
} else {
    sql1 = "and dbo.tContent.id > " + lastId + " ";
}

sql =
    "SELECT   TOP (10) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, dbo.tContent.forceTopSn, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike, tContent_1.forceTopSn as reForceTopSn,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN uBlockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50), userInfo_1.regDatetime, 120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow, " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50), exUserInfo.regDatetime, 120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow, " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide, " +
    "                CASE WHEN exHideList.id IS NULL THEN 0 ELSE 1 END AS exIsHide " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent RIGHT OUTER JOIN " +
    "                dbo.follow ON dbo.tContent.userId = dbo.follow.followId and dbo.follow.[hide]<>'T' LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND  " +
    "                exUnlikeList.userId = " + userId + " " + 
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "                left outer join hideList as exHideList on tContent.exUserId = exHideList.hideId and exHideList.userId = " + userId + " " +
    "WHERE   ((dbo.follow.userId = " + userId + ") AND (dbo.tContent.userId <> " + userId + ") OR " +
    "                (dbo.follow.userId = " + userId + ") AND (dbo.tContent.uplinkType <> 'L')) and (exBlockList1.id IS NULL) " +
    "                and (ublockList1.id IS NULL) and (exBlockList2.id IS NULL) and (uHideList.id IS NULL) " + 
    " and (exUserInfo.status='IDL' or exUserInfo.status is null) " + 
    " and (dbo.userInfo.status='IDL' or dbo.userInfo.status='DelIn' or dbo.userInfo.status='Private') " + 
    "  AND dbo.tContent.status<>'DEL' " + sql1 +
    "ORDER BY dbo.tContent.id DESC ";
   
//es.logCommon(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    0, 99999);


]]></script2>
      <script3>if (eio.readString8() != "T") {
    updateHomepage.busy = false;
    return;
}
updateHomepage.dataset = eio.readDataSet();
updateHomepage.onComplete(updateHomepage.dataset); 
updateHomepage.busy = false;



</script3>
    </taskSetItem>
    <taskSetItem name="getRecommend">
      <script1>//busy,onComplete(dataset)
if (getRecommend.busy) return;
getRecommend.busy = true;
eio.appendString8(g5.token);
eio.appendString8(g5.lang.current);

</script1>
      <script2><![CDATA[var token = eio.readString8();
var lang = eio.readString8();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");

sql =
    "select * from recmdSearch where lang = '" + db.encode(lang) + "' order by orderNumber DESC; " +
    "SELECT        TOP (100) PERCENT dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) AS uRegDatetime, dbo.userInfo.lastAccessTime AS uLastAccessTime,  " +
    "                         dbo.userInfo.userName AS uUserName, dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto,  " +
    "                         dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                         THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM            dbo.userInfo INNER JOIN " +
    "                         dbo.recmdUser ON dbo.userInfo.id = dbo.recmdUser.userId LEFT OUTER JOIN " +
    "                         dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                         dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                         dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " " +
    "WHERE dbo.recmdUser.lang = '" + db.encode(lang) + "' " +
    "order by recmdUser.orderNumber DESC; ";
                            
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,regDatetime,orderNumber,text",
    0, 99999);

db.nextResult(sqlResult);
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",
    0, 99999);


]]></script2>
      <script3>if (eio.readString8() != "T") {
    getRecommend.busy = false;
    return;
}
getRecommend.datasetSearch = eio.readDataSet();
getRecommend.datasetUser = eio.readDataSet();
if (getRecommend.onComplete) {
    getRecommend.onComplete(getRecommend.datasetSearch, getRecommend.datasetUser);
    getRecommend.onComplete = null;
}
getRecommend.busy = false;



</script3>
    </taskSetItem>
    <taskSetItem name="showUserPage">
      <script1>//busy, userId/userName, onComplete()
if (showUserPage.busy) return;
showUserPage.busy = true;
eio.appendString16(g5.token);
if (showUserPage.userName == "") {
    eio.appendString16("uid");
    eio.appendString16(showUserPage.userId+"");
} else {
    eio.appendString16("uname");
    eio.appendString16(showUserPage.userName);
}
</script1>
      <script2><![CDATA[var token = eio.readString16();
var options = eio.readString16();
var userValue = eio.readString16();
if (options == "uid") userValue = parseInt(userValue);
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

var where = "";
if (options == "uid") {
    where = "where dbo.userInfo.id = " + userValue + " ";
} else {
    where = "where dbo.userInfo.userName = '" + db.encode(userValue) + "' ";
}

sql = 
    "select dbo.userInfo.id from dbo.userInfo " + where + "; ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("该用户不存在");
    return;
}
var userId = db.getString(sqlResult, "id");
eio.appendString8("T");

sql = 
    "SELECT   dbo.userInfo.id, dbo.userInfo.status, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) " +
    "                AS regDatetime, CONVERT(VARCHAR(50), dbo.userInfo.lastAccessTime, 120) AS lastAccessTime,  " +
    "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount, dbo.userInfo.postCount,  " +
    "                CASE WHEN dbo.follow.id IS NULL THEN 0 ELSE 1 END AS isFollow, CASE WHEN dbo.blockList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlock1, CASE WHEN blockList_1.id IS NULL THEN 0 ELSE 1 END AS isBlock2, dbo.userInfo.email, " +
    "                dbo.userInfo.chatRoomVideo, " + 
    "                CASE WHEN hideList.id IS NULL THEN 0 ELSE 1 END AS isHide " +
    "FROM      dbo.blockList RIGHT OUTER JOIN " +
    "                dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS blockList_1 ON dbo.userInfo.id = blockList_1.userId AND blockList_1.blockUserId = " + myUserId + " ON  " +
    "                dbo.blockList.blockUserId = dbo.userInfo.id AND dbo.blockList.userId = " + myUserId + " " +
    "                left outer join hideList on userInfo.id = hideList.hideId and hideList.userId = " + myUserId + " " +
    "where dbo.userInfo.id = " + userId + "; " +
    "exec createDefaultChatRoom " + userId + "; " + 
    "exec createDefaultPrivateChatRoom " + userId + "; " + 
    "select * from chatRoomInfo where creatorId = " + userId + " and roomType='DEF'; " +
    "select * from chatRoomInfo where creatorId = " + userId + " and roomType='PIV'; " +
    "select * from hostRecomd where hostUserId = " + userId + " order by orderSn; " +

    "SELECT   dbo.chatRoomInfo.id, dbo.chatRoomInfo.creatorId, dbo.chatRoomInfo.roomType, dbo.chatRoomVip.status, " +
    "                dbo.chatRoomVip.userId " +
    "FROM      dbo.chatRoomVip INNER JOIN " +
    "                dbo.chatRoomInfo ON dbo.chatRoomVip.chatRoomId = dbo.chatRoomInfo.id " +
    "WHERE chatRoomInfo.creatorId = " + userId + " and chatRoomVip.userId = " + myUserId + " " +
    "   and chatRoomInfo.roomType = 'DEF' and chatRoomVip.status='ADM'; " +

    "SELECT   dbo.chatRoomInfo.id, dbo.chatRoomInfo.creatorId, dbo.chatRoomInfo.roomType, dbo.chatRoomVip.status, " +
    "                dbo.chatRoomVip.userId " +
    "FROM      dbo.chatRoomVip INNER JOIN " +
    "                dbo.chatRoomInfo ON dbo.chatRoomVip.chatRoomId = dbo.chatRoomInfo.id " +
    "WHERE chatRoomInfo.creatorId = " + userId + " and chatRoomVip.userId = " + myUserId + " " +
    "   and chatRoomInfo.roomType = 'DEF' and chatRoomVip.status='BLK'; " +

    "select count(*) as c from fansRequest where userId = " + myUserId + "; " +

    "select * from donateList where userId = " + userId + " order by id; " +

    "SELECT   TOP (20) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount as uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50),exUserInfo.regDatetime,120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount,CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide, " +
    "                CASE WHEN exHideList.id IS NULL THEN 0 ELSE 1 END AS exIsHide " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + myUserId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + myUserId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + myUserId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + myUserId + " " +
    "                left outer join hideList as exHideList on tContent.exUserId = exHideList.hideId and exHideList.userId = " + myUserId + " " +
    "WHERE (dbo.tContent.status='IDL' and dbo.tContent.userId = " + userId + ") and (dbo.tContent.uplinkType<>'R') and (exBlockList2.id IS NULL) " +
    "                and (exUserInfo.status='IDL' or exUserInfo.status is null) " + 
    "                and (exHideList.id IS NULL) " + 
    "ORDER BY dbo.tContent.forceTopSn DESC,dbo.tContent.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendDataSet(sqlResult,
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,postCount,isFollow,isBlock1,isBlock2,email,isHide," +
    "chatRoomVideo",
    0, 1);
    
var pubRoomId;
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    pubRoomId = db.getString(sqlResult,"id");
    eio.appendString16(pubRoomId);
} else {
    pubRoomId = "-1";
    eio.appendString16(pubRoomId);
}
db.nextResult(sqlResult);
var prvRoomId;
if (db.read(sqlResult)) {
    prvRoomId = db.getString(sqlResult,"id");
    eio.appendString16(prvRoomId);
} else {
    prvRoomId = "-1";
    eio.appendString16(prvRoomId);
}
db.nextResult(sqlResult);
eio.appendDataSet(sqlResult, "id,regDatetime,orderSn,hostUserId,videoUrl,note", 0, 9999);
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}

db.nextResult(sqlResult);
db.read(sqlResult)
eio.appendString16(db.getString(sqlResult,"c"));

db.nextResult(sqlResult);
eio.appendDataSet(sqlResult,
    "id,donateName,linkType,linkValue",
    0, 99999);

db.nextResult(sqlResult);
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    0, 99999);


sql = "select * from chatPrivate where roomId=" + prvRoomId + " and permitUserId=" + myUserId + "; ";
if (userId == myUserId) {
    sql +=
        "SELECT   dbo.chatPrvRequest.id, dbo.chatPrvRequest.chatRoomId, dbo.chatPrvRequest.appUserId, dbo.userInfo.status, " + 
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount, dbo.userInfo.regDatetime,  " +
        "                dbo.chatPrvRequest.regDatetime AS requestDatetime " +
        "FROM      dbo.chatPrvRequest INNER JOIN " +
        "                dbo.userInfo ON dbo.chatPrvRequest.appUserId = dbo.userInfo.id " +
        "WHERE chatPrvRequest.chatRoomId = " + prvRoomId + " " +
        "ORDER BY chatPrvRequest.id DESC; " +
        "SELECT   dbo.chatPrivate.id, dbo.chatPrivate.regDatetime AS joinDatetime, dbo.chatPrivate.roomId AS chatRoomId, " + 
        "                dbo.chatPrivate.permitUserId, dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.lastAccessTime,  " +
        "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
        "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo, dbo.userInfo.followCount,  " +
        "                dbo.userInfo.fansCount " +
        "FROM      dbo.userInfo INNER JOIN " +
        "                dbo.chatPrivate ON dbo.userInfo.id = dbo.chatPrivate.permitUserId " +
        "WHERE chatPrivate.roomId = " + prvRoomId + " " +
        "ORDER BY chatPrivate.id DESC; ";
    sql +=
        "SELECT   dbo.chatRoomVip.id, dbo.chatRoomVip.regDatetime as vipRegDatetime, dbo.chatRoomVip.chatRoomId, dbo.chatRoomVip.status as vipStatus, " +
        "                dbo.chatRoomVip.userId, dbo.userInfo.status, dbo.userInfo.regDatetime,  " +
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount " +
        "FROM      dbo.chatRoomVip LEFT OUTER JOIN " +
        "                dbo.userInfo ON dbo.chatRoomVip.userId = dbo.userInfo.id " +
        "where chatRoomVip.chatRoomId = " + pubRoomId + " and chatRoomVip.status = 'ADM' " +
        "order by chatRoomVip.id DESC; ";
    sql +=
        "SELECT   dbo.chatRoomVip.id, dbo.chatRoomVip.regDatetime as vipRegDatetime, dbo.chatRoomVip.chatRoomId, dbo.chatRoomVip.status as vipStatus, " +
        "                dbo.chatRoomVip.userId, dbo.userInfo.status, dbo.userInfo.regDatetime,  " +
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount " +
        "FROM      dbo.chatRoomVip LEFT OUTER JOIN " +
        "                dbo.userInfo ON dbo.chatRoomVip.userId = dbo.userInfo.id " +
        "where chatRoomVip.chatRoomId = " + pubRoomId + " and chatRoomVip.status = 'BLK' " +
        "order by chatRoomVip.id DESC; ";
}

sqlResult = db.executeQuery("DB", sql);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}

if (userId == myUserId) {
    eio.appendString16("T");
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,requestDatetime,appUserId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,joinDatetime,permitUserId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,vipRegDatetime,userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,vipRegDatetime,userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
} else {
    eio.appendString16("F");
}]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.loading.close();
    g5.alert1("提示信息",eio.readString8());
    showUserPage.busy = false;
    return;
}

var ds = eio.readDataSet();
showUserPage.v_userInfo = new g5.UserInfo();
showUserPage.v_userInfo.loadFromDataset(ds, 0, 0);
showUserPage.chatRoomVideo = ds.getData(showUserPage.v_userInfo.size,0);
showUserPage.defaultChatRoomId = eio.readString16(); 
showUserPage.privateChatRoomId = eio.readString16();
showUserPage.hostRecomd = eio.readDataSet();
showUserPage.isChatRoomPubAdmin = eio.readString16() == "T";
showUserPage.isChatRoomPubBlack = eio.readString16() == "T";
showUserPage.fansReqCount = parseInt(eio.readString16());
if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
    g5.myUserInfo.fansReqCount = showUserPage.fansReqCount;
}
showUserPage.datasetDonate = eio.readDataSet();
showUserPage.dataset = eio.readDataSet();
showUserPage.privateChatRoomRights = eio.readString16() == "T";
showUserPage.privateChatRoomRights = showUserPage.privateChatRoomRights || (g5.myUserInfo.id==showUserPage.v_userInfo.id);
if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
    showUserPage.privateChatRoomRights = true;
}
if (eio.readString16() == "T") {
    showUserPage.joinPrvRequest = eio.readDataSet();
    showUserPage.permitUsers = eio.readDataSet();
    showUserPage.chatRoomAdminList = eio.readDataSet();
    showUserPage.chatRoomBlackList = eio.readDataSet();
} else {
    showUserPage.joinPrvRequest = null;
    showUserPage.permitUsers = null;
    showUserPage.chatRoomAdminList = eio.readDataSet();
    showUserPage.chatRoomBlackList = null;
}

showUserPage.onComplete();
showUserPage.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="showUserPageLoadMore">
      <script1>//in: userId, pageIndex, pageSize, onComplete(dataset)
//out: dataset 
showUserPageLoadMore.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showUserPageLoadMore.userId+"");
eio.appendString16(showUserPageLoadMore.pageIndex + "");
eio.appendString16(showUserPageLoadMore.pageSize + "");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = parseInt(eio.readString16());

var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

var top = "TOP (" + ((pageIndex+1) * pageSize) + ")";
var sql =
    "SELECT   " + top + " dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount,CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount,CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50),exUserInfo.regDatetime,120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount,CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide, " +
    "                CASE WHEN exHideList.id IS NULL THEN 0 ELSE 1 END AS exIsHide " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + myUserId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + myUserId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + myUserId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + myUserId + " " +
    "                left outer join hideList as exHideList on tContent.exUserId = exHideList.hideId and exHideList.userId = " + myUserId + " " +
    "WHERE (dbo.tContent.status='IDL' and dbo.tContent.userId = " + userId + ") and (dbo.tContent.uplinkType<>'R') and (exBlockList2.id IS NULL) " +
    "                and (exUserInfo.status='IDL' or exUserInfo.status is null) " + 
    "                and (exHideList.id IS NULL) " + 
    "ORDER BY dbo.tContent.forceTopSn DESC,dbo.tContent.id DESC ";

//es.logCommon(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize); 
]]></script2>
      <script3>if (eio.readString8() != "T") {
    showUserPageLoadMore.busy = false;
    return;
}
showUserPageLoadMore.dataset = eio.readDataSet();
if (!eb.isEmpty(showUserPageLoadMore.onComplete)) {
    showUserPageLoadMore.onComplete(showUserPageLoadMore.dataset);
    showUserPageLoadMore.onComplete = null;
}
showUserPageLoadMore.busy = false;



</script3>
    </taskSetItem>
    <taskSetItem name="showUserPageP3">
      <script1>//userId,pageIndex,pageSize,onComplete
//data
showUserPageP3.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showUserPageP3.userId+"");
eio.appendString16(showUserPageP3.pageIndex+"");
eio.appendString16(showUserPageP3.pageSize+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var pageIndex = parseInt(eio.readString16());
var pageSize = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

//query twitter
var top = "TOP (" + ((pageIndex+1) * pageSize) + ")";
sql = 
    "SELECT   " + top + " dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50),exUserInfo.regDatetime,120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide, " +
    "                CASE WHEN exHideList.id IS NULL THEN 0 ELSE 1 END AS exIsHide " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + myUserId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + myUserId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + myUserId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + myUserId + " " +
    "                left outer join hideList as exHideList on tContent.exUserId = exHideList.hideId and exHideList.userId = " + myUserId + " " +
    "WHERE (dbo.tContent.status='IDL') and (dbo.tContent.userId = " + userId + ") and (exBlockList1.id IS NULL) and (exBlockList2.id IS NULL) " +
    "                and (exUserInfo.status='IDL' or exUserInfo.status is null) " + 
    "                and (exHideList.id IS NULL) " + 
    "ORDER BY dbo.tContent.forceTopSn DESC,dbo.tContent.id DESC ";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize); 

]]></script2>
      <script3>if (eio.readString8() != "T") {
    showUserPageP3.busy = false;
    ee.setVisible(ee.getControl("panel16"), false);
    return;
}

showUserPageP3.data = eio.readDataSet();
if (!eb.isEmpty(showUserPageP3.onComplete)) {
    showUserPageP3.onComplete(showUserPageP3.data);
    showUserPageP3.onComplete = null;
}
showUserPageP3.busy = false;


</script3>
    </taskSetItem>
    <taskSetItem name="showBookMark">
      <script1>//pageIndex
if (showBookMark.busy) return;
showBookMark.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showBookMark.pageIndex+"");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 20;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var top = (pageIndex+1)*pageSize;
sql =
    "SELECT   TOP(" + top + ") dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, dbo.tContent.forceTopSn, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50),exUserInfo.regDatetime,120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide, " +
    "                CASE WHEN exHideList.id IS NULL THEN 0 ELSE 1 END AS exIsHide " +
    "FROM      dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + myUserId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.forwardLink RIGHT OUTER JOIN " +
    "                dbo.tContent RIGHT OUTER JOIN " +
    "                dbo.bookMark ON dbo.tContent.id = dbo.bookMark.contentId LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + myUserId + " ON  " +
    "                dbo.forwardLink.contentId = dbo.tContent.id AND dbo.forwardLink.userId = " + myUserId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + myUserId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId LEFT OUTER JOIN " +
    "                dbo.blockList AS rBlockList ON userInfo_1.id = rBlockList.blockUserId AND rBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND  " +
    "                exUnlikeList.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + myUserId + " " +
    "                left outer join hideList as exHideList on tContent.exUserId = exHideList.hideId and exHideList.userId = " + myUserId + " " +
    "WHERE   (dbo.bookMark.userId = " + myUserId + ") and (ublockList.id IS NULL) and (ublockList1.id IS NULL) " +
    " and (dbo.userInfo.status='IDL' or dbo.userInfo.status='DelIn') and (uHideList.id IS NULL) " + 
    "ORDER BY dbo.bookMark.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}

showBookMark.dataset = eio.readDataSet();
if (!eb.isEmpty(showBookMark.onComplete)) {
    showBookMark.onComplete();
    showBookMark.onComplete = null;
}
showBookMark.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="showPrompt">
      <script1>//pageIndex
if (showPrompt.busy) return;
showPrompt.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showPrompt.pageIndex+"");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 15;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var top = (pageIndex+1)*pageSize;
sql =
    "exec clearPromptCount " + myUserId + "; " +
    "SELECT   TOP(" + top + ") dbo.userPrompt.id AS promptId, DATEDIFF(second, dbo.userPrompt.regDatetime, getutcdate()) AS promptRegDatetime,  " +
    "                dbo.userPrompt.status AS promptStatus, dbo.userPrompt.type, dbo.userPrompt.[content], dbo.userPrompt.url,  " +
    "                dbo.userPrompt.refUserId AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.userInfo RIGHT OUTER JOIN " +
    "                dbo.userPrompt ON dbo.userInfo.id = dbo.userPrompt.refUserId LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "WHERE   (dbo.userPrompt.userId = " + myUserId + ") " +
    "ORDER BY promptId DESC; ";
    

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "promptId,promptRegDatetime,promptStatus,type,content,url," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",  
    pageIndex*pageSize, pageSize);]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}

showPrompt.dataset = eio.readDataSet();
if (!eb.isEmpty(showPrompt.onComplete)) {
    showPrompt.onComplete();
    showPrompt.onComplete = null;
}
showPrompt.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="refreshHostRecomd">
      <script1>//userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(refreshHostRecomd.userId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

sql = "select * from hostRecomd where hostUserId = " + userId + " order by orderSn; ";
sqlResult = db.executeQuery("DB", sql);
eio.appendString8("T");
eio.appendDataSet(sqlResult, "id,regDatetime,orderSn,hostUserId,videoUrl,note", 0, 9999);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
refreshHostRecomd.hostRecomd = eio.readDataSet();

if (!eb.isEmpty(refreshHostRecomd.onComplete)) {
    refreshHostRecomd.onComplete();
    refreshHostRecomd.onComplete = null;
}




</script3>
    </taskSetItem>
    <taskSetItem name="showTopic">
      <script1><![CDATA[//topicId,lastId,onComplete(data,backTrace)
if (eb.isEmpty(showTopic.busy)) showTopic.busy = false;
if (showTopic.busy) return;
showTopic.busy = true;
showTopic.startTime = new Date();

eio.appendString16(g5.token);
if (ee.getControl("panel22").eeChildren.length<=0) {
    showTopic.needRefresh = true;
}
if (showTopic.needRefresh) {
    eio.appendString16("T");
    eio.appendString16(showTopic.topicId);
    eio.appendString16("0");
} else {
    eio.appendString16("F");
    eio.appendString16(showTopic.topicId);
    eio.appendString16(showTopic.lastId);
}


]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var needRefresh = eio.readString16();
var topicId = parseInt(eio.readString16());
var lastId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var sql1 = "";
if ((needRefresh == "F") &amp;&amp; (lastId != 0)) {
    sql1 = "and dbo.tContent.id < " + lastId + " ";
}

sql =
    "exec [twitterAddCount] " + topicId + ",'click'," + userId + ",'" + es.getRemoteIPAddress() + "'; " +
    "SELECT   dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, convert(varchar, dbo.userInfo.regDatetime, 120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, convert(varchar, userInfo_1.regDatetime, 120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow, " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "WHERE dbo.tContent.id = " + topicId + " ; " +
    
    "declare @contentUID as bigint; " +
    "select @contentUID = userId from tContent where id = " + topicId + "; " +
    "SELECT   dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, convert(varchar, dbo.userInfo.regDatetime, 120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, convert(varchar, userInfo_1.regDatetime, 120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow, " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN dbo.tContent.userId = " + userId + " THEN 0 ELSE 1 END AS isMe, " + 
    "                CASE WHEN dbo.tContent.userId = @contentUID THEN 0 ELSE 1 END AS isPoster, " + 
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "WHERE (dbo.tContent.uplinkId = " + topicId + ") AND dbo.tContent.uplinkType='R' AND dbo.tContent.status<>'DEL' " +
    "ORDER BY isMe,isPoster,dbo.tContent.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
    0, 99999);
db.nextResult(sqlResult);
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
    0, 99999);

sql = "exec [twitterSource] " + userId + "," + topicId;
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    return;
}
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
    0, 99999);
while (db.nextResult(sqlResult)) {
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
    0, 99999);
}]]></script2>
      <script3>if (eio.readString8() != "T") {
    showTopic.busy = false;
    return;
}
var tempData;
showTopic.data = eio.readDataSet();
tempData = eio.readDataSet();
showTopic.data.appendDataset(tempData);
showTopic.backTrace = eio.readDataSet();
while (true) {
    tempData = eio.readDataSet();
    if (!showTopic.backTrace.appendDataset(tempData)) break;
}
showTopic.onComplete(showTopic.data, showTopic.backTrace);
showTopic.busy = false;



                        
</script3>
    </taskSetItem>
    <taskSetItem name="showTopicRenew">
      <script1>//topicId,lastId,onComplete(data1)
if (eb.isEmpty(showTopicRenew.busy)) showTopicRenew.busy = false;
if (showTopicRenew.busy) return;
showTopicRenew.busy = true;

eio.appendString8(g5.token);
eio.appendString8(showTopicRenew.topicId + "");
eio.appendString8(showTopicRenew.lastId + "");
</script1>
      <script2><![CDATA[var token = eio.readString8();
var topicId = parseInt(eio.readString8());
var lastId = parseInt(eio.readString8());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");

sql =
    "declare @contentUID as bigint; " +
    "select @contentUID = userId from tContent where id = " + topicId + "; " +
    "SELECT  TOP (1) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, convert(varchar, dbo.userInfo.regDatetime, 120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, convert(varchar, userInfo_1.regDatetime, 120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow, " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN dbo.tContent.userId = " + userId + " THEN 0 ELSE 1 END AS isMe, " + 
    "                CASE WHEN dbo.tContent.userId = @contentUID THEN 0 ELSE 1 END AS isPoster, " + 
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "WHERE (dbo.tContent.uplinkId = " + topicId + ") AND dbo.tContent.uplinkType='R' AND dbo.tContent.status<>'DEL' and dbo.tContent.id>" + lastId + " " +
    "ORDER BY isMe,isPoster,dbo.tContent.id; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
    0, 99999);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    showTopicRenew.busy = false;
    return;
}
var tempData;
showTopicRenew.data1 = eio.readDataSet();
if (showTopicRenew.onComplete) {
    showTopicRenew.onComplete(showTopicRenew.data1);
}
showTopicRenew.busy = false;



                        
</script3>
    </taskSetItem>
    <taskSetItem name="showTopicP2">
      <script1>//contentId,onComplete(data)
if (eb.isEmpty(showTopicP2.busy)) showTopicP2.busy = false;
if (showTopicP2.busy) return;
showTopicP2.busy = true;

eio.appendString16(g5.token);
eio.appendString16(showTopicP2.contentId);


</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var sql1 = "";
sql =
    "SELECT   TOP (100) PERCENT dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, dbo.tContent.forceTopSn, tContent_1.id AS reId,  " +
    "                DATEDIFF(second, tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, tContent_1.forceTopSn AS reForceTopSn,  " +
    "                dbo.tContent.userId AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow, " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                CONVERT(VARCHAR(50),exUserInfo.regDatetime,120) AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, exUserInfo.postCount AS exPostCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow, exFollow.[hide] as exIsHide, " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND  " +
    "                exUnlikeList.userId = " + userId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "WHERE ((dbo.tContent.uplinkType = 'F' and dbo.tContent.uplinkId = " + contentId + ") OR (dbo.tContent.uplinkType = 'L' and dbo.tContent.exContentId = " + contentId + ")) " + 
    "      AND (dbo.tContent.status<>'DEL')  " +
    "ORDER BY dbo.tContent.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exPostCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail,exIsHide," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    0, 99999);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    showTopicP2.busy = false;
    return;
}
showTopicP2.busy = false;

showTopicP2.data = eio.readDataSet();
if (showTopicP2.onComplete) showTopicP2.onComplete(showTopicP2.data);



                        
</script3>
    </taskSetItem>
    <taskSetItem name="searchUser">
      <script1>var searchString = ee.getEditText(ee.getControl("edit5"));
eio.appendString16(searchString);

</script1>
      <script2>var searchString = eio.readString16();
var sql,sqlResult;  

sql = "select * from userInfo ";
if (searchString != "") {
    sql += "where (userName like '%" + db.encode(searchString) + "%') " +
        " or (nickName like '%" + db.encode(searchString) + "%') ";
}
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,userName,nickName,photo", 0, 99999);
</script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
g5.datasetPage2 = eio.readDataSet();
g5.refreshPage2();
searchTwitter.needRefresh = true;
searchTwitter();</script3>
    </taskSetItem>
    <taskSetItem name="searchTwitter">
      <script1><![CDATA[var searchString = ee.getEditText(ee.getControl("edit5"));
eio.appendString16(g5.token);
eio.appendString16(searchString);
if (ee.getControl("panel129").eeChildren.length<=0) {
    searchTwitter.needRefresh = true;
}
if (searchTwitter.needRefresh) {
    eio.appendString16("T");
    eio.appendString16("0");
} else {
    eio.appendString16("F");
    eio.appendString16(searchTwitter.lastId);
}


]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var searchString = eio.readString16();
var needRefresh = eio.readString16();
var lastId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  


var cond = "";
if ((needRefresh == "F") &amp;&amp; (lastId != 0)) {
    cond += "  and (dbo.tContent.id < " + lastId + ") ";
}
if (searchString != "") {
    cond += " and (dbo.tContent.content like '%" + db.encode(searchString) + "%') ";
}

sql = 
    "SELECT   TOP (8) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.userId, dbo.tContent.status, dbo.tContent.[content], dbo.tContent.photoCount, dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.uplinkId, dbo.tContent.uplinkType,  " +
    "                dbo.tContent.likeCount, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount, dbo.userInfo.userName, dbo.userInfo.nickName,  " +
    "                dbo.userInfo.photo, DATEDIFF(second, tContent_1.regDatetime, GETDATE()) AS reSeconds,  " +
    "                tContent_1.userId AS reUserId, tContent_1.status AS reStatus, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photoCount AS rePhotoCount, tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2,  " +
    "                tContent_1.photo3 AS rePhoto3, tContent_1.photo4 AS rePhoto4, tContent_1.likeCount AS reLikeCount,  " +
    "                tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount, userInfo_1.userName AS reUserName,  " +
    "                userInfo_1.nickName AS reNickName, userInfo_1.photo AS rePhoto, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN forwardLink_1.id IS NULL THEN 0 ELSE 1 END AS reIsForward,  " +
    "                CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike, CASE WHEN likeList_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsLike " +
    "FROM      dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 ON dbo.tContent.uplinkId = forwardLink_1.contentId AND  " +
    "                forwardLink_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.tContent.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId ON dbo.tContent.uplinkId = tContent_1.id " +
    "WHERE tContent.[status]<>'DEL' " + cond +
    "ORDER BY dbo.tContent.id DESC     "; 

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,seconds,userId,content,photo1,clickCount,reCount,fwCount,likeCount,userName,nickName,photo" +
    ",reSeconds,reContent,rePhoto1,reUserId,reUserName,reNickName,rePhoto,status,uplinkType,uplinkId,reClickCount,reReCount," +
    "reFwCount,isForward,reIsForward,isLike,reIsLike,reLikeCount,photo2,photo3,photo4,rePhoto2,rePhoto3,rePhoto4", 0, 99999); 
]]></script2>
      <script3><![CDATA[if (eio.readString8() != "T") {
    return;
}
searchTwitter.dataset = eio.readDataSet();
if (searchTwitter.dataset.rowCount >= 0) {
    searchTwitter.lastId = searchTwitter.dataset.getData(0, searchTwitter.dataset.rowCount - 1);
} else {
    searchTwitter.lastId = "0";
}

var i, item;
var root = ee.getControl("panel129"); 
var cy = 0; 
if (eb.isEmpty(searchTwitter.items)) {
    searchTwitter.items = new Array();
}
if (searchTwitter.needRefresh) {
    for (i=0; i<searchTwitter.items.length; i++) ee.removeControl(searchTwitter.items[i]);
    searchTwitter.items = new Array();
} else {
    if (searchTwitter.items.length>0) {
        var rect = eb.getDivRect(searchTwitter.items[searchTwitter.items.length-1]);
        cy = 2 + rect.y + rect.h;
    }
}

var itemWidth = eb.getDivRect(root).w;
for (i=0; i< searchTwitter.dataset.rowCount; i++) {
    var item = createPanel(root, "sech_" + searchTwitter.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadTwitterRecord(item, searchTwitter.dataset, i);
    item.v_mode = "";
    g5.renderTwitter(item);
    searchTwitter.items.push(item);
    cy += eb.getDivRect(item).h;    
}    

searchTwitter.needRefresh = false;
ee.setRect(root,null,null,null,cy);
cy1 = eb.getDivRect(ee.getControl("panel128")).h;
cy = Math.max(cy1,cy);
ee.setRect(ee.getControl("panel137"), null,null,null,cy+130);
eb.processDock();                        
]]></script3>
    </taskSetItem>
    <taskSetItem name="searchV2">
      <script1><![CDATA[//searchString, options(hot,new,user,photo,video), pageIndex, onComplete()
if (searchV2.busy) return;
if (searchV2.searchString.length<=0) return;
searchV2.busy = true;
eio.appendString16(g5.token);
eio.appendString16(searchV2.searchString);
eio.appendString16(searchV2.options);
eio.appendString16(searchV2.pageIndex+"");
if (searchV2.pageIndex<=0) {
    g5.loading.show();
} else {
    g5.loading.show2();
}



]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var searchString = eio.readString16();
var options = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 20;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var userId = db.getString(sqlResult,"id");  


if (options == "user") {
    pageSize = 20;
}
var top = (pageIndex+1)*pageSize;
var cond = "";
if (options == "hot") {
    cond += " and dbo.tContent.[content] like N'%" + db.encode(searchString) + "%'";
} else if (options == "new") {
    cond += " and dbo.tContent.[content] like N'%" + db.encode(searchString) + "%'";
} else if (options == "user") {
    cond += " (dbo.userInfo.userName like N'%" + db.encode(searchString) + "%' " +
        " OR dbo.userInfo.nickName like N'%" + db.encode(searchString) + "%' " +
        " OR dbo.userInfo.note like N'%" + db.encode(searchString) + "%') ";
} else if (options == "photo") {
    cond += " and dbo.tContent.[content] like N'%" + db.encode(searchString) + "%' and (" +
        "dbo.getPhotoType(dbo.tContent.photo1)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo2)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo3)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo4)='img') ";
} else if (options == "video") {
    cond += " and dbo.tContent.[content] like N'%" + db.encode(searchString) + "%' and (" +
        "dbo.getPhotoType(dbo.tContent.photo1)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo2)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo3)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo4)='video') ";
}
var orderby = "ORDER BY ";
if (options == "hot") {
    orderby += "dbo.tContent.reCount DESC";
} else if (options == "new") {
    orderby += "dbo.tContent.id DESC";
} else if (options == "user") {
    orderby += "dbo.userInfo.id DESC";
} else if (options == "photo") {
    orderby += "dbo.tContent.id DESC";
} else if (options == "video") {
    orderby += "dbo.tContent.id DESC";
} else {
    orderby = "";
}
if (options == "user") {
    sql =
    "SELECT  TOP (" + top + ") dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN uBlockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN uBlockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide " +
    "FROM      dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + "     " +
    "                left outer join hideList as uHideList on dbo.userInfo.id = uHideList.hideId and uHideList.userId = " + userId + " " +
    "WHERE " + cond + " and (dbo.userInfo.status='IDL' or dbo.userInfo.status='DelIn' or dbo.userInfo.status='Private') " +
    orderby;
} else {
    sql =
    "SELECT   TOP (" + top + ") dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.clickCount, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, dbo.tContent.forceTopSn, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.clickCount AS reClickCount, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, tContent_1.forceTopSn as reForceTopSn, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, CONVERT(VARCHAR(50),userInfo_1.regDatetime,120) AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, userInfo_1.postCount AS rPostCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide, " +
    "                CASE WHEN rHideList.id IS NULL THEN 0 ELSE 1 END AS rIsHide " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "                left outer join hideList as uHideList on tContent.userId = uHideList.hideId and uHideList.userId = " + userId + " " +
    "                left outer join hideList as rHideList on tContent_1.userId = rHideList.hideId and rHideList.userId = " + userId + " " +
    "WHERE   (tContent.status<>'DEL') and (dbo.userInfo.status='IDL' or dbo.userInfo.status='DelIn'or dbo.userInfo.status='Private') " +
    "   and (tContent.uplinkType<>'L') and (ublockList.id IS NULL) and (ublockList1.id IS NULL) " +
    "   and (uHideList.id IS NULL) " + cond + " " +
    orderby;
}

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}

eio.appendString8("T");
if (options == "user") {
    eio.appendDataSet(sqlResult,
        "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",
        pageIndex*pageSize, pageSize);
} else {
    eio.appendDataSet(sqlResult,
        "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,clickCount,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike,forceTopSn," +
        "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reClickCount,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike,reForceTopSn," +
        "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide," +  
        "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rPostCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail,rIsHide",
        pageIndex*pageSize, pageSize);
}]]></script2>
      <script3>g5.loading.close();
if (eio.readString8() != "T") {
    searchV2.busy = false;
    return;
}

searchV2.dataset = eio.readDataSet();
if (!eb.isEmpty(searchV2.onComplete)) {
    searchV2.onComplete();
    searchV2.onComplete = null;
}
searchV2.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="follow">
      <script1>//userId, follow(0,1), onComplete()
if (follow.follow==0) {
    eio.appendString16("F");
} else {
    eio.appendString16("T");
}
eio.appendString16(g5.token);
eio.appendString16(follow.userId);
g5.blockLoading.show();



</script1>
      <script2><![CDATA[var follow = eio.readString16();
var token = eio.readString16();
var userId = eio.readString16();
var sql,sqlResult; 

if (parseInt(userId) == 10877) {
    eio.appendString8("F");
    eio.appendString8("该账号不能被关注。");
    return;
}
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("关注自己就没意思了吧？");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUser " + myUserId + "," + parseInt(userId) + "," + (follow=="T"?"1":"0");
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
eio.appendString8(follow);
]]></script2>
      <script3>g5.blockLoading.close();
if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
var f = eio.readString8();
if (!eb.isEmpty(follow.onComplete)) {
    follow.onComplete();
    follow.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="followBatch">
      <script1><![CDATA[//userId[], onComplete()
eio.appendString8(g5.token);
eio.appendInt32(followBatch.userId.length);
for (let i=0; i<followBatch.userId.length; i++) {
    eio.appendString8(followBatch.userId[i] + "");
}
g5.blockLoading.show();



]]></script1>
      <script2><![CDATA[var token = eio.readString8();
let userIdLen = eio.readInt32();
if (userIdLen > 100) {
    eio.appendString8("F");
    eio.appendString8("System Busy");
    return;
}
let userIds = [];
for (let i = 0; i < userIdLen; i++) {
    userIds.push(eio.readString8());
}

var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "";
for (let i = 0; i < userIds.length; i++) {
    let userId = userIds[i];
    if (parseInt(userId) == 10877) continue; //不能关注游客
    if (myUserId == userId) continue; //不能关注自己
    sql += "exec followUser " + myUserId + "," + parseInt(userId) + ",1;\n";
}
if (sql == "") {
    eio.appendString8("T");
    return;
}
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>g5.blockLoading.close();
if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
if (!eb.isEmpty(followBatch.onComplete)) {
    followBatch.onComplete();
    followBatch.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="followReq">
      <script1>//userId, operation(0,1), onComplete()
eio.appendString16(g5.token);
eio.appendString16(followReq.userId);
eio.appendString16(followReq.operation + "");
g5.blockLoading.show();



</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var operation = parseInt(eio.readString16());
var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("不能向自己提出申请");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUserRequest " + myUserId + "," + userId + "," + operation;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>g5.blockLoading.close();
if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
if (!eb.isEmpty(followReq.onComplete)) {
    followReq.onComplete();
    followReq.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="followAcceptReject">
      <script1>//userId, operation(0,1), onComplete()
eio.appendString16(g5.token);
eio.appendString16(followAcceptReject.userId);
eio.appendString16(followAcceptReject.operation + "");
g5.blockLoading.show();



</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var operation = parseInt(eio.readString16());
var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("不能向自己提出申请");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUserAccept " + myUserId + "," + userId + "," + operation;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>g5.blockLoading.close();
if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
if (!eb.isEmpty(followAcceptReject.onComplete)) {
    followAcceptReject.onComplete();
    followAcceptReject.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="followHide">
      <script1>//userId, operation(0,1), onComplete()
eio.appendString16(g5.token);
eio.appendString16(followHide.userId);
eio.appendString16(followHide.operation + "");
g5.blockLoading.show();



</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var operation = parseInt(eio.readString16());
var sql,sqlResult; 

if (parseInt(userId) == 10877) {
    eio.appendString8("F");
    eio.appendString8("该账号不能被隐藏。");
    return;
}

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("不能向自己提出申请");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能执行此类操作，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUserHide " + myUserId + "," + parseInt(userId) + "," + operation;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>g5.blockLoading.close();
if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
if (!eb.isEmpty(followHide.onComplete)) {
    followHide.onComplete();
    followHide.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="chatGet1v1">
      <script1>//chatUserId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGet1v1.busy) return;
chatGet1v1.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGet1v1.chatUserId+"");
eio.appendString16(chatGet1v1.chatId+"");
eio.appendString16(chatGet1v1.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatUserId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chat.id>" + chatId;
        top = "";
    }
} else {
    where = "and chat.id<" + chatId;
}

sql =
    "SELECT  " + top + " dbo.chat.id AS chatId, CONVERT(VARCHAR(50), dbo.chat.regDatetime, 120) AS chatRegDatetime, dbo.chat.[content], dbo.chat.photo1, " +
    "                DATEDIFF(second, dbo.chat.regDatetime, GETUTCDATE()) AS seconds, dbo.userInfo.id, " +
    "                dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.lastAccessTime, dbo.userInfo.userName,  " +
    "                dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg,  " +
    "                dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo, dbo.userInfo.followCount, dbo.userInfo.fansCount, dbo.userInfo.postCount  " +
    "FROM      dbo.userInfo INNER JOIN " +
    "                dbo.chat ON dbo.userInfo.id = dbo.chat.sendUserId " +
    "WHERE   ((dbo.chat.sendUserId = " + myUserId +") AND (dbo.chat.recvUserId = " + chatUserId + ") OR " +
    "                (dbo.chat.sendUserId = " + chatUserId + ") AND (dbo.chat.recvUserId = " + myUserId +")) " + where + " " +
    "ORDER BY dbo.chat.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"chatId,chatRegDatetime,seconds,content,photo1," +
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,postCount,isFollow,isBlock1,isBlock2", 0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGet1v1.busy = false;
    return;
}

chatGet1v1.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGet1v1.onComplete)) {
    chatGet1v1.onComplete(chatGet1v1.dataset);
    chatGet1v1.onComplete = null;
}
chatGet1v1.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="sendChat1v1">
      <script1>//content, chatUserId, onComplete()
if (sendChat1v1.busy) return;
sendChat1v1.busy = true;

eio.appendString16(g5.token);
eio.appendString16(sendChat1v1.chatUserId + "");
eio.appendString16(sendChat1v1.content);</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatUserId = parseInt(eio.readString16());
var content = eio.readString16();
var sql,sqlResult;  

if (parseInt(chatUserId) == 10877) {
    eio.appendString8("F");
    eio.appendString8("您不能与该账号私信。");
    return;
}

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql = "exec [chat1v1Send] " +
    myUserId +
    "," + parseInt(chatUserId) + 
    ",N'" + db.encode(content) + "'" +
    ",'';";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙");
    es.logCommon("sql执行错误,sql=" + sql);
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    sendChat1v1.busy = false;
    return;
}

if (!eb.isEmpty(sendChat1v1.onComplete)) {
    sendChat1v1.onComplete(sendChat1v1.dataset);
    sendChat1v1.onComplete = null;
}
sendChat1v1.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="markUserReadChat1v1">
      <script1>//chatUserId, onComplete()
if (markUserReadChat1v1.busy) return;
markUserReadChat1v1.busy = true;

eio.appendString16(g5.token);
eio.appendString16(markUserReadChat1v1.chatUserId + "");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatUserId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql = "exec [chat1v1MarkUserRead] " +
    myUserId +
    "," + chatUserId + "; ";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙");
    es.logCommon("sql执行错误,sql=" + sql);
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    markUserReadChat1v1.busy = false;
    return;
}

if (!eb.isEmpty(markUserReadChat1v1.onComplete)) {
    markUserReadChat1v1.onComplete(markUserReadChat1v1.dataset);
    markUserReadChat1v1.onComplete = null;
}
markUserReadChat1v1.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="showChatList">
      <script1><![CDATA[//pageIndex,pageSize,onComplete
eio.appendString16(g5.token);
showChatList.busy = true;
eio.appendInt32(showChatList.pageIndex);
eio.appendInt32(showChatList.pageSize);
//showChatList.pageIndex>0 ? g5.loading.show2() : g5.loading.show(); 
]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var pageIndex = eio.readInt32();
var pageSize = eio.readInt32();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

var top = "TOP (" + ((pageIndex+1) * pageSize) + ")";
sql =
    "SELECT        " + top + " CAL_ChatList.chatUserId AS uId, CAL_ChatList.maxId, CONVERT(VARCHAR(50), dbo.chat.regDatetime, 120) AS regDatetime, dbo.chat.[content], dbo.chat.photo1, dbo.userInfo.status AS uStatus, "+
    "                          CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) AS uRegDatetime, dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName, dbo.userInfo.mobile AS uMobile,  "+
    "                         dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  "+
    "                         dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN uBlockList.id IS NULL  "+
    "                         THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN uBlockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide,  "+
    "                         CASE WHEN CAL_NewCount.newCount IS NULL THEN 0 ELSE CAL_NewCount.newCount END AS newCount "+
    "FROM            (SELECT        chatUserId, MAX(id) AS maxId "+
    "                          FROM            (SELECT        CASE WHEN sendUserId = " + myUserId + " THEN recvUserId WHEN recvUserId = " + myUserId + " THEN sendUserId ELSE - 1 END AS chatUserId, id "+
    "                                                    FROM            dbo.chat AS t1 "+
    "                                                    WHERE        (sendUserId = " + myUserId + ") AND (sendStatus = 'new') OR "+
    "                                                                              (recvUserId = " + myUserId + ") AND (recvStatus = 'new')) AS derivedtbl_1 "+
    "                          GROUP BY chatUserId) AS CAL_ChatList INNER JOIN "+
    "                         dbo.chat ON CAL_ChatList.maxId = dbo.chat.id INNER JOIN "+
    "                         dbo.userInfo ON CAL_ChatList.chatUserId = dbo.userInfo.id LEFT OUTER JOIN "+
    "                         dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN "+
    "                         dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN "+
    "                         dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " LEFT OUTER JOIN "+
    "                         dbo.hideList AS uHideList ON CAL_ChatList.chatUserId = uHideList.hideId AND uHideList.userId = " + myUserId + " LEFT OUTER JOIN "+
    "                             (SELECT        COUNT(*) AS newCount, chat_1.sendUserId, chat_1.recvUserId "+
    "                               FROM            dbo.chat AS chat_1 INNER JOIN "+
    "                                                         dbo.chatReadPointer ON chat_1.id > dbo.chatReadPointer.readId AND dbo.chatReadPointer.userId = " + myUserId + " AND dbo.chatReadPointer.targetUserId = chat_1.sendUserId "+
    "                               WHERE        (chat_1.recvUserId = " + myUserId + ") "+
    "                               GROUP BY chat_1.sendUserId, chat_1.recvUserId) AS CAL_NewCount ON CAL_NewCount.sendUserId = CAL_ChatList.chatUserId "+
    "WHERE        (uBlockList.id IS NULL) "+
    "ORDER BY CAL_ChatList.maxId DESC; ";

    /*

    "SELECT   " + top + " derivedtbl_2.chatUserId AS uId, derivedtbl_2.maxId, CONVERT(VARCHAR(50),dbo.chat.regDatetime,120) as regDatetime, dbo.chat.[content], " + 
    "                dbo.chat.photo1, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN uBlockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN uBlockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide " +
    "FROM      (SELECT   chatUserId, MAX(id) AS maxId " +
    "                FROM (" +
    "                   SELECT  CASE WHEN sendUserId = " + myUserId + " THEN recvUserId WHEN recvUserId = " + myUserId + " THEN sendUserId ELSE - 1 END " +
    "                           AS chatUserId, id " +
    "                   FROM    dbo.chat AS t1 " +
    "                   WHERE   (sendUserId = " + myUserId + " and sendStatus='new') OR " +
    "                           (recvUserId = " + myUserId + " and recvStatus='new') " +
    "                ) AS derivedtbl_1 " +
    "                GROUP BY chatUserId) AS derivedtbl_2 INNER JOIN " +
    "                dbo.chat ON derivedtbl_2.maxId = dbo.chat.id INNER JOIN " +
    "                dbo.userInfo ON derivedtbl_2.chatUserId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on derivedtbl_2.chatUserId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "WHERE  uBlockList.id IS NULL " +
    "ORDER BY derivedtbl_2.maxId DESC; ";
    */

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"maxId,regDatetime,content,photo1,newCount," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsBlock", 
    pageIndex*pageSize, pageSize);




]]></script2>
      <script3>g5.loading.close();
if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showChatList.dataset = eio.readDataSet();
   
if (!eb.isEmpty(showChatList.onComplete)) {
    showChatList.onComplete(showChatList.dataset);
    showChatList.onComplete = null;
}
showChatList.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="delChatAll1v1">
      <script1>//targetUserId, onComplete
if (delChatAll1v1.busy) return;
delChatAll1v1.busy = true;
eio.appendString16(g5.token);
eio.appendString16(delChatAll1v1.targetUserId);






</script1>
      <script2><![CDATA[var token = eio.readString16();
var targetUserId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能删除发言内容，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec chat1v1DelAll " +
    myUserId + 
    "," + targetUserId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    delChatAll1v1.busy = false;
    return;
}

if (delChatAll1v1.onComplete) delChatAll1v1.onComplete();
delChatAll1v1.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="delTwitter">
      <script1>//busy, contentId, onComplete
if (delTwitter.busy) return;
delTwitter.busy = true;
eio.appendString16(g5.token);
eio.appendString16(delTwitter.contentId);






</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能删除发言内容，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec twitterDel " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    delTwitter.busy = false;
    return;
}

if (delTwitter.onComplete) {
    g5.syncPostCount(-1);
    delTwitter.onComplete();
}
delTwitter.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="setTwitterForceTop">
      <script1>//contentId,forceTop,onComplete
setTwitterForceTop.busy = true;
eio.appendString16(g5.token);
eio.appendString16(setTwitterForceTop.contentId + "");
eio.appendString16(setTwitterForceTop.forceTop? "T":"F");







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var forceTop = eio.readString16()=="T";

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能进行本操作。");
    return;
}

sql = "exec twitterForceTop " +
    myUserId + 
    "," + contentId +
    "," + (forceTop ? 1:0);
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getInt32(sqlResult,"errorCode")!=0) {
    es.logWarning(sql+"; result=" + db.getString(sqlResult,"errorString"));
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");


]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    setTwitterForceTop.busy = false;
    return;
}
if (!eb.isEmpty(setTwitterForceTop.onComplete)) {
    setTwitterForceTop.onComplete();
    setTwitterForceTop.onComplete=null;
}
setTwitterForceTop.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="blockUser">
      <script1>//userId, isBlock(0/1), onComplete
blockUser.busy = true;
eio.appendString16(g5.token);
eio.appendString16(blockUser.userId + "");
eio.appendString16(blockUser.isBlock + "");






</script1>
      <script2><![CDATA[var token = eio.readString16();
var blockUserId = parseInt(eio.readString16());
var isBlock = parseInt(eio.readString16());


if (parseInt(blockUserId) == 10877) {
    eio.appendString8("F");
    eio.appendString8("该账号不能被屏蔽。");
    return;
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能删除发言内容，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec blockUser " +
    myUserId + 
    "," + parseInt(blockUserId) +
    "," + isBlock;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    blockUser.busy = false;
    return;
}
if (!eb.isEmpty(blockUser.onComplete)) {
    blockUser.onComplete();
    blockUser.onComplete=null;
}
blockUser.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="followV2">
      <script1>if (followV2.follow) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}
eio.appendString16(g5.token);
eio.appendString16(followV2.userId);



</script1>
      <script2><![CDATA[var follow = eio.readString16();
var token = eio.readString16();
var userId = parseInt(eio.readString16());
var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("关注自己就没意思了吧？");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUser " + myUserId + "," + userId + "," + (follow=="T"?"1":"0");
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
eio.appendString8(follow);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
</script3>
    </taskSetItem>
    <taskSetItem name="showForwardList">
      <script1>//contentId, onComplete
if (showForwardList.busy) return;
showForwardList.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showForwardList.contentId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   forwardUsers.userId AS uId, dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " + 
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " + 
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " + 
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " + 
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount, " + 
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " + 
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " + 
    "                THEN 0 ELSE 1 END AS uIsBlock2 " + 
    "FROM      (SELECT   userId " + 
    "                 FROM      dbo.tContent " + 
    "                 WHERE   (uplinkType = 'F') AND (uplinkId = "+contentId+") OR " + 
    "                                 (uplinkType = 'L') AND (exContentId = "+contentId+") AND ([status] = 'IDL') " + 
    "                 GROUP BY userId) AS forwardUsers LEFT OUTER JOIN " + 
    "                dbo.userInfo ON forwardUsers.userId = dbo.userInfo.id LEFT OUTER JOIN " + 
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " + 
    "                uBlockList1.blockUserId = "+myUserId+" LEFT OUTER JOIN " + 
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = "+myUserId+" LEFT OUTER JOIN " + 
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = "+myUserId+" " +
    "WHERE (ublockList.id IS NULL) ; ";

    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail",
    0, 99999);

]]></script2>
      <script3>if (eio.readString8()!="T") {
    showForwardList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showForwardList.dataset = eio.readDataSet();

if (showForwardList.onComplete) {
    showForwardList.onComplete(showForwardList.dataset);
}
showForwardList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showFollowList">
      <script1>//userId,pageIndex,onComplete
if (showFollowList.busy) return;
showFollowList.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showFollowList.userId);
eio.appendInt32(showFollowList.pageIndex);</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var pageIndex = eio.readInt32();
var pageSize = 20;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

var top = (pageIndex+1)*pageSize;
sql =
    "SELECT   TOP (" + top + ") dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow, " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide " +
    "FROM      dbo.follow LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.follow.followId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on dbo.follow.followId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "WHERE   (dbo.follow.userId = " + userId + ") " +
    "ORDER BY dbo.follow.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",
    pageIndex*pageSize, pageSize);

]]></script2>
      <script3>if (eio.readString8()!="T") {
    showFollowList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showFollowList.dataset = eio.readDataSet();

if (showFollowList.onComplete) {
    showFollowList.onComplete(showFollowList.dataset);
}
showFollowList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showFansList">
      <script1>//userId,pageIndex,onComplete
if (showFansList.busy) return;
showFansList.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showFansList.userId);
eio.appendInt32(showFansList.pageIndex);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var pageIndex = eio.readInt32();
var pageSize = 20;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

var top = (pageIndex+1)*pageSize;

sql =
    "SELECT   TOP (" + top + ") dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow, " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2, " +
    "                CASE WHEN uHideList.id IS NULL THEN 0 ELSE 1 END AS uIsHide " +
    "FROM      dbo.follow LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.follow.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "                left outer join hideList as uHideList on dbo.follow.userId = uHideList.hideId and uHideList.userId = " + myUserId + " " +
    "WHERE   (dbo.follow.followId = " + userId + ") " +
    "ORDER BY dbo.follow.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",
    pageIndex*pageSize, pageSize);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    showFansList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showFansList.dataset = eio.readDataSet();

if (showFansList.onComplete) {
    showFansList.onComplete(showFansList.dataset);
}
showFansList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showFansRequest">
      <script1>//onComplete
if (showFansRequest.busy) return;
showFansRequest.busy = true;
eio.appendString16(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   TOP (100) PERCENT dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime, " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.fansRequest LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.fansRequest.fansId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "WHERE   (dbo.fansRequest.userId = " + myUserId + ") " +
    "ORDER BY dbo.fansRequest.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail",
    0, 99999);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    showFansRequest.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showFansRequest.dataset = eio.readDataSet();

if (showFansRequest.onComplete) {
    showFansRequest.onComplete(showFansRequest.dataset);
}
showFansRequest.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showHideList">
      <script1>//onComplete
if (showHideList.busy) return;
showHideList.busy = true;
eio.appendString16(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   TOP (100) PERCENT dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow, " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2, '1' as uIsHide " +
    "FROM      dbo.hideList LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.hideList.hideId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "WHERE   (dbo.hideList.userId = " + myUserId + ") " +
    "ORDER BY dbo.hideList.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,uIsHide",
    0, 99999);

]]></script2>
      <script3>if (eio.readString8()!="T") {
    showHideList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showHideList.dataset = eio.readDataSet();

if (showHideList.onComplete) {
    showHideList.onComplete(showHideList.dataset);
}
showHideList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showLikeList">
      <script1>//contentId, onComplete
if (showLikeList.busy) return;
showLikeList.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showLikeList.contentId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime, " + 
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.likeList INNER JOIN " +
    "                dbo.userInfo ON dbo.likeList.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = "+myUserId+" " +
    "WHERE   (dbo.likeList.contentId = " + contentId + ") " +
    "ORDER BY dbo.likeList.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail",
    0, 99999);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    showLikeList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showLikeList.dataset = eio.readDataSet();

if (showLikeList.onComplete) {
    showLikeList.onComplete(showLikeList.dataset);
}
showLikeList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showUnlikeList">
      <script1>//contentId, onComplete
if (showUnlikeList.busy) return;
showUnlikeList.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showUnlikeList.contentId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime, " + 
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.unlikeList INNER JOIN " +
    "                dbo.userInfo ON dbo.unlikeList.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = "+myUserId+" " +
    "WHERE    (dbo.unlikeList.contentId = " + contentId + ") " +
    "ORDER BY dbo.unlikeList.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail",
    0, 99999);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    showUnlikeList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showUnlikeList.dataset = eio.readDataSet();

if (showUnlikeList.onComplete) {
    showUnlikeList.onComplete(showUnlikeList.dataset);
}
showUnlikeList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="showBlockList">
      <script1>//onComplete
if (showBlockList.busy) return;
showBlockList.busy = true;
eio.appendString16(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   dbo.userInfo.id AS uId, dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime, " + 
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.blockList INNER JOIN " +
    "                dbo.userInfo ON dbo.blockList.blockUserId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = "+myUserId+" LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = "+myUserId+" " +
    "WHERE   (dbo.blockList.userId = " + myUserId + ") " +
    "ORDER BY dbo.blockList.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail",
    0, 99999);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    showBlockList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
showBlockList.dataset = eio.readDataSet();

if (showBlockList.onComplete) {
    showBlockList.onComplete(showBlockList.dataset);
}
showBlockList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="likeContent">
      <script1>//contentId,onComplete
likeContent.busy = true;
eio.appendString16(g5.token);
eio.appendString16(likeContent.contentId);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var myStatus = db.getString(sqlResult,"status");
if (myStatus == "FREEZE") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于冻结状态，不能进行此类操作。");
    return;
} else if (myStatus == "Private") {
} else if (myStatus != "IDL") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于非正常状态（" + myStatus + "），不能进行此类操作。");
    return;
}

if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能点赞，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec twitterLike " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    likeContent.busy = false;
    return;
}
likeContent.onComplete();
likeContent.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="unlikeContent">
      <script1>//contentId,onComplete
unlikeContent.busy = true;
eio.appendString16(g5.token);
eio.appendString16(unlikeContent.contentId);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能点踩，您如果需要使用这个功能请注册正式用户。");
    return;
}
var myStatus = db.getString(sqlResult,"status");
if (myStatus == "FREEZE") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于冻结状态，不能进行此类操作。");
    return;
} else if (myStatus == "Private") {
} else if (myStatus != "IDL") {
    eio.appendString8("F");
    eio.appendString8("对不起，您的账户目前处于非正常状态（" + myStatus + "），不能进行此类操作。");
    return;
}

sql = "exec twitterUnlike " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    unlikeContent.busy = false;
    return;
}
unlikeContent.onComplete();
unlikeContent.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="delAccount">
      <script1>//onComplete
delAccount.busy = true;
eio.appendString16(g5.token);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var myStatus = db.getString(sqlResult, "status");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能使用本功能。");
    return;
}

var op;
if (myStatus == "DelIn") {
    op = "0";
} else if (myStatus == "FREEZE") {
    op = "1";
} else if (myStatus == "IDL") {
    op = "1";
} else {
    eio.appendString8("F");
    eio.appendString8("您的账户状态不允许进行删除账号操作");
    return;
}

sql = "exec userStartDel " +
    userId + 
    "," + op;
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult, "errorString"));
    return;
}
eio.appendString8("T");
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    delAccount.busy = false;
    return;
}
delAccount.onComplete();
delAccount.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="setAccountPrivate">
      <script1>//onComplete
setAccountPrivate.busy = true;
eio.appendString16(g5.token);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var myStatus = db.getString(sqlResult, "status");

var op;
if (myStatus == "Private") {
    op = "0";
} else if (myStatus == "IDL") {
    op = "1";
} else {
    eio.appendString8("F");
    eio.appendString8("您的账户状态不允许进行账户模式的设置");
    return;
}

sql = "exec userPrivate " +
    userId + 
    "," + op;
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult, "errorString"));
    return;
}
eio.appendString8("T");
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    setAccountPrivate.busy = false;
    return;
}
setAccountPrivate.onComplete();
setAccountPrivate.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="setDonateList">
      <script1><![CDATA[//v_data,onComplete
setDonateList.busy = true;
eio.appendString16(g5.token);
var len = Math.min(setDonateList.v_data.length,10);
eio.appendByte(len);
for (var i=0; i<len; i++) {
    eio.appendString8(setDonateList.v_data[i].type);
    eio.appendString8(setDonateList.v_data[i].linkType);
    eio.appendString8(setDonateList.v_data[i].linkValue);
}








]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var myStatus = db.getString(sqlResult, "status");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能使用本功能。");
    return;
}

var IType = function() {
    this.type = "";
    this.linkType = "";
    this.linkValue = "";
}
var len = eio.readByte();
if (len>=10) return;
var v_data = new Array();
for (var i=0; i<len; i++) {
    var item = new IType();
    item.type = eio.readString8();
    item.linkType = eio.readString8();
    item.linkValue = eio.readString8();
    v_data.push(item);
}

sql = "delete donateList where userId = " + userId + ";\n";
for (var i=0; i<v_data.length; i++) {
    sql += "insert into donateList (userId,donateName,linkType,linkValue) values (" +
        userId + "," +
        "N'" + db.encode(v_data[i].type) + "'," +
        "'" + db.encode(v_data[i].linkType) + "'," +
        "'" + db.encode(v_data[i].linkValue) + "');\n";
}
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      
]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    setDonateList.busy = false;
    return;
}
setDonateList.onComplete();
setDonateList.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="getDonateList">
      <script1>//onComplete
if (getDonateList.busy) return;
getDonateList.busy = true;
eio.appendString16(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "select * from donateList where " +
    " userId = " + myUserId +
    " order by id";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,donateName,linkType,linkValue",
    0, 99999);




]]></script2>
      <script3>if (eio.readString8()!="T") {
    getDonateList.busy = false;
    g5.alert1("提示", eio.readString8());
    return;
}
getDonateList.dataset = eio.readDataSet();

if (getDonateList.onComplete) {
    getDonateList.onComplete(getDonateList.dataset);
}
getDonateList.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="getDelInTime">
      <script1>//onComplete(timeRemainSec)
getDelInTime.busy = true;
eio.appendString16(g5.token);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var myStatus = db.getString(sqlResult, "status");

if (myStatus != "DelIn") {
    eio.appendString8("F");
    eio.appendString8("您的账户状态不正确");
    return;
}

sql = "exec getUserDelTimeRemain " +
    userId;
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
eio.appendString8("T");
eio.appendString16(db.getString(sqlResult,"timeRemain"));

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    getDelInTime.busy = false;
    return;
}
getDelInTime.timeRemainSec = eio.readString16();
getDelInTime.onComplete(parseInt(getDelInTime.timeRemainSec));
getDelInTime.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="changePassword">
      <script1>//old,new,onComplete
eio.appendString16(g5.token);
eio.appendString16(changePassword.old);
eio.appendString16(changePassword.new);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var p1 = eio.readString16();
var p2 = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对密码进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "select * from userInfo where userName = '"+db.encode(userName)+"' and password = '"+es.getMd5(p1)+"'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("对不起，您输入的原密码不正确，密码修改失败");
    es.logCommon("用户修改密码失败,passwordWrong=" + p1);
    return;
} 

sql = "update userInfo set password = '" + es.getMd5(p2) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    return;
}
changePassword.onComplete();
</script3>
    </taskSetItem>
    <taskSetItem name="changeNickName">
      <script1>//nickName,onComplete
changeNickName.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeNickName.nickName);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var nickName = eio.readString16();
if ((nickName.length<3) || (nickName.length>50)) {
    eio.appendString8("F");
    eio.appendString8("用户名长度非法");
    return;
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对用户名进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set nickName = N'" + db.encode(nickName) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    changeNickName.busy = false;
    return;
}
changeNickName.onComplete();
changeNickName.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeMobile">
      <script1>//mobile,onComplete
changeMobile.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeMobile.mobile);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var mobile = eio.readString16();
if (mobile.length>0) {
    if (!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(mobile)) {
        eio.appendString8("F");
        eio.appendString8("您输入的手机号有误");
        return;
    }
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "select * from userInfo where userName='" + db.encode(userName) + "' and mobile='" + db.encode(mobile) + "'; " +
    "select * from userInfo where userName<>'" + db.encode(userName) + "' and mobile='" + db.encode(mobile) + "'; ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("您输入的手机号码和原来的相同。");
    return;
}
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("该手机号码已经被其他人使用过了。");
    return;
}

sql = "update userInfo set mobile = '" + db.encode(mobile) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法修改手机号码",eio.readString8());
    changeMobile.busy = false;
    return;
}
changeMobile.onComplete();
changeMobile.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeEmail">
      <script1>//email,onComplete
changeEmail.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeEmail.email);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var email = eio.readString16();
if (email.length>0) {
    if (!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(email)) {
        eio.appendString8("F");
        eio.appendString8("您输入的电子邮件地址有误");
        return;
    }
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "select * from userInfo where userName='" + db.encode(userName) + "' and email='" + db.encode(email) + "'; " +
    "select * from userInfo where userName<>'" + db.encode(userName) + "' and email='" + db.encode(email) + "'; ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("您输入的电子邮件地址和原来的相同。");
    return;
}
db.nextResult(sqlResult);
if (db.read(sqlResult) &amp;&amp; (email.length>0)) {
    eio.appendString8("F");
    eio.appendString8("该电子邮件地址已经被其他人使用过了。");
    return;
}

sql = "update userInfo set email = '" + db.encode(email) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("修改电子邮箱失败",eio.readString8());
    changeEmail.busy = false;
    return;
}
changeEmail.onComplete();
changeEmail.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeNote">
      <script1>//note,onComplete
changeNote.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeNote.note);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var note = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set note = N'" + db.encode(note) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("修改失败",eio.readString8());
    changeNote.busy = false;
    return;
}
changeNote.onComplete();
changeNote.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeHomePage">
      <script1>//homePage,onComplete
changeHomePage.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeHomePage.homePage);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var homePage = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set homePage = '" + db.encode(homePage) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("修改失败",eio.readString8());
    changeHomePage.busy = false;
    return;
}
changeHomePage.onComplete();
changeHomePage.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeUserPhoto">
      <script1>//photo,titleBg,onComplete
changeUserPhoto.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeUserPhoto.photo);
eio.appendString16(changeUserPhoto.titleBg);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var photo = eio.readString16();
var titleBg = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set photo = '" + db.encode(photo) + "', " +
    "titleBg =  '" + db.encode(titleBg) + "' " +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("修改失败",eio.readString8());
    changeUserPhoto.busy = false;
    return;
}
changeUserPhoto.onComplete();
changeUserPhoto.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="chatGet">
      <script1>//roomId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGet.busy) return;
chatGet.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGet.roomId+"");
eio.appendString16(chatGet.chatId+"");
eio.appendString16(chatGet.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chatRoomData.id>" + chatId;
        top = "";
    }
} else {
    where = "and chatRoomData.id<" + chatId;
}

sql =
    "SELECT   " + top + "  dbo.chatRoomData.id, CONVERT(VARCHAR(50), dbo.chatRoomData.regDatetime, 120)  " +
    "                AS regDatetime, dbo.chatRoomData.status AS chatStatus, dbo.chatRoomData.roomId, dbo.chatRoomData.msgContent,  " +
    "                CASE WHEN chatRoomVip.id IS NULL THEN 0 ELSE 1 END AS isAdmin, CASE WHEN chatRoomVip_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlack, CASE WHEN chatRoomBlockTime.id IS NULL THEN 0 ELSE 1 END AS isBlockTime,  " +
    "                dbo.chatRoomData.userId AS uId, dbo.userInfo.status AS uStatus, CONVERT(VARCHAR(50),dbo.userInfo.regDatetime,120) AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.email AS uEmail, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.chatRoomData LEFT OUTER JOIN " +
    "                dbo.chatRoomBlockTime ON dbo.chatRoomData.roomId = dbo.chatRoomBlockTime.roomId AND  " +
    "                dbo.chatRoomData.userId = dbo.chatRoomBlockTime.userId AND dbo.chatRoomBlockTime.endTime > getUTCDate()  " +
    "                LEFT OUTER JOIN " +
    "                dbo.chatRoomVip AS chatRoomVip_1 ON dbo.chatRoomData.roomId = chatRoomVip_1.chatRoomId AND  " +
    "                dbo.chatRoomData.userId = chatRoomVip_1.userId AND chatRoomVip_1.status = 'BLK' LEFT OUTER JOIN " +
    "                dbo.chatRoomVip ON dbo.chatRoomData.roomId = dbo.chatRoomVip.chatRoomId AND  " +
    "                dbo.chatRoomData.userId = dbo.chatRoomVip.userId AND dbo.chatRoomVip.status = 'ADM' LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.chatRoomData.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "WHERE   (dbo.chatRoomData.roomId = " + roomId + ") " + where + " " +
    "ORDER BY dbo.chatRoomData.id DESC;";
    

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,regDatetime,chatStatus,roomId,msgContent,isAdmin,isBlack,isBlockTime," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,",  
    0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGet.busy = false;
    return;
}

chatGet.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGet.onComplete)) {
    chatGet.onComplete(chatGet.dataset);
    chatGet.onComplete = null;
}
chatGet.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="chatGetPv">
      <script1>//roomId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGetPv.busy) return;
chatGetPv.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGetPv.roomId+"");
eio.appendString16(chatGetPv.chatId+"");
eio.appendString16(chatGetPv.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chatRoomData.id>" + chatId;
        top = "";
    }
} else {
    where = "and chatRoomData.id<" + chatId;
}

sql =
    "SELECT   " + top + " dbo.chatRoomData.id, CONVERT(VARCHAR(50), dbo.chatRoomData.regDatetime, 120) " + 
    "                AS regDatetime, dbo.chatRoomData.status AS chatStatus, dbo.chatRoomData.roomId, dbo.chatRoomData.msgContent,  " +
    "                dbo.chatRoomData.userId AS uId, dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.email AS uEmail, dbo.userInfo.nickName AS uNickName,  " +
    "                dbo.userInfo.note AS uNote, dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg,  " +
    "                dbo.userInfo.homePage AS uHomePage, dbo.userInfo.followCount AS uFollowCount,  " +
    "                dbo.userInfo.fansCount AS uFansCount, dbo.userInfo.postCount AS uPostCount, CASE WHEN uFollow.id IS NULL THEN 0 ELSE 1 END AS uIsFollow,  " +
    "                CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1, CASE WHEN ublockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsBlock2 " +
    "FROM      dbo.chatRoomData LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.chatRoomData.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 ON uBlockList1.userId = dbo.userInfo.id AND  " +
    "                uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " " +
    "WHERE   (dbo.chatRoomData.roomId = " + roomId + ") " + where + " " +
    "ORDER BY dbo.chatRoomData.id DESC;";    

//es.logWarning(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,regDatetime,chatStatus,roomId,msgContent," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uPostCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail,",  
    0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGetPv.busy = false;
    return;
}

chatGetPv.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGetPv.onComplete)) {
    chatGetPv.onComplete(chatGetPv.dataset);
    chatGetPv.onComplete = null;
}
chatGetPv.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="chatSend">
      <script1>//roomId, msgContent, onComplete()
//dataset
eio.appendString16(g5.token);
eio.appendString16(chatSend.roomId+"");
eio.appendString16(chatSend.msgContent);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var msgContent = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

sql =
    "exec [chatRoomPostMessage] " +
    roomId + "," +
    myUserId + "," +
    "N'" + db.encode(msgContent) + "';";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");


]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法发送聊天内容", eio.readString8());
    return;
}

if (!eb.isEmpty(chatSend.onComplete)) {
    chatSend.onComplete();
    chatSend.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvRequest">
      <script1>//chatRoomId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvRequest.chatRoomId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomRequest " +
    chatRoomId + "," +
    myUserId;
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法发送请求", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvRequest.onComplete)) {
    chatPrvRequest.onComplete();
    chatPrvRequest.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvPermit">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvPermit.chatRoomId+"");
eio.appendString16(chatPrvPermit.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomPermit " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法允许用户加入", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvPermit.onComplete)) {
    chatPrvPermit.onComplete();
    chatPrvPermit.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvReject">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvReject.chatRoomId+"");
eio.appendString16(chatPrvReject.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomReject " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("拒绝用户失败", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvReject.onComplete)) {
    chatPrvReject.onComplete();
    chatPrvReject.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvDelete">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvDelete.chatRoomId+"");
eio.appendString16(chatPrvDelete.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomDelete " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法移出用户", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvDelete.onComplete)) {
    chatPrvDelete.onComplete();
    chatPrvDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomRecdDelete">
      <script1>//chatRoomId, chatId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomRecdDelete.chatRoomId+"");
eio.appendString16(chatRoomRecdDelete.chatId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomRecdDelete " +
    myUserId + "," +
    chatRoomId + "," +
    chatId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法删除聊天记录", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomRecdDelete.onComplete)) {
    chatRoomRecdDelete.onComplete();
    chatRoomRecdDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomRecdUndel">
      <script1>//chatRoomId, chatId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomRecdUndel.chatRoomId+"");
eio.appendString16(chatRoomRecdUndel.chatId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomRecdUndel " +
    myUserId + "," +
    chatRoomId + "," +
    chatId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法恢复聊天记录", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomRecdUndel.onComplete)) {
    chatRoomRecdUndel.onComplete();
    chatRoomRecdUndel.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomAdmin">
      <script1>//chatRoomId, userId, operation(ADD/DEL), onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomAdmin.operation);
eio.appendString16(chatRoomAdmin.chatRoomId+"");
eio.appendString16(chatRoomAdmin.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "ADD") {
    operation = "chatRoomAdminAdd";
} else {
    operation = "chatRoomAdminDel";
}

sql =
    "exec " + operation + " " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法操作聊天室管理员", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomAdmin.onComplete)) {
    chatRoomAdmin.onComplete();
    chatRoomAdmin.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlack">
      <script1>//chatRoomId, userId, operation(ADD/DEL), onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlack.operation);
eio.appendString16(chatRoomBlack.chatRoomId+"");
eio.appendString16(chatRoomBlack.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "ADD") {
    operation = "chatRoomBlackAdd";
} else {
    operation = "chatRoomBlackDel";
}

sql =
    "exec " + operation + " " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法操作黑名单", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlack.onComplete)) {
    chatRoomBlack.onComplete();
    chatRoomBlack.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlockTime">
      <script1>//chatRoomId, userId, seconds, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlockTime.seconds+"");
eio.appendString16(chatRoomBlockTime.chatRoomId+"");
eio.appendString16(chatRoomBlockTime.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var seconds = parseInt(eio.readString16());
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomBlockSeconds " +
    myUserId + "," +
    chatRoomId + "," +
    userId + "," +
    seconds + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法屏蔽用户", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlockTime.onComplete)) {
    chatRoomBlockTime.onComplete();
    chatRoomBlockTime.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlockTimeDelete">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlockTimeDelete.chatRoomId+"");
eio.appendString16(chatRoomBlockTimeDelete.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomBlockDelete " +
    myUserId + "," +
    chatRoomId + "," +
    userId + "; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("取消屏蔽用户失败", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlockTimeDelete.onComplete)) {
    chatRoomBlockTimeDelete.onComplete();
    chatRoomBlockTimeDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="setChatRoomVideo">
      <script1>//videoUrl, onComplete
if (setChatRoomVideo.busy) return;
setChatRoomVideo.busy = true;
eio.appendString16(g5.token);
eio.appendString16(setChatRoomVideo.videoUrl);

</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoUrl = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = db.getString(sqlResult,"id");

sql = "update userInfo set chatRoomVideo = '" + db.encode(videoUrl) + "' " +
    " where id = '" + myUserId + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法设置聊天室推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(setChatRoomVideo.onComplete)) {
    setChatRoomVideo.onComplete();
    setChatRoomVideo.onComplete = null;
}
setChatRoomVideo.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdAppend">
      <script1>//videoUrl, note, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdAppend.videoUrl);
eio.appendString16(hostRecomdAppend.note);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoUrl = eio.readString16();
var note = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdAppend " +
    myUserId + "," +
    "'" + db.encode(videoUrl) + "'," +
    "'" + db.encode(note) + "';";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法添加房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdAppend.onComplete)) {
    hostRecomdAppend.onComplete();
    hostRecomdAppend.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdDelete">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdDelete.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdDelete " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法删除房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdDelete.onComplete)) {
    hostRecomdDelete.onComplete();
    hostRecomdDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdMoveUp">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdMoveUp.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdMoveUp " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法向上移动房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdMoveUp.onComplete)) {
    hostRecomdMoveUp.onComplete();
    hostRecomdMoveUp.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdMoveDown">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdMoveDown.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdMoveDown " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法向下移动房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdMoveDown.onComplete)) {
    hostRecomdMoveDown.onComplete();
    hostRecomdMoveDown.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="setBookMark">
      <script1>//operation(add/del), contentId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(setBookMark.operation);
eio.appendString16(setBookMark.contentId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var contentId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "add") {
    sql =
        "exec bookMarkAdd " +
        myUserId + "," +
        contentId + "; ";
} else if (operation == "del") {
    sql =
        "exec bookMarkDel " +
        myUserId + "," +
        contentId + "; ";
}

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法设置书签", eio.readString8());
    return;
}
if (!eb.isEmpty(setBookMark.onComplete)) {
    setBookMark.onComplete();
    setBookMark.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="updateMain">
      <script1><![CDATA[//cIds,voteCId,voteId,onComplete(dataset,voteResult) <cancel>
if (updateMain.cIds.length<=0) return;
updateMain.busy = true;
eio.appendString16(g5.token);
eio.appendInt32(updateMain.cIds.length);
for (var i=0; i<updateMain.cIds.length; i++) eio.appendString8(updateMain.cIds[i]+"");
eio.appendByte(updateMain.voteCId.length);
for (var i=0; i<updateMain.voteCId.length; i++) eio.appendString8(updateMain.voteCId[i]+"");
eio.appendByte(updateMain.voteId.length);
for (var i=0; i<updateMain.voteId.length; i++) eio.appendString8(updateMain.voteId[i]+"");


]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var len = eio.readInt32();
var i, cIds = new Array();
for (i=0; i<len; i++) {
    cIds.push(eio.readString8());
}
len = eio.readByte();
let voteCId = new Array();
for (i=0; i<len; i++) voteCId.push(parseInt(eio.readString8()));
len = eio.readByte();
let voteId = new Array();
for (i=0; i<len; i++) voteId.push(parseInt(eio.readString8()));

var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");
var sql1 = "";
var sqlCount = "";
for (i=0; i<cIds.length; i++) {
    if (sql1.length>0) sql1 += " OR ";
    sql1 += "id=" + parseInt(cIds[i]);
    sqlCount +=
        "exec [twitterAddCount] " + parseInt(cIds[i]) + ",'view'," + myUserId + ",'" + es.getRemoteIPAddress() + "';\n";
}

sql = sqlCount +
    "SELECT [id] ,[regDatetime],[userId],[status],[forceTopSn],[content],[photoCount],[photo1],[photo2], " +
    "   [photo3],[photo4],[photo5],[photo6],[uplinkId],[uplinkType],[clickCount],[reCount],[fwCount],[likeCount],[unlikeCount], " +
    "   [exUserId],[exUplinkType],[exContentId] " +
    " FROM [twitterG].[dbo].[tContent] " +
    " WHERE " + sql1 + "; " +
    "exec getPromptCount " + myUserId + "; " +
    "exec chat1v1GetNewCount " + myUserId + "; ";

sql += "exec chatRoomPublicGetNewCount " + myUserId + "; ";

sql += "declare @vt TYPEBigIntTable; ";
if (voteCId.length>0) {
    sql += "insert into @vt (value1, value2) values ";
    for (i=0; i<voteCId.length; i++) {
        if (i>0) sql += ",";
        sql += "(" + voteCId[i] + "," + voteId[i] + ")";
    }
    sql += "; ";
}
sql += "exec [voteGetInfo] @vt," + myUserId + "; ";


sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,clickCount,reCount,fwCount,likeCount,unlikeCount",
    0, 99999);

db.nextResult(sqlResult);
db.read(sqlResult);
eio.appendString16(db.getString(sqlResult,"c"));

db.nextResult(sqlResult);
db.read(sqlResult);
eio.appendString16(db.getInt32(sqlResult,"newCount") + "");

db.nextResult(sqlResult);
db.read(sqlResult);
eio.appendString8(db.getString(sqlResult,"c"));

db.nextResult(sqlResult);
//                            0        1       2      3          4           5           6         7
eio.appendDataSet(sqlResult,"voteIndex,voteCId,voteId,optionName,durationSec,remainingTimeSec,voteCount,myVote",
    0, 99999);



]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
if (updateMain.cancel) {
    updateMain.cancel = false;
    updateMain.busy = false;
    return;
}
updateMain.dataset = eio.readDataSet();
if (!updateMain.newContentCount) updateMain.newContentCount = 0;
//updateMain.newContentCount += updateMain.dataset.rowCount;
updateMain.clearNewContentCount = function() {
    updateMain.newContentCount = 0;
    g5.p2.p1.showAlert(0);
}
g5.p2.p1.showAlert(updateMain.newContentCount);

updateMain.needRefresh = false;
var newCount = parseInt(eio.readString16());
if (updateMain.count != newCount) {
    updateMain.needRefresh = true;
    updateMain.count = newCount;
    g5.p2.p12.showAlert(updateMain.count);
}

newCount = parseInt(eio.readString16());
if (updateMain.chat1v1NewCount != newCount) {
    updateMain.needRefresh = true;
    updateMain.chat1v1NewCount = newCount;
    g5.p2.p13.v_needRefresh = true;
    g5.p2.p13.showAlert(updateMain.chat1v1NewCount);
}

var newCount = eio.readString8();
if (g5.chatAlertDB.setCount(newCount)) updateMain.needRefresh = true;
g5.chatAlertDB.showCount(); 

updateMain.voteReult = eio.readDataSet();

if (!eb.isEmpty(updateMain.onComplete)) {
    updateMain.onComplete(updateMain.dataset, updateMain.voteReult);
    updateMain.onComplete = null;
    updateMain.needRefresh = false;
    updateMain.cancel = false;
}
updateMain.busy = false; 

               
</script3>
    </taskSetItem>
    <taskSetItem name="chatPClearNewCounter">
      <script1>//onComplete
eio.appendString8(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString8();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

sql = "exec chatRoomPublicResetNewCount " + myUserId + "; ";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");













]]></script2>
      <script3>if (eio.readString8() == "F") {
    return;
}
chatPClearNewCounter.onComplete();

</script3>
    </taskSetItem>
    <taskSetItem name="vote">
      <script1>//voteId,optionIndex,onComplete
vote.busy = true;
eio.appendString16(g5.token);
eio.appendString8(vote.voteId+"");
eio.appendByte(vote.optionIndex);
</script1>
      <script2><![CDATA[let token = eio.readString16();
let voteId = parseInt(eio.readString8());
let optionIndex = eio.readByte();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能使用本功能。");
    return;
}

sql = "exec vote " +
    myUserId + "," +
    voteId + "," +
    optionIndex + "; ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");













]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("投票失败：",eio.readString8());
    vote.busy = false;
    return;
}
if (vote.onComplete()) {
    vote.onComplete();
}
vote.busy = false;

</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
  <g5Items count="124">
    <item name="currentPageIndex" type="10">
      <varValue>-1;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="imgUrl" type="10">
      <varValue>"/incoming/";
</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="newUser" type="10">
      <varValue>false;
</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p1" type="10">
      <varValue>ee.getControl("panel136");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p2" type="10">
      <varValue>ee.getControl("panel135");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p2PersonSub" type="10">
      <varValue>ee.getControl("panel279");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p3" type="10">
      <varValue>ee.getControl("panel137");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p4" type="10">
      <varValue>ee.getControl("panel24");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pButton" type="10">
      <varValue>ee.getControl("panel572");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popup1" type="10">
      <varValue>ee.getControl("panel40");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popBlack" type="10">
      <varValue>ee.getControl("panel112");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popBlack2" type="10">
      <varValue>ee.getControl("panel48");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="loading" type="10">
      <varValue>ee.getControl("panel291");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="blockLoading" type="10">
      <varValue>ee.getControl("panel426");
</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pLine1" type="10">
      <varValue>ee.getControl("panel242");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pLine2" type="10">
      <varValue>ee.getControl("panel245");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pageMode" type="10">
      <varValue>0;
</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="mainDiv" type="10">
      <varValue>ee.getControl("panel134");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="lastWidth" type="10">
      <varValue>0;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="lastScrollY" type="10">
      <varValue>g5.mainDiv.scrollTop;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="itemsPage2" type="10">
      <varValue>new Array();</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="player" type="10">
      <varValue>{
    currentPlayer: null,
    currentDiv: null,
    forceMode: false,
    stop: function() {
        if (this.currentPlayer!=null) {
            //this.currentPlayer.stopVideo();
            this.currentPlayer.pauseVideo();
            this.currentPlayer = null;
        }
    },
    clear: function() {
        if (this.currentPlayer!=null) {
            this.currentDiv.innerHTML = "";
            this.currentPlayer = null;    
        }
    }
}</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="UserInfo" type="10">
      <varValue>function() {
    this.size = 19;
    this.loadFromDataset = function(ds, x, idx) {
        this.id = ds.getData(x+0,idx);
        this.status = ds.getData(x+1,idx);    
        this.regDatetime = g5.getUtcTime(ds.getData(x+2,idx), true);
        this.lastAccessTime = ds.getData(x+3,idx);    
        this.userName = ds.getData(x+4,idx);    
        this.mobile = ds.getData(x+5,idx);    
        this.nickName = ds.getData(x+6,idx);    
        this.note = ds.getData(x+7,idx);    
        this.photo = ds.getData(x+8,idx);
        this.titleBg = ds.getData(x+9,idx);    
        this.homePage = ds.getData(x+10,idx);    
        this.followCount = ds.getData(x+11,idx);    
        this.fansCount = ds.getData(x+12,idx);
        this.postCount = ds.getData(x+13,idx);
        this.follow = ds.getData(x+14,idx);
        this.block1 = ds.getData(x+15,idx); //屏蔽别人
        this.block2 = ds.getData(x+16,idx); //被别人屏蔽
        this.email = ds.getData(x+17,idx);
        this.isFollow = this.follow=="1";
        this.isBlock1 = this.block1=="1";
        this.isBlock2 = this.block2=="1";
        this.isHide = ds.getData(x+18,idx)=="1";
    }
    this.setDataset = function(ds, x, idx) {
        ds.setData(x+0,idx,this.id);
        ds.setData(x+1,idx,this.status);    
        ds.setData(x+2,idx,this.regDatetime);    
        ds.setData(x+3,idx,this.lastAccessTime);    
        ds.setData(x+4,idx,this.userName);    
        ds.setData(x+5,idx,this.mobile);    
        ds.setData(x+6,idx,this.nickName);    
        ds.setData(x+7,idx,this.note);    
        ds.setData(x+8,idx,this.photo);    
        ds.setData(x+9,idx,this.titleBg);    
        ds.setData(x+10,idx,this.homePage);    
        ds.setData(x+11,idx,this.followCount);    
        ds.setData(x+12,idx,this.fansCount);
        ds.setData(x+13,idx,this.postCount);
        ds.setData(x+14,idx,this.follow);
        ds.setData(x+15,idx,this.block1);
        ds.setData(x+16,idx,this.block2);
        ds.setData(x+17,idx,this.email);
        ds.setData(x+18,idx,this.isHide ? "1":"0");
    }
    this.clone = function() {
        var r = new g5.UserInfo();
        r.id = this.id;
        r.status = this.status;
        r.regDatetime = this.regDatetime;
        r.lastAccessTime = this.lastAccessTime;    
        r.userName = this.userName;    
        r.mobile = this.mobile;    
        r.nickName = this.nickName;    
        r.note = this.note;    
        r.photo = this.photo;    
        r.titleBg = this.titleBg;    
        r.homePage = this.homePage;    
        r.followCount = this.followCount;    
        r.fansCount = this.fansCount;
        r.postCount = this.postCount;
        r.follow = this.follow;
        r.block1 = this.block1;
        r.block2 = this.block2;
        r.email = this.email;
        r.isFollow = this.isFollow;
        r.isBlock1 = this.isBlock1;
        r.isBlock2 = this.isBlock2;
        r.isHide = this.isHide;
        return r;
    }
}

</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="ContentInfo" type="10">
      <varValue><![CDATA[function() {
    this.size = 19;
    this.init = function() {
        if (this.photos.length<=0) {
            if (this.photo1.length>0) this.photos.push(this.photo1);
            if (this.photo2.length>0) this.photos.push(this.photo2);
            if (this.photo3.length>0) this.photos.push(this.photo3);
            if (this.photo4.length>0) this.photos.push(this.photo4);
        }
        this.clickCount = parseInt(this.clickCount=="" ? "0":this.clickCount);
        this.reCount = parseInt(this.reCount=="" ? "0":this.reCount);
        this.fwCount = parseInt(this.fwCount=="" ? "0":this.fwCount);
        this.likeCount = parseInt(this.likeCount=="" ? "0":this.likeCount);
        this.unlikeCount = parseInt(this.unlikeCount=="" ? "0":this.unlikeCount);
        this.seconds = parseInt(this.seconds=="" ? "0":this.seconds);
        this.startTime = parseInt((new Date()).getTime()/1000)-this.seconds;
    }
    this.loadFromDataset = function(ds, x, idx) {
        this.id = ds.getData(x+0,idx);
        this.seconds = ds.getData(x+1,idx);
        this.status = ds.getData(x+2,idx);
        this.uplinkType = ds.getData(x+3,idx);
        this.uplinkId = ds.getData(x+4,idx);
        this.content = ds.getData(x+5,idx);
        this.photo1 = ds.getData(x+6,idx);
        this.photo2 = ds.getData(x+7,idx);
        this.photo3 = ds.getData(x+8,idx);
        this.photo4 = ds.getData(x+9,idx);
        this.clickCount = ds.getData(x+10,idx);
        this.reCount = ds.getData(x+11,idx);
        this.fwCount = ds.getData(x+12,idx);
        this.likeCount = ds.getData(x+13,idx);
        this.unlikeCount = ds.getData(x+14,idx);
        this.isForward = ds.getData(x+15,idx)=="1";
        this.isLike = ds.getData(x+16,idx)=="1";
        this.isUnlike = ds.getData(x+17,idx)=="1";
        this.forceTopSn = ds.getData(x+18,idx);
        this.init();
    }
    this.loadExFromDataset = function (ds, x, idx) {
        this.exUserInfo = new g5.UserInfo();
        this.exUserInfo.loadFromDataset(ds, x, idx);
        x+=this.exUserInfo.size;
        this.exUplinkType = ds.getData(x+0, idx);
        this.exContentId = ds.getData(x+1, idx);
        this.exIsForward = ds.getData(x+2, idx)=="1";
        this.exIsLike = ds.getData(x+3, idx)=="1";
        this.exIsUnlike = ds.getData(x+4, idx)=="1";
    }
    this.setDataset = function(ds, x, idx) {
        ds.setData(x+0,idx,this.id);
        ds.setData(x+1,idx,this.seconds);    
        ds.setData(x+2,idx,this.status);    
        ds.setData(x+3,idx,this.uplinkType);    
        ds.setData(x+4,idx,this.uplinkId);    
        ds.setData(x+5,idx,this.content);    
        ds.setData(x+6,idx,this.photo1);    
        ds.setData(x+7,idx,this.photo2);    
        ds.setData(x+8,idx,this.photo3);    
        ds.setData(x+9,idx,this.photo4);
        ds.setData(x+10,dx,this.clickCount);    
        ds.setData(x+11,idx,this.reCount);    
        ds.setData(x+12,idx,this.fwCount);    
        ds.setData(x+13,idx,this.likeCount);    
        ds.setData(x+14,idx,this.unlikeCount);
        ds.setData(x+15,idx,this.isForward?"1":"0");
        ds.setData(x+16,idx,this.isLike?"1":"0");
        ds.setData(x+17,idx,this.isUnlike?"1":"0");
        ds.setData(x+18,idx,this.forceTopSn);
    }
    this.clone = function() {
        var r = new g5.ContentInfo();
        r.id = this.id;
        r.seconds = this.seconds;
        r.status = this.status;
        r.uplinkType = this.uplinkType;
        r.uplinkId = this.uplinkId;
        r.content = this.content;
        r.photo1 = this.photo1;
        r.photo2 = this.photo2;
        r.photo3 = this.photo3;
        r.photo4 = this.photo4;
        r.clickCount = this.clickCount;
        r.reCount = this.reCount;
        r.fwCount = this.fwCount;
        r.likeCount = this.likeCount;
        r.unlikeCount = this.unlikeCount;
        r.isForward = this.isForward;
        r.isLike = this.isLike;
        r.isUnlike = this.isUnlike;
        r.forceTopSn = this.forceTopSn;
        r.exUserInfo = this.exUserInfo;
        r.exUplinkType = this.exUplinkType;
        r.exContentId = this.exContentId;
        r.exIsForward = this.exIsForward;
        r.exIsLike = this.exIsLike;
        r.exIsUnlike = this.exIsUnlike;
        for (var i=0; i<this.photos.length; i++) r.photos.push(this.photos[i]);
        r.init();
        r.startTime = this.startTime;
        return r;
    }
    this.id = "0";
    this.seconds = 0;
    this.status = "";    
    this.uplinkType = "";    
    this.uplinkId = "0";
    this.content = "";
    this.photo1 = "";
    this.photo2 = "";
    this.photo3 = "";
    this.photo4 = "";
    this.clickCount = 0;
    this.reCount = 0;
    this.fwCount = 0;
    this.likeCount = 0;
    this.unlikeCount = 0;
    this.isForward = false;
    this.isLike = false;
    this.isUnlike = false;
    this.forceTopSn = "0";
    this.photos = new Array();
    this.exUserInfo = new g5.UserInfo();
    this.exUplinkType = "";
    this.exContentId = "0";
    this.exIsForward = false;
    this.exIsLike = false;
    this.exIsUnlike = false;
    this.init();
}

]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconArrowRight" type="10">
      <varValue><![CDATA["<g><path d=\"M17.207 11.293l-7.5-7.5c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L15.086 12l-6.793 6.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293l7.5-7.5c.39-.39.39-1.023 0-1.414z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconMail" type="10">
      <varValue><![CDATA["<g><path d=\"M19.25 3.018H4.75C3.233 3.018 2 4.252 2 5.77v12.495c0 1.518 1.233 2.753 2.75 2.753h14.5c1.517 0 2.75-1.235 2.75-2.753V5.77c0-1.518-1.233-2.752-2.75-2.752zm-14.5 1.5h14.5c.69 0 1.25.56 1.25 1.25v.714l-8.05 5.367c-.273.18-.626.182-.9-.002L3.5 6.482v-.714c0-.69.56-1.25 1.25-1.25zm14.5 14.998H4.75c-.69 0-1.25-.56-1.25-1.25V8.24l7.24 4.83c.383.256.822.384 1.26.384.44 0 .877-.128 1.26-.383l7.24-4.83v10.022c0 .69-.56 1.25-1.25 1.25z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconMark" type="10">
      <varValue><![CDATA["<g><path d=\"M19.9 23.5c-.157 0-.312-.05-.442-.144L12 17.928l-7.458 5.43c-.228.164-.53.19-.782.06-.25-.127-.41-.385-.41-.667V5.6c0-1.24 1.01-2.25 2.25-2.25h12.798c1.24 0 2.25 1.01 2.25 2.25v17.15c0 .282-.158.54-.41.668-.106.055-.223.082-.34.082zM12 16.25c.155 0 .31.048.44.144l6.71 4.883V5.6c0-.412-.337-.75-.75-.75H5.6c-.413 0-.75.338-.75.75v15.677l6.71-4.883c.13-.096.285-.144.44-.144z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconFace" type="10">
      <varValue><![CDATA["<g><path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path><path d=\"M12 17.115c-1.892 0-3.633-.95-4.656-2.544-.224-.348-.123-.81.226-1.035.348-.226.812-.124 1.036.226.747 1.162 2.016 1.855 3.395 1.855s2.648-.693 3.396-1.854c.224-.35.688-.45 1.036-.225.35.224.45.688.226 1.036-1.025 1.594-2.766 2.545-4.658 2.545z\"></path><circle cx=\"14.738\" cy=\"9.458\" r=\"1.478\"></circle><circle cx=\"9.262\" cy=\"9.458\" r=\"1.478\"></circle></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconConfig" type="10">
      <varValue><![CDATA["<g><path d=\"M12 8.21c-2.09 0-3.79 1.7-3.79 3.79s1.7 3.79 3.79 3.79 3.79-1.7 3.79-3.79-1.7-3.79-3.79-3.79zm0 6.08c-1.262 0-2.29-1.026-2.29-2.29S10.74 9.71 12 9.71s2.29 1.026 2.29 2.29-1.028 2.29-2.29 2.29z\">"+
"</path><path d=\"M12.36 22.375h-.722c-1.183 0-2.154-.888-2.262-2.064l-.014-.147c-.025-.287-.207-.533-.472-.644-.286-.12-.582-.065-.798.115l-.116.097c-.868.725-2.253.663-3.06-.14l-.51-.51c-.836-.84-.896-2.154-.14-3.06l.098-.118c.186-.222.23-.523.122-.787-.11-.272-.358-.454-.646-.48l-.15-.014c-1.18-.107-2.067-1.08-2.067-2.262v-.722c0-1.183.888-2.154 2.064-2.262l.156-.014c.285-.025.53-.207.642-.473.11-.27.065-"+
".573-.12-.795l-.094-.116c-.757-.908-.698-2.223.137-3.06l.512-.512c.804-.804 2.188-.865 3.06-.14l.116.098c.218.184.528.23.79.122.27-.112.452-.358.477-.643l.014-.153c.107-1.18 1.08-2.066 2.262-2.066h.722c1.183 0 2.154.888 2.262 2.064l.014.156c.025.285.206.53.472.64.277.117.58.062.794-.117l.12-.102c.867-.723 2.254-.662 3.06.14l.51.512c.836.838.896 2.153.14 3.06l-.1.118c-.188.22-.234.522-.123.788.112.27.36.45.646."+
"478l.152.014c1.18.107 2.067 1.08 2.067 2.262v.723c0 1.183-.888 2.154-2.064 2.262l-.155.014c-.284.024-.53.205-.64.47-.113.272-.067.574.117.795l.1.12c.756.905.696 2.22-.14 3.06l-.51.51c-.807.804-2.19.864-3.06.14l-.115-.096c-.217-.183-.53-.23-.79-.122-.273.114-.455.36-.48.646l-.014.15c-.107 1.173-1.08 2.06-2.262 2.06zm-3.773-4.42c.3 0 .593.06.87.175.79.328 1.324 1.054 1.4 1.896l.014.147c.037.4.367.7.77.7h.722c.4 0 .73-"+
".3.768-.7l.014-.148c.076-.842.61-1.567 1.392-1.892.793-.33 1.696-.182 2.333.35l.113.094c.178.148.366.18.493.18.206 0 .4-.08.546-.227l.51-.51c.284-.284.305-.73.048-1.038l-.1-.12c-.542-.65-.677-1.54-.352-2.323.326-.79 1.052-1.32 1.894-1.397l.155-.014c.397-.037.7-.367.7-.77v-.722c0-.4-.303-.73-.702-.768l-.152-.014c-.846-.078-1.57-.61-1.895-1.393-.326-.788-.19-1.678.353-2.327l.1-.118c.257-.31.236-.756-.048-1.04l-.51-.51c-"+
".146-.147-.34-.227-.546-.227-.127 0-.315.032-.492.18l-.12.1c-.634.528-1.55.67-2.322.354-.788-.327-1.32-1.052-1.397-1.896l-.014-.155c-.035-.397-.365-.7-.767-.7h-.723c-.4 0-.73.303-.768.702l-.014.152c-.076.843-.608 1.568-1.39 1.893-.787.326-1.693.183-2.33-.35l-.118-.096c-.18-.15-.368-.18-.495-.18-.206 0-.4.08-.546.226l-.512.51c-.282.284-.303.73-.046 1.038l.1.118c.54.653.677 1.544.352 2.325-.327.788-1.052 1.32-1.895 1.397l-.156.014c-.397.037-.7.367-.7.77v.722c0 .4.303.73.702.768l."+
"15.014c.848.078 1.573.612 1.897 1.396.325.786.19 1.675-.353 2.325l-.096.115c-.26.31-.238.756.046 1.04l.51.51c.146.147.34.227.546.227.127 0 .315-.03.492-.18l.116-.096c.406-.336.923-.524 1.453-.524z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconExit" type="10">
      <varValue><![CDATA["<g><path d=\"M20.75 22H3.25C2.01 22 1 20.99 1 19.75V4.25C1 3.01 2.01 2 3.25 2h17.5C21.99 2 23 3.01 23 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM3.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h17.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H3.25z\"></path><path d=\"M16.758 6.982h-5.806c-.414 0-.75.336-.75.75s.336.75.75.75h3.995L6.92 16.508c-.292.293-.292.768 0 1.06.147.147.34.22.53.22s.385-.072.53-.22l8.027-8.025v3.995c0 .414.336.75.75.75s.75-.336.75-.75V7.732c0-.414-.335-.75-.75-.75z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconNew" type="10">
      <varValue><![CDATA["<g><path d=\"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconLeft" type="10">
      <varValue><![CDATA["<g><path d=\"M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconRight" type="10">
      <varValue><![CDATA["<g><path d=\"M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconSend" type="10">
      <varValue><![CDATA["<g><path d=\"M21.13 11.358L3.614 2.108c-.29-.152-.64-.102-.873.126-.23.226-.293.577-.15.868l4.362 8.92-4.362 8.92c-.143.292-.08.643.15.868.145.14.333.212.523.212.12 0 .24-.028.35-.087l17.517-9.25c.245-.13.4-.386.4-.664s-.155-.532-.4-.662zM4.948 4.51l12.804 6.762H8.255l-3.307-6.76zm3.307 8.26h9.498L4.948 19.535l3.307-6.763z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconSearch" type="10">
      <varValue><![CDATA["<g><path d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\"></path></g>";
]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconBell" type="10">
      <varValue><![CDATA["<g><path d=\"M21.697 16.468c-.02-.016-2.14-1.64-2.103-6.03.02-2.532-.812-4.782-2.347-6.335C15.872 2.71 14.01 1.94 12.005 1.93h-.013c-2.004.01-3.866.78-5.242 2.174-1.534 1.553-2.368 3.802-2.346 6.334.037 4.33-2.02 5.967-2.102 6.03-.26.193-.366.53-.265.838.102.308.39.515.712.515h4.92c.102 2.31 1.997 4.16 4.33 4.16s4.226-1.85 4.327-4.16h4.922c.322 0 .61-.206.71-.514.103-.307-.003-.645-.263-.838zM12 20.478c-1.505 0-2.73-1.177-2.828-2.658h5.656c-.1 1.48-1.323 2.66-2.828 2.66zM4.38 16.32c.74-1.132 1.548-3.028 1.524-5.896-.018-2.16.644-3.982 1.913-5.267C8.91 4.05 10.397 3.437 12 3.43c1.603.008 3.087.62 4.18 1.728 1.27 1.285 1.933 3.106 1.915 5.267-.024 2.868.785 4.765 1.525 5.896H4.38z\"></path></g>";
]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="icon" type="10">
      <varValue><![CDATA[{
heart1: "<g><path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"></path></g>",
heart2: "<g><path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"></path></g>",
unlike: "<g><path d=\"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z\"></path></g>",
forward: "<g><path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\"></path></g>",
trash: "<g><path d=\"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z\"></path><path d=\"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z\"></path></g>",
pin: "<g><path d=\"M20.472 14.738c-.388-1.808-2.24-3.517-3.908-4.246l-.474-4.307 1.344-2.016c.258-.387.28-.88.062-1.286-.218-.406-.64-.66-1.102-.66H7.54c-.46 0-.884.254-1.1.66-.22.407-.197.9.06 1.284l1.35 2.025-.42 4.3c-1.667.732-3.515 2.44-3.896 4.222-.066.267-.043.672.222 1.01.14.178.46.474 1.06.474h3.858l2.638 6.1c.12.273.39.45.688.45s.57-.177.688-.45l2.638-6.1h3.86c.6 0 .92-.297 1.058-.474.265-.34.288-.745.228-.988zM12 20.11l-1.692-3.912h3.384L12 20.11zm-6.896-5.413c.456-1.166 1.904-2.506 3.265-2.96l.46-.153.566-5.777-1.39-2.082h7.922l-1.39 2.08.637 5.78.456.153c1.355.45 2.796 1.78 3.264 2.96H5.104z\"></path></g>",
bookMark: "<g><path d=\"M23.074 3.35H20.65V.927c0-.414-.337-.75-.75-.75s-.75.336-.75.75V3.35h-2.426c-.414 0-.75.337-.75.75s.336.75.75.75h2.425v2.426c0 .414.335.75.75.75s.75-.336.75-.75V4.85h2.424c.414 0 .75-.335.75-.75s-.336-.75-.75-.75zM19.9 10.744c-.415 0-.75.336-.75.75v9.782l-6.71-4.883c-.13-.095-.285-.143-.44-.143s-.31.048-.44.144l-6.71 4.883V5.6c0-.412.337-.75.75-.75h6.902c.414 0 .75-.335.75-.75s-.336-.75-.75-.75h-6.9c-1.242 0-2.25 1.01-2.25 2.25v17.15c0 .282.157.54.41.668.25.13.553.104.78-.062L12 17.928l7.458 5.43c.13.094.286.143.44.143.117 0 .234-.026.34-.08.252-.13.41-.387.41-.67V11.495c0-.414-.335-.75-.75-.75z\"></path></g>",
back: "<g><path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path></g>",
youtube: "<g><path d=\"M1995 3219 c-231 -3 -472 -9 -535 -13 -203 -13 -428 -36 -501 -51 -151 -32 -305 -145 -372 -272 -77 -149 -110 -450 -110 -1028 0 -559 32 -879 101 -1025 60 -125 232 -254 379 -285 219 -46 663 -65 1483 -65 995 0 1443 26 1609 93 184 74 290 205 331 408 83 407 82 1318 -1 1733 -27 134 -65 213 -139 290 -68 71 -145 117 -235 139 -240 60 -1028 90 -2010 76z m618 -1084 c251 -154 456 -282 456 -285 0 -4 -774 -483 -946 -586 l-43 -25 0 611 0 611 39 -23 c21 -13 244 -149 494 -303z\"/></g>",
dot3: "<g><circle cx='5' cy='12' r='2'></circle><circle cx='12' cy='12' r='2'></circle><circle cx='19' cy='12' r='2'></circle></g>",
mute: "<g><path d=\"M1.75 22.354c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06L20.395 1.898c.293-.294.768-.294 1.06 0s.294.767 0 1.06L2.28 22.135c-.146.146-.338.22-.53.22zm1.716-5.577c-.134 0-.27-.036-.392-.11-.67-.413-1.07-1.13-1.07-1.917v-5.5c0-1.24 1.01-2.25 2.25-2.25H6.74l7.047-5.588c.225-.18.533-.215.792-.087.258.125.423.387.423.675v3.28c0 .415-.336.75-.75.75s-.75-.335-.75-.75V3.553L7.47 8.338c-.134.104-.298.162-.467.162h-2.75c-.413 0-.75.337-.75.75v5.5c0 .263.134.5.356.64.353.216.462.678.245 1.03-.14.23-.387.357-.64.357zm10.787 5.973c-.166 0-.33-.055-.466-.162l-4.795-3.803c-.325-.258-.38-.73-.122-1.054.258-.322.73-.38 1.054-.12l3.58 2.838v-7.013c0-.414.335-.75.75-.75s.75.336.75.75V22c0 .288-.166.55-.425.675-.104.05-.216.075-.327.075z\"></path></g>",
homePage: "<g><path d=\"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z\"></path></g>",
menu: "<g><path d=\"M19.98 1.775H4.02c-1.24 0-2.25 1.01-2.25 2.25v15.95c0 1.24 1.01 2.25 2.25 2.25h15.96c1.24 0 2.25-1.01 2.25-2.25V4.025c0-1.24-1.01-2.25-2.25-2.25zm.75 18.2c0 .42-.34.75-.75.75H4.02c-.41 0-.75-.33-.75-.75v-9.48h17.46v9.48zm0-10.23H3.27v-5.72c0-.42.34-.75.75-.75h15.96c.41 0 .75.33.75.75v5.72z\"></path><path d=\"M8.96 6.515v.09c0 .95-.78 1.72-1.73 1.72h-.08c-.95 0-1.73-.77-1.73-1.72v-.09c0-.95.78-1.73 1.73-1.73h.08c.95 0 1.73.78 1.73 1.73zm9.54.04c0 .42-.34.75-.75.75h-6.39c-.41 0-.75-.33-.75-.75 0-.41.34-.75.75-.75h6.39c.41 0 .75.34.75.75zm-9.54 7.17v.09c0 .95-.78 1.73-1.73 1.73h-.08c-.95 0-1.73-.78-1.73-1.73v-.09c0-.95.78-1.72 1.73-1.72h.08c.95 0 1.73.77 1.73 1.72zm9.54.05c0 .41-.34.75-.75.75h-6.39c-.41 0-.75-.34-.75-.75 0-.42.34-.75.75-.75h6.39c.41 0 .75.33.75.75zm0 3.6c0 .42-.34.75-.75.75h-6.39c-.41 0-.75-.33-.75-.75 0-.41.34-.75.75-.75h6.39c.41 0 .75.34.75.75z\"></path></g>",
speaker: "<g transform='translate(0.000000,300.000000) scale(0.100000,-0.12000)' stroke='none'> <path d='M1954 2476 c-37 -16 -64 -51 -64 -84 0 -51 27 -78 124 -126 222 -108 379 -295 448 -533 20 -67 23 -100 22 -238 0 -152 -2 -165 -32 -255 -78 -235 -230 -404 -463 -514 -76 -36 -99 -61 -99 -107 0 -50 49 -99 101 -99 11 0 49 14 86 30 211 96 412 295 509 505 66 144 86 233 91 410 6 184 -11 292 -66 430 -96 239 -288 445 -513 549 -96 45 -107 47 -144 32z'/> <path d='M1185 2215 l-260 -153 0 -562 0 -562 260 -154 c143 -84 270 -154 283 -154 33 0 76 25 98 57 18 27 19 61 22 797 2 752 2 770 -18 810 -21 45 -64 76 -102 75 -12 0 -140 -70 -283 -154z'/> <path d='M1812 2036 c-38 -18 -56 -57 -48 -105 7 -46 27 -65 96 -90 80 -29 151 -95 192 -179 30 -60 33 -75 33 -157 0 -82 -3 -97 -32 -156 -40 -81 -103 -141 -188 -180 -73 -33 -105 -68 -105 -115 0 -39 39 -90 75 -96 33 -7 127 26 190 66 76 49 122 93 164 155 157 235 130 520 -69 722 -111 113 -235 167 -308 135z'/> <path d='M384 1951 c-66 -40 -64 -27 -64 -444 0 -407 2 -420 53 -449 15 -9 85 -15 215 -18 l192 -5 0 468 0 467 -182 0 c-163 0 -187 -2 -214 -19z'/> </g>",
close: "<g><path d=\"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z\"></path></g>",
left1: "<g><path d=\"M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z\"></path></g>",
right1: "<g><path d=\"M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z\"></path></g>",
count: "<g><path d=\"M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z\"></path></g>",
vote: "<g><path d=\"M6 5c-1.1 0-2 .895-2 2s.9 2 2 2 2-.895 2-2-.9-2-2-2zM2 7c0-2.209 1.79-4 4-4s4 1.791 4 4-1.79 4-4 4-4-1.791-4-4zm20 1H12V6h10v2zM6 15c-1.1 0-2 .895-2 2s.9 2 2 2 2-.895 2-2-.9-2-2-2zm-4 2c0-2.209 1.79-4 4-4s4 1.791 4 4-1.79 4-4 4-4-1.791-4-4zm20 1H12v-2h10v2zM7 7c0 .552-.45 1-1 1s-1-.448-1-1 .45-1 1-1 1 .448 1 1z\"></path></g>",
dropdownList: "<g><path d=\"M20.207 8.147c-.39-.39-1.023-.39-1.414 0L12 14.94 5.207 8.147c-.39-.39-1.023-.39-1.414 0-.39.39-.39 1.023 0 1.414l7.5 7.5c.195.196.45.294.707.294s.512-.098.707-.293l7.5-7.5c.39-.39.39-1.022 0-1.413z\"></path></g>",
end:""
}]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="fonts" type="10">
      <varValue>{
n1: "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif",
end:""
}</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="LangItem" type="20">
      <varValue />
      <functionParam>id,chinese,english</functionParam>
      <functionCode>this.id = id?id:0;
this.text = [
    chinese?chinese:"",
    english?english:"",
]


</functionCode>
    </item>
    <item name="lang" type="10">
      <varValue><![CDATA[{
current: eb.getCookie("lang") ? eb.getCookie("lang"):"zh-CN",
langList: ["zh-CN","en"],
langListDisplay: ["简体中文","英文"],
moEnglish: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],

init: function() {
    if (eb.getCookie("lang")) return;
    var userLanguage = navigator.languages ? navigator.languages[0] : (navigator.language || navigator.userLanguage);
    switch (userLanguage) {
        case "en": eb.setCookie("lang", "en"); break;
        case "zh-CN": eb.setCookie("lang", "zh-CN"); break;
        case "zh-TW": eb.setCookie("lang", "zh-CN"); break;
        default: eb.setCookie("lang", "en");
    }
    //西班牙语：es
    //法语：fr
    //德语：de
    //日语：ja
    //韩语：ko
    //俄语：ru
    this.current = eb.getCookie("lang");
},


getCurrentLangIndex: function() {
    for (var i=0; i<this.langList.length; i++) {
        if (this.langList[i] == this.current) return i;
    }
    return 0;
},

getLangNameByIndex: function(langIndex) {
    var s;
    if ((langIndex<0) || (langIndex>=this.langListDisplay)) {
        s = this.langListDisplay[0];
    } else s = this.langListDisplay[langIndex];
    return this.getByCn(s);
},

getCurrentLangName: function() {
    return this.getLangNameByIndex(this.getCurrentLangIndex());
},

getByCn: function(text) {
    for (var i=0; i<this.data.length; i++) {
        if (this.data[i].text[0] == text) {
            var r = this.data[i].text[this.getCurrentLangIndex()];
            if (r=="") r = text;
            return r;
        }
    }
    //console.log(text);
    return text;
},

getByTCn: function(id, text) {
    for (var i=0; i<this.data.length; i++) {
        if ((this.data[i].text[0] == text) &amp;&amp; (this.data[i].id == id)) {
            var r = this.data[i].text[this.getCurrentLangIndex()];
            if (r=="") r = text;
            return r;
        }
    }
    return this.getByCn(text);
},

getById: function(id) {
    for (var i=0; i<this.data.length; i++) {
        if (this.data[i].id == id) {
            return this.data[i].text[this.getCurrentLangIndex()];
        }
    }
    return "";
},

trans1: function(str) {
    var p = new Array();
    var i=0, iTemp;
    var fStr = "";
    while (i<str.length) {
        if (str.charAt(i) == "<") {
            iTemp = str.indexOf(">", i);
            if (iTemp<0) {
                fStr += str.charAt(i);
                i++;
            }
            p.push(str.substr(i,iTemp-i+1));
            i = iTemp + 1;
            fStr += "%" + p.length + ";";
        } else {
            fStr += str.charAt(i);
            i++;
        }
    }
    fStr = this.getByCn(fStr);
    for (i=0; i<p.length; i++) {
        fStr = fStr.replace("%" + (i+1) + ";", p[i]);
    }
    return fStr;
},

trans2: function(str) {
    var p = new Array();
    var i=0, iTemp;
    var fStr = "";
    while (i<str.length) {
        if (str.substr(i,2) == "/%") {
            iTemp = str.indexOf("%/", i);
            if (iTemp<0) {
                fStr += str.charAt(i);
                i++;
            }
            p.push(str.substr(i+2,iTemp-i-2));
            i = iTemp + 2;
            fStr += "%" + p.length + ";";
        } else {
            fStr += str.charAt(i);
            i++;
        }
    }
    fStr = this.getByCn(fStr);
    for (i=0; i<p.length; i++) {
        fStr = fStr.replace("%" + (i+1) + ";", p[i]);
    }
    return fStr;
},

data: [
    new g5.LangItem(1,"1","1"),
    new g5.LangItem(1,"0","0"),
    new g5.LangItem(1,"秒","s"),
    new g5.LangItem(1,"分钟","m"),
    new g5.LangItem(1,"分","m"),
    new g5.LangItem(1,"小时","h"),
    new g5.LangItem(1,"昨天","yesterday"),
    new g5.LangItem(1,"天","day"),
    new g5.LangItem(1,"年","y"),
    new g5.LangItem(1,"月","mo"),
    new g5.LangItem(1,"日","d"),
    new g5.LangItem(1,"上午","AM"),
    new g5.LangItem(1,"下午","PM"),
    new g5.LangItem(1,"确定","OK"),
    new g5.LangItem(1,"登 录","Login"),
    new g5.LangItem(1,"注 册","Sign Up"),
    new g5.LangItem(1,"新鲜事","Home"),
    new g5.LangItem(1,"个关注"," Following"),
    new g5.LangItem(1,"个粉丝"," Followers"),
    new g5.LangItem(1,"个加粉请求"," Follow request"),
    new g5.LangItem(1,"取消关注","Unfollow"),
    new g5.LangItem(1,"关注","Follow"),
    new g5.LangItem(1,"屏蔽","Block"),
    new g5.LangItem(1,"取消屏蔽","Unblock"),
    new g5.LangItem(1,"隐藏","Hide"),
    new g5.LangItem(1,"取消隐藏","Unhide"),
    new g5.LangItem(1,"收藏此发言","Add Bookmark"),
    new g5.LangItem(1,"移除此收藏","Remove this bookmark"),
    new g5.LangItem(1,"复制发言链接","Copy Hyperlink"),
    new g5.LangItem(1,"加入FISTALK","Join FISTALK"),
    new g5.LangItem(1,"作为游客身份","As a guest user, "),
    new g5.LangItem(1,"不能","you are not able to "),
    new g5.LangItem(1,"注册","Sign Up"),
    new g5.LangItem(1,"确认","Confirm"),
    new g5.LangItem(1,"取消","Cancel"),
    new g5.LangItem(1,"注册新账号","Sign Up"),
    new g5.LangItem(1,"，如果您需要",". If you would like to "),
    new g5.LangItem(1,"请注册或登录一个账号，注册是免费的同时也不需要提供您的任何隐私信息。",", please sign up or log in to an account. Signing up is free and does not require any personal information."),
    new g5.LangItem(1,"您是否要立即注册？","Would you like to sign up now?"),
    new g5.LangItem(1,"回复短文","reply"),
    new g5.LangItem(1,"点赞","give it a like"),
    new g5.LangItem(1,"点踩","give it a dislike"),
    new g5.LangItem(1,"转发短文","forward this comment"),
    new g5.LangItem(1,"取消关注某用户","unfollow user"),
    new g5.LangItem(1,"使用高级功能","unlock premium features"),
    new g5.LangItem(1,"发言","Comment"),
    new g5.LangItem(1,"发言和回复","Replies"),
    new g5.LangItem(1,"聊天室","Chat Room"),
    new g5.LangItem(1,"通知","Notifications"),
    new g5.LangItem(1,"私信","Messages"),
    new g5.LangItem(1,"收藏","Bookmarks"),
    new g5.LangItem(1,"个人主页","Profile"),
    new g5.LangItem(1,"设置和隐私","Settings"),
    new g5.LangItem(1,"退出登录","Logout"),
    new g5.LangItem(1,"有什么新鲜事？","What's happening?"),
    new g5.LangItem(500,"发言","Share"),
    new g5.LangItem(1,"搜索","Srch"),
    new g5.LangItem(1,"编辑个人资料","Edit Profile"),
    new g5.LangItem(1,"正在关注","Following"),
    new g5.LangItem(1,"已屏蔽","Blocked"),
    new g5.LangItem(1,"取消屏蔽","Unblock"),
    new g5.LangItem(1,"被屏蔽","Got Blocked"),
    new g5.LangItem(1,"屏蔽对方","Block"),
    new g5.LangItem(1,"发送私信","Message"),
    new g5.LangItem(1,"站内搜索　　","Search Fistalk"),
    new g5.LangItem(1,"站内搜索","Search Fistalk"),
    new g5.LangItem(1,"回复发言","Reply"),
    new g5.LangItem(1,"带评论转发","Quote Tweet"),
    new g5.LangItem(501,"发言","Compose"),
    new g5.LangItem(1,"设置","Settings"),
    new g5.LangItem(1,"    账号","    Account"),
    new g5.LangItem(1,"    隐私和安全","    Privacy and safety"),
    new g5.LangItem(1,"账号","Account"),
    new g5.LangItem(1,"    用户名","    User name"),
    new g5.LangItem(1,"    头像和主题背景","    Profile picture &amp; profile background"),
    new g5.LangItem(1,"    手机","    Cell phone"),
    new g5.LangItem(1,"    电子邮件","    EMail"),
    new g5.LangItem(1,"    网址","    Website"),
    new g5.LangItem(1,"    简介","    Bio"),
    new g5.LangItem(1,"    打赏","    Donate"),
    new g5.LangItem(1,"    密码","    Password"),
    new g5.LangItem(1,"    删除本账号","    Delete this account"),
    new g5.LangItem(1,"进入我的个人主页","My Profile"),
    new g5.LangItem(1,"隐私和安全","Privacy and safety"),
    new g5.LangItem(1,"    已隐藏账号","    Hidden account"),
    new g5.LangItem(1,"    已屏蔽账号","    Blocked account"),
    new g5.LangItem(1,"    正常/私密模式","    Normal/Privacy mode"),
    new g5.LangItem(1,"正常/私密模式","Normal/Privacy mode"),
    new g5.LangItem(1,"    加粉请求者","    Follower request sender"),
    new g5.LangItem(1,"修改用户名","Modify user name"),
    new g5.LangItem(1,"当前用户名：","User name"),
    new g5.LangItem(1,"新用户名","New user name"),
    new g5.LangItem(1,"请在这里输入新的用户名","Please enter a new username here."),
    new g5.LangItem(1,"保存","Save"),
    new g5.LangItem(1,"请在这里输入新的手机号码","<spawn style='font-size: 0.8em;'>Please enter your new phone number here.</spawn>"),
    new g5.LangItem(1,"修改手机号码","Change Cell Phone Number"),
    new g5.LangItem(1,"当前手机号码：","Old number"),
    new g5.LangItem(1,"新手机号码","New number"),
    new g5.LangItem(1,"修改电子邮箱","Modify EMail Address"),
    new g5.LangItem(1,"当前电子邮箱：","Current email address"),
    new g5.LangItem(1,"新电子邮箱","new email address"),
    new g5.LangItem(1,"请在这里输入新的电子邮箱","Please enter your new email address here."),
    new g5.LangItem(1,"修改密码","Modify Password"),
    new g5.LangItem(1,"当前密码","Current password"),
    new g5.LangItem(1,"新密码","New password"),
    new g5.LangItem(1,"确认密码","Confirm password"),
    new g5.LangItem(1,"修改简介","Modify Bio"),
    new g5.LangItem(1,"简介","Bio"),
    new g5.LangItem(1,"添加你的简介","Add your bio here."),
    new g5.LangItem(1,"修改网址","Modify Website URL"),
    new g5.LangItem(1,"网址","Website URL"),
    new g5.LangItem(1,"添加您的网址","Add your website URL here"),
    new g5.LangItem(1,"修改头像和主题背景","Profile picture &amp; background"),
    new g5.LangItem(1,"头像和主题背景","Profile picture &amp; background"),
    new g5.LangItem(1,"删除本账号","Delete Account"),
    new g5.LangItem(1,"确定删除","Delete"),
    new g5.LangItem(1,
        "· 账号被删除后，您将不能登录本系统，同时您以前发的短文都将不可见，别的用户也无法查看您的个人信息。<br><br>" +
        "· 您确定要删除您的账号后，我们会给您提供3天的冷却期，在这期间，您可以撤销您的删除账号请求。<br><br>" +
        "· 冷却期过后，您的账号将被永久删除。如果需要恢复，需要和客服人员联系。",
        "<li style='font-size: 0.8em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>After your account is deleted, you will not be able to log in to this system, and your previous posts will not be visible to other users, who will also not be able to view your personal information.</li>" +
        "<li style='font-size: 0.8em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>If you are sure you want to delete your account, we will provide you with a 3-day cooling-off period during which you can cancel your account deletion request.</li>" +
        "<li style='font-size: 0.8em;display: flex; align-items: top; margin-bottom: 0px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>After the cooling-off period, your account will be permanently deleted. If you want to restore your account, you need to contact customer service.</li>"
        ),
    new g5.LangItem(1,"删除账号","Delete Account"),
    new g5.LangItem(1,
        "您的账号将进入删除冷却期，冷却期结束后账号将被永久删除，您是否要继续删除自己的账号？",
        "<li style='font-size: 0.9em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'>Your account will enter a deletion cooling-off period, and after the cooling-off period ends, your account will be permanently deleted. Are you sure you want to continue deleting your account?</li>"),
    new g5.LangItem(1,"停止删除","Undelete"),
    new g5.LangItem(1,
        "· 账号被删除后，您将不能登录本系统，同时您以前发的短文都将不可见，别的用户也无法查看您的个人信息。<br><br>" +
        "· 您确定要删除您的账号后，我们会给您提供3天的冷却期，在这期间，您可以撤销您的删除账号请求。<br><br>" +
        "· 冷却期过后，您的账号将被永久删除。如果需要恢复，需要和客服人员联系。",
        "<li style='font-size: 0.9em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>After deleting your account, you will no longer be able to log in to the system, and your previously posted content will be invisible, and other users will not be able to view your personal information.</li>" +
        "<li style='font-size: 0.9em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>If you are sure you want to delete your account, we will provide you with a 3-day cooling-off period during which you can cancel your account deletion request.</li>" +
        "<li style='font-size: 0.9em;display: flex; align-items: top; margin-bottom: 6px; text-align: justify'><span style='margin-right: 10px;'>&amp;#8226;</span>After the cooling-off period, your account will be permanently deleted. If you need to restore it, please contact customer service.</li>"
        ),
    new g5.LangItem(500,"天"," days, "),
    new g5.LangItem(500,"小时"," hours, and "),
    new g5.LangItem(500,"分钟"," minutes left"),
    new g5.LangItem(1,
        "您目前处于账号冷却期，距离账号永久删除还剩",
        "<spawn style='font-size: 0.8em; text-align: left'>Your account is currently in the cooling-off period,<br>and there are</spawn>"),
    new g5.LangItem(1,
        "您可以随时停止删除。",
        "<spawn style='font-size: 0.8em; text-align: left'>until your account is permanently deleted. You can stop the deletion at any time.</spawn>"),
    new g5.LangItem(1,"停止删除账号","Undelete Account"),
    new g5.LangItem(1,
        "您的账号处于删除冷却期，冷却期结束后账号将被永久删除，您是否要停止删除自己的账号？",
        "Your account is currently in the deletion cooling-off period, and after the cooling-off period ends, your account will be permanently deleted. Do you want to stop deleting your account?"),
    new g5.LangItem(1,"",""),
    new g5.LangItem(7001,""," "),
    new g5.LangItem(1,"回复","Reply"),
    new g5.LangItem(1,"转发","Retweet"),
    new g5.LangItem(1,"取消转发","Cancel retweet"),
    new g5.LangItem(1,"在这里输入您的发言内容","Enter your message here."),
    new g5.LangItem(1,
        "您还没有分享图片或者视频<br>" +
        "分享图片或视频后会出现在这里<br>" +
        "您最多分享4张图片或者1个视频",
        "<spawn style='font-size: 0.9em;'>You haven't shared any photos or videos yet.<br>" +
        "They will appear here after you share them.<br>" +
        "You can share up to 4 photos or 1 video.</spawn>"),
    new g5.LangItem(1,"发表短文或回复","Compose"),
    new g5.LangItem(1,"热门","<spawn style='font-size: 0.9em;'>Top</spawn>"),
    new g5.LangItem(1,"最新","<spawn style='font-size: 0.9em;'>Latest</spawn>"),
    new g5.LangItem(1,"用户","<spawn style='font-size: 0.9em;'>People</spawn>"),
    new g5.LangItem(1,"照片","<spawn style='font-size: 0.9em;'>Photos</spawn>"),
    new g5.LangItem(1,"视频","<spawn style='font-size: 0.9em;'>Videos</spawn>"),
    new g5.LangItem(1,"<font color='#1b95e0'><b> 回复</b></font>了您的发言","<font color='#1b95e0'><b> replied</b></font> to your post"),
    new g5.LangItem(1,"<font color='#0bc035'><b> 转发</b></font>了您的发言","<font color='#0bc035'><b> retweeted</b></font> your post"),
    new g5.LangItem(1,"<font color='#1b95e0'><b> 提到</b></font>了您","<font color='#1b95e0'><b> mentioned</b></font> you"),
    new g5.LangItem(1,"<该用户没有留下文字内容>","<The user did not leave any text content>"),
    new g5.LangItem(1,"删除","Delete"),
    new g5.LangItem(1,"在个人主页中置顶","Pin to profile"),
    new g5.LangItem(501,"回复","replies"),
    new g5.LangItem(501,"转发","retweets"),
    new g5.LangItem(501,"点赞","likes"),
    new g5.LangItem(501,"点踩","dislikes"),
    new g5.LangItem(502,"回复","Reply"),
    new g5.LangItem(502,"转发","Retweet"),
    new g5.LangItem(502,"点赞","Like"),
    new g5.LangItem(502,"点踩","Dislike"),
    new g5.LangItem(1,"取消关注@","Unfollow @"),
    new g5.LangItem(1,"他们的发言将不再出现在你的主页时间线上。你仍然可以查看他们的个人资料，除非他们的发言是受保护的。","Their posts will no longer appear on your homepage timeline. You can still view their profile unless their posts are protected."),
    new g5.LangItem(1,"原文已被作者删除。","<spawn style='font-size: 0.9em;'>The original post has been deleted by the author.</spawn>"),
    new g5.LangItem(1,"用户被封号，无法查看原文。","<spawn style='font-size: 0.9em;'>The user has been banned, and the original post cannot be viewed.</spawn>"),
    new g5.LangItem(1,"用户已经销号，无法查看原文。","<spawn style='font-size: 0.9em;'>The user has deleted their account, and the original post cannot be viewed.</spawn>"),
    new g5.LangItem(1,"用户被冻结，无法查看原文。","<spawn style='font-size: 0.9em;'>The user has been suspended, and the original post cannot be viewed.</spawn>"),
    new g5.LangItem(1,"私密状态无法查看原文。","<spawn style='font-size: 0.9em;'>The original post is in private mode and cannot be viewed.</spawn>"),
    new g5.LangItem(1,"该用户已被您隐藏","<spawn style='font-size: 0.9em;'>You have hidden this user.</spawn>"),
    new g5.LangItem(1,"您已被该用户屏蔽，无法查看原文。","<spawn style='font-size: 0.9em;'>This user has blocked you, and you cannot view the original post.</spawn>"),
    new g5.LangItem(1,"该用户已被您屏蔽","<spawn style='font-size: 0.9em;'></spawn>"),
    new g5.LangItem(1,"点击显示","Click to show"),
    new g5.LangItem(1,"发送","Send"),
    new g5.LangItem(1,"有什么想说的？","Do you have anything to say?"),
    new g5.LangItem(1,"管理员","Admin"),
    new g5.LangItem(1,"黑名单","Blacklist"),
    new g5.LangItem(1,"添加视频","Add Video"),
    new g5.LangItem(1,"置顶视频","Pin Video"),
    new g5.LangItem(1,"删除视频","Delete Video"),
    new g5.LangItem(1,"该操作将会使所有的用户无法看到您的置顶视频，您是否确定删除？","This action will make your pinned video invisible to all users. Are you sure you want to delete it?"),
    new g5.LangItem(1,"系统提示","System notification"),
    new g5.LangItem(1,"恭喜%1;已被房主升级为管理员","Congratulations, %1; has been promoted to admin by the room owner."),
    new g5.LangItem(1,"%1;已被%2;放入黑名单","%1; has been added to the blacklist by %2;."),
    new g5.LangItem(1,"%1;已被%2;移出黑名单","%1; has been removed from the blacklist by %2;."),
    new g5.LangItem(1,"%1;已被房主降级为普通用户","%1; has been demoted to a regular user by the host."),
    new g5.LangItem(1,
        "%1;已被%2;禁言5分钟",
        "%1; has been muted by %2; for 5 minutes."),
    new g5.LangItem(1,
        "%1;已被%2;取消禁言",
        "%1; has had their speaking privileges reinstated by %2;."),
    new g5.LangItem(1,"提示","Tip"),
    new g5.LangItem(1,
        "很遗憾，您已经被本聊天室屏蔽。您将不能在本聊天室发言，同时您也不能看到本聊天室的任何发言。",
        "I'm sorry, but you have been blocked from this chatroom. You will not be able to post any messages in this chatroom, and you will not be able to see any messages in this chatroom."),
    new g5.LangItem(1,"用户处于禁封状态，无法查看内容","The user is in a banned state and cannot view the content."),
    new g5.LangItem(1,"该用户被屏蔽,点击查看原留言","The user has been blocked. Click to view the original message."),
    new g5.LangItem(1,"该用户被屏蔽,点击隐藏留言","This user has been blocked. Click to hide the message"),
    new g5.LangItem(1,"该聊天记录已删除,点击查看","The chat record has been deleted. Click to view"),
    new g5.LangItem(1,"已删除,点击隐藏","Deleted, click to hide"),
    new g5.LangItem(1,"删除聊天记录","Delete Chat"),
    new g5.LangItem(1,
        "是否删除此聊天记录？删除后，其他用户（管理员和房主除外）将无法看到此聊天记录。",
        "Do you want to delete this chat record? After deletion, other users (except administrators and room owners) will not be able to see this chat record."),
    new g5.LangItem(1,"恢复聊天记录","Restore chat records"),
    new g5.LangItem(1,
        "是否恢复此聊天记录？恢复后，其他用户将能重新看到此天记录。",
        "Do you want to restore this chat record? Once restored, other users will be able to see this chat record again."),
    new g5.LangItem(1,"确定恢复","Confirm Restore"),
    new g5.LangItem(1,"解除管理员","Remove Administrator"),
    new g5.LangItem(1,"添加管理员","Add Administrator"),
    new g5.LangItem(1,"解除屏蔽","Unblock"),
    new g5.LangItem(1,"屏蔽用户","Block User"),
    new g5.LangItem(1,"禁言5分钟","Mute for 5 minutes"),
    new g5.LangItem(1,"禁言1小时","Mute for 1 hour"),
    new g5.LangItem(1,"禁止用户发言","Mute User"),
    new g5.LangItem(1,
        "是否禁止<b>%1;</b>发言1小时？禁言期间用户不可以发言，但可以观看聊天室的内容。",
        "Do you want to mute <b>%1;</b> for 1 hour? During the mute period, the user will not be able to post messages but can still view the chat room content."),
    new g5.LangItem(1,
        "是否禁止<b>%1;</b>发言5分钟？禁言期间用户不可以发言，但可以观看聊天室的内容。",
        "Do you want to mute <b>%1;</b> for 5 minutes? During the mute period, the user will not be able to post messages but can still view the chat room content."),
    new g5.LangItem(1,"禁言","Mute"),
    new g5.LangItem(1,"确定禁言","Confirm Mute"),
    new g5.LangItem(1,"取消禁言","Lift the mute"),
    new g5.LangItem(1,
        "是否立即取消对<b>%1;</b>的禁止发言状态？如果先前对该用户进行过禁言则会立即恢复。",
        "Would you like to immediately unmute <b>%1;</b>? If the user was previously muted, this action will restore their ability to send messages."),
    new g5.LangItem(1,"添加为管理员","Add as administrator"),
    new g5.LangItem(1,
        "是否解除 %1; 的管理员身份？解除管理员后该用户将不能履行您聊天室的管理职责。",
        "Would you like to remove %1;'s administrator status? Once removed, this user will no longer have administrative privileges in your chatroom."),
    new g5.LangItem(1,
        "是否把 %1; 添加为管理员？该用户成为管理员后将能够帮助您管理此聊天室。",
        "Would you like to add %1; as an administrator? Once this user becomes an administrator, they will be able to help you manage this chatroom."),
    new g5.LangItem(1,"添加","Add"),
    new g5.LangItem(1,"确定添加","Confirm Add"),
    new g5.LangItem(1,"解除","Remove"),
    new g5.LangItem(1,"确认解除","Confirm RM"),
    new g5.LangItem(1,"确认屏蔽","Confirm Block"),
    new g5.LangItem(1,
        "是否解除对 %1; 的屏蔽？解除屏蔽后，该用户可以在聊天室发言，同时历史发言也会被解除限制。",
        "Would you like to unblock %1;? After unblocking, this user will be able to chat in the room and their previous messages will be visible again."),
    new g5.LangItem(1,
        "是否立即屏蔽（加入黑名单） %1; ？屏蔽完成后，该用户将不能发言，同时历史发言也会被屏蔽。",
        "Whether to immediately block (add to blacklist) %1;? After the blocking is completed, the user will not be able to speak, and the chat history will also be blocked."),
    new g5.LangItem(1,"确定解除","Confirm"),
    new g5.LangItem(1,"屏蔽%1;？","Block %1;?"),
    new g5.LangItem(1,"取消屏蔽%1;？","Unblock %1;?"),
    new g5.LangItem(1,
        "该用户将能关注并查看你的发言",
        "The user will be able to follow and view your posts."),
    new g5.LangItem(1,
        "他们将无法关注你或者无法查看你发送的短文，您也不会看到来自%1;的短文或者通知。",
        "They will not be able to follow you or view your posts, and you will not see any posts or notifications from %1;."),
    new g5.LangItem(1,"发言已收藏","Bookmarked"),
    new g5.LangItem(1,"可点击菜单栏“收藏”按钮进行查看。","You can click on the \"Bookmarks\" button in the menu bar to view your saved items."),
    new g5.LangItem(1,"复制成功","Copy Succeeded"),
    new g5.LangItem(1,"复制失败","Copy Failed"),
    new g5.LangItem(1,
        "%1;<br/>已经成功复制到您的剪贴板",
        "%1;<br/>has been successfully copied to your clipboard."),
    new g5.LangItem(1,
        "您的浏览器或许不支持或者没有权限复制剪贴板，请手工复制以下链接：<br/>%1;",
        "Your browser may not support or have permission to copy to clipboard. Please manually copy the following link:<br/>%1;"),
    new g5.LangItem(1,"取消隐藏","Unhide"),
    new g5.LangItem(1,"确定隐藏","Hide"),
    new g5.LangItem(1,"取消隐藏%1;？","Unhide %1;?"),
    new g5.LangItem(1,"隐藏%1;？","Hide %1;?"),
    new g5.LangItem(1,
        "该用户的发言将会重新出现在您的新鲜事，本操作不影响您对该用户的关注状态。",
        "The user's messages will reappear on your feed. This action does not affect your following status of the user."),
    new g5.LangItem(1,
        "该用户的发言将不会出现在您的新鲜事，本操作不影响您对该用户的关注状态。",
        "The user's posts will not appear in your feed, but this action won't affect your following status of the user."),
    new g5.LangItem(1,"提交","Submit"),
    new g5.LangItem(1,"提交申请","Apply"),
    new g5.LangItem(1,"私密状态","Private Mode"),
    new g5.LangItem(1,"递交确认","Submit"),
    new g5.LangItem(1,
        "该用户处于私密状态，任何对该用户的关注需要经过该用户的认可，认可后您才可以查看该用户的个人资料和短文。您希望现在就提交<b>成为该用户粉丝</b>的申请吗？",
        "The user is currently in private mode, which means any attempt to follow them requires their approval. Once approved, you will be able to view the user's profile and posts. Would you like to submit a request to <b>become their fan</b> now?"),
    new g5.LangItem(1,
        "您的关注申请已经递交，请耐心等待 %1; 的许可",
        "Your follow request has been submitted. Please wait patiently for %1;'s approval."),
    new g5.LangItem(1,"没有更多了","No more results found."),
    new g5.LangItem(1,"该用户处于禁封状态，目前无法查看该用户的信息","The user is currently blocked and their information cannot be accessed."),
    new g5.LangItem(1,"该用户已销号，目前无法查看该用户的信息","The user has been deleted and their information is no longer available."),
    new g5.LangItem(1,"删除确认","Delete"),
    new g5.LangItem(1,"本操作将删除您与该用户的所有私信记录，您是否继续？","Are you sure you want to delete all your private message history with this user?"),
    new g5.LangItem(1,"确认删除","Confirm Del"),
    new g5.LangItem(1,"账户被禁封","Account has been banned"),
    new g5.LangItem(1,"账户已销号","Account has been deleted"),
    new g5.LangItem(1,"图片","Image"),
    new g5.LangItem(1,"目前没有您的任何私信","You currently have no private messages."),
    new g5.LangItem(1,"如有私信聊天则会出现在这里","Private messages will appear here if you have any conversation."),
    new g5.LangItem(1,
        "此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及搜索结果中移除。",
        "This action is irreversible and will remove it from your profile, timelines of any accounts following you, and search results."),
    new g5.LangItem(1,"增加（标记）书签","Add bookmark"),
    new g5.LangItem(1,"您已经将此发言标记为书签，点击书签可以随时查看。","You have bookmarked this message, click on the bookmark to view it anytime."),
    new g5.LangItem(1,"短文置顶？","Pin post?"),
    new g5.LangItem(1,"取消短文置顶？","Unpin post?"),
    new g5.LangItem(1,"置顶","Pin"),
    new g5.LangItem(1,
        "置顶后，所有访问您个人主页的用户都会看到这条置顶短文。您是否确定要将此短文在您的个人主页置顶？",
        "Once this post is pinned, it will appear at the top of your profile page for all visitors to see. Are you sure you want to pin this post to your profile?"),
    new g5.LangItem(1,
        "取消置顶后，此短文将不会在您的个人主页中处于顶部位置，但其他人仍能够看到此短文。您是否要取消置顶？",
        "After canceling the top position, this post will no longer be at the top of your profile page, but others can still see it. Are you sure you want to cancel the top position?"),
    new g5.LangItem(1,"在个人主页中取消置顶","Unpin"),
    new g5.LangItem(1,"  在这里粘贴YouTube视频地址","  Paste the YouTube video URL here."),
    new g5.LangItem(1,"加入YouTube视频","Add a YouTube video"),
    new g5.LangItem(1,"YouTube<br>视频地址","YouTube<br>Video URL"),
    new g5.LangItem(1,"YouTube视频地址","YouTube video URL"),
    new g5.LangItem(1,
        "复制YouTube链接<br>并且您的链接是正确的<br>视频将会出现在这里",
        "Copy your YouTube link<br>and make sure it's correct.<br>The video will appear here."),
    new g5.LangItem(1,
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;</font></div><font>关注的用户(%3;人)</font>",
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;'s</font></div><font> followed users (%3;)</font>"),
    new g5.LangItem(1,
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;</font></div><font>关注的用户</font>",
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;'s</font></div><font> followed users</font>"),
    new g5.LangItem(1,
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;</font></div><font>的粉丝</font>",
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;'s</font></div><font> followers</font>"),
    new g5.LangItem(1,
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;</font></div><font>的粉丝(%3;人)</font>",
        "<div style='display:inline'>%1;<font color=#a0a0a0>@%2;'s</font></div><font> followers(%3;)</font>"),
    new g5.LangItem(1,"已隐藏的用户(%1;人)","Hidden Users(%1;)"),
    new g5.LangItem(1,"已隐藏的用户","Hidden Users"),
    new g5.LangItem(1,"您没有隐藏任何用户","You have not hidden any users."),
    new g5.LangItem(1,"有了之后就会出现在这里","It will appear here once you have any."),
    new g5.LangItem(1,"已屏蔽账号","Blocked Account"),
    new g5.LangItem(1,"已屏蔽账号(%1;人)","Blocked Account(%1;)"),
    new g5.LangItem(1,"您没有屏蔽任何用户","You haven't blocked any users."),
    new g5.LangItem(1,"加粉请求者","Follower Request Sender"),
    new g5.LangItem(1,"加粉请求者(%1;人)","Follower Request Sender(%1;)"),
    new g5.LangItem(1,"目前没有加粉请求者","There are no follower request senders."),
    new g5.LangItem(1,"切换模式","Switch Mode"),
    new g5.LangItem(1,"确定切换","Confirm"),
    new g5.LangItem(1,
        "您的账号处于<font color='#a06060'><b>私密模式</b></font>，" +
        "切换为<font color='#a06060'><b>正常模式</b></font>后，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。\n您是否确定切换？",
        "Your account is in <font color='#a06060'><b>Private Mode</b></font>, " +
        "Switching to <font color='#a06060'><b>normal mode</b></font> means that the short messages you publish can be searched by other users, and your personal page can be accessed by other users as well.\nAre you sure you want to switch?"),
    new g5.LangItem(1,
        "您的账号处于<font color='#a06060'><b>正常模式</b></font>，" +
        "切换为<font color='#a06060'><b>私密模式</b></font>后" +
        "您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。任何人想加入您的粉丝必须得到您的确认。\n您是否确定切换？",
        "Your account is currently in <font color='#a06060'><b>Normal Mode</b></font>. " +
        "After switching to <font color='#a06060'><b>Private Mode</b></font>, " +
        "the short posts you publish can only be seen by your followers, " +
        "and your personal page can only be accessed by your followers. " +
        "Anyone who wants to become your follower must get your approval.\n" +
        "Are you sure you want to switch?"),
    new g5.LangItem(1,
        "您的账号处于<font style='font-size:16pt' color='#a06060'><b>私密模式</b></font><br\><br\>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在私密模式下，您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>任何人想加入您的粉丝必须得到您的确认。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>您也可以把您的账号切换为<font color='#a06060'><b>正常模式</b></font>。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在正常模式下，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。</li>",
        "Your account is currently in <font style='font-size:16pt' color='#a06060'><b>Private Mode</b></font><br/><br/>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span> In Private Mode, your posted messages can only be seen by your followers, and your profile page can only be accessed by your followers.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span> Anyone who wants to become your follower must obtain your approval.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span> You can switch your account to <font color='#a06060'><b>Normal Mode</b></font>.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span> In Normal Mode, your posted messages can be searched and accessed by other users, and your profile page can also be accessed by other users.</li>"),
    new g5.LangItem(1,
        "您的账号处于<font style='font-size:16pt' color='#a06060'><b>正常模式</b></font><br\><br\>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在正常模式下，您发布的短文可以被其他用户搜索到。您的个人主页也可以被其他用户访问。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>您也可以把您的账号切换为<font color='#a06060'><b>私密模式</b></font>。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>在私密模式下，您发布的短文只能被您的粉丝看到，您的个人主页也只能被您的粉丝访问。</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>&amp;#8226;</span>任何人想加入您的粉丝必须得到您的确认。</li>",
        "Your account is in <font style='font-size:16pt' color='#a06060'><b>Normal Mode</b></font><br><br>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span>In Normal Mode, your posts can be searched and your profile can be accessed by other users.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span>You can switch your account to <font color='#a06060'><b>Private Mode</b></font>.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span>In Private Mode, your posts can only be seen by your followers and your profile can only be accessed by your followers. Anyone who wants to follow you needs to be approved by you.</li>" +
        "<li style='font-size: 1.0em;display: flex; align-items: top; margin-bottom: 6px; text-align: left'><span style='margin-right: 10px;'>•</span>Any follow requests will be sent to you for approval.</li>"),
    new g5.LangItem(1,"    语言","    Language"),
    new g5.LangItem(1,"修改显示语言","Change display language"),
    new g5.LangItem(1,"当前显示语言：","The current display language:"),
    new g5.LangItem(1,"应用","Apply"),
    new g5.LangItem(1,"简体中文","Simplified Chinese"),
    new g5.LangItem(1,"英文","English"),
    new g5.LangItem(1,"更改","Change"),
    new g5.LangItem(1,"修改语言","Change Language"),
    new g5.LangItem(1,"篇短文"," Posts"),
    new g5.LangItem(1,"请确认关注的账号","Please confirm the accounts to follow."),
    new g5.LangItem(1,"开始使用FISTALK","Start FISTALK"),
    new g5.LangItem(1,"热门搜索关键字：","Trending Keywords:"),
    new g5.LangItem(1,"你转发了","You retweeted"),
    new g5.LangItem(1,"转发了","Retweeted"),
    new g5.LangItem(1,"打赏设置","Donate Settings"),
    new g5.LangItem(1,"+ 增加","+ Add"),
    new g5.LangItem(1,"上移","Move Up"),
    new g5.LangItem(1,"下移","Move Down"),
    new g5.LangItem(1,"微信支付","WeChat Pay"),
    new g5.LangItem(1,"支付宝","Alipay"),
    new g5.LangItem(1,"自定义","Custom"),
    new g5.LangItem(1,"输入","Input"),
    new g5.LangItem(1,"二维码 / 链接","QR Code / Link"),
    new g5.LangItem(1,"付款二维码","Payment QR Code"),
    new g5.LangItem(1,"付款链接","Payment Link"),
    new g5.LangItem(1,"付款链接地址：","Payment Link URL:"),
    new g5.LangItem(1,"付款类型：","Payment Type:"),
    new g5.LangItem(1,"支付类型","Payment Method"),
    new g5.LangItem(1,"保存完成","Save Completed"),
    new g5.LangItem(1,"输入错误","Input Error"),
    new g5.LangItem(1,"付款类型的长度应该在2-6个汉字或英文字符之间","The payment type length should be between 2-6 Chinese characters or English letters."),
    new g5.LangItem(1,"Pin Video","Pin Video"),
    new g5.LangItem(1, "粉丝列表", "Followers List"),
    new g5.LangItem(1, "关注列表", "Following List"),
    new g5.LangItem(1, "加粉请求", "Follow Requests"),
    new g5.LangItem(1, "已隐藏", "Hidden"),
    new g5.LangItem(1, "投票有效期", "Voting Validity Period"),
    new g5.LangItem(1,"选项：","Options:"),
    new g5.LangItem(1, "请在这里输入选项标签", "Please enter option label here"),
    new g5.LangItem(1, "选项,点击修改", "Click to edit option"),
    new g5.LangItem(1, "票)", " votes)"),
    new g5.LangItem(1, "距离投票结束还有：", "Time left until voting ends: "),
    new g5.LangItem(1, "投票已结束", "Voting has ended"),
    new g5.LangItem(1, "投票后才可以看到投票结果", "Results will be visible after you vote"),
    new g5.LangItem(1, "投票确认", "Vote Confirmation"),
    new g5.LangItem(1, "您的投票选择是：", "Your selected option:"),
    new g5.LangItem(1, "投票后选择不能更改，您是否确定投票？", "You cannot change your selection after voting. Are you sure you want to vote?"),
    new g5.LangItem(1, "投票成功", "Vote Successful"),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,"",""),
    new g5.LangItem(1,
        "显示语言将修改为%1;，您是否继续？",
        "The display language will be changed to %1;. Do you want to continue?"),
    new g5.LangItem(1,
        "在没有保存之前，本操作将不会生效，确认删除本记录%1;吗？",
        "Changes will not take effect until saved. Are you sure you want to delete this record %1;?"),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,
        "",
        ""),
    new g5.LangItem(1,"",""),
]
}]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="chatAlertDB" type="10">
      <varValue>{
lastId: "NA",
dbLastId: "",
newCount: 0,
enabled: false,
token: "",

init: function() {
    this.token = "U" + g5.myUserInfo.id + "chatLastId";
    var a = eb.getCookie(this.token);
    if ((a == null) || (a == "")) {
        a = "NA";
        eb.setCookie(this.token, a);
    }
    this.lastId = a;
    this.dbLastId = a;
    this.enabled = true;
},

resetCount: function() {
    chatPClearNewCounter.onComplete = function() { };
    chatPClearNewCounter();
    this.setCount(0);
},

//deprecated
setDbLastId: function(value) {
    if (!this.enabled) return;
    this.dbLastId = value;
    if (this.lastId == "NA") this.clearAlert();
},

setCount: function(value) {
    var r = parseInt(value);
    if (r != this.newCount) {
        this.newCount = r;
        r = true;
    } else r = false;
    if (isNaN(this.newCount)) this.newCount = 0;
    this.showCount();
    return r;
},

showCount: function() {
    g5.p2.p2.showAlert(this.newCount);
    if (g5.p2.p2.v_isMe) {
        g5.p2.p2.showAlertP2(this.newCount);
    } else {
        g5.p2.p2.showAlertP2(0);
    }
},

clearAlert: function() {
    if (!this.enabled) return;
    this.lastId = this.dbLastId;
    this.newCount = 0;
    eb.setCookie(this.token, this.lastId);
},

onChatReceive: function(lastId) {
    if ((g5.p2.p2.p2sub.currentPageIndex == 2) &amp;&amp; (g5.p2.p2.v_isMe)) {
        this.setDbLastId(lastId);
        this.clearAlert();
        this.showCount();
    }
},


}</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="alert1" type="20">
      <varValue />
      <functionParam>title,text</functionParam>
      <functionCode>g5.popBlack.a7.show(
    title, text,
    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
    function() {}
);</functionCode>
    </item>
    <item name="isIOS" type="20">
      <varValue />
      <functionParam />
      <functionCode>return [
        "iPad Simulator",
        "iPhone Simulator",
        "iPod Simulator",
        "iPad",
        "iPhone",
        "iPod"
    ].includes(navigator.platform)
    || (navigator.userAgent.includes("Mac") &amp;&amp; "ontouchend" in document);</functionCode>
    </item>
    <item name="loadTwitterRecord" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode>panel.v_content = new g5.ContentInfo();
panel.v_reContent = new g5.ContentInfo();
panel.v_userInfo = new g5.UserInfo();
panel.v_reUserInfo = new g5.UserInfo();
var dx = 0;
panel.v_content.loadFromDataset(dataset, dx, index); dx += panel.v_content.size;
panel.v_reContent.loadFromDataset(dataset, dx, index); dx += panel.v_reContent.size;
panel.v_userInfo.loadFromDataset(dataset, dx, index); dx += panel.v_userInfo.size;
panel.v_reUserInfo.loadFromDataset(dataset, dx, index); dx += panel.v_reUserInfo.size;
panel.v_content.loadExFromDataset(dataset, dx, index);
var temp;
if (panel.v_content.uplinkType == "L") {
    temp = panel.v_content.uplinkType;
    panel.v_content.uplinkType = panel.v_content.exUplinkType;
    panel.v_content.exUplinkType = temp; 
    temp = panel.v_userInfo;
    panel.v_userInfo = panel.v_content.exUserInfo;
    panel.v_content.exUserInfo = temp;
    panel.v_content.isForward = panel.v_content.exIsForward;
    panel.v_content.isLike = panel.v_content.exIsLike;
    panel.v_content.isUnlike = panel.v_content.exIsUnlike;
}
</functionCode>
    </item>
    <item name="loadTwitterRecordOld" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode><![CDATA[//"id,mins,userId,content,photo1,replyCount(5),forwardCount,likeCount,userName,nickName(9),photo" +
//",reMins(11),reContent,rePhoto1,reUserId,reUserName,reNickName,rePhoto,status,uplinkType,
//uplinkId(20),reReCount,reFwCount,isForward,reIsForward,isLike,reIsLike,reLikeCount,
//photo2(28),photo3,photo4,rePhoto2(31),rePhoto3,rePhoto4
panel.v_userName = dataset.getData(8,index);
panel.v_userId = dataset.getData(2,index);
panel.v_nickName = dataset.getData(9,index);
panel.v_times = dataset.getData(1,index);
panel.v_contentId = dataset.getData(0,index);
panel.v_userPhoto = dataset.getData(10,index);
panel.v_photo1 = dataset.getData(4,index);
panel.v_photo2 = dataset.getData(28,index);
panel.v_photo3 = dataset.getData(29,index);
panel.v_photo4 = dataset.getData(30,index);
panel.v_content = dataset.getData(3,index);
panel.v_label1 = dataset.getData(5,index);
panel.v_label2 = dataset.getData(6,index);
panel.v_label3 = dataset.getData(7,index);
panel.v_uplinkId = dataset.getData(20,index);
panel.v_reTimes = dataset.getData(11,index);
panel.v_reContent = dataset.getData(12,index);
panel.v_rePhoto1 = dataset.getData(13,index);
panel.v_rePhoto2 = dataset.getData(31,index);
panel.v_rePhoto3 = dataset.getData(32,index);
panel.v_rePhoto4 = dataset.getData(33,index);
panel.v_reUserId = dataset.getData(14,index);
panel.v_reUserName = dataset.getData(15,index);
panel.v_reNickName = dataset.getData(16,index);
panel.v_rePhoto = dataset.getData(17,index);
panel.v_status = dataset.getData(18,index);
panel.v_uplinkType = dataset.getData(19,index);
panel.v_reReCount = dataset.getData(21,index);
panel.v_reFwCount = dataset.getData(22,index);
panel.v_isForward = dataset.getData(23,index);
panel.v_reIsForward = dataset.getData(24,index);
panel.v_isLike = dataset.getData(25,index);
panel.v_reIsLike = dataset.getData(26,index);
panel.v_reLikeCount = dataset.getData(27,index);
panel.v_photos = new Array();
if (panel.v_photo1.length>0) panel.v_photos.push(panel.v_photo1);                                                                 
if (panel.v_photo2.length>0) panel.v_photos.push(panel.v_photo2);                                                                 
if (panel.v_photo3.length>0) panel.v_photos.push(panel.v_photo3);                                                                 
if (panel.v_photo4.length>0) panel.v_photos.push(panel.v_photo4);                                                                 
panel.v_rePhotos = new Array();
if (panel.v_rePhoto1.length>0) panel.v_rePhotos.push(panel.v_rePhoto1);                                                                 
if (panel.v_rePhoto2.length>0) panel.v_rePhotos.push(panel.v_rePhoto2);                                                                 
if (panel.v_rePhoto3.length>0) panel.v_rePhotos.push(panel.v_rePhoto3);                                                                 
if (panel.v_rePhoto4.length>0) panel.v_rePhotos.push(panel.v_rePhoto4);                                                                 


]]></functionCode>
    </item>
    <item name="renderTwitter" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (!root.v_userInfo.photo) root.v_userInfo.photo = "";
if (!root.v_content.photo1) root.v_content.photo1 = "";
while (root.v_mode.length<5) root.v_mode += " ";

root.style.boxSizing="border-box";
root.style.borderWidth = "1px";
root.style.borderColor = "rgb(230,236,240)";
root.style.borderStyle = "solid";
root.style.borderTop = "";
root.style.borderLeft = "";
root.style.borderRight = "";
if ((root.v_mode.substr(0,2) != "  ") &amp;&amp; (root.v_mode.substr(0,2) != "T ")) {
    root.style.borderBottom = "";                       
}
var w = eb.getDivRectSetting(root).w;
var c;

eb.setAni2(root,1,"disappear", "rightFlyOut", "null", 0, true);
eb.setAniEvent(root,1,function(){}, function(sender) {
    g5.deletePage1(sender);
});

//uplink
if (root.v_mode.charAt(0) == "T") {
    c = createPanel(root, root.id+"_uplink01", "ccd6dd", 40, 0, 2, 6);
}
//downlink
if (root.v_mode.charAt(1) == "T") {
    c = createPanel(root, root.id+"_downlink01", "ccd6dd", 40, 64, 2, 1000);
}

root.refresh = function() {
    if (this.c_forceTopLabel) {
        if (root.v_content.forceTopSn == "0") {
            this.c_forceTopLabel.innerHTML = "";
        } else if (this.v_displayForceTop) {
            this.c_forceTopLabel.innerHTML = " · <font color='#D08080' style='font-weight:bold'>顶</font>";
        }
        var mw = eb.getDivRectSetting(root.v_titleText).w;
        var tl2 = 0; if (root.v_timeLabel) tl2 = root.v_timeLabel.offsetWidth;
        var tl3 = 0; if (root.c_forceTopLabel) tl3 = root.c_forceTopLabel.offsetWidth;
        root.c_titleText.style.maxWidth = (mw-4-tl2-tl3)+"px";
    }
}

var cy = 9;
if (root.v_content.status=="DEL") {
    c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("原文已被作者删除。"), "left", "center", g5.fonts.n1, 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if (root.v_userInfo.status == "DISABLED") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("用户被封号，无法查看原文。"), "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if (root.v_userInfo.status == "Del") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("用户已经销号，无法查看原文。"), "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if (root.v_userInfo.status == "FREEZE") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("用户被冻结，无法查看原文。"), "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if ((root.v_userInfo.status == "Private") &amp;&amp; (!root.v_userInfo.isFollow)) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("私密状态无法查看原文。"), "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if ((root.v_userInfo.isHide) &amp;&amp; (!root.v_forceDisplay)) {
    c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("该用户已被您隐藏") + " <font id='"+root.id+"_blockF02' color='#1DA1F2'>[" + g5.lang.getByCn("点击显示") + "]</font>", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
    c.c_button1 = c.label.rows[0].cells[0].childNodes[1];
    c.c_button1.style.cursor = "pointer";
    ee.setOnClick(c.c_button1,function(sender,event) {
        g5.p2.p9.show(null,null,null,null,root.v_content.id,true);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c.c_button1,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c.c_button1,function(sender,e){
        sender.style.textDecoration="";
    });
    return root;
} else if (root.v_userInfo.isBlock2) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("您已被该用户屏蔽，无法查看原文。"), "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    return root;
} else if ((root.v_userInfo.isBlock1) &amp;&amp; (root.v_mode.charAt(2) != "x") &amp;&amp; (!root.v_forceDisplay)) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    } else {
        c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "　" + g5.lang.getByCn("该用户已被您屏蔽") + " <font color='#1DA1F2'>[" + g5.lang.getByCn("点击显示") + "]</font>", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
    c.c_button1 = c.label.rows[0].cells[0].childNodes[1];
    c.c_button1.style.cursor = "pointer";
    ee.setOnClick(c.c_button1,function(sender,event) {
        g5.p2.p9.show(null,null,null,null,root.v_content.id,true);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c.c_button1,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c.c_button1,function(sender,e){
        sender.style.textDecoration="";
    });
    return root;
}

if ((root.v_mode.charAt(2) != "x") &amp;&amp; (root.v_content.status!="DEL"))  {
    root.style.cursor = "pointer"; 
    ee.setOnClick(root,function(sender,event) {
        var text = window.getSelection().toString();
        if (text.length > 0) return;
        g5.p2.p9.show(root.v_content,root.v_reContent,root.v_userInfo,root.v_reUserInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    root.eeMouseDown = function(sender,event,x,y) {
        var t=event.target;
        while (true) {
            if (t==sender) break;
            if (!t) break;
            if (t.eeOnClick) {
                return;
            }
            t = t.parentNode;
        }
        sender.style.backgroundColor = "rgb(242,245,247)";
    }
    root.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.backgroundColor = "#ffffff";
        } else {
            sender.style.backgroundColor = "rgb(245,248,250)";
        }
    }
    root.eeOnClickCancel = function(sender,event) {
        sender.style.backgroundColor = "#ffffff";
    }
    eb.initMouseEvent(root);
}
 
if (root.v_content.exUplinkType == "L") {
    //direct forward
    c = createPanel(root, root.id+"_forward01", "", 50, cy, 400, 19); cy+=22;
    var sTemp = "<svg viewBox=\"0 -2 34 34\" style='height: 1.25rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>"+g5.icon.forward+"</svg>";
    sTemp += " <div id='"+root.id+"_fwL01' style='display:inline;'>";
    if (g5.myUserInfo.userName==root.v_content.exUserInfo.userName) {
        sTemp += g5.lang.getByCn("你转发了");
    } else {
        sTemp += root.v_content.exUserInfo.nickName + " " + g5.lang.getByCn("转发了");
    }
    sTemp += "</div>";    
    addText(c, sTemp, "left", "middle", "微软雅黑", 10, "#657786", "normal");
    c.fw=c.label.rows[0].cells[0].childNodes[2];
    ee.setOnClick(c,function(sender,event) {
        g5.p2.p2.show(root.v_content.exUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c,function(sender,e){
        sender.fw.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c,function(sender,e){
        sender.fw.style.textDecoration="";
    });
}

//avata image box
c = createPanel(root, root.id+"_panel13", "", 16, cy, 50, 50);
root.c_userPhoto = c;
root.c_photo = c;
c.v_timer = null;
root.setUserPhoto = function(photo) {
    if (photo == "") {
        ee.setImage(root.c_photo,"/faith/main/user.png","trim","","");
    } else {
        ee.setImage(root.c_photo,"url:" + g5.imgUrl + photo,"trim","","");
    }
}
root.setUserPhoto(root.v_userInfo.photo);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
ee.setOnClick(c,function(sender,event) {
    ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return false;
});
g5.initImgButtonV1(c,"100%","80%","70%");

var mainWidth = parseInt(w-95);
    
//v_titleText
c = createPanel(root, root.id+"_panel16", "", 78, cy-1, mainWidth-30, null); cy+=17;
c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
c.style.fontSize = "12pt";
c.style.whiteSpace = "nowrap";
c.style.cursor="pointer";
root.v_titleText = c;
var temp = "";
if (root.v_mode.charAt(2) == "x") {
    temp = "<div style='vertical-align:text-top;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:"+(w-175)+"px'><b>" + root.v_userInfo.nickName + "</b></div>";
    temp += "<font color='#808080'></font>";
    c.innerHTML = temp;
    root.c_titleText = c.childNodes[0];
    root.c_forceTopLabel = c.childNodes[1]; 
    c.v_username = root.v_userInfo.userName;
    cy += 5;
    c = createPanel(root, root.id+"_panel16x", "", 78, cy-1, mainWidth-80, null);
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.whiteSpace = "nowrap";
    c.style.cursor="pointer";
    c.innerHTML = "<font color='#808080' style='font-size:12pt'>@" + root.v_userInfo.userName + "</font>";
    cy = 59 + 5;
} else {
    temp = "<div style='vertical-align:text-top;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:"+(w-290)+"px'><b>" + root.v_userInfo.nickName + "</b> <font color='#808080' style='font-size:12pt'>@" + root.v_userInfo.userName + "</font></div>";
    temp +="<font> · " + g5.getMins(root.v_content.seconds) + "</font>";
    temp += "<font color='#808080'></font>";
    c.innerHTML = temp;
    root.c_username = c.childNodes[0]; 
    root.c_titleText = c.childNodes[0];
    root.v_timeLabel = c.childNodes[1]; 
    root.c_forceTopLabel = c.childNodes[2]; 
    c.v_username = root.v_userInfo.userName;
    root.v_timeLabel.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    root.v_timeLabel.style.fontSize = "12pt";
    root.v_timeLabel.style.whiteSpace = "nowrap";
    root.c_forceTopLabel.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    root.c_forceTopLabel.style.fontSize = "12pt";
    root.c_forceTopLabel.style.whiteSpace = "nowrap";
    ee.changeParent(root.v_timeLabel,g5.pLine1,-1);
    ee.changeParent(root.c_forceTopLabel,g5.pLine1,-1);
    var tl2 = root.v_timeLabel.offsetWidth;
    var tl3 = root.c_forceTopLabel.offsetWidth;
    ee.changeParent(root.v_timeLabel,c,-1);
    ee.changeParent(root.c_forceTopLabel,c,-1);
    root.c_titleText.style.maxWidth = (mainWidth-34-tl2-tl3)+"px";
}
root.c_titleText.id = root.id + "_titleText";
root.c_titleText.v_userName = root.v_userInfo.userName;
ee.setOnClick(root.c_titleText,function(sender,event) {
    g5.p2.p2.show(root.v_userInfo);
    return false;
});
ee.setOnMouseEnter(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="underline";
});
ee.setOnMouseLeave(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="";
});
root.c_titleText.eeMouseDown = function(sender,event,x,y) {
    sender.childNodes[0].style.textDecoration="underline";
}
root.c_titleText.eeMouseUp = function(sender,event,x,y) {
    if ("ontouchstart" in window) {
        sender.childNodes[0].style.textDecoration="";
    } else {
        sender.childNodes[0].style.textDecoration="underline";
    }
}
root.c_titleText.eeOnClickCancel = function(sender,event) {
    sender.childNodes[0].style.textDecoration="";
}
eb.initMouseEvent(root.c_titleText);

//right corner button
c = createPanel(root, root.id+"_optionBtn1", "", w-45, 6, 27, 27);
c.style.cursor="pointer";
c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 0px 0px 5px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.dropdownList + "</svg>";
c.style.borderRadius = "50%";
root.v_btn1 = c;
ee.setOnClick(c,function(sender,event) {
    var uid = 0;
    uid = sender.parentNode.v_userInfo.id;
    if (uid==g5.myUserInfo.id) {
        g5.popup1.p1.v_isBookMark = root.v_isBookMark;
        g5.popup1.p1.show(sender, root.v_content, root.v_reContent, root.v_userInfo, root.v_reUserInfo);
    } else {
        g5.popup1.p3.v_isBookMark = root.v_isBookMark;
        g5.popup1.p3.show(sender, root.v_content, root.v_userInfo);
    }
    return false;
});

g5.initButtonV3(c,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(101,119,134)","rgb(29,161,242)","rgb(29,161,242)","")
]);

//reUsername
/*
cy+=17;
if ((root.v_content.uplinkType == "R") || (root.v_content.uplinkType == "F")){
    c = createPanel(root, root.id+"_pareUsername01nel17", "", 75, cy, mainWidth-80, 24);
    cy += 22;
    addText(c, "<font color='#808080'>" +
        (root.v_content.uplinkType == "R" ? "回复":"转发") +
        " </font><font color='#1b95e0'>@" + root.v_reUserInfo.userName + "</font>", "left", "middle", "微软雅黑", 12, "000000", "normal");
    c.style.cursor="pointer";
    c.v_username = root.v_reUserInfo.userName;
    root.c_reUserName = c.label.rows[0].cells[0].childNodes[1];
    root.c_reUserName.v_reUserName = root.v_reUserInfo.userName
    ee.setOnClick(root.c_reUserName,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="";
    });
}
*/
if ((root.v_content.uplinkType == "R") || (root.v_content.uplinkType == "F")){
    if (root.v_mode.charAt(2) == "x") {
        c = createPanel(root, root.id+"_pareUsername01nel17", "", 20, cy+2, mainWidth-80, null);
    } else {
        c = createPanel(root, root.id+"_pareUsername01nel17", "", 78, cy+2, mainWidth-80, null);
    }
    cy += 22;
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.whiteSpace = "nowrap";
    c.style.cursor="pointer";
    c.innerHTML = "<font color='#808080'>" +
        g5.lang.getByCn(root.v_content.uplinkType == "R" ? "回复":"转发") +
        " </font><font color='#1b95e0'>@" + root.v_reUserInfo.userName + "</font>";
    c.v_username = root.v_reUserInfo.userName;
    root.c_reUserName = c.childNodes[1];
    root.c_reUserName.v_reUserName = root.v_reUserInfo.userName
    ee.setOnClick(root.c_reUserName,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="";
    });
}

//v_text
/*
c = createPanel(root, root.id+"_panel17", "", 75, cy, mainWidth, w*0.0547667342799189);
root.c_content = c;
if (root.v_mode.charAt(2) == "x") {
    addText(c, "<font style='font-size:23px; line-height:1.31;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 16, "000000", "normal");
} else {
    addText(c, "<font style='line-height:1.2;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 12, "000000", "normal");
}
c.label.style.wordBreak = "break-all";
//eb.setFontSizeAuto(c, 25);
eb.setDock(c,"disabled","disabled");
var rect = eb.getDivRect(c.label);
ee.setRect(c, null, null, null, rect.h);
rect = eb.getDivRectSetting(c);
cy = rect.y + rect.h + 1;
*/
/*
c = createPanel(g5.pLine1, root.id+"_panel17", "", 75, cy, mainWidth, w*0.0547667342799189);
root.c_content = c;
if (root.v_mode.charAt(2) == "x") {
    addText(c, "<font style='font-size:23px; line-height:1.31;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 16, "000000", "normal");
} else {
    addText(c, "<font style='line-height:1.2;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 12, "000000", "normal");
}
c.label.style.wordBreak = "break-all";
var rect = eb.getDivRect(c.label);
ee.setRect(c, null, null, null, rect.h);
rect = eb.getDivRectSetting(c);
cy = rect.y + rect.h + 1;
ee.changeParent(c,root);
*/
cy += 5;
if (root.v_mode.charAt(2) == "x") {
    c = createPanel(root, root.id+"_panel17", "", 20, cy-2, w-40, null);
} else {
    c = createPanel(root, root.id+"_panel17", "", 78, cy-2, mainWidth, null);
}
root.c_content = c;
c.style.overflow = "";
c.style.whiteSpace = "pre-wrap";
//c.style.whiteSpace = "normal";
c.style.wordWrap = "break-word";
c.style.wordBreak = "normal";
//c.style.wordBreak = "break-all";
c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
c.style.color = "#000000";
if (root.v_content.content.length>0) {
    if (root.v_mode.charAt(2) == "x") {
        c.innerHTML = "<font style='font-size:23px; line-height:1.31;'>" + g5.showCommonText(root.v_content.content).replace(/\r\n/g,"\n").replace(/\n/g,"<br\>") + "</font>";
    } else {
        c.innerHTML = "<font style='font-size:12pt; line-height:1.2;'>" + g5.showCommonText(root.v_content.content).replace(/\r\n/g,"\n").replace(/\n/g,"<br\>") + "</font>";
    }
    for (var i=0; i<c.childNodes[0].childNodes.length; i++) {
        if (c.childNodes[0].childNodes[i].nodeName=="SPAN") {
            ee.setOnClick(c.childNodes[0].childNodes[i], function(sender, event) {
                g5.p2.p2.show(null,null,sender.innerText.substr(1));
                window.event? window.event.cancelBubble = true : event.stopPropagation();
            });
        }
    }
    ee.changeParent(c,g5.pLine1);
    var rect = eb.getDivRect(c);
    ee.changeParent(c,root);
    //eb.setDivRect(c, null, null, null, rect.h);
    cy += rect.h + 6;
    
    //if (!g5.cntTemp) g5.cntTemp =0;
    //g5.cntTemp++
    //g5.writeLog(g5.cntTemp, true);
} else {
    cy += 6;
}

//photos
if (root.v_content.photos.length>0) {
    if (root.v_content.photos[0].substr(0,4) == "?VID") {
        root.v_content.voteId = root.v_content.photos[0].substr(4);
        root.v_isVote = true;
        root.v_voteRender = false;
        cy += 10;
    } else {
        if (root.v_mode.charAt(2) == "x") {
            c = createPanel(root, root.id+"_panel18", "", 20, cy, w - 40, parseInt((w-40)*0.565));
        } else {
            c = createPanel(root, root.id+"_panel18", "", 75, cy, mainWidth, parseInt(mainWidth*0.565));
        }
        cy += eb.getDivRectSetting(c).h + 18;
        c.style.borderRadius = "15px";
        c.style.borderWidth = "1px";
        c.style.borderColor = "rgb(230,236,240)";
        c.style.borderStyle = "solid";
        c.style.cursor="pointer";
        c.v_photos = root.v_content.photos;
        c.v_mode = "";
        g5.refreshPhoto(c);
        root.c_photos = c; 
        c.eeMouseDown = function(sender,event,x,y) {
            //return false;
        }
        eb.initMouseEvent(c);
    }
} else {
    cy +=10;
}

var showRe = true;
if (root.v_mode.charAt(2)=="x") {
    showRe = false;
}
if (root.v_mode.substr(0,2)!="  ") {
    showRe = false;
}
if (root.v_notDisplayRe) showRe = false;

if (!showRe) {
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_reContent.status == "DEL")) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  原文已被作者删除。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if (root.v_reUserInfo.isBlock2) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  您已被该用户屏蔽，无法查看原文。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if (root.v_reUserInfo.status == "DISABLED") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  用户被封号，无法查看原文。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if (root.v_reUserInfo.status == "FREEZE") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  用户被冻结，无法查看原文。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if (root.v_reUserInfo.status == "Del") {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  用户已销号，无法查看原文。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if ((root.v_reUserInfo.status == "Private") &amp;&amp; (!root.v_reUserInfo.isFollow)) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  私密状态无法查看原文。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
} else if (root.v_reUserInfo.isHide &amp;&amp; root.v_content.uplinkType!="R" &amp;&amp; (!root.v_forceDisplay)) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  该用户已被您隐藏 <font color='#1DA1F2'>[点击显示]</font>", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
    c.c_button1 = c.label.rows[0].cells[0].childNodes[1];
    ee.setOnClick(c.c_button1,function(sender,event) {
        g5.p2.p9.show(null,null,null,null,root.v_reContent.id,true);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c.c_button1,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c.c_button1,function(sender,e){
        sender.style.textDecoration="";
    });
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_reUserInfo.isBlock1) &amp;&amp; (!root.v_forceDisplay)) {
    if (g5.isMobile) {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 60); cy+=60;
    } else {
        c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    }
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "　该用户已被您屏蔽，可以查看原文。　<font color='#1DA1F2'>[点击显示]</font>", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    cy+=20;
    c.c_button1 = c.label.rows[0].cells[0].childNodes[1];
    ee.setOnClick(c.c_button1,function(sender,event) {
        g5.p2.p9.show(null,null,null,null,root.v_reContent.id,true);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c.c_button1,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c.c_button1,function(sender,e){
        sender.style.textDecoration="";
    });
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_content.photos.length>0) &amp;&amp; (root.v_reContent.photos.length>0)) {
    c = createPanel(root, root.id+"_panel2", "", 75, cy-7, mainWidth-2, 146);
    var cRe = c;
    cy += 146 + 10;
    var p1w = mainWidth-2;
    c.style.borderRadius = "15px";
    c.style.cursor = "pointer"; 
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    ee.setOnMouseEnter(c, function(sender,e){
        sender.style.backgroundColor = "rgb(237,240,242)";
    });
    ee.setOnMouseLeave(c, function(sender,e){
        sender.style.backgroundColor = "";
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var t=event.target;
        while (true) {
            if (t==sender) break;
            if (!t) break;
            if (t.eeOnClick) {
                return;
            }
            t = t.parentNode;
        }
        sender.style.backgroundColor = "rgb(232,235,237)";
    }
    c.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.backgroundColor = "";
        } else {
            sender.style.backgroundColor = "rgb(237,240,242)";
        }
    }
    c.eeOnClickCancel = function(sender,event) {
        sender.style.backgroundColor = "";
    }
    eb.initMouseEvent(c);
    
    c.v_uplinkId = root.v_content.uplinkId
    ee.setOnClick(c,function(sender,event) {
        var text = window.getSelection().toString();
        if (text.length > 0) return;
        root.v_reContent.uplinkType = "";
        g5.p2.p9.show(root.v_reContent,null,root.v_reUserInfo, null);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    //rePhoto
    c = createPanel(cRe, root.id+"_panel8", "", 11, 11, 20, 20);
    c.style.cursor="pointer";
    c.style.borderRadius = "50%";
    c.v_username = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel280").show(sender, root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    root.c_rePhoto = c;
    root.setReUserPhoto = function(photo) {
        if (photo == "") {
            ee.setImage(root.c_rePhoto,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(root.c_rePhoto,"url:" + g5.imgUrl + photo,"trim","","")
        }
    }
    root.setReUserPhoto(root.v_reUserInfo.photo);
    c.v_timer = null;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    });
    c.eeMouseDown = function(sender,event,x,y) {
        sender.style.webkitFilter="brightness(70%)";
        sender.style.filter="brightness(70%)";
    }
    c.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        } else {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        }
    }
    c.eeOnClickCancel = function(sender,event) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    }
    eb.initMouseEvent(c);
    
    //reUserName,reNickName,reTime
    c = createPanel(cRe, root.id+"_panel11s", "", 39, 10, p1w-60, null);
    root.c_reTitle = c;
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.whiteSpace = "nowrap";
    c.style.cursor="pointer";
    c.innerHTML = "<div style='vertical-align:text-top;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:"+(w-270)+"px'><b>" + root.v_reUserInfo.nickName + "</b> <font color='#808080' style='font-size:15px'>@" + root.v_reUserInfo.userName + "</font></div><font color='#808080' style='font-size:15px'> · " + g5.getMins(root.v_reContent.seconds) + "</font>";
    root.v_reTimeLabel = c.childNodes[1]; 
    root.c_reTitleText = c.childNodes[0];
    root.c_reTitleText.id = root.id + "_reTitleText";
    root.c_reTitleText.v_userName = root.v_reUserInfo.userName;
    root.c_reUsername = c.childNodes[0];
    root.v_reTimeLabel.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    root.v_reTimeLabel.style.fontSize = "12pt";
    root.v_reTimeLabel.style.whiteSpace = "nowrap";
    ee.changeParent(root.v_reTimeLabel,g5.pLine1,-1);
    var tl2 = root.v_reTimeLabel.offsetWidth;
    ee.changeParent(root.v_reTimeLabel,c,-1);
    root.c_reTitleText.style.maxWidth = (p1w-60-4-tl2)+"px";
    ee.setOnClick(root.c_reTitleText,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        return false;
    });
    ee.setOnMouseEnter(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="";
    });
    root.c_reTitleText.eeMouseDown = function(sender,event,x,y) {
        sender.childNodes[0].style.textDecoration="underline";
    }
    root.c_reTitleText.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.childNodes[0].style.textDecoration="";
        } else {
            sender.childNodes[0].style.textDecoration="underline";
        }
    }
    root.c_reTitleText.eeOnClickCancel = function(sender,event) {
        sender.childNodes[0].style.textDecoration="";
    }
    eb.initMouseEvent(root.c_reTitleText);

    //reContent
    c = createPanel(cRe, root.id+"_panel25", "", 120, 36, p1w-130, 100);
    c.style.whiteSpace = "pre-wrap";
    c.style.wordWrap = "break-word";
    c.style.wordBreak = "normal";
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.color = "#000000";
    c.innerHTML = g5.showCommonText(root.v_reContent.content).replace(/\r\n/g,"\n").replace(/\n/g,"<br\>");
    
    //rePhotos                                                                                          
    if (root.v_reContent.photos.length>0) {
        c = createPanel(cRe, root.id+"_panel26", "", 11, 36, 100,100);
        c.style.borderRadius = "15px";
        c.style.borderWidth = "1px";
        c.style.borderColor = "rgb(230,236,240)";
        c.style.borderStyle = "solid";
        c.v_photos = root.v_reContent.photos;
        c.v_mode = "";
        g5.refreshPhoto(c);
        root.c_rePhotos = c;
        eb.initMouseEvent(c);
    }
} else if (root.v_content.uplinkType == "F") {
    var p1ratio = 2.64;
    c = createPanel(root, root.id+"_panel2", "", 75, cy, mainWidth-2, 100);
    var cRe = c;
    c.style.borderRadius = "15px";
    c.style.cursor = "pointer"; 
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    ee.setOnMouseEnter(c, function(sender,e){
        sender.style.backgroundColor = "rgb(237,240,242)";
    });
    ee.setOnMouseLeave(c, function(sender,e){
        sender.style.backgroundColor = "";
    });
    c.v_uplinkId = root.v_content.uplinkId
    ee.setOnClick(c,function(sender,event) {
        var text = window.getSelection().toString();
        if (text.length > 0) return;
        root.v_reContent.uplinkType = "";
        g5.p2.p9.show(root.v_reContent,null,root.v_reUserInfo, null);
        return false;
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var t=event.target;
        while (true) {
            if (t==sender) break;
            if (!t) break;
            if (t.eeOnClick) {
                return;
            }
            t = t.parentNode;
        }
        sender.style.backgroundColor = "rgb(232,235,237)";
    }
    c.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.backgroundColor = "";
        } else {
            sender.style.backgroundColor = "rgb(237,240,242)";
        }
    }
    c.eeOnClickCancel = function(sender,event) {
        sender.style.backgroundColor = "";
    }
    eb.initMouseEvent(c);
    
    var p1w = eb.getDivRectSetting(c).w;
    var p1h = p1w / p1ratio;
    //rePhoto
    c = createPanel(cRe, root.id+"_panel8", "", 16, 12, 20, 20);
    c.style.borderRadius = "50%";
    c.v_username = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel280").show(root.c_rePhoto, root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    root.c_rePhoto = c;
    root.setReUserPhoto = function(photo) {
        if (photo == "") {
            ee.setImage(root.c_rePhoto,"/faith/main/user.png","trim","","")
        } else {
            ee.setImage(root.c_rePhoto,"url:" + g5.imgUrl + photo,"trim","","")
        }
    }
    root.setReUserPhoto(root.v_reUserInfo.photo);
    c.v_timer = null;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    });
    c.eeMouseDown = function(sender,event,x,y) {
        sender.style.webkitFilter="brightness(70%)";
        sender.style.filter="brightness(70%)";
    }
    c.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        } else {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        }
    }
    c.eeOnClickCancel = function(sender,event) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    }
    eb.initMouseEvent(c);
    //reUserName,reNickName,reTime
    c = createPanel(cRe, root.id+"_panel11k", "", 48, 11, p1w-60, null);
    root.c_reTitle = c;
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.whiteSpace = "nowrap";
    c.style.cursor="pointer";
    c.innerHTML = "<div style='vertical-align:text-top;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:"+(w-270)+"px'><b>" + root.v_reUserInfo.nickName + "</b> <font color='#808080' style='font-size:15px'>@" + root.v_reUserInfo.userName + "</font></div><font color='#808080' style='font-size:15px'> · " + g5.getMins(root.v_reContent.seconds) + "</font>";
    root.v_reTimeLabel = c.childNodes[1]; 
    root.c_reTitleText = c.childNodes[0];
    root.c_reTitleText.id = root.id + "_reTitleText";
    root.c_reTitleText.v_userName = root.v_reUserInfo.userName;
    root.c_reUsername = c.childNodes[0];
    root.v_reTimeLabel.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    root.v_reTimeLabel.style.fontSize = "12pt";
    root.v_reTimeLabel.style.whiteSpace = "nowrap";
    ee.changeParent(root.v_reTimeLabel,g5.pLine1,-1);
    var tl2 = root.v_reTimeLabel.offsetWidth;
    ee.changeParent(root.v_reTimeLabel,c,-1);
    root.c_reTitleText.style.maxWidth = (p1w-60-4-tl2)+"px";
    ee.setOnClick(root.c_reTitleText,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        return false;
    });
    ee.setOnMouseEnter(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="";
    });
    root.c_reTitleText.eeMouseDown = function(sender,event,x,y) {
        sender.childNodes[0].style.textDecoration="underline";
    }
    root.c_reTitleText.eeMouseUp = function(sender,event,x,y) {
        if ("ontouchstart" in window) {
            sender.childNodes[0].style.textDecoration="";
        } else {
            sender.childNodes[0].style.textDecoration="underline";
        }
    }
    root.c_reTitleText.eeOnClickCancel = function(sender,event) {
        sender.childNodes[0].style.textDecoration="";
    }
    eb.initMouseEvent(root.c_reTitleText);
    //reContent
    c = createPanel(cRe, root.id+"_panel25", "", 16, 36, p1w*0.927710843373494, null);
    c.style.whiteSpace = "pre-wrap";
    c.style.wordWrap = "break-word";
    c.style.wordBreak = "normal";
    c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
    c.style.fontSize = "12pt";
    c.style.color = "#000000";
    var p1y;
    if (root.v_reContent.content.length>0) {
        c.innerHTML = g5.showCommonText(root.v_reContent.content).replace(/\r\n/g,"\n").replace(/\n/g,"<br\>");
        ee.changeParent(c,g5.pLine1);
        var rect = eb.getDivRect(c);
        ee.changeParent(c,cRe);
        //eb.setDivRect(c, null, null, null, rect.h);
        p1y = rect.y + rect.h + p1h * 0.05;
    } else {
        p1y = 36 + p1h * 0.05;
    }
    
    //rePhotos
    if (root.v_reContent.photos.length>0) {
        c = createPanel(cRe, root.id+"_panel26", "", 0, p1y, p1w, parseInt(p1w*0.565));
        p1y += eb.getDivRectSetting(c).h;
        c.v_photos = root.v_reContent.photos;
        c.v_mode = "";
        g5.refreshPhoto(c);
        root.c_rePhotos = c;
    }
    
    c = cRe;
    ee.setRect(c, null, null, null, p1y);
    cy += p1y + w*0.03;
}    

if (root.v_mode.charAt(2) == "x") {
    c = createPanel(root, root.id+"_bottom01", "", 16, cy, mainWidth, 26); cy+=33;
    root.c_bottom01 = c;
    addText(c, g5.getMins(root.v_content.seconds, 2), "left", "middle", "微软雅黑", 12, "808080", "normal");
    root.v_timeLabel = c.label.rows[0].cells[0]; 
    root.v_startTime = parseInt((new Date()).getTime()/1000)-root.v_content.seconds;
    c = createPanel(root, root.id+"_btnline01", "e6ecf0", 16, cy, w-16*2, 1); cy+=16;
}

cy-=11;
var btnX = new Array();
var btnCnt = 5;
for (var i=0; i<btnCnt; i++) btnX.push(76+parseInt((w-76*2-20)/(btnCnt-1)*i));

//5 label
if (root.v_mode.charAt(2) != "ax") {
    //label1
    c = createPanel(root, root.id+"_label1", "", btnX[0]+35, cy+7, 40, 22);
    root.c_label1 = c;
    c.init = function(text) {
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.reCount);
    //label2
    c = createPanel(root, root.id+"_label2", "", btnX[1]+35, cy+7, 40, 22);
    root.c_label2 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            ee.setTextColor(this, "#657786)");
        } else {
            ee.setTextColor(this, "#17bf63");
        }
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isForward ? 1:0, root.v_content.fwCount);
    ee.setOnClick(c, function(senderBtn, event) {
        senderBtn.label.rows[0].cells[0].className = "";
        setTimeout(function() {
            senderBtn.label.rows[0].cells[0].className = "red3";
        }, 100);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });    
    
    //label3
    c = createPanel(root, root.id+"_label3", "", btnX[2]+35, cy+7, 40, 22);
    root.c_label3 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            ee.setTextColor(this, "rgb(101,119,134)");
        } else {
            ee.setTextColor(this, "#e23c70");
        }
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isLike ? 1:0, root.v_content.likeCount);
    //label4
    c = createPanel(root, root.id+"_label4", "", btnX[3]+35, cy+7-1, 40, 22);
    root.c_label4 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            this.v_defaultColor = "rgb(101,119,134)";
        } else {
            this.v_defaultColor = "rgb(29,161,242)";
        }
        ee.setTextColor(this, this.v_defaultColor);
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isUnlike ? 1:0, root.v_content.unlikeCount);
    //label5
    c = createPanel(root, root.id+"_label5", "", btnX[4]+35, cy+7, 40, 22);
    root.c_label5 = c;
    c.init = function(text) {
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.clickCount);
    
} else {
    root.c_label1 = null;
    root.c_label2 = null;
    root.c_label3 = null;
    root.c_label4 = null;
    root.c_label5 = null;
}

//4 buttons, //button1
c = createPanel(root, root.id+"_sbutton01", "", btnX[0], cy, 36, 36);
c.style.cursor="pointer";
c.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\"><g><path d=\"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z\"></path></g></svg>";
c.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    sender.childNodes[0].style.color = "rgb(101,119,134)";
});
root.c_button1 = c;
ee.setOnClick(c,function(sender,event) {
    if (g5.checkGuest("回复短文")) {
    } else if (g5.isMobile) {
        g5.p2.p31.showRe(root.v_content.clone(),root.v_reContent.clone(),root.v_userInfo,root.v_reUserInfo);
    } else {
        g5.popBlack.a3.showRe(root.v_content.clone(),root.v_reContent.clone(),root.v_userInfo,root.v_reUserInfo);
    }
    return false;
});
g5.initButtonV3(c,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(101,119,134)","rgb(29,161,242)","rgb(29,161,242)","")
]);

//button2
c = createPanel(root, root.id+"_sbutton02", "", btnX[1], cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button2 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.refreshBtn = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.forward + "</svg>";        
    if (this.v_styleIndex == 0) {
        this.v_defaultColor = "rgb(101,119,134)";
        if (root.c_label2) ee.setTextColor(root.c_label2, "rgb(101,119,134)");
        g5.initButtonV3(root.c_button2,[
            new g5.BStyle("","#def2eb","#cee2db","","","","rgb(101,119,134)","#17bf63","#17bf63","")
        ]);
    } else {
        this.v_defaultColor = "#17bf63";
        if (root.c_label2) ee.setTextColor(root.c_label2, "#17bf63");
        g5.initButtonV3(root.c_button2,[
            new g5.BStyle("","#def2eb","#cee2db","","","","#17bf63","#17bf63","#17bf63","")
        ]);
    }
}
ee.setOnClick(c,function(sender,event) {
    if (g5.checkGuest("转发短文")) return false;
    while(1) {
        if (!sender.v_enabled) break;
        g5.popup1.p2.show(sender, root.v_content, root.v_reContent, root.v_userInfo, root.v_reUserInfo);
        break;
    }
    return false;
});
c.refreshBtn(root.v_content.isForward ? 1:0);

//button3
c = createPanel(root, root.id+"_sbutton03", "", btnX[2], cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button3 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.refreshBtn = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    if (this.v_styleIndex == 0) {
        this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.heart1 + "</svg>";        
        this.v_defaultColor = "rgb(101,119,134)";
        g5.initButtonV3(root.c_button3,[
            new g5.BStyle("","#f3e3eb","#e3d3db","","","","rgb(101,119,134)","#e23c70","#e23c70","")
        ]);
    } else {
        this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" + g5.icon.heart2 + "</svg>";        
        this.v_defaultColor = "#e23c70";
        g5.initButtonV3(root.c_button3,[
            new g5.BStyle("","#f3e3eb","#e3d3db","","","","#e23c70","#e23c70","#e23c70","")
        ]);
    }
}
ee.setOnClick(c,function(sender,event) {
    if (g5.checkGuest("点赞")) return false;
    g5.setLike(root);
    return false;
});
c.refreshBtn(root.v_content.isLike ? 1:0);

//button4
c = createPanel(root, root.id+"_sbutton04", "", btnX[3], cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button4 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.refreshBtn = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    this.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.icon.unlike+"</svg>";
    if (this.v_styleIndex == 0) {
        this.v_defaultColor = "rgb(101,119,134)";
        g5.initButtonV3(root.c_button4,[
            new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(101,119,134)","rgb(29,161,242)","rgb(29,161,242)","")
        ]);
    } else {
        this.v_defaultColor = "rgb(29,161,242)";
        g5.initButtonV3(root.c_button4,[
            new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(29,161,242)","rgb(101,119,134)","rgb(101,119,134)","")
        ]);
    }
}
ee.setOnClick(c,function(sender,event) {
    if (g5.checkGuest("点踩")) return false;
    g5.setUnlike(root);
    return false;
});
c.refreshBtn(root.v_content.isUnlike ? 1:0);

//button5
c = createPanel(root, root.id+"_sbutton01", "", btnX[4], cy, 36, 36);
c.style.cursor="pointer";
c.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;fill: currentcolor;vertical-align:middle;\">" +
    g5.icon.count + "</svg>";
c.style.borderRadius = "50%";
root.c_button5 = c;
ee.setOnClick(c,function(sender,event) {
    return false;
});
g5.initButtonV3(c,[
    new g5.BStyle("","#dfeffa","#cfdfea","","","","rgb(101,119,134)","rgb(29,161,242)","rgb(29,161,242)","")
]);

root.c_buttons = new Array();
root.c_buttons.push(root.c_button1,root.c_button2,root.c_button3,root.c_button4,root.c_button5);
root.c_labels = new Array();
root.c_labels.push(root.c_label1,root.c_label2,root.c_label3,root.c_label4,root.c_label5);


if ((g5.isMobile) &amp;&amp; (root.c_label1!=null)) {
    //for (var i=0; i<btnCnt; i++) btnX.push(76+parseInt((w-76*2-20)/(btnCnt-1)*i));
    var wc = 0;
    for (var i=0; i<btnCnt; i++) wc += 21 + ((ee.getText(root.c_labels[i]).trim().length==0)?0:(ee.getText(root.c_labels[i]).trim().length*16));
    var sep = parseInt((w - 76 -30 - wc)/(btnCnt-1));
    var px = 76;
    for (var i=0; i<btnCnt; i++) {
        ee.setRect(root.c_buttons[i],px-7,null,null,null);
        ee.setRect(root.c_labels[i],px+21,null,null,null);
        px += sep + 21 + ((ee.getText(root.c_labels[i]).trim().length==0)?0:(ee.getText(root.c_labels[i]).trim().length*16));
    }
}

//set total height
rect = eb.getDivRectSetting(root.c_button1);
eb.setDivRect(root, null, null, null, rect.y + rect.h + 7);
if (!eb.isEmpty(root.c_photos)) {
    if (!eb.isEmpty(root.c_photos.c_video)) {
        root.c_photos.v_videoY = g5.getVideoY(root.parentNode, root.c_photos.c_video);
        root.c_photos.v_videoH = eb.getDivRectSetting(root.c_photos.c_video).h;
    }
}
if (!eb.isEmpty(root.c_rePhotos)) {
    if (!eb.isEmpty(root.c_rePhotos.c_video)) {
        root.c_rePhotos.v_videoY = g5.getVideoY(root.parentNode, root.c_rePhotos.c_video);
        root.c_rePhotos.v_videoH = eb.getDivRectSetting(root.c_rePhotos.c_video).h;
    }
}

root.refresh();

return root;]]></functionCode>
    </item>
    <item name="renderTwitterSetTitle" type="20">
      <varValue />
      <functionParam>root,sTime,sTop,sReTime</functionParam>
      <functionCode>if ((sTime || sTop) &amp;&amp; (root.v_titleText)) {
    var mw = eb.getDivRectSetting(root.v_titleText).w;
    if (sTime) {
        if (root.v_timeLabel.innerHTML.substr(0,1) == " ") {
            sTime = " · " + sTime;
        }
        if (sTime!=root.v_timeLabel.innerHTML) root.v_timeLabel.innerHTML = sTime;
    }
    if (sTop &amp;&amp; sTop!=root.c_forceTopLabel.innerHTML) root.c_forceTopLabel.innerHTML = sTop;
    var tl2 = 0; if (root.v_timeLabel) tl2 = root.v_timeLabel.offsetWidth;
    var tl3 = 0; if (root.c_forceTopLabel) tl3 = root.c_forceTopLabel.offsetWidth;
    root.c_titleText.style.maxWidth = (mw-4-tl2-tl3)+"px";
}

if (sReTime &amp;&amp; root.v_reTimeLabel) {
    sReTime = " · " + sReTime;
    if (sReTime!=root.v_reTimeLabel.innerHTML) root.v_reTimeLabel.innerHTML = sReTime;
    var tl2 = root.v_reTimeLabel.offsetWidth;
    var mw = eb.getDivRectSetting(root.c_reTitle).w;
    root.c_reTitleText.style.maxWidth = (mw-4-tl2)+"px";
}

</functionCode>
    </item>
    <item name="renderTwitterRefreshVote" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (root.c_vote &amp;&amp; root.c_voteTimeLabel) {
    let t = (new Date()) - root.v_voteLocalStartTime;
    t = parseInt(t/1000);
    t = parseInt(root.v_content.voteData[0].remainingTimeSec) - t;
    if (t<=0) {
        ee.setText(root.c_voteTimeLabel, g5.lang.getByCn("投票已结束"));
    } else {
        ee.setText(root.c_voteTimeLabel, g5.lang.getByCn("距离投票结束还有：") + g5.getMins(t,3));
    }
}

]]></functionCode>
    </item>
    <item name="renderTwitterL" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(root.v_userInfo.photo)) root.v_userInfo.photo = "";
if (eb.isEmpty(root.v_content.photo1)) root.v_content.photo1 = "";
while (root.v_mode.length<5) root.v_mode += " ";

root.style.boxSizing="border-box";
root.style.borderWidth = "1px";
root.style.borderColor = "rgb(230,236,240)";
root.style.borderStyle = "solid";
root.style.borderTop = "";
root.style.borderLeft = "";
root.style.borderRight = "";
if ((root.v_mode.substr(0,2) != "  ") &amp;&amp; (root.v_mode.substr(0,2) != "T ")) {
    root.style.borderBottom = "";                       
}
var w = eb.getDivRect(root).w;
var c;

eb.setAni2(root,1,"disappear", "rightFlyOut", "null", 0, true);
eb.setAniEvent(root,1,function(){}, function(sender) {
    g5.deletePage1(sender);
});



root.refresh = function() {
    if (this.c_forceTopLabel) {
        if (root.v_content.forceTopSn == "0") {
            this.c_forceTopLabel.innerHTML = "";
        } else if (this.v_displayForceTop) {
            this.c_forceTopLabel.innerHTML = " · <font color='#D08080' style='font-weight:bold'>置顶</font>";
        }
    }
}

var cy = 9;
if (root.v_content.status=="DEL") {
    c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  " + g5.lang.getByCn("原文已被作者删除。"), "left", "center", g5.fonts.n1, 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock()
    return root;
} 

//avata image box
c = createPanel(root, root.id+"_panel13", "", 16, cy, 50, 50);
root.c_userPhoto = c;
root.c_photo = c;
c.v_timer = null;
root.setUserPhoto = function(photo) {
    if (photo == "") {
        ee.setImage(root.c_photo,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(root.c_photo,"url:" + g5.imgUrl + photo,"trim","","")
    }
}
if (root.v_content.exUserInfo.status == "DISABLED") {
    root.setUserPhoto("");
} else {
    root.setUserPhoto(root.v_content.exUserInfo.photo);
}
c.style.cursor="pointer";
c.style.borderRadius = "50%";
ee.setOnClick(c,function(sender,event) {
    if (root.v_content.exUserInfo.status == "DISABLED") {
        g5.p2.p2.show(root.v_content.exUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        return;
    } else if (root.v_content.exUserInfo.status == "DEL") {
        g5.p2.p2.show(root.v_content.exUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        return;
    }
    ee.getControl("panel280").show(root.c_photo, root.v_content.exUserInfo);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return false;
});
ee.setOnMouseEnter(c, function(sender,e) {
    sender.style.webkitFilter="brightness(80%)";
    sender.style.filter="brightness(80%)";
//    if (sender.v_timer!=null) clearTimeout(sender.v_timer);
//    sender.v_timer = setTimeout(function() {
//        ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
//    }, 700);
});
ee.setOnMouseLeave(c, function(sender,e) {
    sender.style.webkitFilter="brightness(100%)";
    sender.style.filter="brightness(100%)";
    //if (sender.v_timer!=null) {
    //    clearTimeout(sender.v_timer);
    //    sender.v_timer = null;
    //}
});

var mainWidth = parseInt((w-75)*0.97);
    
//v_titleText
c = createPanel(root, root.id+"_panel16", "", 75, cy-3, mainWidth-30, 26);
root.v_titleText = c;
var temp = "";
temp += "<div style='display:inline'><b>" + root.v_content.exUserInfo.nickName + "</b> <font color='#808080' style='font-size:12pt'>@" + root.v_content.exUserInfo.userName + "</font></div>";
temp+="<font> · </font><font>" + g5.getMins(root.v_content.seconds) + "</font>";
addText(c, temp, "left", "middle", "微软雅黑", 12, "000000", "normal");
root.v_timeLabel = c.label.rows[0].cells[0].childNodes[2]; 
c.v_username = root.v_content.exUserInfo.userName;
root.c_titleText = c.label.rows[0].cells[0].childNodes[0];
root.c_titleText.id = root.id + "_titleText";
root.c_titleText.v_userName = root.v_content.exUserInfo.userName;
c.label.rows[0].cells[0].style.whiteSpace = "nowrap";
root.c_username = c.label.rows[0].cells[0].childNodes[0]; 
var r1 = eb.getDivRect(c.label.rows[0].cells[0]);
var r2 = eb.getDivRectSetting(c);
var r3 = eb.getDivRect(root.v_timeLabel);
if (r1.w>r2.w) {
    root.c_username.style.width = (r2.w - r3.w - 20) + "px";
    root.c_username.style.display = "inline-block";
    root.c_username.style.overflow = "hidden";
    root.c_username.style.verticalAlign = "text-top";
    root.c_username.style.textOverflow = "ellipsis";
    c.label.rows[0].cells[0].childNodes[1].innerHTML = "· ";
}
c.style.cursor="pointer";
ee.setOnClick(root.c_titleText,function(sender,event) {
    g5.p2.p2.show(root.v_content.exUserInfo);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="underline";
});
ee.setOnMouseLeave(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="";
});

//reUsername
cy+=17;
if ((root.v_content.uplinkType == "R") || (root.v_content.uplinkType == "F")){
    c = createPanel(root, root.id+"_pareUsername01nel17", "", 75, cy, mainWidth-80, 22);
    cy += 22;
    addText(c, "<font color='#808080'>" +
        (root.v_content.uplinkType == "R" ? "回复":"转发") +
        " </font><font color='#1b95e0'>@" + root.v_reUserInfo.userName + "</font>", "left", "middle", "微软雅黑", 12, "000000", "normal");
    c.style.cursor="pointer";
    c.v_username = root.v_reUserInfo.userName;
    root.c_reUserName = c.label.rows[0].cells[0].childNodes[1];
    root.c_reUserName.v_reUserName = root.v_reUserInfo.userName
    ee.setOnClick(root.c_reUserName,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="";
    });
}

//v_text
c = createPanel(root, root.id+"_panel17", "", 75, cy, mainWidth, w*0.0547667342799189);
root.c_content = c;
temp = "<svg viewBox=\"0 -2 34 34\" style='height: 1.25rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>"+g5.icon.forward+"</svg>";
temp += "<font style='line-height:1.2;'>" + g5.showCommonText("直接转发") + "</font>";
addText(c, temp, "left", "top", "微软雅黑", 12, "657786", "normal");
c.label.style.wordBreak = "break-all";
//eb.setFontSizeAuto(c, 25);
eb.setDock(c,"disabled","disabled");
eb.processDock();
var rect = eb.getDivRect(c.label);
ee.setRect(c, null, null, null, rect.h);
rect = eb.getDivRect(c);
cy = rect.y + rect.h + 1;


var showRe = true;
if (root.v_mode.charAt(2)=="x") {
    showRe = false;
}
if (root.v_mode.substr(0,2)!="  ") {
    showRe = false;
}
if (root.v_notDisplayRe) showRe = false;

if (!showRe) {
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_reContent.status == "DEL")) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  此发言不可用。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock();
    cy+=20;
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_reUserInfo.isBlock1) &amp;&amp; (!root.v_forceDisplay)) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "　该用户被您屏蔽，此发言不可用。　<font id='"+root.id+"_blockF01' color='#1DA1F2'>[点击显示]</font>", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock();
    cy+=20;
    c.c_button1 = $g(root.id+"_blockF01");
    ee.setOnClick(c.c_button1,function(sender,event) {
        g5.p2.p9.show(null,null,null,null,root.v_reContent.id);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c.c_button1,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c.c_button1,function(sender,e){
        sender.style.textDecoration="";
    });
} else if (root.v_reUserInfo.isBlock2) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  您被此用户屏蔽，该短文不可用。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock();
    cy+=20;
} 

//set total height
eb.setDivRect(root, null, null, null, cy+9);
eb.processDock();
root.refresh();

return root;]]></functionCode>
    </item>
    <item name="refreshTwitter" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[while (root.eeChildren.length>0) ee.removeControl(root.eeChildren[0]);
g5.renderTwitter(root);]]></functionCode>
    </item>
    <item name="refreshTwitter2" type="20">
      <varValue />
      <functionParam>root,frontMode,itemsMode</functionParam>
      <functionCode><![CDATA[var i,dy,r;
r = eb.getDivRectSetting(root);
while (root.eeChildren.length>0) ee.removeControl(root.eeChildren[0]);
g5.renderTwitter(root);
dy = eb.getDivRectSetting(root).h - r.h;
if (itemsMode) {
    for (i=0; i<itemsMode.length; i++) if (itemsMode[i]==root) break;
    if (i>=itemsMode.length) return;
    g5.batchMoveY(itemsMode,i,dy);
} else if (frontMode) {
    while(true) {
        g5.batchMoveYPage(root,dy);
        if (!root.parentNode) break;
        root = root.parentNode;
        if (!root.v_fitInner) break;
        ee.setRect(root,null,null,null,eb.getDivRectSetting(root).h+dy);
    }
} else {
    g5.batchMoveYPage(root,dy);
    ee.setRect(root.parentNode,null,null,null,eb.getDivRectSetting(root.parentNode).h+dy);
}


]]></functionCode>
    </item>
    <item name="modifyTwitter" type="20">
      <varValue />
      <functionParam>root,v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode>//root,v_content,v_reContent,v_userInfo,v_reUserInfo
if (root.v_content.isLike != v_content.isLike) {
    root.v_content.isLike = v_content.isLike;
    if (root.c_button3) root.c_button3.refreshBtn(root.v_content.isLike ? 1:0);
    if (root.c_label3) root.c_label3.init(root.v_content.isLike ? 1:0);
}

if (root.v_content.likeCount != v_content.likeCount) {
    root.v_content.likeCount = v_content.likeCount;
    if (root.c_label3) root.c_label3.init(null, root.v_content.likeCount);
}

if (root.v_content.isUnlike != v_content.isUnlike) {
    root.v_content.isUnlike = v_content.isUnlike;
    if (root.c_button4) root.c_button4.refreshBtn(root.v_content.isUnlike ? 1:0);
    if (root.c_label4) root.c_label4.init(root.v_content.isUnlike ? 1:0);
}

if (root.v_content.unlikeCount != v_content.unlikeCount) {
    root.v_content.unlikeCount = v_content.unlikeCount;
    if (root.c_label4) root.c_label4.init(null, root.v_content.unlikeCount);
}

if (root.v_content.reCount != v_content.reCount) {
    root.v_content.reCount = v_content.reCount;
    if (root.c_label1) root.c_label1.init(root.v_content.reCount);
}

if (root.v_content.isForward != v_content.isForward) {
    root.v_content.isForward = v_content.isForward;
    if (root.c_button2) root.c_button2.refreshBtn(root.v_content.isForward ? 1:0);
    if (root.c_label2) root.c_label2.init(root.v_content.isForward ? 1:0);
}

if (root.v_content.fwCount != v_content.fwCount) {
    root.v_content.fwCount = v_content.fwCount;
    if (root.c_label2) root.c_label2.init(null, root.v_content.fwCount);
}

</functionCode>
    </item>
    <item name="syncTwitter" type="20">
      <varValue />
      <functionParam>v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode><![CDATA[var task = g5.contentGetAllBuff();

var items,item;
var contentId;
if (v_content.exUplinkType == "L") {
    contentId = v_content.exContentId;
} else {
    contentId = v_content.id;
}
g5.p2.p9.sync(v_content);
for (var i=0; i<task.length; i++) {
    items = task[i];
    for (var j=0; j<items.length; j++) {
        item = items[j];
        if (!item.v_content) continue;
        if ((item.v_content.id!=contentId)&amp;&amp;(item.v_content.exContentId!=contentId)) continue;
        if (eb.isEmpty(v_reContent)) v_reContent = item.v_reContent.clone();
        if (eb.isEmpty(v_userInfo)) v_userInfo = item.v_userInfo;
        if (eb.isEmpty(v_reUserInfo)) v_reUserInfo = item.v_reUserInfo;
        g5.modifyTwitter(item,v_content,v_reContent,v_userInfo,v_reUserInfo);
    }
}


]]></functionCode>
    </item>
    <item name="syncPostCount" type="20">
      <varValue />
      <functionParam>postCountDiff</functionParam>
      <functionCode><![CDATA[g5.myUserInfo.postCount = (parseInt(g5.myUserInfo.postCount) + parseInt(postCountDiff)).toString();
if ((g5.p2.p2.v_userInfo) &amp;&amp; (g5.p2.p2.v_userInfo.id == g5.myUserInfo.id)) {
    g5.p2.p2.v_userInfo.postCount = g5.myUserInfo.postCount;
    g5.p2.p2.refreshFansFollowCount();
}
var itemList = g5.getAllBuff();
for (var i=0; i<itemList.length; i++) {
    var items = itemList[i];
    for (j=0; j<items.length; j++) {
        if (items[j].v_userInfo) {
            if (items[j].v_userInfo.id == g5.myUserInfo.id) { 
                items[j].v_userInfo.postCount = g5.myUserInfo.postCount;
            }
        }
        if (items[j].v_reUserInfo) {
            if (items[j].v_reUserInfo.id == g5.myUserInfo.id) { 
                items[j].v_reUserInfo.postCount = g5.myUserInfo.postCount;
            }
        }
        if (items[j].v_content) {
            if (items[j].v_content.exUserInfo) {
                if (items[j].v_content.exUserInfo.id == g5.myUserInfo.id) { 
                    items[j].v_content.exUserInfo.postCount = g5.myUserInfo.postCount;
                }
            }
        }
    }
}    ]]></functionCode>
    </item>
    <item name="deleteTwitter" type="20">
      <varValue />
      <functionParam>v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode><![CDATA[v_content = v_content.clone();
v_reContent = v_reContent.clone();

if (v_content.exUplinkType == "L") {
    if (newTwitter.busy) return;
    newTwitter.content="";
    newTwitter.uplinkType="L";
    newTwitter.uplinkId = v_content.exContentId;
    newTwitter.photos=new Array();
    newTwitter.onComplete = function(contentId) {
    }
    newTwitter();
    v_content.isForward = false;
    v_content.fwCount--;
    if (v_content.fwCount<0) v_content.fwCount = 0;
    g5.contentDel(v_content.id, function() {
    });
    v_content.id = v_content.exContentId;
    g5.syncTwitter(v_content,null,v_userInfo,null);
    return;
}

if (delTwitter.busy) return;
delTwitter.contentId = v_content.id;
delTwitter.onComplete = function() {
}
delTwitter();
if (g5.currentPageIndex == 8) {
    if (g5.p2.p9.v_content.id == v_content.id) {
        setTimeout(function () {
            g5.p2.p9.v_notSave = true;
            history.go(-1);
            return false;
        }, 200);
    }
}
g5.p2.p9.delHisById(v_content.id);
g5.contentDel(v_content.id, function() {
    var buffs = g5.contentGetAllBuff();
    var i, j, items, item, newContent, newReContent;
    for (i=0; i<buffs.length; i++) {
        items = buffs[i];
        j = 0;
        while (j<items.length) {
            item = items[j];
            if (!item.v_content) {
                j++;
                continue;
            }
            //downlink L
            if (item.v_content.exContentId == v_content.id) {
                var rect = eb.getDivRect(item);
                ee.removeControl(item);
                items.splice(j,1);
                g5.batchMoveY(items,j,-rect.h);
                continue;
            }
            //downlink R F
            if (item.v_reContent.id == v_content.id) {
                if (item.v_content.uplinkType == "F") {
                    item.v_reContent.status = "DEL";
                    g5.refreshTwitter2(item,g5.contentIsCurrentBuff(items),null);
                    //newContent = item.v_content.clone();
                    //newReContent = item.v_reContent.clone();
                    //newReContent.status = "DEL";
                    //g5.contentRenew(items, j, newContent, newReContent, item.v_userInfo, item.v_reUserInfo);
                }
            }
            //uplink L
            if ((item.v_content.exUplinkType == "L") &amp;&amp; (item.v_content.exContentId == v_reContent.id)) {
                newContent = item.v_content.clone();
                newReContent = item.v_reContent.clone();
                if (v_content.uplinkType == "R") {
                    if (newContent.reCount>0) newContent.reCount--;
                } else if (v_content.uplinkType == "F") {
                    if (newContent.fwCount>0) newContent.fwCount--;
                }
                g5.modifyTwitter(item, newContent, newReContent, item.v_userInfo, item.v_reUserInfo);
            }
            //uplink
            if (v_content.uplinkType != "N") {
                if (item.v_content.id == v_reContent.id) {
                    newContent = item.v_content.clone();
                    newReContent = item.v_reContent.clone();
                    if (v_content.uplinkType == "R") {
                        if (newContent.reCount>0) newContent.reCount--;
                    } else if (v_content.uplinkType == "F") {
                        if (newContent.fwCount>0) newContent.fwCount--;
                    }
                    g5.modifyTwitter(item, newContent, newReContent, item.v_userInfo, item.v_reUserInfo);
                    g5.p2.p9.sync(newContent);
                }
            }
            j++;
        }
    }
});




]]></functionCode>
    </item>
    <item name="altClick" type="20">
      <varValue />
      <functionParam>sender</functionParam>
      <functionCode>alert(sender.innerHTML);</functionCode>
    </item>
    <item name="contentDel" type="20">
      <varValue />
      <functionParam>contentId, onComplete</functionParam>
      <functionCode><![CDATA[var task = g5.contentGetAllBuff();
var currentPages = g5.contentGetCurrentBuffs();

var items,item;
var i=0;
var hasAni = false;
for (var i=0; i<task.length; i++) {
    items = task[i];
    var j=0;
    while (j < items.length) {
        item = items[j];
        if (!item.v_content) {
            j++;
            continue;
        }
        if (item.v_content.id != contentId) {
            j++;
            continue;
        }
        var rect = eb.getDivRect(item);
        if (currentPages.includes(items)) {
            eb.setAni2(item,1,"disappear", "rightFlyOut", "null", 0, true);
            var aniItem = item;
            var aniItems = items;
            var aniItemIndex = j;
            var aniHeight = rect.h;
            eb.setAniEvent(aniItem,1,function(){}, function(sender) {
                if (aniItem.parentNode == g5.p2.p9) {
                    aniItem.v_content.status = "DEL";
                    eb.setDivRect(aniItem,0,null,null,5);
                    g5.refreshTwitter(aniItem);
                    ee.setVisible(aniItem, true);
                    eb.setAlpha(aniItem, 100);
                    ee.tiledResizeV(g5.p2.p9,2);
                } else {
                    if (aniItem.parentNode) {
                        ee.removeControl(aniItem);
                        aniItems.splice(aniItemIndex,1);
                        g5.batchMoveY(aniItems, aniItemIndex, - aniHeight);
                        g5.p2.p1.c_bottom.adjustP1();
                    }
                }
                if (onComplete) onComplete();
            });
            ee.showAni(aniItem, 1);
            hasAni = true;
            break;
        } else {
            if (item.parentNode) ee.removeControl(item);
            items.splice(j,1);
            g5.batchMoveY(items, j, - rect.h);
        }
    }
}
if (!hasAni) {
    if (onComplete) onComplete();
}



]]></functionCode>
    </item>
    <item name="contentGetMyDownlinkId" type="20">
      <varValue />
      <functionParam>contentId, linkType</functionParam>
      <functionCode><![CDATA[if (!linkType) linkType = "L";
var task = g5.contentGetAllBuff();
var items,item;
var i,j;
for (var i=0; i<task.length; i++) {
    items = task[i];
    for (j=0; j<items.length; j++) {
        item = items[j];
        if (!item.v_content) continue;
        if (item.v_content.exUplinkType != linkType) continue;
        if (item.v_content.exUserInfo.id != g5.myUserInfo.id) continue;
        if (item.v_content.exContentId != contentId) continue;
        return item.v_content.id;
    }
}

return 0;




]]></functionCode>
    </item>
    <item name="contentGetAllBuff" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var task = new Array();
task.push(g5.p2.p1.v_items);
task.push(g5.p2.p2.p1Items);
task.push(g5.p2.p2.p3Items);
task.push(g5.p2.p5.v_items);
task.push(g5.p2.p11.c_pages.c1.v_items);
task.push(g5.p2.p11.c_pages.c2.v_items);
task.push(g5.p2.p11.c_pages.c4.v_items);
task.push(g5.p2.p11.c_pages.c5.v_items);
task.push(g5.p2.p9.v_items);
task.push(g5.p2.p9.c_tabRoot.p1.v_items);
task.push(g5.p2.p9.c_tabRoot.p2.v_items);
for (var i=0; i<g5.p2.p9.v_hisItems.length; i++) {
    task.push(g5.p2.p9.v_hisItems[i].v_items);
    task.push(g5.p2.p9.v_hisItems[i].v_itemsP1);
    task.push(g5.p2.p9.v_hisItems[i].v_itemsP2);
    var p9Self = new Array();
    p9Self.push(g5.p2.p9.v_hisItems[i]);
    task.push(p9Self);
}
return task;

   



]]></functionCode>
    </item>
    <item name="contentGetCurrentBuffs" type="20">
      <varValue />
      <functionParam />
      <functionCode>var currentPage = new Array();
if (g5.currentPageIndex == 0) {
    currentPage.push(g5.p2.p1.v_items);
} else if (g5.currentPageIndex == 1) {
    if (g5.p2.p2.p2sub.currentPageIndex == 1) {
        currentPage.push(g5.p2.p2.p1Items);
    } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
        currentPage.push(g5.p2.p2.p3Items);
    }
} else if (g5.currentPageIndex == 8) {
    if (g5.p2.p9.c_tabRoot.currentPageIndex == 1) {
        currentPage.push(g5.p2.p9.c_tabRoot.p1.v_items);
    } else if (g5.p2.p9.c_tabRoot.currentPageIndex == 2) {
        currentPage.push(g5.p2.p9.c_tabRoot.p2.v_items);
    }
    currentPage.push(g5.p2.p9.v_items);
} else if (g5.currentPageIndex == 4) {
    currentPage.push(g5.p2.p5.v_items);
} else if (g5.currentPageIndex == 10) {
    if (g5.p2.p11.currentPage == "c1") {
        currentPage.push(g5.p2.p11.c_pages.c1.v_items);
    } else if (g5.p2.p11.currentPage == "c2") {
        currentPage.push(g5.p2.p11.c_pages.c2.v_items);
    } else if (g5.p2.p11.currentPage == "c4") {
        currentPage.push(g5.p2.p11.c_pages.c4.v_items);
    } else if (g5.p2.p11.currentPage == "c5") {
        currentPage.push(g5.p2.p11.c_pages.c5.v_items);
    }
} else if (g5.currentPageIndex == 11) {
    currentPage.push(g5.p2.p12.v_items);
}
return currentPage;</functionCode>
    </item>
    <item name="contentIsCurrentBuff" type="20">
      <varValue />
      <functionParam>items</functionParam>
      <functionCode><![CDATA[var itemsArr = g5.contentGetCurrentBuffs();
for (var i=0; i<itemsArr.length; i++) {
    if (itemsArr[i] == items) return true;    
}
return false;
]]></functionCode>
    </item>
    <item name="getAllBuff" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var r = new Array();
r.push(g5.p2.p1.v_items);
r.push(g5.p2.p1.c_bottom.c_recmdU.v_items);
r.push(g5.p2.p2.p1Items);
r.push(g5.p2.p2.p3Items);
r.push(g5.p2.p2.p2sub.chat.c_chat.c_chatRoot.v_items);
r.push(g5.p3.p8.p1.c_chatRoom.c_chatRoot.v_items);
r.push(g5.p2.p5.v_items);
r.push(g5.p2.p11.c_pages.c1.v_items);
r.push(g5.p2.p11.c_pages.c2.v_items);
r.push(g5.p2.p11.c_pages.c3.v_items);
r.push(g5.p2.p11.c_pages.c4.v_items);
r.push(g5.p2.p11.c_pages.c5.v_items);
r.push(g5.p2.p12.v_items);
r.push(g5.p2.p13.v_items);
r.push(g5.p2.p15.v_items);
r.push(g5.p2.p16.v_items);
r.push(g5.p2.p9.v_items);
r.push(g5.p2.p9.c_tabRoot.p1.v_items);
r.push(g5.p2.p9.c_tabRoot.p2.v_items);
r.push(g5.p2.p9.c_tabRoot.p3.v_items);
r.push(g5.p2.p9.c_tabRoot.p4.v_items);
for (var i=0; i<g5.p2.p9.v_hisItems.length; i++) {
    r.push(g5.p2.p9.v_hisItems[i].v_items);
    r.push(g5.p2.p9.v_hisItems[i].v_itemsP1);
    r.push(g5.p2.p9.v_hisItems[i].v_itemsP2);
    r.push(g5.p2.p9.v_hisItems[i].v_itemsP3);
    r.push(g5.p2.p9.v_hisItems[i].v_itemsP4);
}
return r;]]></functionCode>
    </item>
    <item name="contentRenew" type="20">
      <varValue />
      <functionParam>items, index, v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode>var item = items[index];
var root = item.parentNode;
var rect = eb.getDivRect(item);
var itemId = item.id;
var itemMode = item.v_mode;
ee.removeControl(item);
item = createPanel(root, itemId, "", 0, rect.y, rect.w, 5);
item.v_mode = itemMode;
item.v_content = v_content;
item.v_reContent = v_reContent;
item.v_userInfo = v_userInfo;
item.v_reUserInfo = v_reUserInfo;
g5.renderTwitter(item);
item.style.borderLeft="";    
item.style.borderRight="";    
items[index] = item;
var newRect = eb.getDivRect(item);
g5.batchMoveY(items, index+1, newRect.h - rect.h);
</functionCode>
    </item>
    <item name="syncTwitterOld" type="20">
      <varValue />
      <functionParam>contentId,buttonNumber</functionParam>
      <functionCode><![CDATA[var task = ["page1_","puser_","page8_","sech_"];
var item;
for (var i=0; i<task.length; i++) {
    item = $g(task[i]+contentId);
    if (!eb.isEmpty(item)) {
        if (buttonNumber==2) item.changeButton2();
        if (buttonNumber==3) item.changeButton3();
    }
    item = $g(task[i]+contentId+"L");
    if (!eb.isEmpty(item)) {
        if (buttonNumber==2) item.changeButton2();
        if (buttonNumber==3) item.changeButton3();
    }
}


]]></functionCode>
    </item>
    <item name="loadUserRecord" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode>panel.v_userInfo = new g5.UserInfo();
panel.v_userInfo.loadFromDataset(dataset,0,index);
panel.v_isFollow = dataset.getData(13,index);


</functionCode>
    </item>
    <item name="renderUserBar" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[while (root.v_mode.length<5) root.v_mode += " ";
var w = eb.getDivRect(root).w;
var c,cy=10;

root.v_userBar = true;
root.style.boxSizing="border-box";
root.style.borderWidth = "1px";
root.style.borderColor = "rgb(230,236,240)";
root.style.borderStyle = "solid";
root.style.borderTop = "";
root.style.borderLeft = "";
root.style.borderRight = "";
if (root.v_userInfo.status == "DISABLED") {
} else if (root.v_userInfo.status == "Del") {
} else {
    root.style.cursor = "pointer";
    ee.setOnClick(root,function(sender,event) {
        g5.p2.p2.show(root.v_userInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
}

//user photo
c = createPanel(root, root.id+"panel13", "", 15,cy,50,50);
c.style.borderRadius = "50%";
c.v_timer = null;
root.c_photo = c;
c.style.cursor="pointer";
root.setUserPhoto = function(photo) {
    if ((root.v_userInfo.status == "DISABLED") || (root.v_userInfo.status == "Del") || (photo == "")) {
        ee.setImage(root.c_photo,"/faith/main/user.png","trim","","")
    } else {
        ee.setImage(root.c_photo,"url:" + g5.imgUrl + photo,"trim","","")
    }
}
root.setUserPhoto(root.v_userInfo.photo);
ee.setOnClick(c,function(sender,event) {
    if (root.v_userInfo.status == "DISABLED") {
        g5.p2.p2.show(root.v_userInfo);
        //g5.alert1("提示", "该用户处于禁封状态，目前无法查看该用户的信息");
    } else if (root.v_userInfo.status == "Del") {
        g5.p2.p2.show(root.v_userInfo);
        //g5.alert1("提示", "该用户已销号，目前无法查看该用户的信息");
    } else {
        ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
    }
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
g5.initImgButtonV1(c,"100%","80%","70%");


//user nick name
c = createPanel(root, root.id+"p16n", "", 77, cy+4, w-190, 22); cy+=22;
c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
c.style.fontSize = "12pt";
c.style.color = "#14171a";
c.style.fontWeight = "bold";
c.style.textOverflow = "ellipsis";
c.style.inlineBlock = "max-width";
c.style.whiteSpace = "nowrap";
c.style.cursor="pointer";
c.innerHTML = root.v_userInfo.nickName;
if (root.v_userInfo.status == "DISABLED") {
} else if (root.v_userInfo.status == "Del") {
} else {
    c.style.cursor="pointer";
    ee.setOnMouseEnter(c,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c,function(sender,e){
        sender.style.textDecoration="";
    });
}

//username
c = createPanel(root, root.id+"p16u", "", 77, cy+4, w-190, 22); cy+=22;
c.style.fontFamily = "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
c.style.fontSize = "12pt";
c.style.color = "#6e7f8d";
c.style.textOverflow = "ellipsis";
c.style.inlineBlock = "max-width";
c.style.whiteSpace = "nowrap";
c.style.cursor="pointer";
c.innerHTML = "@"+root.v_userInfo.userName;

//note
if (root.v_userInfo.note!="") {
    c = createPanel(root, root.id+"panel16", "", 77, cy, w-77-15, 22);
    addText(c, root.v_userInfo.note, "left", "top", g5.fonts.n1, 12, "14171a", "normal");
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    cy += rect.h;
} else {
    cy += 7;
}

//button
c = null;
if (root.v_userInfo.isBlock2 &amp;&amp; (!root.v_userInfo.isBlock1)) {
} else if (root.v_userInfo.status == "DISABLED") {
    c = createPanel(root, root.id+"buttonR1", "", w-128-15, 2, 75, 40);
    addText(c, "封号", "right", "middle", g5.fonts.n1, 12, "606060", "");
} else if (root.v_userInfo.status == "FREEZE") {
    c = createPanel(root, root.id+"buttonR1", "", w-128-15, 2, 75, 40);
    addText(c, "冻结", "right", "middle", g5.fonts.n1, 12, "606060", "");
} else if (root.v_userInfo.status == "Del") {
    c = createPanel(root, root.id+"buttonR1", "", w-128-15, 2, 75, 40);
    addText(c, "已销号", "right", "middle", g5.fonts.n1, 12, "606060", "");
} else if (root.v_mode.charAt(0)=="x") {
    c = createPanel(root, root.id+"button11", "", w-128-15, 12, 80, 40);
    addText(c, "已屏蔽", "center", "middle", g5.fonts.n1, 12, "ffffff", "bold");
    c.style.borderRadius = "20px";
    root.v_isBlock = false;
    root.c_button11 = c;
    g5.initButtonV3(c,[
        new g5.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","已屏蔽","已屏蔽","#ffffff","#ffffff","#ffffff",""),
        new g5.BStyle("#ffffff","#f3e3eb","#f1cddb","屏蔽","屏蔽","屏蔽","#e0245e","#1da1f2","#1da1f2","#e0245e")
    ]);
    root.changeButton = function() {
        this.v_isBlock = !this.v_isBlock;    
        this.c_button11.init(this.v_isBlock?0:1);
    }
    ee.setOnClick(c, function(sender, event) {
        if (sender.parentNode.v_isBlock) {
            blockUser.userId = sender.parentNode.v_userInfo.id;
            blockUser.isBlock = 0;
            blockUser();    
        } else {
            blockUser.userId = sender.parentNode.v_userInfo.id;
            blockUser.isBlock = 1;
            blockUser();    
        }
        sender.parentNode.changeButton();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });
    eb.initMouseEvent(c);
    root.changeButton();    
} else {
    c = createPanel(root, root.id+"button01", "", w-128-15, 14, 128, 28);
    c.v_right = w-15;
    root.button1 = c;
    c.style.cursor="pointer";
    addText(c, "...", "center", "top", g5.fonts.n1, 11, "1DA1F2", "bold");
    g5.initButtonV3(c,[
        new g5.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff",""),
        new g5.BStyle("","#e8f5fe","#d2ecfc","关注","关注","关注","#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
        new g5.BStyle("#1da1f2","#ca2055","#b31d4b","正在关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff",""),
        new g5.BStyle("","#e8f5fe","#d2ecfc","编辑个人资料","编辑个人资料","编辑个人资料","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
    ]);
    c.style.borderRadius = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.refreshStatus = function(index) {
        this.label.style.width = "";
        this.init(index);
        var w = this.label.offsetWidth + 20;
        ee.setRect(this, this.v_right-w,null,w,null);
    }
    root.refreshButton = function() {
        if (root.v_selectMode) {
            if (root.v_selected) {
                root.button1.refreshStatus(2);
            } else {
                root.button1.refreshStatus(1);
            }
        } else {
            if (root.v_userInfo.isFollow) {
                root.button1.refreshStatus(2);
            } else {
                root.button1.refreshStatus(1);
            }
            if (root.v_userInfo.userName == g5.myUserInfo.userName) {
                root.button1.refreshStatus(3);
            }
            if (root.v_userInfo.isBlock1) {
                root.button1.refreshStatus(0);
            }
        }
    }
    if (root.v_selectMode) {
        root.v_selected = !root.v_selected;
        root.refreshButton();
        root.v_selected = !root.v_selected;
    }
    root.refreshButton();
    
    ee.setOnClick(c, function(sender, event) {
        if (sender.v_index==0) {
            g5.setBlock1(root.v_userInfo,null);
        } else if (sender.v_index==1) {
            if (root.v_selectMode) {
                root.v_selected = !root.v_selected;
                root.refreshButton();
                if (root.f_onSelectChange) root.f_onSelectChange(root.v_selected);
            } else {
                //follow
                if (g5.checkGuest("关注某用户")) {
                } else {
                    g5.setFollow(root.v_userInfo, function(v_userInfo) {
                        sender.refreshStatus(2);
                        root.v_userInfo = v_userInfo.clone();
                    });
                }
            }
        } else if (sender.v_index==2) {
            if (root.v_selectMode) {
                root.v_selected = !root.v_selected;
                root.refreshButton();
                if (root.f_onSelectChange) root.f_onSelectChange(root.v_selected);
            } else {
                //unfollow
                if (g5.checkGuest("取消关注某用户")) {
                } else {
                    g5.setFollow(root.v_userInfo, function(v_userInfo) {
                        sender.refreshStatus(1);
                        root.v_userInfo = v_userInfo.clone();
                    });
                }
            }
        } else if (sender.v_index==3) {
            //编辑个人资料
            if (g5.checkGuest("编辑个人资料")) {
            } else {
                g5.p2.p17.show();
            }
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });
}
if (c) root.c_button = c;

cy+=10;
eb.setDivRect(root,null,null,null,cy);
return root; 




]]></functionCode>
    </item>
    <item name="appendItemPage2" type="20">
      <varValue />
      <functionParam>parent, username, nickname, userPhoto</functionParam>
      <functionCode><![CDATA[//v_username
//c_userphoto, c_label
var hd = "f" + g5.itemsPage2.length + "_";
if (eb.isEmpty(userPhoto)) userPhoto = "";
var w = eb.getDivRect(parent).w;
var h = eb.getDivRect(parent).h;
var y = 0;
if (g5.itemsPage2.length > 0) {
    y = eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).y + eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).h;
}
y += 0; //v-space

c = createPanel(parent, hd+"panel12", "FFFFFF", 0, y, w, parseInt(w/5.4875));
var root = c;
ee.setOnClick(c,function(sender,event) {
    showUserPage.userName=sender.v_username;
    showUserPage();
});
g5.itemsPage2.push(root);
root.v_username = username;
eb.setDock(c,"disabled","disabled");
c = createPanel($g(hd+"panel12"), hd+"panel13", "", 13, 10, 57, 59);
eb.setDock(c,"ratio","ratio");
c.leftRatio=0.0296127562642369;
c.widthRatio=0.129840546697039;
c.topRatio=0.125;
c.heightRatio=0.7375;
c = createPanel($g(hd+"panel13"), hd+"panel14", "", 0, 0, 57, 59);
root.c_userphoto = c;
if (userPhoto == "") {
    ee.setImage(c,"/faith/main/user.png","trim","","")
} else {
    ee.setImage(c,"url:" + g5.imgUrl + userPhoto,"trim","","")
}
eb.setDock(c,"fill","fill");
eb.setOuter(c,1,1,1,1);
c = createPanel($g(hd+"panel13"), hd+"panel15", "", 0, 0, 57, 59);
ee.setImage(c,"/faith/main/page2/cirMask.png","trim","","")
eb.setDock(c,"fill","fill");
c = createPanel($g(hd+"panel12"), hd+"panel16", "", 86, 18, 347, 43);
root.c_label = c;
addText(c, "<b>" + nickname + "</b>@" + username, "left", "middle", "Helvetica", 14, "000000", "normal");
//eb.setFontSizeAuto(c, 20);
eb.setDock(c,"ratio","ratio");
c.leftRatio=0.195899772209567;
c.widthRatio=0.790432801822323;
c.topRatio=0.225;
c.heightRatio=0.5375;
c = createPanel($g(hd+"panel12"), hd+"panel611","C0C0C0", 0, 0, w, 1);
eb.setDock(c,"fill","bottom");    

eb.processDock();
if (g5.itemsPage2.length > 0) {
    y = eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).y + eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).h;
}
y += 0; //v-space
return y;]]></functionCode>
    </item>
    <item name="refreshMain" type="20">
      <varValue />
      <functionParam>refresh</functionParam>
      <functionCode><![CDATA[//process time
var currentItemsArr = g5.contentGetCurrentBuffs();
for (var j=0; j<currentItemsArr.length; j++) {
    var currentItems = currentItemsArr[j];
    for (var i=0; i<currentItems.length; i++) {
        var item = currentItems[i];
        if (!item.v_content) continue;
        g5.renderTwitterRefreshVote(item);
        var now = parseInt((new Date()).getTime()/1000);    
        var time = now-item.v_content.startTime;
        if (time>=24*60*60) continue;
        time=g5.getMins(time);
        g5.renderTwitterSetTitle(item,time,null);
        if (item.v_reTimeLabel) {
            var time = now-item.v_reContent.startTime;
            if (time>=24*60*60) continue;
            time=g5.getMins(time);
            g5.renderTwitterSetTitle(item,null,null,time);
        }
    }
}

g5.RM_ProcessResize();

if (g5.isMobile) {
    var pButton = false;
    if (g5.currentPageIndex==0) {
        if (document.documentElement.scrollTop>1) pButton = true;
    } else if (g5.currentPageIndex == 1) {
        if (g5.p2.p2.p2sub.currentPageIndex != 2) pButton = true;
    } else if (g5.currentPageIndex == 4) {
        pButton = true;
    } else if (g5.currentPageIndex == 8) {
        //pButton = true;
    } else if (g5.currentPageIndex == 10) {
        //pButton = true;
    }
    if (g5.guestMode) pButton = false;
    ee.setVisible(g5.pButton, pButton);

    return;
}

var cw = $g("divRoot").offsetWidth;    
if (eb.isEmpty(refresh)) refresh = false;
if ((g5.lastWidth == cw)&amp;&amp;(!refresh)) return;
g5.lastWidth = cw;
var p1w = eb.getDivRect(g5.p1).w;
var p2w = eb.getDivRect(g5.p2).w;
var p3w = eb.getDivRect(g5.p3).w;
if (g5.pageMode == 0) {
    if (cw >= 300+600+400) {
        p1w = 300;
        p2w = 600;
        p3w = 400;
    } else if (cw >= 80+600+400) {
        p1w = 80;
        p2w = 600;
        p3w = 400;
    } else if (cw >= 80+600+330) {
        p1w = 80;
        p2w = 600;
        p3w = 330;
    } else if (cw >= 80+600) {
        p1w = 80;
        p2w = 600;
        p3w = 0;
    } else {
        p1w = 80;
        p2w = cw-80;
        p3w = 0;
    }
} else if (g5.pageMode == 1) {
    if (cw >= 300+600+400) {
        p1w = 300;
        p2w = 400;
        p3w = 600;
    } else if (cw >= 80+600+400) {
        p1w = 80;
        p2w = 400;
        p3w = 600;
    } else if (cw >= 80+300+6000) {
        p1w = 80;
        p2w = 300;
        p3w = 600;
    } else if (cw >= 80+600) {
        p1w = 80;
        p2w = 0;
        p3w = 600;
    } else {
        p1w = 80;
        p2w = 0;
        p3w = cw-80;
    }
}
var left = parseInt((cw - p1w - p2w - p3w) / 2);
ee.setRect(g5.p1,left,null,p1w,null);
if (p1w<=80) {
    g5.p1.changePage(g5.guestMode?"p6":"p2");
    //g5.changeP1(2);
} else {
    g5.p1.changePage(g5.guestMode?"p5":"p1");
    //g5.changeP1(1);
}
ee.setRect(g5.p2,left+p1w,null,p2w,null);
ee.setRect(g5.p4,left+p1w,null,p2w,null);
if (p3w==0) {
    ee.setVisible(g5.p3, false);
} else {
    ee.setVisible(g5.p3, true);
    ee.setRect(g5.p3,left+p1w+p2w,null,p3w,null);
}
ee.setRect(g5.pLine1, left+p1w,null,null,null);
ee.setRect(g5.pLine2, left+p1w+p2w,null,null,null);

eb.processDock();]]></functionCode>
    </item>
    <item name="RM_ProcessResize" type="20">
      <varValue />
      <functionParam />
      <functionCode>var clientSize = eb.getClientSize();
if ((g5.RM_LastCW == clientSize.w) &amp;&amp; (g5.RM_LastCH == clientSize.h)) return;
g5.RM_LastCW = clientSize.w;
g5.RM_LastCH = clientSize.h;
g5.RM_OnResize(g5.RM_LastCW,g5.RM_LastCH); 
</functionCode>
    </item>
    <item name="RM_OnResize" type="20">
      <varValue />
      <functionParam>w,h</functionParam>
      <functionCode>if (g5.RM_TimeoutHandle) clearTimeout(g5.RM_TimeoutHandle);
g5.RM_TimeoutHandle = setTimeout(function() {
    if (g5.currentPageIndex == 14) {
        g5.p2.p15.processBottom();
    }
}, 300);
</functionCode>
    </item>
    <item name="refreshScreen" type="20">
      <varValue />
      <functionParam />
      <functionCode>if (!g5.isMobile) return;
if (!g5.refreshContentInit) {
    g5.refreshContentInit = true;
    ee.autoResize = false;
    setTimeout(function() {
        g5.refreshScreen();
    }, 200);
    return;
}
if (!g5.refreshContentLastW) {
    g5.refreshContentLastW = 0;
    g5.refreshContentLastH = 0;
}
var r = eb.getClientSize();
if ((r.w == g5.refreshContentLastW) &amp;&amp; (r.h == g5.refreshContentLastH)) {
    setTimeout(function() {
        g5.refreshScreen();
    }, 200);
    return;
}
g5.refreshContentLastW = r.w;
g5.refreshContentLastH = r.h;

eb.setDivRect($g("divRoot"),null,null,r.w,r.h);
eb.processDock();
setTimeout(function() {
    g5.refreshScreen();
}, 200);


//g5.writeLog("h=" + r.h);
</functionCode>
    </item>
    <item name="refreshContent" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[g5.RC_MIN = 5000;
g5.RC_MAX = 3*60*1000;
if (!g5.RC_LastTime) {
    g5.RC_LastTime = new Date();
    g5.RC_LastTime.setTime(g5.RC_LastTime.getTime() - g5.RC_MIN*1000);
}
if (!g5.RC_LastTime1s) g5.RC_LastTime1s = new Date();
if (!g5.RC_Interval) g5.RC_Interval = g5.RC_MIN;
if (!g5.RC_CID) g5.RC_CID = new Array();

if (g5.likeItems &amp;&amp; g5.likeItems.length>0) return;
if (g5.unlikeItems &amp;&amp; g5.unlikeItems.length>0) return;
if (newTwitter.busy) return;

if ((new Date()).getTime() - g5.RC_LastTime1s.getTime() < 1000) return;
g5.RC_LastTime1s = new Date();

let buffs = g5.contentGetCurrentBuffs();
let cId = new Array();
let voteCId = new Array();
let voteId = new Array();
let emergencyRefresh = false;
var i,j;
for (i=0; i<buffs.length; i++) {
    for (j=0; j<buffs[i].length; j++) {
        if (!buffs[i][j].v_content) continue;
        if (!buffs[i][j].v_content.id) continue;
        if (buffs[i][j].v_isVote) {
            if (!buffs[i][j].c_vote || buffs[i][j].v_voteNeedRefresh) {
                emergencyRefresh = true;
                buffs[i][j].v_voteNeedRefresh = false;
                voteCId.push(buffs[i][j].v_content.id);
                voteId.push(buffs[i][j].v_content.voteId);
            }
        }
        var r = g5.getRectAbs(buffs[i][j]);
        if (r.y + r.h < 0) continue;
        if (r.y > eb.getClientSize().h) continue;
        cId.push(buffs[i][j].v_content.id);
        if (buffs[i][j].v_isVote) {
            if (buffs[i][j].c_vote) {
                voteCId.push(buffs[i][j].v_content.id);
                voteId.push(buffs[i][j].v_content.voteId);
            }
        }
    }
}
var diff = false;
while (true) {
    if (cId.length!=g5.RC_CID.length) {
        diff = true;
        break;
    }
    for (i=0; i<cId.length; i++) {
        if (cId[i]!=g5.RC_CID[i]) {
            diff = true;
            break;
        }
    }
    break;
}
if (diff) {
    g5.RC_Interval = g5.RC_MIN;
}
g5.RC_CID = cId;

if (!emergencyRefresh &amp;&amp; ((new Date()).getTime() - g5.RC_LastTime.getTime() < g5.RC_Interval)) return;
g5.RC_LastTime = new Date();

updateMain.cIds = cId;
updateMain.voteCId = voteCId;
updateMain.voteId = voteId;
updateMain.onComplete = function(dataset, voteResult) {
    if (g5.likeBusy|| g5.unlikeBusy) return;
    var changed = false;
    for (var i=0; i<dataset.rowCount; i++) {
        var v_content = new g5.ContentInfo();
        v_content.id = dataset.getData(0,i);
        v_content.clickCount = dataset.getData(1,i);
        v_content.reCount = dataset.getData(2,i);
        v_content.fwCount = dataset.getData(3,i);
        v_content.likeCount = dataset.getData(4,i);
        v_content.unlikeCount = dataset.getData(5,i);
        changed = g5.refreshContentCount(v_content) || changed;
    }
    g5.refreshContentVote(voteResult);
    if (updateMain.needRefresh) {
        g5.RC_Interval = g5.RC_MIN;
    } else if (!changed) {
        g5.RC_Interval = Math.min(parseInt(g5.RC_Interval*1.5), g5.RC_MAX);
    } else {
        g5.RC_Interval = g5.RC_MIN;
    }
}
updateMain();
if (g5.currentPageIndex==0) g5.p2.p1.loadNew();
g5.p2.p9.refreshNew();


//g5.writeLog(cId + "\n" + (g5.RC_Interval/1000)+"s", true);
]]></functionCode>
    </item>
    <item name="refreshContentVote" type="20">
      <varValue />
      <functionParam>voteData</functionParam>
      <functionCode><![CDATA[if (voteData.rowCount<=0) return;
let buffs = g5.contentGetCurrentBuffs();
let sn = "xxx";
let CID,i,j1,j2;
let root,rootItems,rootIndex;
for (i=0; i<=voteData.rowCount; i++) {
    if (sn != voteData.getData(0,i)) {
        if (i>0) {
            if (root==null) break;
            g5.refreshContentVoteRender(root,rootItems,rootIndex);
        }
        sn = voteData.getData(0,i);
        CID = voteData.getData(1,i);
        root = null;
        for (j1=0; j1<buffs.length; j1++) {
            for (j2=0; j2<buffs[j1].length; j2++) {
                if (!buffs[j1][j2].v_content) continue;
                if (buffs[j1][j2].v_content.id == CID) {
                    root = buffs[j1][j2];
                    rootItems = buffs[j1];
                    rootIndex = j2;
                    root.v_content.voteData = new Array();
                    break;
                }
            }
        }
    }
    if (root == null) break;
    root.v_content.voteData.push({
        optionName:voteData.getData(3,i),
        voteCount:parseInt(voteData.getData(6,i)),
        myVote:parseInt(voteData.getData(7,i)),
        durationSec:parseInt(voteData.getData(4,i)),
        remainingTimeSec:voteData.getData(5,i)
    });
}]]></functionCode>
    </item>
    <item name="refreshContentVoteRender" type="20">
      <varValue />
      <functionParam>root,rootItems,rootIndex</functionParam>
      <functionCode><![CDATA[let s1=10, s2=5, s3=10, ch=31;
let i,r,r2,newH,oldH,voteRoot,c,cy;
r = eb.getDivRectSetting(root.c_content);
if (!root.c_vote) {
    voteRoot = createPanel(root, root.id+"_voteRoot", "", r.x, r.y+r.h, r.w, 10);
    root.c_vote = voteRoot;
    oldH = 0;
    voteRoot.v_items = new Array();
} else {
    voteRoot = root.c_vote;
    oldH = eb.getDivRectSetting(voteRoot).h;
}
let myVote = false;
for (i=0; i<root.v_content.voteData.length; i++) {
    if (root.v_content.voteData[i].myVote>0) {
        myVote = true;
        break;
    }
}
if (myVote != root.v_content.myVote) {
    root.v_content.myVote = myVote;
    while (voteRoot.v_items.length>0) {
        ee.removeControl(voteRoot.v_items[voteRoot.v_items.length-1]);
        voteRoot.v_items.splice(voteRoot.v_items.length-1);
    }
}

let initVoteBars = function(bar, txt) {
    Object.assign(bar.style, {
        transition: 'width 2s ease-out'
    });
    
    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const bar = entry.target;
                bar.style.width = bar.v_width + "px";
                
                let start = null;
                const duration = 2000;
                function animateNum(timestamp) {
                    if (!start) start = timestamp;
                    const progress = Math.min((timestamp - start) / duration, 1);
                    const current = Math.floor(progress * txt.v_percent);
                    ee.setText(txt, current + txt.v_text);
                    if (progress < 1) {
                        requestAnimationFrame(animateNum);
                    } else {
                        ee.setText(txt, txt.v_percent + txt.v_text);
                    }
                }
                requestAnimationFrame(animateNum);
                
                obs.unobserve(bar);
            }
        });
    }, {
        threshold: 0.1
    });

    observer.observe(bar);
}

if (root.v_content.myVote || root.v_content.voteData[0].remainingTimeSec<=0) {
    let voteCount = 0;
    for (i=0; i<root.v_content.voteData.length; i++) {
        voteCount += root.v_content.voteData[i].voteCount;
    }
    voteCount = Math.max(1,voteCount);
    for (i=0; i<=root.v_content.voteData.length; i++) {
        let isNew = i>=voteRoot.v_items.length;
        if (isNew) {
            c = createPanel(voteRoot, root.id+"_voteOp"+i, "", 0, s1+i*(ch+s2), r.w, ch);
            c.v_c0 = createPanel(c, root.id+"_voteO1p"+i, "", 0, 0, 0, ch);
            c.v_c0.style.borderRadius = "10px";
            c.v_c0.style.backgroundColor = "#e0e0ff";
            c.v_c1 = createPanel(c, root.id+"_voteO2p"+i, "", 0, 0, r.w, ch);
            addText(c.v_c1, " ", "left", "middle", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "000000", "");
            c.v_c2 = createPanel(c, root.id+"_voteO3p"+i, "", 0, 0, r.w, ch);
            addText(c.v_c2, " ", "right", "middle", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "000000", "");
            voteRoot.v_items.push(c);    
        }
        c = voteRoot.v_items[i];
        if (i==root.v_content.voteData.length) {
            root.v_voteLocalStartTime = new Date();
            root.c_voteTimeLabel = c;
        } else {
            ee.setText(c.v_c1,(i+1) + ". " + root.v_content.voteData[i].optionName +
                (root.v_content.voteData[i].myVote=="1"?"<span style='display: inline-block; width: 10px;'></span>✅":""));
            ee.setText(c.v_c2,
                parseInt(root.v_content.voteData[i].voteCount/voteCount*1000)/10 + "% (" +
                root.v_content.voteData[i].voteCount + g5.lang.getByCn("票)"));
            c.v_c2.v_percent = parseInt(root.v_content.voteData[i].voteCount/voteCount*1000)/10;
            c.v_c2.v_text = "% (" + root.v_content.voteData[i].voteCount + g5.lang.getByCn("票)");
            c.v_c0.v_width = root.v_content.voteData[i].voteCount/voteCount*(r.w-10)+10;
            if (isNew) {
                initVoteBars(c.v_c0, c.v_c2);
            } else {
                ee.setRect(c.v_c0,null,null,root.v_content.voteData[i].voteCount/voteCount*(r.w-10)+10,null);
            }
        }
    }
    while (voteRoot.v_items.length>root.v_content.voteData.length+1) {
        ee.removeControl(voteRoot.v_items[voteRoot.v_items.length-1]);
        voteRoot.v_items.splice(voteRoot.v_items.length-1);
    }
} else {
    for (i=0; i<=root.v_content.voteData.length+1; i++) {
        if (i>=voteRoot.v_items.length) {
            c = createPanel(voteRoot, root.id+"_voteOp"+i, "", 0, s1+i*(ch+s2), r.w, ch);
            addText(c, " ", "center", "middle", "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif", 12, "000000", "");
            voteRoot.v_items.push(c);    
        }
        c = voteRoot.v_items[i];
        if (i==root.v_content.voteData.length) {
            ee.setText(c,g5.lang.getByCn("投票后才可以看到投票结果"));
        } else if (i==root.v_content.voteData.length+1) {
            root.v_voteLocalStartTime = new Date();
            root.c_voteTimeLabel = c;
        } else {
            ee.setText(c, g5.lang.getByCn("<span style='display: inline-block; width: 10px;'></span>" + (i+1) + ". " + root.v_content.voteData[i].optionName));
            c.v_voteId = root.v_content.voteId;
            c.v_optionName = root.v_content.voteData[i].optionName;
            c.v_optionIndex = i+1;
            g5.initButtonV3(c,[
                new g5.BStyle("","#dfeffa","#cfdfea","","","","#000000","#000000","#000000","#C0C0C0")
            ]);
            c.style.borderRadius = "10px";
            ee.setOnClick(c, function(senderBtn, event) {
                g5.popBlack.a6.show(
                    g5.lang.getByCn("投票确认"),
                    g5.lang.getByCn("您的投票选择是：") + "<br/>" + 
                    senderBtn.v_optionName + "<br/>" +
                    g5.lang.getByCn("投票后选择不能更改，您是否确定投票？"),
                    [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                    function() {
                        //voteId,optionIndex,onComplete
                        if (vote.busy) return;
                        vote.voteId = senderBtn.v_voteId;
                        vote.optionIndex = senderBtn.v_optionIndex;
                        vote.onComplete = function() {
                            root.v_voteNeedRefresh = true;
                            g5.alert1("提示", "投票成功");
                        }
                        vote();
                    },
                    function() {
                    }
                );
                window.event? window.event.cancelBubble = true : event.stopPropagation();
            });
        }
    }
    while (voteRoot.v_items.length>root.v_content.voteData.length+2) {
        ee.removeControl(voteRoot.v_items[voteRoot.v_items.length-1]);
        voteRoot.v_items.splice(voteRoot.v_items.length-1);
    }
}
if (voteRoot.v_items.length<=0) reutrn;
newH = voteRoot.v_items.length;
newH = s1 + s3 + newH*ch + (newH-1)*s2;
ee.setRect(voteRoot,null,null,null,newH);
r = eb.getDivRectSetting(root);
if (newH!=oldH) {
    let dh = newH - oldH;
    ee.setRect(root, null, null, null, r.h + dh);
    ee.moveControl(root.c_button1,0,dh);
    ee.moveControl(root.c_button2,0,dh);
    ee.moveControl(root.c_button3,0,dh);
    ee.moveControl(root.c_button4,0,dh);
    ee.moveControl(root.c_button5,0,dh);
    ee.moveControl(root.c_label1,0,dh);
    ee.moveControl(root.c_label2,0,dh);
    ee.moveControl(root.c_label3,0,dh);
    ee.moveControl(root.c_label4,0,dh);
    ee.moveControl(root.c_label5,0,dh);
    if (root.c_bottom01) ee.moveControl(root.c_bottom01,0,dh);
    g5.batchMoveY(rootItems,rootIndex+1,dh);
    if (g5.currentPageIndex==8) {
        ee.moveControl(g5.p2.p9.c_tabRoot,0,dh);
    }
}
]]></functionCode>
    </item>
    <item name="refreshContentCount" type="20">
      <varValue />
      <functionParam>v_content</functionParam>
      <functionCode><![CDATA[var modify = function(label, value) {
    if (!label) return false;
    value = parseInt(value);
    var a = ee.getText(label);
    a = a==""?0:parseInt(a);
    if (value!=a) {
        ee.setText(label, value==0?"":(value+""));
        label.label.rows[0].cells[0].className = "";
        setTimeout(function() {
            label.label.rows[0].cells[0].className = "red3";
        }, 100);
    }
    return value != a;
}

var buffs = g5.contentGetCurrentBuffs();
var i,j,c;
var result = false;
for (i=0; i<buffs.length; i++) {
    for (j=0; j<buffs[i].length; j++) {
        c = buffs[i][j];
        if (!c.v_content) continue;
        if (c.v_content.id != v_content.id) continue;
        result = modify(c.c_label1, v_content.reCount) || result;
        result = modify(c.c_label2, v_content.fwCount) || result;
        result = modify(c.c_label3, v_content.likeCount) || result;
        result = modify(c.c_label4, v_content.unlikeCount) || result;
        result = modify(c.c_label5, v_content.clickCount) || result;
        c.v_content.reCount = v_content.reCount;
        c.v_content.fwCount = v_content.fwCount;
        c.v_content.likeCount = v_content.likeCount;
        c.v_content.unlikeCount = v_content.unlikeCount;
        c.v_content.clickCount = v_content.clickCount;
    }
}
return result;
]]></functionCode>
    </item>
    <item name="refreshScroll" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var viewPortH = eb.getClientSize().h;
var eeDivRoot = $g("divRoot");
var p2h = eb.getDivRect(g5.p2).h;

if ((p2h-viewPortH-document.documentElement.scrollTop) < 3000) {
    if (g5.currentPageIndex == 0) {
        g5.p2.p1.loadMore();
    } else if (g5.currentPageIndex == 10) {
        if (g5.p2.p11.currentPage == "c1") {
            g5.p2.p11.c_pages.c1.loadMore();
        } else if (g5.p2.p11.currentPage == "c2") {
            g5.p2.p11.c_pages.c2.loadMore();
        } else if (g5.p2.p11.currentPage == "c3") {
            g5.p2.p11.c_pages.c3.loadMore();
        } else if (g5.p2.p11.currentPage == "c4") {
            g5.p2.p11.c_pages.c4.loadMore();
        } else if (g5.p2.p11.currentPage == "c5") {
            g5.p2.p11.c_pages.c5.loadMore();
        }
    } else if (g5.currentPageIndex == 4) {
        g5.p2.p5.loadMore();
    } else if (g5.currentPageIndex == 11) {
        g5.p2.p12.loadMore();
    } else if (g5.currentPageIndex == 12) {
        g5.p2.p13.loadMore();
    } else if (g5.currentPageIndex == 14) {
        g5.p2.p15.loadMore();
    } else if (g5.currentPageIndex == 15) {
        g5.p2.p16.loadMore();
    } else if (g5.currentPageIndex == 1) {
        if (g5.p2.p2.p2sub.currentPageIndex == 1) {
            g5.p2.p2.p2sub.p1.loadMore();
        } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
            g5.p2.p2.p2sub.updateP3();
        }
    }
}

if (g5.popupPos) {
    if (Math.abs(document.documentElement.scrollTop - g5.popupPos)>100) {
        g5.popupFunc();
        g5.popupPos = null;
    }
}
]]></functionCode>
    </item>
    <item name="changeP2" type="20">
      <varValue />
      <functionParam>pageIndex</functionParam>
      <functionCode><![CDATA[if (g5.currentPageIndex == pageIndex) return true;
var root = ee.getControl("panel135");
var url = window.location.href;
var a = url.indexOf("?");
if (a>=0) url = url.substr(0,a+1);

var pageState = {title:"", url:url};
if (g5.notPushHistory) {
    pageState = "";
}

if (g5.currentPageIndex == 0) {
    g5.p2.p1.close();
} else if (g5.currentPageIndex == 1) {
    g5.p2.p2.close();
} else if (g5.currentPageIndex == 2) {
    ee.setVisible(g5.p4, false);
    g5.player.stop();
    ee.showAni(ee.getControl("panel82"), 1);
} else if (g5.currentPageIndex == 3) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("panel70"), 1);
} else if (g5.currentPageIndex == 4) {
    g5.p2.p5.close();
} else if (g5.currentPageIndex == 5) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("panel97"), 1);
} else if (g5.currentPageIndex == 8) {
    g5.p2.p9.close();
} else if (g5.currentPageIndex == 9) {
    g5.p2.p10.close();
} else if (g5.currentPageIndex == 10) {
    g5.p2.p11.close();
} else if (g5.currentPageIndex == 11) {
    g5.p2.p12.close();
} else if (g5.currentPageIndex == 12) {
    g5.p2.p13.close();
} else if (g5.currentPageIndex == 13) {
    g5.p2.p14.close();
} else if (g5.currentPageIndex == 14) {
    g5.p2.p15.close();
} else if (g5.currentPageIndex == 15) {
    g5.p2.p16.close();
} else if (g5.currentPageIndex == 16) {
    g5.p2.p17.close();
} else if (g5.currentPageIndex == 17) {
    g5.p2.p18.close();
} else if (g5.currentPageIndex == 18) {
    g5.p2.p19.close();
} else if (g5.currentPageIndex == 19) {
    g5.p2.p20.close();
} else if (g5.currentPageIndex == 20) {
    g5.p2.p21.close();
} else if (g5.currentPageIndex == 21) {
    g5.p2.p22.close();
} else if (g5.currentPageIndex == 22) {
    g5.p2.p23.close();
} else if (g5.currentPageIndex == 23) {
    g5.p2.p24.close();
} else if (g5.currentPageIndex == 24) {
    g5.p2.p25.close();
} else if (g5.currentPageIndex == 25) {
    g5.p2.p26.close();
} else if (g5.currentPageIndex == 26) {
    g5.p2.p27.close();
} else if (g5.currentPageIndex == 27) {
    g5.p2.p28.close();
} else if (g5.currentPageIndex == 28) {
    g5.p2.p29.close();
} else if (g5.currentPageIndex == 29) {
    g5.p2.p30.close();
} else if (g5.currentPageIndex == 30) {
    g5.p2.p31.close();
} else if (g5.currentPageIndex == 31) {
    g5.p2.p32.close();
} else if (g5.currentPageIndex == 34) {
    g5.p2.p35.close();
} else if (g5.currentPageIndex == 35) {
    g5.p2.p36.close();
}

if (pageIndex == 0) {
    g5.p2.p1.activePage();
} else if (pageIndex == 1) {
    g5.p2.p2.activePage();
} else if (pageIndex == 2) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel82"), 0);
} else if (pageIndex == 3) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel70"), 0);
} else if (pageIndex == 4) {
    g5.p2.p5.activePage();
} else if (pageIndex == 5) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel97"), 0);
} else if (pageIndex == 8) {
    g5.p2.p9.activePage();
} else if (pageIndex == 9) {
    g5.p2.p10.activePage();
} else if (pageIndex == 10) {
    g5.p2.p11.activePage();
} else if (pageIndex == 11) {
    g5.p2.p12.activePage();
} else if (pageIndex == 12) {
    g5.p2.p13.activePage();
} else if (pageIndex == 13) {
    g5.p2.p14.activePage();
} else if (pageIndex == 14) {
    g5.p2.p15.activePage();
} else if (pageIndex == 15) {
    g5.p2.p16.activePage();
} else if (pageIndex == 16) {
    g5.p2.p17.activePage();
} else if (pageIndex == 17) {
    g5.p2.p18.activePage();
} else if (pageIndex == 18) {
    g5.p2.p19.activePage();
} else if (pageIndex == 19) {
    g5.p2.p20.activePage();
} else if (pageIndex == 20) {
    g5.p2.p21.activePage();
} else if (pageIndex == 21) {
    g5.p2.p22.activePage();
} else if (pageIndex == 22) {
    g5.p2.p23.activePage();
} else if (pageIndex == 23) {
    g5.p2.p24.activePage();
} else if (pageIndex == 24) {
    g5.p2.p25.activePage();
} else if (pageIndex == 25) {
    g5.p2.p26.activePage();
} else if (pageIndex == 26) {
    g5.p2.p27.activePage();
} else if (pageIndex == 27) {
    g5.p2.p28.activePage();
} else if (pageIndex == 28) {
    g5.p2.p29.activePage();
} else if (pageIndex == 29) {
    g5.p2.p30.activePage();
} else if (pageIndex == 30) {
    g5.p2.p31.activePage();
} else if (pageIndex == 31) {
    g5.p2.p32.activePage();
} else if (pageIndex == 34) {
    g5.p2.p35.activePage();
} else if (pageIndex == 35) {
    g5.p2.p36.activePage();
}
g5.currentPageIndex = pageIndex;
g5.p1.p1.refresh();
g5.p1.p2.refresh();
g5.p1.p3.refresh();

if (g5.p2.p34.style.visibility!="hidden") ee.setVisible(g5.p2.p34.style.visibility, false);
return true;]]></functionCode>
    </item>
    <item name="changeP3" type="20">
      <varValue />
      <functionParam>pageIndex</functionParam>
      <functionCode>if (eb.isEmpty(g5.currentP3Index)) g5.currentP3Index = -1;

if (g5.currentP3Index == 4) {
    ee.showAni(ee.getControl("panel167"), 1);
} else if (g5.currentP3Index == 5) {
    ee.showAni(ee.getControl("panel189"), 1);
} else if (g5.currentP3Index == 6) {
    ee.showAni(ee.getControl("panel208"), 1);
} else if (g5.currentP3Index == 7) {
    ee.showAni(ee.getControl("panel231"), 1);
} else if (g5.currentP3Index == 8) {
    g5.p3.p8.close();
} else if (g5.currentP3Index == 9) {
    ee.setVisible(g5.p3.p9, false);
} else if (g5.currentP3Index == 10) {
    ee.showAni(g5.p3.p10, 1);
} else if (g5.currentP3Index == 11) {
    ee.showAni(g5.p3.p11, 1);
} else if (g5.currentP3Index == 12) {
    ee.showAni(g5.p3.p12, 1);
}

if (pageIndex==4) {
    ee.showAni(ee.getControl("panel167"), 0);
} else if(pageIndex==5) {
    ee.showAni(ee.getControl("panel189"), 0);
} else if(pageIndex==6) {
    ee.showAni(ee.getControl("panel208"), 0);
} else if(pageIndex==7) {
    ee.showAni(ee.getControl("panel231"), 0);
} else if(pageIndex==8) {
    g5.p3.p8.activePage();
} else if(pageIndex==9) {
    g5.p3.p9.init();
    ee.setVisible(g5.p3.p9, true);
} else if(pageIndex==10) {
    g5.p3.p10.init();
    ee.showAni(g5.p3.p10, 0);
} else if(pageIndex==11) {
    g5.p3.p11.init();
    ee.showAni(g5.p3.p11, 0);
} else if(pageIndex==12) {
    g5.p3.p12.init();
    ee.showAni(g5.p3.p12, 0);
}

g5.currentP3Index = pageIndex;</functionCode>
    </item>
    <item name="processUrl" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[document.title = "拳头Talk";

g5.notPushHistoryCount = 1;
var p = g5.getQueryString("p");
var url = new URL(window.location.href);
var pn = url.pathname;
var pns = url.pathname.split("/");
pns.splice(0,1);

if (pn == "" || pn == "/") pn = "/home";

if (g5.isGuest) {
    if (
        (pns[0] != "home") &amp;&amp;
        (pns[0] != "msg")
        ) {
        window.location.href = "/home";
        return;
    }
}

if (pn=="/bookmarks") {
    g5.p2.p5.show();
} else if (pn=="/messages") {
    g5.p2.p13.show();
} else if (pn=="/home") {
    g5.p2.p1.show();
} else if (pn=="/login") {
    eb.delCookie("twitterGToken");
    window.location.href = ee.getUrl("/pc/new");
} else if (pns[0]=="msg") {
    g5.p2.p9.show(null,null,null,null,pns[1]);
} else if (pn=="/settings") {
    g5.p2.p10.show();
//} else if (pns[0]=="search") {
//    g5.p2.p11.show(unescape(pns[1]));    
} else if (pn.indexOf("search/hot")>=0) {
    g5.p2.p11.showByPage("c1",unescape(pns[2]));    
} else if (pn.indexOf("search/new")>=0) {
    g5.p2.p11.showByPage("c2",unescape(pns[2]));    
} else if (pn.indexOf("search/user")>=0) {
    g5.p2.p11.showByPage("c3",unescape(pns[2]));    
} else if (pn.indexOf("search/photo")>=0) {
    g5.p2.p11.showByPage("c4",unescape(pns[2]));    
} else if (pn.indexOf("search/video")>=0) {
    g5.p2.p11.showByPage("c5",unescape(pns[2]));    
} else if (pn=="/notifications") {
    g5.p2.p12.show();
} else if (pns[0]=="messages" &amp;&amp; pns[1]) {
    g5.p2.p14.showByUserName(unescape(pns[1]));
} else if (pn=="/settings") {
    g5.p2.p10.show();
} else if (pn=="/settings/account") {
    g5.p2.p17.show();
} else if (pn=="/settings/PrivacySafety") {
    g5.p2.p18.show();
} else if (pn=="/settings/blocked") {
    g5.p2.p19.show();
} else if (pn=="/settings/username") {
    g5.p2.p20.show();
} else if (pn=="/settings/language") {
    g5.p2.p36.show();
} else if (pn=="/settings/cellphone") {
    g5.p2.p21.show();
} else if (pn=="/settings/email") {
    g5.p2.p22.show();
} else if (pn=="/settings/password") {
    g5.p2.p23.show();
} else if (pn=="/settings/comment") {
    g5.p2.p24.show();
} else if (pn=="/settings/homepage") {
    g5.p2.p25.show();
} else if (pn=="/settings/image") {
    g5.p2.p26.show();
} else if (pn=="/settings/DelAccount") {
    g5.p2.p27.show();
} else if (pn=="/settings/private") {
    g5.p2.p28.show();
} else if (pn == "/settings/FansRequest") {
    g5.p2.p29.show();
} else if (pn == "/settings/hide") {
    g5.p2.p30.show();
} else if (pn == "/settings/donate") {
    g5.p2.p35.show();
} else if (pn == "/compose") {
    g5.p2.p31.showLast();
} else if (pn == "/youtube") {
    g5.p2.p32.show();
} else {
    if (pns[1]=="following") {
        g5.p2.p16.showByUserName(unescape(pns[0]));
    } else if (pns[1] =="followers") {
        g5.p2.p15.showByUserName(unescape(pns[0]));
    } else {
        g5.p2.p2.show(null,null, unescape(pns[0]));
    }
}
]]></functionCode>
    </item>
    <item name="processTextUrl" type="20">
      <varValue />
      <functionParam>text,style</functionParam>
      <functionCode><![CDATA[if (!style) style = "tam_hlink1";
// http://, https://, ftp://
var urlPattern = /\b(?:https?|ftp):\/\/[a-z0-9-+&amp;@#\/%?=~_|!:,.;]*[a-z0-9-+&amp;@#\/%=~_|]/gim;
// www. sans http:// or https://
var pseudoUrlPattern = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
// Email addresses *** here I've changed the expression ***
var emailAddressPattern = /(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;
var altPattern = /@([a-zA-Z0-9_\-]{2,20})/gim;

return text //&amp;#x1f310;
    //style='text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:100px
    .replace(urlPattern, "<a class='" + style + "' style='white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:240px' target='_blank' href='$&amp;' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>$&amp;</a>")
    .replace(pseudoUrlPattern, "$1<a class='" + style + "' style='white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:240px' target='_blank' href='http://$2' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>$2</a>")
    .replace(emailAddressPattern, "<a class='" + style + "' target='_blank' href='mailto:$1' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>&amp;#x2709; $1</a>")
    .replace(altPattern, "<span class='" + style + "'>@$1</span>");

return text //&amp;#x1f310;
    //style='text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:100px
    .replace(urlPattern, "<a class='" + style + "' style='white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:240px' target='_blank' href='$&amp;' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>$&amp;</a>")
    .replace(pseudoUrlPattern, "$1<a class='" + style + "' style='white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:240px' target='_blank' href='http://$2' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>$2</a>")
    .replace(emailAddressPattern, "<a class='" + style + "' target='_blank' href='mailto:$1' onclick='window.event? window.event.cancelBubble = true : event.stopPropagation();'>&amp;#x2709; $1</a>")
    .replace(altPattern, "<span style='color:#1da1f2;cursor:pointer'>@$1</span>");
]]></functionCode>
    </item>
    <item name="refreshUserInfo" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var collectUserInfoItems = function() {
    var r = new Array();
    r.push(g5.p2.p1.v_items);
    r.push(g5.p2.p2.p1Items);
    r.push(g5.p2.p2.p3Items);
    r.push(g5.p2.p2.p2sub.chat.c_chat.c_chatRoot.v_items);
    r.push(g5.p3.p8.p1.c_chatRoom.c_chatRoot.v_items);
    r.push(g5.p2.p12.v_items);
    r.push(g5.p2.p13.v_items);
    r.push(g5.p2.p15.v_items);
    r.push(g5.p2.p16.v_items);
    r.push(g5.p2.p5.v_items);
    r.push(g5.p2.p11.c_pages.c1.v_items);
    r.push(g5.p2.p11.c_pages.c2.v_items);
    r.push(g5.p2.p11.c_pages.c3.v_items);
    r.push(g5.p2.p11.c_pages.c4.v_items);
    r.push(g5.p2.p11.c_pages.c5.v_items);
    r.push(g5.p2.p9.v_items);
    r.push(g5.p2.p9.c_tabRoot.p1.v_items);
    r.push(g5.p2.p9.c_tabRoot.p2.v_items);
    r.push(g5.p2.p9.c_tabRoot.p3.v_items);
    r.push(g5.p2.p9.c_tabRoot.p4.v_items);
    for (var i=0; i<g5.p2.p9.v_hisItems.length; i++) {
        r.push(g5.p2.p9.v_hisItems[i].v_items);
        r.push(g5.p2.p9.v_hisItems[i].v_itemsP1);
        r.push(g5.p2.p9.v_hisItems[i].v_itemsP2);
        r.push(g5.p2.p9.v_hisItems[i].v_itemsP3);
        r.push(g5.p2.p9.v_hisItems[i].v_itemsP4);
    }
    return r;
}

var s;
if (eb.isEmpty(g5.myUserInfo)) return;
s = "<b>" + g5.myUserInfo.nickName + "</b><br/>";
s += "@" + g5.myUserInfo.userName;
ee.getControl("panel418").setText(g5.myUserInfo.nickName + " @" + g5.myUserInfo.userName);
ee.setEditText(ee.getControl("edit2"), g5.myUserInfo.nickName);
ee.setEditText(ee.getControl("edit3"), g5.myUserInfo.note);
ee.setEditText(ee.getControl("edit4"), g5.myUserInfo.homePage);

if (g5.myUserInfo.photo == "") {
    ee.setImage(g5.p2.p1.c_new.c_userPhoto, "/faith/main/user.png");
    ee.setImage(g5.popBlack.a8.c_userPhoto, "/faith/main/user.png");
    //ee.setImage(ee.getControl("panel606"), "/faith/main/user.png");
} else {
    ee.setImage(g5.p2.p1.c_new.c_userPhoto, "url:" + g5.imgUrl + g5.myUserInfo.photo);
    ee.setImage(g5.popBlack.a8.c_userPhoto, "url:" + g5.imgUrl + g5.myUserInfo.photo);
    //ee.setImage(ee.getControl("panel606"), "url:" + g5.imgUrl + g5.myUserInfo.photo);
}
if (g5.myUserInfo.titleBg == "") {
    ee.setImage(g5.popBlack.a8.c_titleBg, "");
} else {
    ee.setImage(g5.popBlack.a8.c_titleBg, "url:" + g5.imgUrl + g5.myUserInfo.titleBg, "trim");
}


//g5.p2.p1.refresh();
//g5.p2.p2.setIsFollow(userId, isFollow);
//g5.p2.p15.refresh(userId);
//g5.p2.p16.refresh();
g5.p2.p2.refreshUserInfo(g5.myUserInfo);
var itemList = collectUserInfoItems();
var i,j;
for (i=0; i<itemList.length; i++) {
    var items = itemList[i];
    for (j=0; j<items.length; j++) {
        if (items[j].v_userInfo) {
            if (items[j].v_userInfo.id == g5.myUserInfo.id) { 
                items[j].v_userInfo = g5.myUserInfo;
                if (items[j].setUserPhoto) {
                    items[j].setUserPhoto(g5.myUserInfo.photo);
                }
            }
        }
        if (items[j].v_reUserInfo) {
            if (items[j].v_reUserInfo.id == g5.myUserInfo.id) { 
                items[j].v_reUserInfo = g5.myUserInfo;
                if (items[j].setReUserPhoto) {
                    items[j].setReUserPhoto(g5.myUserInfo.photo);
                }
            }
        }
        if (items[j].v_content) {
            if (items[j].v_content.exUserInfo) {
                if (items[j].v_content.exUserInfo.id == g5.myUserInfo.id) { 
                    //items[j].v_content.exUserInfo = g5.myUserInfo;
                }
            }
        }
        if (items[j].v_userBar) {
            if (items[j].v_userInfo.id == g5.myUserInfo.id) {
                items[j].v_userInfo = g5.myUserInfo;
                if (items[j].setUserPhoto) {
                    items[j].setUserPhoto(g5.myUserInfo.photo);
                }
            }
        }
    }
}]]></functionCode>
    </item>
    <item name="pushHistory" type="20">
      <varValue />
      <functionParam>param</functionParam>
      <functionCode><![CDATA[if (g5.notPushHistoryCount>0) {
    g5.notPushHistoryCount--;
    return;
}
var url = window.location.href;
var a = url.indexOf("?");
if (a>=0) url = url.substr(0,a+1);
var pageState = {title:"", url:url};
param = "?" + param;
history.pushState(pageState,"",param);
]]></functionCode>
    </item>
    <item name="pushHistory2" type="20">
      <varValue />
      <functionParam>getString</functionParam>
      <functionCode><![CDATA[//console.log("his=" + getString);
var url = new URL(window.location.href);
var header = url.origin;

if (g5.notPushHistoryCount>0) {
    g5.notPushHistoryCount--;
    return;
}
window.history.pushState({},"",url.origin+getString);
]]></functionCode>
    </item>
    <item name="setImage" type="20">
      <varValue />
      <functionParam>div, url, style, alt, title, delay</functionParam>
      <functionCode>eval("setTimeout(function() { "+
    "ee.setImage($g(\""+div.id+"\"),\""+url+"\",\"" + style + "\",\""+alt+"\",\""+title+"\");" +
    " }, " + delay + ")"); 
    
</functionCode>
    </item>
    <item name="getMins" type="20">
      <varValue />
      <functionParam>seconds,style</functionParam>
      <functionCode><![CDATA[seconds = parseInt(seconds);
var a;
var spt = g5.lang.getById(7001);
if (eb.isEmpty(style)) style = 1;
if (style == 1) {
    if (seconds<60) return (seconds<10 ? "0"+seconds: seconds) + g5.lang.getByCn("秒");
    if (seconds<60*60) {
        return parseInt(seconds/60) + g5.lang.getByCn("分钟");
    } else if (seconds<60*60*24) {
        a = parseInt((seconds%(60*60))/60);
        return parseInt(seconds/60/60) + g5.lang.getByCn("小时") + spt + (a<10 ? "0"+a:a) + g5.lang.getByCn("分钟");
    } else if (seconds<60*60*24*2) {
        return g5.lang.getByCn("昨天");
    } else if (seconds<60*60*24*3) {
        return "2" + g5.lang.getByCn("天");
    } else if (seconds<60*60*24*4) {
        return "3" + g5.lang.getByCn("天");
    } else if (seconds<60*60*24*5) {
        return "4" + g5.lang.getByCn("天");
    } else if (seconds<60*60*24*6) {
        return "5" + g5.lang.getByCn("天");
    } else if (seconds<60*60*24*7) {
        return "6" + g5.lang.getByCn("天");
    } else {
        var time = new Date((new Date()).getTime()-seconds*1000);
        if ((new Date()).getYear() != time.getYear()) {
            if (g5.lang.getCurrentLangIndex() == 0) {
                return (time.getYear() + 1900) + g5.lang.getByCn("年") + spt + (time.getMonth()+1) + g5.lang.getByCn("月") + spt + time.getDate() + g5.lang.getByCn("日");
            } else {
                return g5.lang.moEnglish[time.getMonth()] + " " + time.getDate() + ", " + (time.getYear() + 1900);
            }
        } else {
            if (g5.lang.getCurrentLangIndex() == 0) {
                return (time.getMonth()+1) + g5.lang.getByCn("月") + spt + time.getDate() + g5.lang.getByCn("日");
            } else {
                return g5.lang.moEnglish[time.getMonth()] + " " + time.getDate();
            }
        }
    }
} else if (style == 3) {
    if (seconds<60) return (seconds<10 ? "0"+seconds: seconds) + g5.lang.getByCn("秒");
    let sec = seconds%60;
    let min = parseInt((seconds%(60*60))/60);
    let hour = parseInt((seconds%(60*60*24))/(60*60));
    let day = parseInt(seconds/(60*60*24));
    if (seconds<60*60) {
        return parseInt(seconds/60) + g5.lang.getByCn("分") +
            spt + sec + g5.lang.getByCn("秒");
    } else if (seconds<60*60*24) {
        return hour + g5.lang.getByCn("小时") +
            spt + min + g5.lang.getByCn("分") + 
            spt + sec + g5.lang.getByCn("秒");
    } else {
        return day + g5.lang.getByCn("天") +
            spt + hour + g5.lang.getByCn("小时") +
            spt + min + g5.lang.getByCn("分") + 
            spt + sec + g5.lang.getByCn("秒");
    }
} else {
    if (seconds<60) return (seconds<10 ? "0"+seconds: seconds) + g5.lang.getByCn("秒");
    if (seconds<60*60) {
        a = seconds%60;
        return parseInt(seconds/60) + g5.lang.getByCn("分") + spt + (a<10 ? "0"+a:a) + g5.lang.getByCn("秒");
    } else if (seconds<60*60*24) {
        a = parseInt((seconds%(60*60))/60);
        return parseInt(seconds/60/60) + g5.lang.getByCn("小时") + spt + (a<10 ? "0"+a:a) + g5.lang.getByCn("分钟");
    } else {
        var time = new Date((new Date()).getTime()-seconds*1000);
        if (g5.lang.getCurrentLangIndex() == 0) {
            return (time.getHours()<=12 ? g5.lang.getByCn("上午") + spt + time.getHours() : g5.lang.getByCn("下午") + spt + (time.getHours()-12)) + ":" +
                (time.getMinutes()>=10 ? time.getMinutes() : "0" + time.getMinutes()) + " · " +
                (time.getYear() + 1900) + g5.lang.getByCn("年") + spt + (time.getMonth()+1) + g5.lang.getByCn("月") + spt + time.getDate() + g5.lang.getByCn("日");
        } else {
            return (time.getHours()<=12 ? g5.lang.getByCn("上午") + spt + time.getHours() : g5.lang.getByCn("下午") + spt + (time.getHours()-12)) + ":" +
                (time.getMinutes()>=10 ? time.getMinutes() : "0" + time.getMinutes()) + " · " +
                g5.lang.moEnglish[time.getMonth()] + " " + time.getDate() + ", " + (time.getYear() + 1900);
        }
    }
}]]></functionCode>
    </item>
    <item name="setFollow" type="20">
      <varValue />
      <functionParam>v_userInfo,onComplete</functionParam>
      <functionCode><![CDATA[v_userInfo = v_userInfo.clone();
if (v_userInfo.isFollow) {
    g5.popBlack.a6.show(
        g5.lang.getByCn("取消关注@") + v_userInfo.userName+"?",
        "他们的发言将不再出现在你的主页时间线上。你仍然可以查看他们的个人资料，除非他们的发言是受保护的。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff","")],
        function() {
            follow.follow = 0;
            follow.userId = v_userInfo.id;
            follow.onComplete = function() {
                g5.setFollowSync(v_userInfo, false);
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            follow();
        }
    );
} else if (v_userInfo.status == "Private") {
    g5.popBlack.a6.show(
        "私密状态",
        "该用户处于私密状态，任何对该用户的关注需要经过该用户的认可，认可后您才可以查看该用户的个人资料和短文。您希望现在就提交<b>成为该用户粉丝</b>的申请吗？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","提交","提交申请","提交申请","#ffffff","#ffffff","#ffffff","")],
        function() {
            followReq.userId = v_userInfo.id;
            followReq.operation = 1;
            followReq.onComplete = function() {
                g5.alert1("递交确认", "您的关注申请已经递交，请耐心等待 /%@" + v_userInfo.userName + "%/ 的许可");
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            followReq();
        }
    );
} else {
    follow.follow = 1;
    follow.userId = v_userInfo.id;
    follow.onComplete = function() {
        g5.setFollowSync(v_userInfo, true);
        if (onComplete) {
            onComplete(v_userInfo);
        }
    }
    follow();
}]]></functionCode>
    </item>
    <item name="setFollowSync" type="20">
      <varValue />
      <functionParam>v_userInfo, isFollow</functionParam>
      <functionCode><![CDATA[if (v_userInfo.isFollow == isFollow) return;
if (isFollow) {
    v_userInfo.fansCount++;
} else {
    v_userInfo.fansCount--;
}
v_userInfo.isFollow = isFollow;

g5.p2.p1.refresh();
g5.p2.p2.setIsFollow(v_userInfo.id, isFollow);
g5.p2.p15.refresh(v_userInfo.id);
var itemList = g5.getAllBuff();
var i,j;
if (isFollow) {
    g5.myUserInfo.followCount++;
} else {
    g5.myUserInfo.followCount--;
}
g5.p2.p16.refreshMyInfo();
for (i=0; i<itemList.length; i++) {
    var items = itemList[i];
    for (j=0; j<items.length; j++) {
        if (items[j].v_userInfo) {
            if (items[j].v_userInfo.id == v_userInfo.id) { 
                if (items[j].v_userInfo.isFollow &amp;&amp; !isFollow) {
                    items[j].v_userInfo.fansCount--;
                } else if (!items[j].v_userInfo.isFollow &amp;&amp; isFollow) {
                    items[j].v_userInfo.fansCount++;
                }
                items[j].v_userInfo.isFollow = isFollow;
            } else if (items[j].v_userInfo.id == g5.myUserInfo.id) {
                if (isFollow) {
                    items[j].v_userInfo.followCount++;
                } else {
                    items[j].v_userInfo.followCount--;
                }
            }
        }
        if (items[j].v_reUserInfo) {
            if (items[j].v_reUserInfo.id == v_userInfo.id) { 
                if (items[j].v_reUserInfo.isFollow &amp;&amp; !isFollow) {
                    items[j].v_reUserInfo.fansCount--;
                } else if (!items[j].v_reUserInfo.isFollow &amp;&amp; isFollow) {
                    items[j].v_reUserInfo.fansCount++;
                }
                items[j].v_reUserInfo.isFollow = isFollow;
            } else if (items[j].v_reUserInfo.id == g5.myUserInfo.id) {
                if (isFollow) {
                    items[j].v_reUserInfo.followCount++;
                } else {
                    items[j].v_reUserInfo.followCount--;
                }
            }
        }
        if (items[j].v_content) {
            if (items[j].v_content.exUserInfo) {
                if (items[j].v_content.exUserInfo.id == v_userInfo.id) { 
                    items[j].v_content.exUserInfo.isFollow = isFollow;
                }
            }
        }
        if (items[j].refreshButton &amp;&amp; items[j].v_userInfo) {
            if (items[j].v_userInfo.id == v_userInfo.id) {
                items[j].refreshButton();
            }
        } 
    }
}]]></functionCode>
    </item>
    <item name="setBlock1" type="20">
      <varValue />
      <functionParam>v_userInfo,onComplete</functionParam>
      <functionCode><![CDATA[var sync = function(v_userInfo, isBlock1) {
    if (v_userInfo.isBlock1 == isBlock1) return;
    v_userInfo.isBlock = isBlock1;
    g5.p2.p1.refresh();
    g5.p2.p2.setIsBlock1(v_userInfo.id, isBlock1);
    g5.p2.p11.refresh();
    if (isBlock1) {
        g5.p2.p19.refresh();
    } else g5.p2.p19.deleteUser(v_userInfo.id);
    g5.p2.p5.refresh();
    g5.p2.p13.refresh();
    g5.p2.p9.blockUser(v_userInfo.id);
    var itemList = g5.getAllBuff();
    var i,j;
    for (i=0; i<itemList.length; i++) {
        var items = itemList[i];
        for (j=0; j<items.length; j++) {
            if (items[j].v_userInfo) {
                if (items[j].v_userInfo.id == v_userInfo.id) { 
                    items[j].v_userInfo.isBlock1 = isBlock1;
                    //if (isBlock1) items[j].v_userInfo.isFollow = false;
                }
            }
            if (items[j].v_reUserInfo) {
                if (items[j].v_reUserInfo.id == v_userInfo.id) { 
                    items[j].v_reUserInfo.isBlock1 = isBlock1;
                    //if (isBlock1) items[j].v_reUserInfo.isFollow = false;
                }
            }
            if (items[j].v_content) {
                if (items[j].v_content.exUserInfo) {
                    if (items[j].v_content.exUserInfo.id == v_userInfo.id) { 
                        items[j].v_content.exUserInfo.isBlock1 = isBlock1;
                        //if (isBlock1) items[j].v_content.exUserInfo.isFollow = false;
                    }
                }
            }
            if (items[j].refreshButton &amp;&amp; items[j].v_userInfo) {
                if (items[j].v_userInfo.id == v_userInfo.id) {
                    items[j].refreshButton();
                }
            } 
        }
    }
}

v_userInfo = v_userInfo.clone();

if (v_userInfo.isBlock1) {
    g5.popBlack.a6.show(
        "取消屏蔽/%@"+v_userInfo.userName+"%/？",
        "该用户将能关注并查看你的发言",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            if (blockUser.busy) return;
            blockUser.userId = v_userInfo.id;
            blockUser.isBlock = 0;
            blockUser.onComplete = function() {
                sync(v_userInfo, false);
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            blockUser();
        }
    );
} else {
    g5.popBlack.a6.show(
        "屏蔽/%@"+v_userInfo.userName+"%/？",
        "他们将无法关注你或者无法查看你发送的短文，您也不会看到来自/%@"+v_userInfo.userName+"%/的短文或者通知。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","屏蔽","屏蔽","屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            if (blockUser.busy) return;
            blockUser.userId = v_userInfo.id;
            blockUser.isBlock = 1;
            blockUser.onComplete = function() {
                sync(v_userInfo, true);
                g5.setFollowSync(v_userInfo, false);
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            blockUser();
        }
    );
}]]></functionCode>
    </item>
    <item name="setTwitterForceTop" type="20">
      <varValue />
      <functionParam>contentId, enabled, onComplete</functionParam>
      <functionCode><![CDATA[var collectUserInfoItems = function() {
    var r = new Array();
    r.push(g5.p2.p1.v_items);
    r.push(g5.p2.p5.v_items);
    r.push(g5.p2.p11.c_pages.c1.v_items);
    r.push(g5.p2.p11.c_pages.c2.v_items);
    r.push(g5.p2.p11.c_pages.c4.v_items);
    r.push(g5.p2.p11.c_pages.c5.v_items);
    r.push(g5.p2.p9.v_items);
    r.push(g5.p2.p9.c_tabRoot.p1.v_items);
    for (var i=0; i<g5.p2.p9.v_hisItems.length; i++) {
        r.push(g5.p2.p9.v_hisItems[i].v_items);
        r.push(g5.p2.p9.v_hisItems[i].v_itemsP1);
    }
    return r;
}

var sync = function(contentId, forceTop) {
    g5.p2.p2.refreshContent();
    var itemList = collectUserInfoItems();
    var i,j;
    for (i=0; i<itemList.length; i++) {
        var items = itemList[i];
        for (j=0; j<items.length; j++) {
            var needRefresh = false;
            if (items[j].v_content) {
                if (items[j].v_content.id == contentId) {
                    items[j].v_content.forceTopSn = forceTop? "1":"0";
                    needRefresh = true;
                }
            }
            if (items[j].v_reContent) {
                if (items[j].v_reContent.id == contentId) {
                    items[j].v_reContent.forceTopSn = forceTop? "1":"0";
                    needRefresh = true;
                }
            }
            if (needRefresh) items[j].refresh();
        }
    }
}


if (enabled) {
    g5.popBlack.a6.show(
        "短文置顶？",
        "置顶后，所有访问您个人主页的用户都会看到这条置顶短文。您是否确定要将此短文在您的个人主页置顶？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","置顶","置顶","置顶","#ffffff","#ffffff","#ffffff","")],
        function() {
            if (setTwitterForceTop.busy) return;
            setTwitterForceTop.contentId = contentId;
            setTwitterForceTop.forceTop = true;
            setTwitterForceTop.onComplete = function() {
                sync(contentId, true);
            }
            setTwitterForceTop();
        }
    );
} else {
    g5.popBlack.a6.show(
        "取消短文置顶？",
        "取消置顶后，此短文将不会在您的个人主页中处于顶部位置，但其他人仍能够看到此短文。您是否要取消置顶？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
        function() {
            if (setTwitterForceTop.busy) return;
            setTwitterForceTop.contentId = contentId;
            setTwitterForceTop.forceTop = false;
            setTwitterForceTop.onComplete = function() {
                sync(contentId, false);
            }
            setTwitterForceTop();
        }
    );
}]]></functionCode>
    </item>
    <item name="setHide" type="20">
      <varValue />
      <functionParam>v_userInfo,onComplete</functionParam>
      <functionCode>v_userInfo = v_userInfo.clone();
if (v_userInfo.isHide) {
    g5.popBlack.a6.show(
        "取消隐藏/%@"+v_userInfo.userName+"%/？",
        "该用户的发言将会重新出现在您的新鲜事，本操作不影响您对该用户的关注状态。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","取消隐藏","取消隐藏","#ffffff","#ffffff","#ffffff","")],
        function() {
            followHide.operation = 0;
            followHide.userId = v_userInfo.id;
            followHide.onComplete = function() {
                g5.setHideSync(v_userInfo, false);
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            followHide();
        }
    );
} else {
    g5.popBlack.a6.show(
        "隐藏/%@"+v_userInfo.userName+"%/？",
        "该用户的发言将不会出现在您的新鲜事，本操作不影响您对该用户的关注状态。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定隐藏","确定隐藏","#ffffff","#ffffff","#ffffff","")],
        function() {
            followHide.operation = 1;
            followHide.userId = v_userInfo.id;
            followHide.onComplete = function() {
                g5.setHideSync(v_userInfo, true);
                if (onComplete) {
                    onComplete(v_userInfo);
                }
            }
            followHide();
        }
    );
}</functionCode>
    </item>
    <item name="setHideSync" type="20">
      <varValue />
      <functionParam>v_userInfo, isHide</functionParam>
      <functionCode><![CDATA[if (v_userInfo.isHide == isHide) return;
v_userInfo.isHide = isHide;

var itemList = g5.getAllBuff();
var i,j;
for (i=0; i<itemList.length; i++) {
    var items = itemList[i];
    for (j=0; j<items.length; j++) {
        if (items[j].v_userInfo) {
            if (items[j].v_userInfo.id == v_userInfo.id) { 
                items[j].v_userInfo.isHide = isHide;
            }
        }
        if (items[j].v_reUserInfo) {
            if (items[j].v_reUserInfo.id == v_userInfo.id) { 
                items[j].v_reUserInfo.isHide = isHide;
            }
        }
        if (items[j].v_content) {
            if (items[j].v_content.exUserInfo) {
                if (items[j].v_content.exUserInfo.id == v_userInfo.id) { 
                    items[j].v_content.exUserInfo.isHide = isHide;
                }
            }
        }
    }
}
g5.p2.p1.refresh();
if (g5.p2.p2.v_userInfo &amp;&amp; (g5.p2.p2.v_userInfo.id == v_userInfo.id)) g5.p2.p2.v_userInfo.isHide = isHide;
g5.p2.p2.refresh();
g5.p2.p5.refresh();
]]></functionCode>
    </item>
    <item name="setLike" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (likeContent.busy) return;
if (updateMain.busy) return;
var stopTimer = function() {
    if (g5.likeItemsTimer) {
        clearTimeout(g5.likeItemsTimer);
        g5.likeItemsTimer = null;
    }
    g5.likeBusy = false;
}

var startTimer = function() {
    stopTimer();
    g5.likeBusy = true;
    g5.likeItemsTimer = setTimeout(function() {
        g5.likeItemsTimer = null;
        if (g5.likeItems.length<=0) return;
        if (likeContent.busy) {
            startTimer();
            return;
        }
        likeContent.contentId = g5.likeItems[0].contentId;
        likeContent.onComplete = function() {
            g5.likeBusy = false;
            //g5.writeLog("setLikeComplete:"+likeContent.contentId);
        }
        likeContent();
        g5.likeItems.splice(0,1);
        startTimer();
    }, 1000);    
}

if (!g5.LikeItem) {
    g5.LikeItem = function() {
        this.contentId = 0;
        this.isLike = false;
    }
    g5.likeItems = new Array();
}
if (g5.myUserInfo.status == "FREEZE") {
    g5.alert1("不能点赞", "对不起，您的账户目前处于冻结状态，不能对短文进行点赞或者点踩操作。");
    return;
}

var contentClone = root.v_content.clone();
contentClone.isLike = !contentClone.isLike;
contentClone.likeCount += contentClone.isLike ? 1:-1;
if (contentClone.likeCount<0) contentClone.likeCount = 0;
g5.syncTwitter(contentClone,root.v_reContent,root.v_userInfo,root.v_reUserInfo);

var contentId;
if (root.v_content.exUplinkType=="L") {
    contentId = root.v_content.exContentId;
} else {
    contentId = root.v_content.id;
}
g5.p2.p9.setLike(contentId, contentClone.isLike);

var i;
for (i=0; i<g5.likeItems.length; i++) {
    if (g5.likeItems[i].contentId==contentId) break;
}
if (i>=g5.likeItems.length) {
    var item = new g5.LikeItem();
    item.contentId = contentId;
    g5.likeItems.push(item);
} else {
    g5.likeItems.splice(i,1);
}

if (g5.likeItems.length>0) {
    startTimer();
} else {
    stopTimer();
}
]]></functionCode>
    </item>
    <item name="setUnlike" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[var stopTimer = function() {
    if (g5.unlikeItemsTimer) {
        clearTimeout(g5.unlikeItemsTimer);
        g5.unlikeItemsTimer = null;
    }
}

var startTimer = function() {
    stopTimer();
    g5.unlikeBusy = true;
    g5.unlikeItemsTimer = setTimeout(function() {
        g5.unlikeItemsTimer = null;
        if (g5.unlikeItems.length<=0) return;
        if (unlikeContent.busy) {
            startTimer();
            return;
        }
        unlikeContent.contentId = g5.unlikeItems[0].contentId;
        unlikeContent.onComplete = function() {
            //g5.writeLog("setUnlike,id="+unlikeContent.contentId);
            g5.unlikeBusy = false;
        }
        unlikeContent();
        g5.unlikeItems.splice(0,1);
        startTimer();
    }, 1000);    
}

if (!g5.UnlikeItem) {
    g5.UnlikeItem = function() {
        this.contentId = 0;
        this.isUnlike = false;
    }
    g5.unlikeItems = new Array();
}
if (g5.myUserInfo.status == "FREEZE") {
    g5.alert1("不能点赞", "对不起，您的账户目前处于冻结状态，不能对短文进行点赞或者点踩操作。");
    return;
}

var contentClone = root.v_content.clone();
contentClone.isUnlike = !contentClone.isUnlike;
contentClone.unlikeCount += contentClone.isUnlike ? 1:-1;
if (contentClone.unlikeCount<0) contentClone.unlikeCount = 0;
g5.syncTwitter(contentClone,root.v_reContent,root.v_userInfo,root.v_reUserInfo);

var contentId;
if (root.v_content.exUplinkType=="L") {
    contentId = root.v_content.exContentId;
} else {
    contentId = root.v_content.id;
}
g5.p2.p9.setUnlike(contentId, contentClone.isUnlike);

var i;
for (i=0; i<g5.unlikeItems.length; i++) {
    if (g5.unlikeItems[i].contentId==contentId) break;
}
if (i>=g5.unlikeItems.length) {
    var item = new g5.UnlikeItem();
    item.contentId = contentId;
    g5.unlikeItems.push(item);
} else {
    g5.unlikeItems.splice(i,1);
}

if (g5.unlikeItems.length>0) {
    startTimer();
}
]]></functionCode>
    </item>
    <item name="showCommonText" type="20">
      <varValue />
      <functionParam>text,style</functionParam>
      <functionCode><![CDATA[text = text.replace(/[<">']/g, (a) => {
    return {
        '<': '&amp;lt;',
        '"': '&amp;quot;',
        '>': '&amp;gt;',
        "'": '&amp;#39;'
    }[a]
});
text = g5.processTextUrl(text,style);
return text;]]></functionCode>
    </item>
    <item name="refreshPage2" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[if (eb.isEmpty(g5.datasetPage2)) return;
var i;
var root = ee.getControl("panel128"); 
if (g5.newUser) {
    root = ee.getControl("layoutyitem8");
}

for (i=0; i<g5.itemsPage2.length; i++) ee.removeControl(g5.itemsPage2[i]);
g5.itemsPage2 = new Array();
for (i=0; i< g5.datasetPage2.rowCount; i++) {
    //function(parent, username, nickname, userPhoto)
    //dataset: id,userName,nickName,photo"
    cy = g5.appendItemPage2(
        root,
        g5.datasetPage2.getData(1,i),
        g5.datasetPage2.getData(2,i),
        g5.datasetPage2.getData(3,i));
}    
ee.setRect(root,null,null,null,cy);]]></functionCode>
    </item>
    <item name="deletePage1" type="20">
      <varValue />
      <functionParam>item</functionParam>
      <functionCode><![CDATA[var i=0;
for (i=0; i<g5.itemsHome.length; i++) {
    if (g5.itemsHome[i]==item) {
        break;
    }
}
if (i>=g5.itemsHome.length) return;
var pos = i;
var dh = eb.getDivRect(g5.itemsHome[pos]).h;
ee.removeControl(g5.itemsHome[pos]);
g5.itemsHome.slice(pos,1);
for (i=pos; i<g5.itemsHome.length; i++) {
    ee.setRect(g5.itemsHome[i],null,eb.getDivRect(g5.itemsHome[i]).y-dh,null,null);
}
if (g5.itemsHome.length>0) {
    var rect = eb.getDivRect(g5.itemsHome[g5.itemsHome.length-1]);
    eb.setDivRect(ee.getControl("panel41"),null,null,null,rect.y+rect.h);
}]]></functionCode>
    </item>
    <item name="batchMoveY" type="20">
      <varValue />
      <functionParam>items,index,dy</functionParam>
      <functionCode><![CDATA[for (var i=index; i<items.length; i++) {
    ee.setRect(items[i],null,eb.getDivRectSetting(items[i]).y+dy,null,null);
}
]]></functionCode>
    </item>
    <item name="batchMoveYPage" type="20">
      <varValue />
      <functionParam>refItem,dy</functionParam>
      <functionCode><![CDATA[var p = refItem.parentNode;
if (!p) return;
var r, rSelf;
rSelf = eb.getDivRectSetting(refItem);
for (var i=0; i<p.eeChildren.length; i++) {
    if (p.eeChildren[i]==refItem) continue;
    r = eb.getDivRectSetting(p.eeChildren[i]);
    if (r.y<=rSelf.y) continue;
    ee.setRect(p.eeChildren[i],null,r.y+dy,null,null);
}]]></functionCode>
    </item>
    <item name="refreshPhoto" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(root.v_photos)) root.v_photos = new Array();
if (eb.isEmpty(root.v_items)) root.v_items = new Array();

var i;
for (i=0; i<root.v_items.length; i++) {
    ee.removeControl(root.v_items[i]);
}

root.v_items = new Array();
var rect = eb.getDivRectSetting(root);
var item;
if (root.v_photos.length==1) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, rect.w, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==2) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==3) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo3", "", parseInt(rect.w/2)+1, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[2]; item.v_index = 2;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==4) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", 0, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo3", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[2]; item.v_index = 2;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo4", "", parseInt(rect.w/2)+1, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[3]; item.v_index = 3;
    g5.addPhoto(item); root.v_items.push(item);
}   ]]></functionCode>
    </item>
    <item name="addPhoto" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[var c;
var rect = eb.getDivRectSetting(root);

if ((root.v_photo.substr(0,4) == "?YTB") &amp;&amp; (!g5.YTReady)) {
    var t = "对不起，您的网络无法访问YouTube视频：\n"+
        "https://www.youtube.com/watch?v=" + root.v_photo.substr(4, root.v_photo.length);
    if (root.label) {
        root.label.rows[0].cells[0].innerHTML = t;
    } else {
        addText(root, t, "center", "middle",
            "'Segoe UI', Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif",
            12, "#000000", "normal");
    }
} else if (root.v_photo.substr(0,4) == "?YTB") {
    root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
    var domYT = root.childNodes[0];
    var root0 = root.parentNode;
    
    ee.changeParent(root,g5.pLine1);
    //eb.setDivRect(root.childNodes[0],0,0,rect.w,rect.h);
    root0.c_player = new YT.Player(domYT.id, {
        height: rect.h,
        width: rect.w,
        videoId: root.v_photo.substr(4, root.v_photo.length),
        events: {
            "onReady": function(event) {
                if (event.target.v_mode=="") {
                    event.target.mute();
                }
            },
            "onStateChange": function(event) {
                if (event.data == YT.PlayerState.PLAYING) {
                    if (event.target!=g5.player.currentPlayer) {
                        g5.player.stop();
                        g5.player.forceMode = true;
                        g5.player.currentPlayer=event.target;
                    }
                }
            }
        }
    });
    ee.changeParent(root, root0);
    root.parentNode.c_video = root;
    root.parentNode.c_player.v_mode = root.parentNode.v_mode;
    if (root.parentNode.v_mode=="") {
        var h = rect.h - 50;
        if (h<0) h = rect.h;
        c = createPanel(root, root.id+"_clk", "rgba(255,255,255,0.01)", 0,0,rect.w,h);
        c.style.cursor = "pointer";
        ee.setOnClick(c, function(sender, event) {
            if (!sender.parentNode.parentNode.c_player.unMute) {
                ee.setVisible(sender, false);
                window.event? window.event.cancelBubble = true : event.stopPropagation();
                return;
            }
            sender.parentNode.parentNode.c_player.unMute();
            ee.setVisible(sender, false);
            if (sender.parentNode.parentNode.c_player!=g5.player.currentPlayer) {
                sender.parentNode.parentNode.c_player.playVideo();    
            }
            window.event? window.event.cancelBubble = true : event.stopPropagation();
        });
    }
    //root.innerHTML = "<iframe width='" + rect.w + "' height='" + rect.h + "' src='https://www.youtube.com/embed/" +
    //    root.v_photo.substr(4, root.v_photo.length) + 
    //    "' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>";
} else {
    root.imgUrl = "url:" + g5.imgUrl + root.v_photo;
    //g5.setImage(root,root.imgUrl,"trim","","",400);
    ee.setImage(root,root.imgUrl,"trim","","");
    ee.setOnClick(root, function(sender, event) {
        g5.popBlack.a2.show(sender.parentNode.v_photos, sender.v_photo);
        g5.player.stop();
        return false;
    }); 
}
//ee.getControl("panel53").style.pointerEvents = "none";
if (root.parentNode.v_mode=="x") {
    c = createPanel(root, root.id+"_close", "", rect.w-36-12, 12, 36, 36);
    c.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgba(255,255,255,1);fill: currentcolor;vertical-align:middle;\">" + g5.icon.close + "</svg>";
    c.style.borderRadius = "50%";
    c.style.backgroundColor = "rgba(0,0,0,0.8)";
    c.style.zIndex=100;
    c.style.cursor = "pointer";
    ee.setOnMouseEnter(c, function(sender,event) {
        sender.style.backgroundColor = "rgba(0,0,0,0.5)";
    });    
    ee.setOnMouseLeave(c, function(sender,event) {
        sender.style.backgroundColor = "rgba(0,0,0,0.8)";
    });
    ee.setOnClick(c, function(sender, event) {
        sender.parentNode.parentNode.v_photos.splice(sender.parentNode.v_index,1);
        if (sender.parentNode.parentNode.onDeletePhoto) sender.parentNode.parentNode.onDeletePhoto();
        g5.refreshPhoto(sender.parentNode.parentNode);
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    })
}]]></functionCode>
    </item>
    <item name="addVideoExt" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[/*
if (root.v_photo.substr(0,4) != "?YTB") return;
root.style.cursor = "pointer";
root.imgUrl = "url:http://i3.ytimg.com/vi/" + root.v_photo.substr(4) + "/maxresdefault.jpg";
g5.setImage(root,root.imgUrl,"trim","","",400);
ee.setOnClick(root, function(sender, event) {
    window.open("https://www.youtube.com/watch?v=" + sender.v_photo.substr(4));
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}); 
*/

if (root.v_photo.substr(0,4) != "?YTB") return;
root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
var rect = eb.getDivRect(root);
root.parentNode.c_player = new YT.Player(root.id + "_ytb", {
    height: rect.h,
    width: rect.w,
    videoId: root.v_photo.substr(4, root.v_photo.length),
    events: {
        "onReady": function(event) {
        },
        "onStateChange": function(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                if (event.target!=g5.player.currentPlayer) {
                    g5.player.stop();
                    g5.player.forceMode = true;
                    g5.player.currentPlayer=event.target;
                }
            }
        }
    }
});
root.parentNode.c_video = root;
root.parentNode.v_photo = root.v_photo;
var h = rect.h;
if (h<0) h = rect.h;
c = createPanel(root, root.id+"_clk", "rgba(255,255,255,0.01)", 0,0,rect.w,h);
c.style.cursor = "pointer";
ee.setOnClick(c, function(sender, event) {
    window.open("https://www.youtube.com/watch?v=" + sender.parentNode.v_photo.substr(4));
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
]]></functionCode>
    </item>
    <item name="processVideo" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[if (ee.getControl("panel142").style.visibility != "hidden") return;//picture view page
if (g5.player.forceMode) return;
var player = {};
player.dy = 99999;
var screenC = eb.getDivRect(ee.getControl("divRoot")).h/2;
var items,arrayTemp;
arrayTemp = g5.contentGetCurrentBuffs();
items = new Array();
for (var i=0; i<arrayTemp.length; i++) {
    items = items.concat(arrayTemp[i]);
}
if (items.length<=0) return;

for (var i = 0; i < items.length; i++) {
    //if (g5.p2PersonSub.currentPageIndex!=1) break;
    if (eb.isEmpty(items[i].c_photos)) continue;
    if (eb.isEmpty(items[i].c_photos.c_player)) continue;
    var dy = g5.getRectAbs(items[i].c_photos).y + items[i].c_photos.v_videoH/2;
    dy = Math.abs(dy - screenC);
    if (player.dy>dy) {
        player.player = items[i].c_photos.c_player;
        player.dy = dy;
        player.c_control = items[i].c_photos;
    }
}
for (var i = 0; i < items.length; i++) {
    //if (g5.p2PersonSub.currentPageIndex!=1) break;
    if (eb.isEmpty(items[i].c_rePhotos)) continue;
    if (eb.isEmpty(items[i].c_rePhotos.c_player)) continue;
    var dy = g5.getRectAbs(items[i].c_rePhotos).y + items[i].c_rePhotos.v_videoH/2;
    dy = Math.abs(dy - screenC);
    if (player.dy>dy) {
        player.player = items[i].c_rePhotos.c_player;
        player.dy = dy;
        player.c_control = items[i].c_rePhotos
    }
}

if (g5.currentPageIndex == 1)  {
    var chatRoomVideo = ee.getControl("panel287");
    var ch = eb.getDivRectSetting(chatRoomVideo).h;
    if (chatRoomVideo.style.visibility != "hidden") {
        var dy = g5.getRectAbs(chatRoomVideo).y + ch/2;
        dy = Math.abs(dy - screenC);
        if (player.dy>dy) {
            player.player = chatRoomVideo.c_player;
            player.dy = dy;
            player.c_control = chatRoomVideo;
        }
    }
}


if (eb.isEmpty(player.player)) return;
var y = g5.getRectAbs(player.c_control).y;
var h = player.c_control.v_videoH;
if ((y+h<0) || (y>screenC*2)) {
    g5.player.stop();
    return;
}
if (g5.player.currentPlayer==player.player) return;
if (eb.isEmpty(player.player.playVideo)) {
} else {
    g5.player.stop();
    //g5.player.currentPlayer = player.player;
    //g5.player.currentDiv = player.c_control;
    //g5.player.currentPlayer.playVideo();
}


]]></functionCode>
    </item>
    <item name="getYtbIdFromStr" type="20">
      <varValue />
      <functionParam>userInput</functionParam>
      <functionCode><![CDATA[var ytbVideo = "";
var pos;
if ((pos=userInput.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
    ytbVideo = userInput.substr(pos + "youtube.com/watch?v=".length, userInput.length);
} else if ((pos=userInput.toLowerCase().indexOf("youtu.be/",0))>0) {
    ytbVideo = userInput.substr(pos + "youtu.be/".length, userInput.length);
} else if ((pos=userInput.toLowerCase().indexOf("youtube.com/live/",0))>0) {
    ytbVideo = userInput.substr(pos + "youtube.com/live/".length, userInput.length);
} else if ((pos=userInput.toLowerCase().indexOf("youtube.com/shorts/",0))>0) {
    ytbVideo = userInput.substr(pos + "youtube.com/shorts/".length, userInput.length);
} else {
    return "";
}
if ((pos=ytbVideo.toLowerCase().indexOf("&amp;",0))>0) {
    ytbVideo = ytbVideo.substr(0, pos);
}
if ((pos=ytbVideo.toLowerCase().indexOf("?",0))>0) {
    ytbVideo = ytbVideo.substr(0, pos);
}
if ((ytbVideo.length<=8)||(ytbVideo.length>=20)) {
    return "";
}
ytbVideo = "?YTB" + ytbVideo;
return ytbVideo;]]></functionCode>
    </item>
    <item name="getVideoY" type="20">
      <varValue />
      <functionParam>root,video</functionParam>
      <functionCode>var result = 0;
while (true) {
    result += eb.getDivRect(video).y;
    video = video.parentNode;
    if (video == root) break;
    if (eb.isEmpty(video)) break;
}
return result;</functionCode>
    </item>
    <item name="BStyle" type="20">
      <varValue />
      <functionParam>color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor</functionParam>
      <functionCode>this.color1 = color1;
this.color2 = color2
this.color3 = color3;
this.text1 = text1;
this.text2 = text2;
this.text3 = text3;
this.tColor1 = tColor1;
this.tColor2 = tColor2;
this.tColor3 = tColor3;
this.bdColor = bdColor;</functionCode>
    </item>
    <item name="getUtcTime" type="20">
      <varValue />
      <functionParam>dbTime,returnString</functionParam>
      <functionCode><![CDATA[//04 19 2020 10:35 UTC
//yyyy-mm-dd hh:nn:ss
//0123456789012345678
if (dbTime.length!=19) return new Date();

var r = new Date(Date.UTC(
    parseInt(dbTime.substr(0,4)),
    parseInt(dbTime.substr(5,2)) - 1,
    parseInt(dbTime.substr(8,2)),
    parseInt(dbTime.substr(11,2)),
    parseInt(dbTime.substr(14,2)),
    parseInt(dbTime.substr(17,2))
));

if (returnString) {
    return ((r.getYear()<1000)?(r.getYear()+1900):r.getYear()) + "-" +
        ((r.getMonth()+1)<10?"0":"") + (r.getMonth()+1) + "-" +
        (r.getDate()<10?"0":"") + r.getDate() + " " +
        (r.getHours()<10?"0":"") + r.getHours() + ":" +
        (r.getMinutes()<10?"0":"") + r.getMinutes() + ":" +
        (r.getSeconds()<10?"0":"") + r.getSeconds();
} else {
    return r;
} 
]]></functionCode>
    </item>
    <item name="getRectAbs" type="20">
      <varValue />
      <functionParam>div</functionParam>
      <functionCode>var rect = eb.getDivRect(div);
var result = eb.getDivRect(div);
while (true) {
    div = div.parentNode;
    if (eb.isEmpty(div)) break;
    if (div.id == "divRoot") break;
    rect = eb.getDivRect(div);
    result.x+=rect.x-div.scrollLeft;
    result.y+=rect.y-div.scrollTop;
}
result.y -= document.documentElement.scrollTop;
return result;</functionCode>
    </item>
    <item name="writeLog" type="20">
      <varValue />
      <functionParam>text, status</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(status)) status = false;
ee.setVisible(ee.getControl("panel288"), true);
if (g5.isMobile) {
    ee.setRect(ee.getControl("panel288"), 0,null,null,null);
}
if (status) {
    ee.setText(ee.getControl("panel113"),text);
    return;
}
if (!g5.lastLogTime) g5.lastLogTime = new Date().getTime();
var c = ee.getControl("panel37");
text = encodeURIComponent(text);
c.setText(ee.getText(c) + "<br/>" + text + "(" + ((new Date().getTime())-g5.lastLogTime) + "ms)");
g5.lastLogTime = new Date().getTime();
eb.processDock();

]]></functionCode>
    </item>
    <item name="chatPrvRequest" type="20">
      <varValue />
      <functionParam>chatRoomId,userNickName,userName</functionParam>
      <functionCode><![CDATA[g5.popBlack.a6.show(
    "申请加入私有聊天室",
    "您没有加入房主的私有聊天室，申请加入<b>" + userNickName + "@" + userName + "</b>的私有聊天室吗？得到房主许可后，您才可以进入房主的私有聊天室。",
    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","申请","提交申请","提交申请","#ffffff","#ffffff","#ffffff","")],
    function() {
        chatPrvRequest.chatRoomId = chatRoomId;
        chatPrvRequest.onComplete = function() {
            g5.alert1("提示", "申请已经发送成功，请耐心等待房主同意。 ");
        }
        chatPrvRequest();
    }
);
]]></functionCode>
    </item>
    <item name="tiledV" type="20">
      <varValue />
      <functionParam>root,space,spTop,spBottom</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(spTop)) spTop = 1;
if (eb.isEmpty(spBottom)) spBottom = 1;
var rect, cy = parseInt(space * spTop);
for (var i = 0; i < root.eeChildren.length; i++) {
    if (root.eeChildren[i].style.visibility == "hidden") continue;
    if (i!=0) cy += space;
    ee.setRect(root.eeChildren[i], null, cy, null, null);
    rect = eb.getDivRectSetting(root.eeChildren[i]);
    cy += rect.h;
}
cy += parseInt(space * spBottom);
ee.setRect(root, null, null, null, cy);
root.v_tiledVSpace = space;
root.v_tiledSpTop = spTop;
root.v_tiledSpBottom = spBottom;]]></functionCode>
    </item>
    <item name="resizeV" type="20">
      <varValue />
      <functionParam>div,level</functionParam>
      <functionCode><![CDATA[var getMaxY = function(div,child) {
    var result = 0;
    var rect;
    for (var i=0; i<div.eeChildren.length; i++) {
        if ((div.eeChildren[i]!=child) &amp;&amp; (div.eeChildren[i].style.visibility == "hidden")) continue;
        rect = eb.getDivRectSetting(div.eeChildren[i]);
        if (rect.y + rect.h > result) result = rect.y + rect.h;
    }
    return result;
}

var child = null;
for (var i=0; i<level; i++) {
    var maxY = getMaxY(div, child);
    ee.setRect(div, null, null, null, maxY);
    child = div;
    div = div.parentNode;
}
]]></functionCode>
    </item>
    <item name="tiledResizeV" type="20">
      <varValue />
      <functionParam>div,level</functionParam>
      <functionCode><![CDATA[var child = null;
for (var i=0; i<level; i++) {
    if (!eb.isEmpty(div.v_tiledVSpace)) {
        g5.tiledV(div, div.v_tiledVSpace, div.v_tiledSpTop, div.v_tiledSpBottom);
    } else {
        g5.resizeV(div, 1);
    }
    div = div.parentNode;
}
]]></functionCode>
    </item>
    <item name="getQueryString" type="20">
      <varValue />
      <functionParam>paramName</functionParam>
      <functionCode>var reg = new RegExp("(^|&amp;)"+ paramName +"=([^&amp;]*)(&amp;|$)");
var r = window.location.search.substr(1).match(reg);
if(r!=null)return  unescape(r[2]); return null;</functionCode>
    </item>
    <item name="copyClipboard" type="20">
      <varValue />
      <functionParam>value,onSucc,onFail</functionParam>
      <functionCode>var textarea = document.createElement("textarea");
textarea.value = value;
textarea.style.position = "fixed";
textarea.style.opacity = 0;
document.body.appendChild(textarea);
textarea.select();
var r = document.execCommand("copy");
document.body.removeChild(textarea);
if (r) {
    if (onSucc) onSucc();
} else {
    if (onFail) onFail();
}


</functionCode>
    </item>
    <item name="getOperationSys" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var OS = '';
var OSArray = {};
var UserAgent = navigator.userAgent.toLowerCase();
OSArray.Windows = (navigator.platform == 'Win32') || (navigator.platform == 'Windows');
OSArray.Mac = (navigator.platform == 'Mac68K') || (navigator.platform == 'MacPPC')
  || (navigator.platform == 'Macintosh') || (navigator.platform == 'MacIntel');
OSArray.iphone = UserAgent.indexOf('iPhone') > -1;
OSArray.ipod = UserAgent.indexOf('iPod') > -1;
OSArray.ipad = UserAgent.indexOf('iPad') > -1;
OSArray.Android = UserAgent.indexOf('Android') > -1;
for (var i in OSArray) {
  if (OSArray[i]) {
    OS = i;
  }
}
return OS;]]></functionCode>
    </item>
    <item name="getUserPhotoUrl" type="20">
      <varValue />
      <functionParam>userPhoto</functionParam>
      <functionCode><![CDATA[var result = ["/faith/main/user.png", "/faith/main/user.png"];
var p = userPhoto.split(".");
if (p.length!=2) return result;
if (p[0].length<=0) return result;
if (p[1].length<=0) return result;
if (p[0].charAt(p[0].length-1) == "s") {
    result[0] = "url:" + g5.imgUrl + p[0] + "." + p[1];
    result[1] = "url:" + g5.imgUrl + p[0].substr(0,p[0].length-1) + "." + p[1];
} else {
    result[0] = "url:" + g5.imgUrl + p[0] + "." + p[1];
    result[1] = "url:" + g5.imgUrl + p[0] + "." + p[1];
}
return result;]]></functionCode>
    </item>
    <item name="getUserTitleBgUrl" type="20">
      <varValue />
      <functionParam>titleBg</functionParam>
      <functionCode><![CDATA[var result = ["", ""];
var p = titleBg.split(".");
if (p.length!=2) return result;
if (p[0].length<=0) return result;
if (p[1].length<=0) return result;
if (p[0].charAt(p[0].length-1) == "s") {
    result[0] = "url:" + g5.imgUrl + p[0] + "." + p[1];
    result[1] = "url:" + g5.imgUrl + p[0].substr(0,p[0].length-1) + "." + p[1];
} else {
    result[0] = "url:" + g5.imgUrl + p[0] + "." + p[1];
    result[1] = "url:" + g5.imgUrl + p[0] + "." + p[1];
}
return result;
   
]]></functionCode>
    </item>
    <item name="onScroll" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var safeRange = 700;
if (eb.isEmpty(g5._lastPageIndex)) g5._lastPageIndex = -10;
if (!g5._lastScroll) g5._lastScroll = -10000;
if ((g5._lastPageIndex == g5.currentPageIndex) &amp;&amp; 
    (Math.abs(document.documentElement.scrollTop-g5._lastScroll)<safeRange)) {
    return;
}
g5._lastPageIndex = g5.currentPageIndex;
g5._lastScroll = document.documentElement.scrollTop;

var items = new Array();
if (g5.currentPageIndex == 0) {
    items = g5.p2.p1.v_items;
}
if (items.length<=0) return;

var i,r;
var screenTop = document.documentElement.scrollTop;
var screenBottom = eb.getClientSize().h + screenTop;
for (i=0; i<items.length; i++) {
    if (!items[i].v_top) {
        g5.refreshVTop(items);
    }
    
    if (items[i].v_bottom + safeRange < document.documentElement.scrollTop) {
        ee.setVisible(items[i], false);
    } else if (items[i].v_top - safeRange > screenBottom) {
        ee.setVisible(items[i], false);
    } else {
        ee.setVisible(items[i], true);
    }
}

]]></functionCode>
    </item>
    <item name="refreshVTop" type="20">
      <varValue />
      <functionParam>items</functionParam>
      <functionCode><![CDATA[for (i=0; i<items.length; i++) {
    r = eb.getDivRectSetting(items[i]);
    items[i].v_top = r.y;
    items[i].v_bottom = r.y + r.h;
}

]]></functionCode>
    </item>
    <item name="uploadPhotoCheck" type="20">
      <varValue />
      <functionParam>photoRoot,isImg,onConfirm</functionParam>
      <functionCode><![CDATA[if (!photoRoot.v_photos) {
     onConfirm();
     return;
}

var imgCount = 0, videoCount = 0;
for (var i=0; i<photoRoot.v_photos.length; i++) {
    if (photoRoot.v_photos[i] == "") continue;
    if (photoRoot.v_photos[i].substr(0,1)=="?") {
        videoCount++;
    } else {
        imgCount++;
    }
}
if (isImg) {
    if (imgCount>=4) {
        g5.alert1("提示", "对不起，您最多上传4张照片");
        return;
    }
    if (videoCount>=1) {
        g5.popBlack.a6.show(
            "提示",
            "您已经上传了一个视频，如果要继续上传图片需要将此视频删除，您是否确认上传图片并删除原来的视频吗？",
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除视频","删除视频","删除视频","#ffffff","#ffffff","#ffffff","")],
            function() {
                photoRoot.v_photos = new Array();
                g5.refreshPhoto(photoRoot);
                onConfirm();
            },
            function() {
            }
        );
        return;
    }
} else {
    if (imgCount > 0) {
        g5.popBlack.a6.show(
            "提示",
            "您已经上传了"+imgCount+"张图片，如果要继续上传视频需要将这些图片删除，您是否确认上传视频并删除原来的图片吗？",
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除图片","删除图片","删除图片","#ffffff","#ffffff","#ffffff","")],
            function() {
                photoRoot.v_photos = new Array();
                g5.refreshPhoto(photoRoot);
                onConfirm();
            },
            function() {
            }
        );
        return;
    }
    if (videoCount>=1) {
        g5.popBlack.a6.show(
            "提示",
            "您已经上传了一个视频，想要替换这个视频吗？",
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","替换","替换","替换","#ffffff","#ffffff","#ffffff","")],
            function() {
                photoRoot.v_photos = new Array();
                g5.refreshPhoto(photoRoot);
                onConfirm();
            },
            function() {
            }
        );
        return;
    }
}
onConfirm();



]]></functionCode>
    </item>
    <item name="initButtonV3" type="20">
      <varValue />
      <functionParam>sender,v_style</functionParam>
      <functionCode><![CDATA[sender.v_style = v_style;

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    this.setTextCurrent(this.v_style[index].text1);
    this.setTextColor(this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
        if (this.label) eb.setDivRect(this.label.parentNode,0,0,null,null);
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
        if (this.label) eb.setDivRect(this.label.parentNode,-1,-1,null,null);
    }
    //this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    if (this.c_cover) ee.removeControl(this.c_cover);
    this.c_cover = createPanel(this, "", "#00000001", 0, 0, 1, 1);
    eb.setDock(this.c_cover,"fill","fill");
}

sender.setText = function(text1, styleIndex, text2, text3) {
    if (!styleIndex) styleIndex = 0;
    if (!text2) text2 = text1;
    if (!text3) text3 = text2;
    this.v_style[styleIndex].text1 = text1;
    this.v_style[styleIndex].text2 = text2;
    this.v_style[styleIndex].text3 = text3;
    this.setTextCurrent(text1);
}

sender.setTextCurrent = function(text) {
    text = g5.lang.getByCn(text);
    var index = this.v_index;
    if ((this.v_style[index].text1.length>0) || (this.v_style[index].text2.length>0) || (this.v_style[index].text3.length>0)) {
        ee.setText(this,text);
    }
}

sender.setTextColor = function(color) {
    var index = this.v_index;
    if ((this.v_style[index].tColor1.length>0) || (this.v_style[index].tColor2.length>0) || (this.v_style[index].tColor3.length>0)) {
        ee.setTextColor(this, color);
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    this.setTextCurrent(s.text2);
    this.setTextColor(s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    this.setTextCurrent(s.text1);
    this.setTextColor(s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    this.setTextCurrent(s.text3);
    this.setTextColor(s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    if ("ontouchstart" in window) {
        sender.style.backgroundColor = s.color1;
        this.setTextCurrent(s.text1);
        this.setTextColor(s.tColor1);
    } else {
        sender.style.backgroundColor = s.color2;
        this.setTextCurrent(s.text2);
        this.setTextColor(s.tColor2);
    }
}
sender.eeOnClickCancel = function(sender,event) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    this.setTextCurrent(s.text1);
    this.setTextColor(s.tColor1);
}
eb.initMouseEvent(sender);

sender.init(0);]]></functionCode>
    </item>
    <item name="initImgButtonV1" type="20">
      <varValue />
      <functionParam>sender,p1,p2,p3</functionParam>
      <functionCode>sender.v_brightness = [p1,p2,p3];
sender.init = function() {
    this.setBrightness(this.v_brightness[0]);
}

sender.setBrightness = function(value) {
    sender.style.webkitFilter="brightness(" + value + ")";
    sender.style.filter="brightness(" + value + ")";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    this.setBrightness(this.v_brightness[1]);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    this.setBrightness(this.v_brightness[0]);
});
sender.eeMouseDown = function(sender,event,x,y) {
    this.setBrightness(this.v_brightness[2]);
}
sender.eeMouseUp = function(sender,event,x,y) {
    if ("ontouchstart" in window) {
        this.setBrightness(this.v_brightness[0]);
    } else {
        this.setBrightness(this.v_brightness[1]);
    }
}
sender.eeOnClickCancel = function(sender,event) {
    this.setBrightness(this.v_brightness[0]);
}
eb.initMouseEvent(sender);

sender.init();</functionCode>
    </item>
    <item name="initLinkV1" type="20">
      <varValue />
      <functionParam>sender</functionParam>
      <functionCode>ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.textDecoration="underline";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.textDecoration="";
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.textDecoration="underline";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.textDecoration="";
}
sender.eeOnClickCancel = function(sender,event) {
    sender.style.textDecoration="";
}
eb.initMouseEvent(sender);
</functionCode>
    </item>
    <item name="checkGuest" type="20">
      <varValue />
      <functionParam>opName</functionParam>
      <functionCode><![CDATA[if (!g5.guestMode) return false;
opName = g5.lang.getByCn(opName);
g5.popBlack.a6.show(
    g5.lang.getByCn("加入FISTALK"),
    "<div style='text-align:left'>" + g5.lang.getByCn("作为游客身份") + "<font color=#904040><b>" + g5.lang.getByCn("不能") + opName + "</b></font>" +
    g5.lang.getByCn("，如果您需要") + opName +
    g5.lang.getByCn("请注册或登录一个账号，注册是免费的同时也不需要提供您的任何隐私信息。") + "<font color=#904040><b>" + g5.lang.getByCn("您是否要立即注册？") + "</b></font></div>",
    [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","注册","注册新账号","注册新账号","#ffffff","#ffffff","#ffffff","")],
    function() {
        eb.setCookie("twitterGToken", "");
        window.location.href = "https://fistalk.com/reg"
    },
    function() {
    }
);
return true;]]></functionCode>
    </item>
  </g5Items>
</page>