<page>
  <controls count="543">
    <control type="DivRoot" pathname="/divRoot">
      <backgroundColor>ffffff</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <left>0</left>
      <onControlLoad>ee.setAutoScroll($g("divRoot"), "hidden");
document.body.style.backgroundColor = "#ffffff";

var c = document.getElementById("divRoot");
c.style.overflow = "";
var c = document.getElementById("ee_divRoot");
c.style.overflow = "";
var c = ee.getControl("panel134");
c.style.overflow = "";



getUserInfo();
getPromptCount();

g5.changeP3(-1);
//g5.changeP2(0);

//searchUser();
eb.processDock();
setInterval(function() {g5.refreshMain();}, 100);
setInterval(function() {
    g5.processVideo();
}, 1000);
setInterval(function() {
    g5.refreshScroll();
}, 500);














                                            </onControlLoad>
      <onPageCreate><![CDATA[//history control
window.addEventListener("popstate", function (a) {
    g5.processUrl();
})


var tag = document.createElement("script");
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName("script")[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
function onYouTubeIframeAPIReady() {

}

initLButton = function(button,text,dy,icon,size,dx) {
    if (eb.isEmpty(size)) size = "24 24";
    if (eb.isEmpty(dx)) dx = "0";
    ee.setText(button.status1, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(0,0,0,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status1, "rgb(0,0,0)");
    ee.setText(button.status2, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(29,161,242,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status2, "rgb(29,161,242)");
    ee.setText(button.status3, "<svg viewBox='"+dx+" "+dy+" "+size+"' style='height: 1.75rem;color: rgba(29,161,242,1.00);fill: currentcolor;vertical-align:middle;'>"+ icon +"</svg>  " + text);
    ee.setTextColor(button.status3, "rgb(29,161,242)");
}

ee.changeParent = function(control, newParent, pos) {
    var i;
    for (i = 0; i < control.parentNode.eeChildren.length; i++) {
        if (control.parentNode.eeChildren[i] == control) {
            control.parentNode.eeChildren.splice(i, 1);
            break;
        }
    }
    if ((pos < 0) || (pos >= newParent.eeChildren.length)) {
        newParent.eeChildren.push(control);
        newParent.appendChild(control);
    } else {
        newParent.insertBefore(control, newParent.eeChildren[pos]);
        newParent.eeChildren.splice(pos, 0, control);
    }
}

eb.arrayRemoveItem = function(arr, item) {
    var i = 0;
    while (i < arr.length) {
        if (arr[i] == item) {
            arr.splice(i, 1);
        } else i++;
    }
}

function EDataSet() {
    this.colCount = 0;
    this.rowCount = 0;
    this.data = new Array();
    this.setColCount = function (value) {
        if (this.data.length > value) {
            this.data.length = value;
        } else if (this.data.length < value) {
            while (this.data.length < value) {
                var ydata = new Array();
                while (ydata.length < this.rowCount) {
                    ydata.push("");
                }
                this.data.push(ydata);
            }
        }
        this.colCount = value;
    }
    this.setRowCount = function (value) {
        var i;
        if (this.rowCount < value) {
            for (i = 0; i < this.colCount; i++) {
                while (this.data[i].length < value) {
                    this.data[i].push("");
                }
            }
        } else if (this.rowCount > value) {
            for (i = 0; i < this.colCount; i++) {
                this.data[i].length = value;
            }
        }
        this.rowCount = value;
    }
    this.getData = function (colIndex, rowIndex) {
        if (colIndex >= this.colCount) return "";
        if (rowIndex >= this.rowCount) return "";
        return this.data[colIndex][rowIndex];
    }
    this.setData = function (colIndex, rowIndex, value) {
        if (colIndex >= this.colCount) return;
        if (rowIndex >= this.rowCount) return;
        this.data[colIndex][rowIndex] = value;
    }
    this.appendDataset = function (dataset) {
        if (dataset.rowCount <= 0) return false;
        var st = this.rowCount;
        this.setRowCount(this.rowCount + dataset.rowCount);
        for (var i = st; i < this.rowCount; i++) {
            for (var j = 0; j < this.colCount; j++) {
                this.setData(j, i, dataset.getData(j, i - st));
            }
        }
        return true;
    }
    //增加以下方法
    this.removeRowAt = function(index) {
        if ((index < 0) || (index >= this.rowCount)) return;
        for (var i = 0; i < this.data.length; i++ ) {
            this.data[i].splice(index,1);
        }
        this.rowCount--;
    }
    
}

]]></onPageCreate>
      <pageTitle>拳头聊天室</pageTitle>
      <top>0</top>
      <width>1185</width>
    </control>
    <control type="Panel" pathname="/divRoot/panel134">
      <autoScroll>true</autoScroll>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>E0E0E0</fontColor>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>mainDiv</note>
      <onCreate><![CDATA[
/*
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
*/

eb.addEvent(sender, "scroll", function() {
    var viewPortH = $g("divRoot").offsetHeight;
    g5.player.forceMode = false;

    var viewPortY = g5.mainDiv.scrollTop;
    var dy = viewPortY - g5.lastScrollY;
    g5.lastScrollY = viewPortY
    var p3h = eb.getDivRect(g5.p3).h;
    p3y = eb.getDivRect(g5.p3).y;
    var newY = p3y - dy;
    if (p3h<=viewPortH) {
        eb.setDivRect(g5.p3,null,0,null,null);
        return;
    }
    if (newY>0) newY = 0;
    if (newY+p3h<viewPortH) newY = viewPortH - p3h;
    eb.setDivRect(g5.p3,null,newY,null,null);
}, false);

sender.onWheel = function(wheelDelta) {
    d1 = 0.5; d2 = 0.8; d3 = 30; 
    
    var mouseType = this.getMouseType(wheelDelta);
    
    var viewPortH = $g("divRoot").offsetHeight;
    var eeDivRoot = $g("divRoot");
    var p2h = eb.getDivRect(g5.p2).h;
    //if ((p2h-viewPortH-g5.mainDiv.scrollTop) < 6000) {
    if ((p2h-viewPortH-document.documentElement.scrollTop) < 6000) {
        if (g5.currentPageIndex == 0) {
            g5.p2.p1.loadMore();
        } else if (g5.currentPageIndex == 10) {
            if (g5.p2.p11.currentPage == "c1") {
                g5.p2.p11.c_pages.c1.loadMore();
            } else if (g5.p2.p11.currentPage == "c2") {
                g5.p2.p11.c_pages.c2.loadMore();
            } else if (g5.p2.p11.currentPage == "c3") {
                g5.p2.p11.c_pages.c3.loadMore();
            } else if (g5.p2.p11.currentPage == "c4") {
                g5.p2.p11.c_pages.c4.loadMore();
            } else if (g5.p2.p11.currentPage == "c5") {
                g5.p2.p11.c_pages.c5.loadMore();
            }
        } else if (g5.currentPageIndex == 4) {
            g5.p2.p5.loadMore();
        } else if (g5.currentPageIndex == 1) {
            if (g5.p2.p2.p2sub.currentPageIndex == 1) {
                g5.p2.p2.p2sub.p1.loadMore();
            } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
                g5.p2.p2.p2sub.updateP3();
            }
        }
    }
    
    if (eb.isEmpty(this.onWheel.lastTime)) this.onWheel.lastTime = 0;
    if (eb.isEmpty(this.onWheel.count)) this.onWheel.count = 0;
    var currentTime = (new Date()).getTime()
    if (currentTime - this.onWheel.lastTime < 100) {
        this.onWheel.count++;
    } else {
        this.onWheel.count = 0;
    }
    this.onWheel.lastTime = currentTime;
    
    var amount;
    if (mouseType == "macWheel") {
        amount = - wheelDelta * d2;
    } else if (mouseType == "macTouch") {
        amount = - wheelDelta * d1;
    } else {
        amount = this.onWheel.count * this.onWheel.count * d3 + d3; 
        amount = Math.min(amount, 500);
        if (wheelDelta>0) {
            amount = -amount;
        }
    }
    amount = parseInt(amount);
    this.scrollTop += amount;
    
    if ((mouseType == "windows") || (mouseType == "macWheel")) {
        this.startScrollAni(amount);
    }
}

sender.wheelData = null;
sender.wheelDataLen = 50;
sender.wheelPos = 0;
sender.getMouseType = function(wheelDelta) {
    var log = "";
    log+= "delta=" + wheelDelta + "<br/>";
    
    var len = this.wheelDataLen, i;
    if (this.wheelData == null) {
        this.wheelData = new Array();
        for (i = 0; i<len; i++) this.wheelData.push(0);
    }
    this.wheelData[this.wheelPos] = parseInt(wheelDelta);
    this.wheelPos = (this.wheelPos + 1) % len;
    
    var min = 0xFFFF;
    for (i = 0; i<len; i++) {
        if (this.wheelData[i] == 0) continue;
        if (Math.abs(this.wheelData[i]) < min) min = Math.abs(this.wheelData[i]);
    }
    log+= "min=" + min + "<br/>";

    var result = "unknow";
    if (g5.getOperationSys()!="Mac") {
        result = "windows";
    } else if (min > 10) {
        result = "macWheel";
    } else {
        result = "macTouch";
    }
    log+= "mouseType: " + result;
    
    //g5.writeLog(log, true);
 
    return result;    
}

sender.gcd = function (a, b) {
    if (a === b) {
        return b;
    }
    if (a > b) {
        a -= b;
    } else {
        b -= a;
    }
    return arguments.callee(a, b)
}

sender.scrollTimerHandle = null;
sender.startScrollAni = function(value) {
    if (this.scrollTimerHandle!=null) {
        clearTimeout(this.scrollTimerHandle);
        this.scrollTimerHandle = null;
    }
    this.scrollStart = this.scrollTop;
    this.scrollEnd = this.scrollTop + value;
    this.scrollStartTime = new Date();
    this.scrollTimerHandle = setTimeout(function() {
        sender.scrollAniProcess();        
    }, 1);
}

sender.scrollAniProcess = function() {
    var t = new Date();
    t = t.getTime() - sender.scrollStartTime.getTime();
    var amt = 300;
    if (t>=amt) return;
    sender.scrollTop = parseInt(eb.getInterpolation("slowDown", t/amt) * (sender.scrollEnd - sender.scrollStart) + sender.scrollStart);
    this.scrollTimerHandle = setTimeout(function() {                                                                                   
        sender.scrollAniProcess();        
    }, 1);
}]]></onCreate>
      <scrollPosX>5</scrollPosX>
      <scrollPosY>-1</scrollPosY>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>571</height>
      <heightRatio>0.717336683417085</heightRatio>
      <left>0</left>
      <note>p1</note>
      <onCreate>sender.style.position="fixed";
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
</onCreate>
      <sizeRatio>1.90333333333333</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00251256281407035</topRatio>
      <width>300</width>
      <widthRatio>0.253164556962025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P1->1->标准菜单]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.90333333333333</sizeRatio>
      <top>0</top>
      <width>300</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27">
      <ani2Pos>leftFlyOut:左侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.90333333333333</sizeRatio>
      <top>0</top>
      <width>300</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel141">
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>LRBtn9</backgroundSkin>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>46</left>
      <leftRatio>0.153333333333333</leftRatio>
      <onClick>g5.popBlack.a3.showNew();</onClick>
      <sizeRatio>0.207207207207207</sizeRatio>
      <text>发言</text>
      <top>489</top>
      <topRatio>0.856392294220666</topRatio>
      <width>222</width>
      <widthRatio>0.74</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel144">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>48</height>
      <heightRatio>0.0840630472854641</heightRatio>
      <left>40</left>
      <leftRatio>0.133333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(0);
updateHomepage.needRefresh = true;
updateHomepage();
]]></onClick>
      <sizeRatio>0.738461538461539</sizeRatio>
      <top>7</top>
      <topRatio>0.0122591943957968</topRatio>
      <width>65</width>
      <widthRatio>0.216666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel127">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(0);
updateHomepage.needRefresh = true;
updateHomepage();
]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconHomePage+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.353846153846154</sizeRatio>
      <text>新鲜事</text>
      <top>72</top>
      <topRatio>0.126094570928196</topRatio>
      <width>130</width>
      <widthRatio>0.433333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel150">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(6);
showChatList();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.446601941747573</sizeRatio>
      <text>私信</text>
      <top>186</top>
      <topRatio>0.325744308231173</topRatio>
      <width>103</width>
      <widthRatio>0.343333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel151">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p5.show();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMark+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.446601941747573</sizeRatio>
      <text>书签</text>
      <top>243</top>
      <topRatio>0.425569176882662</topRatio>
      <width>103</width>
      <widthRatio>0.343333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel152">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p2.show(g5.myUserInfo);

]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconFace+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.319444444444444</sizeRatio>
      <text>个人主页</text>
      <top>299</top>
      <topRatio>0.523642732049037</topRatio>
      <width>144</width>
      <widthRatio>0.48</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel153">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.changeP2(9);


]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconConfig+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.289308176100629</sizeRatio>
      <text>设置和隐私</text>
      <top>356</top>
      <topRatio>0.623467600700525</topRatio>
      <width>159</width>
      <widthRatio>0.53</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel148">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.319444444444444</sizeRatio>
      <text>退出登录</text>
      <top>413</top>
      <topRatio>0.723292469352014</topRatio>
      <width>144</width>
      <widthRatio>0.48</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel26/panel27/panel94">
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>43</left>
      <leftRatio>0.143333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p12.show();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>"+
    " " + ee.getText(sender));
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "24px";






]]></onCreate>
      <sizeRatio>0.323943661971831</sizeRatio>
      <text>通知</text>
      <top>129</top>
      <topRatio>0.225919439579685</topRatio>
      <width>142</width>
      <widthRatio>0.473333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P1->2->收窄菜单]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.90333333333333</sizeRatio>
      <top>0</top>
      <width>300</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200">
      <ani2Pos>leftFlyOut:左侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>571</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1.90333333333333</sizeRatio>
      <top>0</top>
      <width>300</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel201">
      <backgroundImg>fingerP.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>56</height>
      <heightRatio>0.0980735551663748</heightRatio>
      <left>120</left>
      <leftRatio>0.4</leftRatio>
      <onClick>g5.popBlack.a3.showNew();</onClick>
      <onCreate><![CDATA[sender.baseColor1 = "rgb(29, 161, 242)";
//sender.style.backgroundColor = sender.baseColor1;
//ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 8px 8px;fill:#ffffff;vertical-align:middle;\">"+g5.iconNew+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    //sender.style.backgroundColor = "#1a91da";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    //sender.style.backgroundColor = sender.baseColor1;
});
sender.eeMouseDown = function(sender,event,x,y) {
    //sender.style.backgroundColor = "#1781c2";
}
sender.eeMouseUp = function(sender,event,x,y) {
    //sender.style.backgroundColor = "#1a91da";
}
eb.initMouseEvent(sender);
//sender.style.borderRadius = "50%";

]]></onCreate>
      <sizeRatio>0.933333333333333</sizeRatio>
      <top>459</top>
      <topRatio>0.80385288966725</topRatio>
      <width>60</width>
      <widthRatio>0.2</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel202">
      <backgroundImg>fist.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <height>37</height>
      <heightRatio>0.0647985989492119</heightRatio>
      <left>131</left>
      <leftRatio>0.436666666666667</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(0);
updateHomepage.needRefresh = true;
updateHomepage();
]]></onClick>
      <sizeRatio>0.973684210526316</sizeRatio>
      <top>16</top>
      <topRatio>0.0280210157618214</topRatio>
      <width>38</width>
      <widthRatio>0.126666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel210">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(0);
updateHomepage.needRefresh = true;
updateHomepage();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconHomePage+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>主页</text>
      <top>74</top>
      <topRatio>0.129597197898424</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel203">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}
g5.changeP2(6);
showChatList();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMail+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>私信</text>
      <top>181</top>
      <topRatio>0.316987740805604</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel204">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p5.show();]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconMark+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>书签</text>
      <top>235</top>
      <topRatio>0.411558669001751</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel205">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p2.show(g5.myUserInfo);
]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconFace+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>个人资料</text>
      <top>289</top>
      <topRatio>0.506129597197898</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel206">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.changeP2(9);


]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconConfig+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>设置和隐私</text>
      <top>342</top>
      <topRatio>0.598949211908932</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel207">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

eb.delCookie("twitterGToken");
window.location.href = ee.getUrl("/pc/new");]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconExit+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>退出登录</text>
      <top>396</top>
      <topRatio>0.693520140105079</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel136/panel199/panel200/panel352">
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>46</height>
      <heightRatio>0.0805604203152364</heightRatio>
      <left>127</left>
      <leftRatio>0.423333333333333</leftRatio>
      <onClick><![CDATA[var items = sender.parentNode.eeChildren;
for (var i=0; i<items.length; i++) {
    if (eb.isEmpty(items[i].baseColor)) continue;
    if (items[i]==sender) {
        items[i].baseColor="#1fa2f2";
    } else {
        items[i].baseColor="#14171a";
        ee.setTextColor(items[i], items[i].baseColor);
    }
}

g5.p2.p12.show();

]]></onClick>
      <onCreate><![CDATA[sender.baseColor = "#14171a";
ee.setText(sender,"<svg viewBox=\"0 0 24 24\" style=\"display:inline;font-size: 13px;height:1.9em;width:1.9em;margin:8px 8px 12px 8px;fill: currentcolor;vertical-align:middle;\">"+g5.iconBell+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e8f5fe";
    ee.setTextColor(sender, "#1fa2f2");
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "";
    ee.setTextColor(sender, sender.baseColor);
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "#d2ecfc";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "#e8f5fe";
}
eb.initMouseEvent(sender);
sender.style.borderRadius = "50%";






]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>通知</text>
      <top>128</top>
      <topRatio>0.224168126094571</topRatio>
      <width>46</width>
      <widthRatio>0.153333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>780</height>
      <heightRatio>0.979899497487437</heightRatio>
      <left>300</left>
      <leftRatio>0.253164556962025</leftRatio>
      <note>p2</note>
      <onCreate>sender.p1 = ee.getControl("panel41");
sender.p2 = ee.getControl("panel16");
sender.p5 = ee.getControl("panel91");
sender.p7 = ee.getControl("layouty5");
sender.p9 = ee.getControl("panel22");
sender.p11 = ee.getControl("panel335");
sender.p12 = ee.getControl("panel355");</onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00251256281407035</topRatio>
      <width>600</width>
      <widthRatio>0.506329113924051</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p1->Home主页面]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.a1 = ee.getControl("panel1");
sender.v_items = new Array();
sender.v_lastScrollTop = 0;

sender.update = function(v_content,v_userInfo,v_reContent,v_reUserInfo) {
    var i;
    for (i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_content.id==v_content.id) break;
    }
    if (i>=this.v_items.length) return;
    var root = this.v_items[i];
    while (root.eeChildren.length>0) ee.removeControl(root.eeChildren[0]);
    root.v_content = v_content;
    root.v_userInfo = v_userInfo;
    root.v_reContent = v_reContent;
    root.v_reUserInfo = v_reUserInfo;
    g5.renderTwitter(root);
}

sender.init = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    updateHomepage.isForward = true;
    this.loadFromServer();
}

sender.activePage = function() {
    g5.pushHistory("");
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a1");
    g5.changeP3(9);
    ee.setRect(g5.p4.a1,0,0,eb.getDivRect(g5.p4).w,null);
    ee.setRect(g5.p4, null,null,null,eb.getDivRect(g5.p4.a1).h);
    ee.setRect(g5.p2,null,null,null,eb.getDivRect(this).h+1);
    document.documentElement.scrollTop = sender.v_lastScrollTop;
    g5.writeLog("restore main:" + document.documentElement.scrollTop);
    ee.showAni(this, 0);
}

sender.close = function() {
    sender.v_lastScrollTop = document.documentElement.scrollTop;
    g5.writeLog("save main:" + document.documentElement.scrollTop);
    ee.setVisible(g5.p4, false);
    ee.setVisible(this, false);
    g5.changeP3(-1);
    g5.player.stop();
}

sender.loadMore = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    if (this.v_items.length>0) {
        updateHomepage.contentId = this.v_items[this.v_items.length - 1].v_content.id;
    }
    updateHomepage.isForward = true;
    this.loadFromServer();
}

sender.loadNew = function() {
    if (updateHomepage.busy) return;
    updateHomepage.contentId = 0
    if (this.v_items.length>0) {
        updateHomepage.contentId = this.v_items[0].v_content.id;
    }
    updateHomepage.isForward = false;
    this.loadFromServer();
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var item;
    var root = sender;
    var itemWidth = eb.getDivRect(root).w;
    var cy = eb.getDivRect(g5.p4).h;
    cy+=eb.getDivRect(g5.p2.p1.a1).h;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[0]).y;
    }
    item = createPanel(root, "p2p1_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    g5.renderTwitter(item);
    root.v_items.splice(0, 0, item);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(this.v_items, 1, cy);
    eb.setDivRect(this, null,null,null,eb.getDivRect(this).h + cy);
    eb.setDivRect(this.parentNode, null,null,null,eb.getDivRect(this.parentNode).h + cy);
}

sender.loadFromServer = function() {
    updateHomepage.onComplete = function(dataset) {
        var i, item;
        var root = sender;
        var itemWidth = eb.getDivRect(root).w;
        var cy = eb.getDivRect(g5.p4).h;
        ee.setRect(g5.p2.p1.a1, null, cy, null,null);
        cy+=eb.getDivRect(g5.p2.p1.a1).h;
        if (updateHomepage.contentId == 0) {
            for (i=0; i<root.v_items.length; i++) ee.removeControl(root.v_items[i]);
            root.v_items = new Array();
        } else if (updateHomepage.isForward) {
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
        }
        var item = null;
        for (i=0; i< dataset.rowCount; i++) {
            item = createPanel(root, "p2p1_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            if (item.v_content.status == "DEL") {
                ee.removeControl(item);
                continue;
            }
            item.v_mode = "";
            g5.renderTwitter(item);
            if (updateHomepage.isForward) {
                root.v_items.push(item);
            } else {
                root.v_items.splice(i, 0, item);
            }
            cy += 0 + eb.getDivRect(item).h;
        }
        if (!updateHomepage.isForward) {
            if (dataset.rowCount>0) {
                if (dataset.rowCount<root.v_items.length) {
                    var dy = cy - eb.getDivRect(root.v_items[dataset.rowCount]).y; 
                    g5.batchMoveY(root.v_items,dataset.rowCount,dy);
                }
            }
            var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
            cy = rect.y + rect.h;
        }
        
        if (g5.currentPageIndex == 0) {
            if (item!=null) {
                var ch = $g("divRoot").offsetHeight;
                var h = cy + ch - eb.getDivRect(item).h - 51; 
                eb.setDivRect(g5.p2,null,null,null,h);
            }    
        }
        eb.setDivRect(g5.p2.p1,null,null,null,cy);
        eb.processDock();
    }
    updateHomepage();    
}


]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00128205128205128</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1">
      <dockX>fill</dockX>
      <fontColor>FFFFFF</fontColor>
      <fontSize>20</fontSize>
      <height>429</height>
      <heightRatio>0.55</heightRatio>
      <left>0</left>
      <note>主页顶部发帖a1</note>
      <onCreate><![CDATA[sender.c_photos = ee.getControl("panel7");
sender.c_edit = ee.getControl("edit7");
sender.c_button = ee.getControl("panel251");

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

sender.check = function() {
    var enabled = ee.getEditText(ee.getControl("edit7")).trim().length > 0;
    if (ee.getControl("panel7").v_photos.length>0) enabled = true;
    if (ee.getEditText(ee.getControl("edit7")).trim().length>200) enabled = false;
    ee.getControl("panel251").setEnabled(enabled);
}

sender.init = function() {
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
    ee.setVisible(this.c_photos, false);
    ee.setEditText(this.c_edit, "");
    ee.setRect(this.c_edit, null,null,null,53);
    var oldH = eb.getDivRect(this).h;
    ee.setRect(this, null,null,null,110);
    g5.batchMoveY(g5.p2.p1.v_items,0,110-oldH);
    if (this.c_button.setEnabled) this.c_button.setEnabled(false);
    if (ee.getControl("panel53").refresh) {
        ee.getControl("panel53").refresh(0/200);
        ee.setText(ee.getControl("panel122"), "");
    }    
    ee.setVisible(ee.getControl("panel53"), false);
    eb.processDock();
}
sender.init();]]></onCreate>
      <sizeRatio>0.715</sizeRatio>
      <top>53</top>
      <topRatio>0.0679487179487179</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel2">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <height>50</height>
      <heightRatio>0.116550116550117</heightRatio>
      <left>16</left>
      <leftRatio>0.0266666666666667</leftRatio>
      <onClick>showUserPage.userName = g5.myUserInfo.userName;
showUserPage();</onClick>
      <onCreate>sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,e) {
    sender.style.webkitFilter="brightness(80%)";
    sender.style.filter="brightness(80%)";
});
ee.setOnMouseLeave(c, function(sender,e) {
    sender.style.webkitFilter="brightness(100%)";
    sender.style.filter="brightness(100%)";
});
</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>10</top>
      <topRatio>0.0233100233100233</topRatio>
      <width>50</width>
      <widthRatio>0.0833333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel3">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>10</height>
      <heightRatio>0.0233100233100233</heightRatio>
      <left>0</left>
      <sizeRatio>0.0166666666666667</sizeRatio>
      <top>419</top>
      <topRatio>0.976689976689977</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel41/panel1/edit7">
      <backgroundSkin>empty</backgroundSkin>
      <fontColor>9197A3</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>0.123543123543124</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>16</inputFontSize>
      <left>77</left>
      <leftRatio>0.128333333333333</leftRatio>
      <multiLine>true</multiLine>
      <note>c_edit</note>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
edit.setText(text);

ee.getControl("panel1").check();
var text = text.trim();
var c = ee.getControl("panel53");
if (text.length<180) {
    c.v_color = "#29a5f2";
    c.v_r = "9";
    c.refresh(text.length/200);
    ee.setText(ee.getControl("panel122"), "");    
} else if (text.length<=200) {
    c.v_color = "#ffad1f";
    c.v_r = "12";
    c.refresh(text.length/200);    
    ee.setText(ee.getControl("panel122"), 200-text.length);    
    ee.setTextColor(ee.getControl("panel122"), "#ffad1f");
} else {
    c.v_color = "#e0245e";
    c.v_r = "14";
    c.refresh((text.length-200)/100);    
    ee.setText(ee.getControl("panel122"), 200-text.length);
    ee.setTextColor(ee.getControl("panel122"), "#e0245e");
}

]]></onChange>
      <onCreate><![CDATA[sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy == 0) return;
    ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h + dy);
    g5.batchMoveY(g5.p2.p1.v_items,0,dy);
    eb.processDock();
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    var rect = eb.getDivRect(sender._input);
    ee.setRect(sender.c_tester, rect.w+300, 0, rect.w+2, sender.v_defaultH);
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        //insert code here
                        
        //event.preventDefault();
        //return false;
    }
});]]></onCreate>
      <sizeRatio>0.108829568788501</sizeRatio>
      <text>有什么新鲜事？</text>
      <top>7</top>
      <topRatio>0.0163170163170163</topRatio>
      <vAlign>top</vAlign>
      <width>487</width>
      <widthRatio>0.811666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel7">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockY>bottom</dockY>
      <height>289</height>
      <heightRatio>0.673659673659674</heightRatio>
      <left>75</left>
      <leftRatio>0.125</leftRatio>
      <note>c_photos</note>
      <onCreate>sender.style.borderRadius = "15px";
sender.v_mode="x";
sender.v_photos = new Array();
</onCreate>
      <outerBottom>70</outerBottom>
      <sizeRatio>0.588594704684318</sizeRatio>
      <top>70</top>
      <topRatio>0.163170163170163</topRatio>
      <width>491</width>
      <widthRatio>0.818333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel9">
      <backgroundImg>CPY0003.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockY>bottom</dockY>
      <height>36</height>
      <heightRatio>0.0839160839160839</heightRatio>
      <left>130</left>
      <leftRatio>0.216666666666667</leftRatio>
      <onClick><![CDATA[if (ee.getControl("panel7").v_photos.length>=4) {
    alert("对不起，您最多上传4张照片或者视频");
    return;
}

g5.popBlack2.a1.show(function(ytbVideo) {
    var i = 0;
    for (i=0; i<ee.getControl("panel7").v_photos.length; i++) {
        var s = ee.getControl("panel7").v_photos[i];
        if (s.length<4) continue;
        if (s.substr(0,4)=="?YTB") {
            break;
        }
    }
    if (i>=ee.getControl("panel7").v_photos.length) {
        ee.getControl("panel7").v_photos.push(ytbVideo);
    } else {
        ee.getControl("panel7").v_photos.splice(i,1,ytbVideo);
    }
    
    g5.refreshPhoto(ee.getControl("panel7"));
    ee.getControl("panel1").check();
        
    if (ee.getControl("panel7").style.visibility=="hidden") {
        ee.setVisible(ee.getControl("panel7"), true);
        ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+462-140);
        g5.batchMoveY(g5.p2.p1.v_items,0,462-140);
        eb.processDock();
    }
});

    


]]></onClick>
      <outerBottom>15</outerBottom>
      <sizeRatio>1</sizeRatio>
      <top>378</top>
      <topRatio>0.881118881118881</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel53">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockY>bottom</dockY>
      <height>39</height>
      <heightRatio>0.0909090909090909</heightRatio>
      <left>413</left>
      <leftRatio>0.688333333333333</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    ee.setVisible(this, true);
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <outerBottom>18</outerBottom>
      <sizeRatio>1</sizeRatio>
      <text>圆形进度条</text>
      <top>372</top>
      <topRatio>0.867132867132867</topRatio>
      <width>39</width>
      <widthRatio>0.065</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel122">
      <backgroundColor>EAEAF4</backgroundColor>
      <dockY>bottom</dockY>
      <fontFamily>Helvetica</fontFamily>
      <height>39</height>
      <heightRatio>0.0909090909090909</heightRatio>
      <left>413</left>
      <leftRatio>0.688333333333333</leftRatio>
      <outerBottom>18</outerBottom>
      <sizeRatio>1</sizeRatio>
      <top>372</top>
      <topRatio>0.867132867132867</topRatio>
      <width>39</width>
      <widthRatio>0.065</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel251">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockY>bottom</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.0769230769230769</heightRatio>
      <left>482</left>
      <leftRatio>0.803333333333333</leftRatio>
      <onClick>if (!sender.v_enabled) return;

if (newTwitter.busy) return;
newTwitter.uplinkType = "N";
newTwitter.uplinkId = 0;
newTwitter.content = ee.getEditText(ee.getControl("edit7"));
newTwitter.photos = ee.getControl("panel7").v_photos;
newTwitter.onComplete = function(contentId) {
    var newContent = new g5.ContentInfo();
    newContent.id = contentId;
    newContent.seconds = 0;
    newContent.status = "IDL";
    newContent.uplinkType = "N";
    newContent.uplinkId = 0;
    newContent.content = newTwitter.content;
    newContent.photos = newTwitter.photos;
    newContent.reCount = 0;
    newContent.fwCount = 0;
    newContent.likeCount = 0;
    newContent.unlikeCount = 0;
    newContent.isForward = false;
    newContent.isLike = false;
    newContent.isUnlike = false;
    g5.p2.p1.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
    if (showUserPage.v_userInfo) {
        if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
            g5.p2.p2.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
        }
    }
}
newTwitter();
sender.parentNode.init();
</onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(false);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerBottom>18</outerBottom>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>发言</text>
      <top>378</top>
      <topRatio>0.881118881118881</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel41/panel1/panel299">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>bottom</dockY>
      <height>36</height>
      <heightRatio>0.0839160839160839</heightRatio>
      <left>79</left>
      <leftRatio>0.131666666666667</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (ee.getControl("panel7").v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        if (ee.getControl("panel7").v_photos.length>=4) return;
                        ee.getControl("panel7").v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(ee.getControl("panel7"));
                        if (ee.getControl("panel7").style.visibility=="hidden") {
                            ee.setVisible(ee.getControl("panel7"), true);
                            ee.setRect(ee.getControl("panel1"),null,null,null,eb.getDivRect(ee.getControl("panel1")).h+462-140);
                            g5.batchMoveY(g5.p2.p1.v_items,0,462-140);
                            eb.processDock();
                        }
                        ee.getControl("panel1").check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <outerBottom>15</outerBottom>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>378</top>
      <topRatio>0.881118881118881</topRatio>
      <width>36</width>
      <widthRatio>0.06</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p2->用户(个人)信息页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.p2sub = ee.getControl("panel279");
sender.p1Items = new Array();
sender.p3Items = new Array();

sender.show = function(v_userInfo, userId, userName) {
    if (showUserPage.busy) return;
    
    this.v_needRefresh = true;
    if (this.v_userInfo) {
        if (v_userInfo) {
            if (v_userInfo.id == this.v_userInfo.id) {
                this.v_needRefresh = false;
            }
        } else if (userId) { 
            if (userId == this.v_userInfo.id) {
                this.v_needRefresh = false;
            }
        } else if (userName) {
            if (userName == this.v_userInfo.userName) {
                this.v_needRefresh = false;
            }
        }
    }
    if (!this.v_needRefresh) {
        var root = g5.p2.p2.p2sub.p1;
        rect = eb.getDivRectSetting(root.parentNode);
        ee.setRect(root.parentNode.parentNode,null,null,null,rect.y + rect.h);
        g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.start(showUserPage.defaultChatRoomId);
        if (showUserPage.privateChatRoomRights) {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.start(showUserPage.privateChatRoomId);
        }
        g5.changeP2(1);
        return;
    }
    if (!eb.isEmpty(v_userInfo)) {
        this.showByUserInfo(v_userInfo);
        showUserPage.userName = "";
        showUserPage.userId = v_userInfo.id;
    } else if (!eb.isEmpty(userId)) {
        this.v_userInfo = null;
        showUserPage.userName = "";
        showUserPage.userId = userId;
    } else {
        this.v_userInfo = null;
        showUserPage.userName = userName;
        showUserPage.userId = null;
    }
    showUserPage.onComplete = function() {
        var i;
        if (sender.v_userInfo == null) {
            sender.showByUserInfo(showUserPage.v_userInfo);
        }
        for (var i=0; i<sender.p1Items.length; i++) {
            ee.removeControl(sender.p1Items[i]);
        }
        sender.p1Items = new Array();
        
        var rect = eb.getDivRect(ee.getControl("panel73"),null,cy,null,null);
        var cy = rect.y + rect.h;
        var i, item;
        var root = g5.p2.p2.p2sub.p1;
        root.init(); 
        var itemWidth = eb.getDivRect(root).w;
        var item = null;
        for (i=0; i< showUserPage.dataset.rowCount; i++) {
            item = createPanel(root, "puser_" + showUserPage.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, showUserPage.dataset, i);
            item.v_mode = "   x";
            g5.renderTwitter(item);
            sender.p1Items.push(item);
            cy += 0 + eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (item!=null) {
            var ch = $g("divRoot").offsetHeight;
            var h = cy + ch - eb.getDivRect(item).h - 51; 
            ee.setRect(root,null,null,null,h);
        } else {
            var ch = $g("divRoot").offsetHeight;
            var h = ch + eb.getDivRect(ee.getControl("layoutx2")).y - 51; 
            ee.setRect(root,null,null,null,h);
        }    
        rect = eb.getDivRectSetting(root);
        ee.setRect(root.parentNode,null,null,null,rect.y + rect.h);
        rect = eb.getDivRectSetting(root.parentNode);
        ee.setRect(root.parentNode.parentNode,null,null,null,rect.y + rect.h);
        
        g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.start(showUserPage.defaultChatRoomId);
        if (showUserPage.privateChatRoomRights) {
            g5.p3.p8.p1.c_chatRoom.c_chatRoot.start(showUserPage.privateChatRoomId);
        }
                
        g5.tiledV(g5.p2PersonSub.p1,0);
        g5.p2PersonSub.init();
        g5.p2PersonSub.changePage(1);
        g5.p3.p8.init();
    }
    
    showUserPage();    
}

sender.close = function() {
    this.v_lastScrollTop = document.documentElement.scrollTop;
    ee.setVisible(g5.p4, false);
    g5.player.stop();
    g5.p2.p2.p2sub.p1.c_chat.c_chat.c_chatRoot.stop();
    g5.p3.p8.p1.c_chatRoom.c_chatRoot.stop();
    ee.showAni(ee.getControl("panel16"), 1);
    g5.changeP3(-1);
    g5.p4.changePage("");
}

sender.activePage = function() {
    g5.pushHistory("p=1&amp;u=" + escape(g5.p2.p2.v_userInfo.userName));
    if (this.v_needRefresh) {
        document.documentElement.scrollTop = 0;
    } else {
        document.documentElement.scrollTop = this.v_lastScrollTop;
    }
    g5.pageMode = 0;
    g5.refreshMain(true);
    eb.setDivRect(g5.p2,null,null,null,eb.getDivRect(this).h);
    ee.showAni(ee.getControl("panel16"), 0);
    g5.changeP3(8);
    g5.p4.changePage("a6");
}


sender.showByUserInfo = function(v_userInfo) {
    this.v_userInfo = v_userInfo;
    
    g5.pageMode = 0;
    g5.refreshMain(true);
    
    if (v_userInfo.isFollow) {
        ee.getControl("panel256").init(2);
    } else {
        ee.getControl("panel256").init(1);
    }
    
    if (v_userInfo.userName == g5.myUserInfo.userName) {
        ee.getControl("panel256").init(3);
        ee.setVisible(ee.getControl("panel115"), false);
    } else {
        ee.setVisible(ee.getControl("panel115"), true);
    }
    var rootH = eb.getDivRect(ee.getControl("panel16")).h;
    //photo
    if (v_userInfo.photo != "") {
        ee.getControl("panel23").init(v_userInfo.photo);
    }
    //titleBg
    if (v_userInfo.titleBg != "") {
        ee.getControl("panel20").init(v_userInfo.titleBg);
    }
    ee.getControl("panel18").setText(v_userInfo.nickName);
    ee.getControl("panel21").setText("@" + v_userInfo.userName);
    
    var cy = eb.getDivRect(ee.getControl("panel21")).y + eb.getDivRect(ee.getControl("panel21")).h;
    var vspace = 2;
    cy += vspace;
    //note
    if (v_userInfo.note != "") {
        ee.setRect(ee.getControl("panel69"), null, null, null, 5);
        eb.getDivRect(ee.getControl("panel69")).y = cy;
        ee.setText(ee.getControl("panel69"), v_userInfo.note);
        ee.setVisible(ee.getControl("panel69"), true);
        ee.setRect(ee.getControl("panel69"),null,null,null, eb.getDivRect(ee.getControl("panel69").label).h);
        cy += vspace + eb.getDivRect(ee.getControl("panel69")).h;
    } else {
        ee.setVisible(ee.getControl("panel69"), false);
    }
    //homepage
    if (v_userInfo.homePage != "") {
        eb.setDivRect(ee.getControl("layoutx6"),null,cy,null,null);
        ee.setText(ee.getControl("layoutxitem12"), v_userInfo.homePage);
        ee.getControl("layoutxitem12").homePage = v_userInfo.homePage;
        ee.setVisible(ee.getControl("layoutx6"), true);
        cy += vspace + eb.getDivRect(ee.getControl("layoutx6")).h;
    } else {
        ee.setVisible(ee.getControl("layoutx6"), false);
    }
    
    eb.setDivRect(ee.getControl("layoutx7"),null,cy,null,null);
    ee.setText(ee.getControl("layoutxitem14"), 
        v_userInfo.regDatetime.substr(0,4) + "年" + parseInt(v_userInfo.regDatetime.substr(5,2)) + "月" + parseInt(v_userInfo.regDatetime.substr(8,2)) + "日" + "加入");
    ee.setVisible(ee.getControl("layoutx7"), true);
    cy += vspace + eb.getDivRect(ee.getControl("layoutx7")).h;
    
    eb.setDivRect(ee.getControl("panel72"),null,cy,null,null);
    ee.setVisible(ee.getControl("panel72"), true);
    ee.setText(ee.getControl("panel72"), "  <div id='userPageLink01' style='display:inline;'>" + v_userInfo.followCount + "个关注</div>" +
        "     <div id='userPageLink02' style='display:inline;'>" + v_userInfo.fansCount +"个粉丝</div>");
    var c = ee.getControl("panel72"); 
    c.link01=$g("userPageLink01");
    c.link02=$g("userPageLink02");
    if (v_userInfo.followCount>0) {
        c.link01.style.cursor = "pointer";
        ee.setOnMouseEnter(c.link01,function(sender,e){
            sender.style.textDecoration="underline";
        });
        ee.setOnMouseLeave(c.link01,function(sender,e){
            sender.style.textDecoration="";
        });
        ee.setOnClick(c.link01, function(sender, event) {
            showFollowList.userName = showUserPage.userName;
            showFollowList();
        });
    }
    if (v_userInfo.fansCount>0) {
        c.link02.style.cursor = "pointer";
        ee.setOnMouseEnter(c.link02,function(sender,e){
            sender.style.textDecoration="underline";
        });
        ee.setOnMouseLeave(c.link02,function(sender,e){
            sender.style.textDecoration="";
        });
        ee.setOnClick(c.link02, function(sender, event) {
            showFansList.userName = showUserPage.userName;
            showFansList();
        });
    }
    cy += vspace + eb.getDivRect(ee.getControl("panel72")).h;
    
    if (v_userInfo.isBlock1) {
        ee.setVisible(ee.getControl("panel6"), true);
        ee.setText(ee.getControl("panel253"), "@" + v_userInfo.userName + "已被屏蔽");
        ee.setText(ee.getControl("panel254"), "是否确定要查看这些发言？查看发言不会取消屏蔽 @" + v_userInfo.userName + "。");
        ee.getControl("panel255").cy = cy;
        g5.changeP2(1);
        ee.getControl("panel256").init(0);
        return;
    } else {
        ee.setVisible(ee.getControl("panel6"), false);
    }
    
    eb.setDivRect(ee.getControl("panel279"),null,cy,null,null);
    ee.setVisible(ee.getControl("panel279"), true);
    
    var rect = eb.getDivRect(ee.getControl("panel263"));
    cy = rect.y + rect.h;
    eb.setDivRect(ee.getControl("panel19"),null,cy,null,300);
    ee.setVisible(ee.getControl("panel19"), true);
    cy += eb.getDivRect(ee.getControl("panel19")).h;
    
    eb.setDivRect(ee.getControl("panel73"),null,cy,null,null);
    ee.setVisible(ee.getControl("panel73"), true);
    cy += eb.getDivRect(ee.getControl("panel73")).h;
    
    g5.changeP2(1);
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    if (v_content.uplinkType != "R") {
        this.insertAtPage(1, v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
    if (!this.v_p3Init) {
        this.insertAtPage(3, v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
}

sender.insertAtPage = function(pageIndex, v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var items, item, root, cy;
    var itemWidth = eb.getDivRect(this).w;
    v_content = v_content.clone();
    v_reContent = v_reContent.clone();
    if (pageIndex == 1) {
        root = this.p2sub.p1;
        items = this.p1Items;
    } else if (pageIndex == 3) {
        root = this.p2sub.p3;
        items = this.p3Items;
    }
    if (!showUserPage.v_userInfo) return;
    if (v_userInfo.id != showUserPage.v_userInfo.id) return;
    
    if (pageIndex == 1) {
        var rect = eb.getDivRect(ee.getControl("panel73"),null,cy,null,null);
        cy = rect.y + rect.h;
    } else if (pageIndex == 3) {
        cy = 0;
    }
    if (items.length>0) {
        cy = eb.getDivRect(items[0]).y;
    }
    if (pageIndex == 1) {
        item = createPanel(root, "p2p2p1_" + v_content.id, "", 0, cy, itemWidth, 5);
    } else if (pageIndex == 3) {
        item = createPanel(root, "p2p2p3_" + v_content.id, "", 0, cy, itemWidth, 5);
    }
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    g5.renderTwitter(item);
    items.splice(0, 0, item);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(items, 1, cy);
    eb.setDivRect(root, null,null,null,eb.getDivRect(root).h + cy);
    if (pageIndex == this.p2sub.currentPageIndex) {
        g5.resizeV(root.parentNode, 3);
    }    
}



]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel20">
      <backgroundColor>0E5079</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <height>202</height>
      <heightRatio>0.258974358974359</heightRatio>
      <left>0</left>
      <onClick>g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>sender.init = function(photoString) {
    ee.setImage(this, "url:" + g5.imgUrl + photoString);
    this.v_photo = photoString;
}
</onCreate>
      <sizeRatio>0.336666666666667</sizeRatio>
      <top>53</top>
      <topRatio>0.0679487179487179</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel18">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.0435897435897436</heightRatio>
      <left>165</left>
      <leftRatio>0.275</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.161137440758294</sizeRatio>
      <text>昵称nicheng</text>
      <top>265</top>
      <topRatio>0.33974358974359</topRatio>
      <width>211</width>
      <widthRatio>0.351666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel21">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.0435897435897436</heightRatio>
      <left>165</left>
      <leftRatio>0.275</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.161137440758294</sizeRatio>
      <text>@用户名</text>
      <top>290</top>
      <topRatio>0.371794871794872</topRatio>
      <width>211</width>
      <widthRatio>0.351666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel69">
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>30</height>
      <heightRatio>0.0384615384615385</heightRatio>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <sizeRatio>0.0536672629695885</sizeRatio>
      <text>自我介绍</text>
      <top>327</top>
      <topRatio>0.419230769230769</topRatio>
      <vAlign>top</vAlign>
      <width>559</width>
      <widthRatio>0.931666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel72">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>39</height>
      <heightRatio>0.05</heightRatio>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <sizeRatio>0.0714285714285714</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>428</top>
      <topRatio>0.548717948717949</topRatio>
      <width>546</width>
      <widthRatio>0.91</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/layoutx6">
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0448717948717949</heightRatio>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <sizeRatio>0.0635208711433757</sizeRatio>
      <top>357</top>
      <topRatio>0.457692307692308</topRatio>
      <width>551</width>
      <widthRatio>0.918333333333333</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx6/layoutxitem11">
      <backgroundColor>f0f0f0</backgroundColor>
      <backgroundImg>link.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <heavy>10</heavy>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.7</sizeRatio>
      <top>0</top>
      <width>50</width>
      <widthRatio>0.0907441016333938</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx6/layoutxitem12">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontColor>1C94E0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>50</left>
      <leftRatio>0.0907441016333938</leftRatio>
      <onClick>window.open(sender.homePage);</onClick>
      <sizeRatio>0.0698602794411178</sizeRatio>
      <text>主页http://www.baidu.com</text>
      <top>0</top>
      <width>501</width>
      <widthRatio>0.909255898366606</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/layoutx7">
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0448717948717949</heightRatio>
      <left>20</left>
      <leftRatio>0.0333333333333333</leftRatio>
      <sizeRatio>0.0635208711433757</sizeRatio>
      <top>391</top>
      <topRatio>0.501282051282051</topRatio>
      <width>551</width>
      <widthRatio>0.918333333333333</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx7/layoutxitem13">
      <backgroundColor>f0f0f0</backgroundColor>
      <backgroundImg>date.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <heavy>10</heavy>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.7</sizeRatio>
      <top>0</top>
      <width>50</width>
      <widthRatio>0.0907441016333938</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/layoutx7/layoutxitem14">
      <backgroundColor>d0d0d0</backgroundColor>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>50</left>
      <leftRatio>0.0907441016333938</leftRatio>
      <sizeRatio>0.0698602794411178</sizeRatio>
      <text>2019年12月加入</text>
      <top>0</top>
      <width>501</width>
      <widthRatio>0.909255898366606</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel115">
      <backgroundImg>d4.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.0525641025641026</heightRatio>
      <left>373</left>
      <leftRatio>0.621666666666667</leftRatio>
      <onClick>g5.changeP2(6);
showChatList.defaultUserId = showUserPage.id;
showChatList.defaultUserNickName = showUserPage.nickName;
showChatList.defaultUserName = showUserPage.userName;
showChatList();</onClick>
      <sizeRatio>0.891304347826087</sizeRatio>
      <top>272</top>
      <topRatio>0.348717948717949</topRatio>
      <width>46</width>
      <widthRatio>0.0766666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel23">
      <backgroundImg>user.png</backgroundImg>
      <cursor>pointer</cursor>
      <height>135</height>
      <heightRatio>0.173076923076923</heightRatio>
      <left>21</left>
      <leftRatio>0.035</leftRatio>
      <onClick>g5.popBlack.a2.show([sender.v_photo], sender.v_photo);</onClick>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";
sender.init = function(photoString) {
    ee.setImage(this, "url:" + g5.imgUrl + photoString);
    this.v_photo = photoString;
}
</onCreate>
      <outerBottom>1</outerBottom>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <outerTop>1</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>170</top>
      <topRatio>0.217948717948718</topRatio>
      <width>135</width>
      <widthRatio>0.225</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel256">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0512820512820513</heightRatio>
      <left>426</left>
      <leftRatio>0.71</leftRatio>
      <onClick>if (sender.v_index==0) {
    //屏蔽
    g5.popBlack.a6.show(
        "取消屏蔽@"+showUserPage.userName+"？",
        "该用户将能关注并查看你的发言",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            blockUser.userId= showUserPage.id;
            blockUser.isBlock = 0;
            blockUser();
            blockUser.onComplete = function() {
                ee.getControl("panel256").init(1);
            }
        }
    );
} else if (sender.v_index==1) {
    //关注
    follow.follow = 1;
    follow.userId = showUserPage.id;
    follow.onComplete = function() {
        ee.getControl("panel256").init(2);
    }
    follow();
} else if (sender.v_index==2) {
    //正在关注
    g5.popBlack.a6.show(
        "取消关注@"+showUserPage.userName+"？",
        "他们的发言将不再出现在你的主页时间线上。你仍然可以查看他们的个人资料，除非他们的发言是受保护的。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff","")],
        function() {
            follow.follow = 0;
            follow.userId = showUserPage.id;
            follow.onComplete = function() {
                ee.getControl("panel256").init(1);
            }
            follow();
        }
    );
} else if (sender.v_index==3) {
    //编辑个人资料
    g5.popBlack.a8.show();
}
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","关注","关注","关注","#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new sender.BStyle("#1da1f2","#ca2055","#b31d4b","正在关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","编辑个人资料","编辑个人资料","编辑个人资料","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.289855072463768</sizeRatio>
      <text>主按钮</text>
      <top>272</top>
      <topRatio>0.348717948717949</topRatio>
      <width>138</width>
      <widthRatio>0.23</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>452</height>
      <heightRatio>0.57948717948718</heightRatio>
      <layerName><![CDATA[p2.p2.p0->屏蔽别人]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.753333333333333</sizeRatio>
      <top>373</top>
      <topRatio>0.478205128205128</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel252">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.00221238938053097</heightRatio>
      <left>0</left>
      <note>PLine1</note>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel253">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>34</height>
      <heightRatio>0.0752212389380531</heightRatio>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>@xxxxx已被屏蔽</text>
      <top>32</top>
      <topRatio>0.0707964601769911</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel254">
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0752212389380531</heightRatio>
      <left>0</left>
      <sizeRatio>0.0566666666666667</sizeRatio>
      <text>是否确定要查看这些发言？查看发言不会取消屏蔽 @xxxx。</text>
      <top>64</top>
      <topRatio>0.141592920353982</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel6/panel255">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.0884955752212389</heightRatio>
      <left>246</left>
      <leftRatio>0.41</leftRatio>
      <onClick><![CDATA[ee.setVisible(ee.getControl("panel6"), false);

var cy = sender.cy;
var i, item;
var root = ee.getControl("panel16"); 
var itemWidth = eb.getDivRect(root).w;
for (i=0; i< g5.datasetPageUser.rowCount; i++) {
    var item = createPanel(root, "puser_" + g5.datasetPageUser.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadTwitterRecord(item, g5.datasetPageUser, i);
    item.v_mode = "   x";
    g5.renderTwitter(item);
    g5.itemsPageUser.push(item);
    cy += 0 + eb.getDivRect(item).h;
    item.style.borderLeft="";    
    item.style.borderRight="";    
}
ee.setRect(root,null,null,null,cy);
eb.setDivRect(g5.p2,null,null,null,cy);
]]></onClick>
      <onCreate>sender.bgColor = "";
sender.bgColorHot = "#e8f5fe";
sender.bgColorDown = "#d2ecfc";

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(29, 161, 242)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";

ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.bgColor
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = sender.bgColorDown
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <sizeRatio>0.373831775700935</sizeRatio>
      <text>查看发言</text>
      <top>112</top>
      <topRatio>0.247787610619469</topRatio>
      <width>107</width>
      <widthRatio>0.178333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279">
      <dockX>fill</dockX>
      <height>374</height>
      <heightRatio>0.47948717948718</heightRatio>
      <left>0</left>
      <note>p2PersonSub,p2sub</note>
      <onCreate><![CDATA[sender.currentPageIndex = -1;
sender.button1 = ee.getControl("layoutxitem3");
sender.button2 = ee.getControl("layoutxitem4");
sender.button3 = ee.getControl("layoutxitem5");
sender.p1 = ee.getControl("panel282");
sender.p2 = ee.getControl("panel283");
sender.p3 = ee.getControl("panel284");
sender.buttonLine = ee.getControl("panel281");
sender.chat = ee.getControl("panel19");
sender.chatVideo = ee.getControl("panel264");
sender.changePage = function(pageIndex) {
    var rect,div;
    if (this.currentPageIndex == 1) {
        this.button1.init(0);
        ee.setVisible(this.p1, false);
        this.p1ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
        if (eb.isEmpty(this.p2ChatRect)) {
            this.p2ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
            this.p2ChatRect.h = 600;
        }
    } else if (this.currentPageIndex == 2) {
        this.button2.init(0);
        this.p2ChatRect = eb.getDivRect(this.p1.c_chat.c_chat);
        ee.setVisible(this.p2, false);
    } else if (this.currentPageIndex == 3) {
        this.button3.init(0);
        ee.setVisible(this.p3, false);
    }
    
    if (pageIndex == 1) {
        this.button1.init(1);
        this.button1.appendChild(this.buttonLine);
        if (eb.isEmpty(this.p1ChatRect)) {
            this.p1ChatRect = eb.getDivRectSetting(this.p1.c_chat.c_chat);
            this.p1ChatRect.h = 313;
        }
        ee.setRect(this.p1.c_chat.c_chat, null, this.p1ChatRect.y, null, this.p1ChatRect.h);
        ee.changeParent(this.chat, this.p1, 1);
        g5.p2PersonSub.chatVideo.init(showUserPage.chatRoomVideo, showUserPage.v_userInfo.id == g5.myUserInfo.id);
        this.chat.init();
        this.chat.c_buttons.c_buttons.showButton3(true);
        g5.tiledV(this.p1, 0);
        ee.setVisible(this.p1, true);
        g5.resizeV(this.p1, 4);
    } else if (pageIndex == 2) {
        this.button2.init(1);
        this.button2.appendChild(this.buttonLine);
        ee.setRect(this.p1.c_chat.c_chat, null, this.p2ChatRect.y, null, this.p2ChatRect.h);
        ee.changeParent(this.chat, this.p2, 1);
        g5.p2PersonSub.chatVideo.init(showUserPage.chatRoomVideo, showUserPage.id == g5.myUserInfo.id);
        this.chat.c_buttons.c_buttons.showButton3(false);
        g5.tiledV(this.p2,10,1,0);
        ee.setVisible(this.p2, true);
        g5.tiledResizeV(this.chat, 5);
        var ch = $g("divRoot").offsetHeight;
        var h = ch + eb.getDivRect(this).y + eb.getDivRect(this).h - eb.getDivRect(this.chat.c_chat).h - 51 - 8; 
        ee.setRect(this.parentNode,null,null,null,h);
        g5.resizeV(this.parentNode.parentNode, 1);
    } else if (pageIndex == 3) {
        g5.player.stop();
        this.button3.init(1);
        this.button3.appendChild(this.buttonLine);
        if (this.parentNode.p3Items.length<=0) {
            this.updateP3();
            ee.setVisible(this.p3, true);
        } else {
            ee.setVisible(this.p3, true);
            g5.resizeV(this.p3, 4);
        }
    }
    this.currentPageIndex = pageIndex;
    eb.processDock();    
}

sender.init = function() {
    this.currentPageIndex = -1;
    this.p2ChatRect = null;
    for (var i=0; i<this.parentNode.p3Items.length; i++) {
        ee.removeControl(this.parentNode.p3Items[i]);
    }
    this.parentNode.p3Items = new Array();
    this.v_p3PageIndex = 0;
    this.parentNode.v_p3Init = true;
}


sender.v_p3PageIndex = 0;
sender.v_p3PageSize = 10;
sender.updateP3 = function() {
    if (showUserPageP3.busy) return;
    this.parentNode.v_p3Init = false;
    showUserPageP3.userId = g5.p2.p2.v_userInfo.id;
    showUserPageP3.pageIndex = this.v_p3PageIndex; this.v_p3PageIndex++;
    showUserPageP3.pageSize = this.v_p3PageSize;
    showUserPageP3.onComplete = function(dataset) {
        var i, j, item;
        var root = sender.p3; 
        var itemWidth = eb.getDivRect(root).w;
        var cy = 0;
        if (sender.parentNode.p3Items.length>0) {
            var r = eb.getDivRect(sender.parentNode.p3Items[sender.parentNode.p3Items.length-1]);
            cy = r.y + r.h;
        }
        var item = null;
        for (i=0; i< dataset.rowCount; i++) {
            for (j=0; j<sender.parentNode.p3Items; j++) {
                if (sender.parentNode.p3Items[j].v_contentId == dataset.getData(0,i)) break;    
            }
            item = createPanel(root, "p2p2p3_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            item.v_mode = "   x";
            g5.renderTwitter(item);
            sender.parentNode.p3Items.push(item);
            cy += eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (item!=null) {
            var ch = $g("divRoot").offsetHeight;
            var h = cy + ch - eb.getDivRect(item).h - 51; 
            ee.setRect(root,null,null,null,h);
        } else if (sender.parentNode.p3Items.length<=0) {
            var ch = $g("divRoot").offsetHeight;
            var h = ch + eb.getDivRect(ee.getControl("layoutx2")).y - 51; 
            ee.setRect(root,null,null,null,h);
        }
        //g5.tiledV(root, 0, 0, 0);
        g5.resizeV(root.parentNode, 3);
    }
    showUserPageP3(); 
}

]]></onCreate>
      <sizeRatio>0.623333333333333</sizeRatio>
      <top>468</top>
      <topRatio>0.6</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2">
      <dockX>fill</dockX>
      <height>52</height>
      <heightRatio>0.13903743315508</heightRatio>
      <left>0</left>
      <note>题头按钮组</note>
      <onCreate>sender.style.boxSizing = "border-box";
sender.style.borderBottomWidth = "1px";
sender.style.borderBottomColor = "rgb(230,236,240)";
sender.style.borderBottomStyle = "solid";
</onCreate>
      <sizeRatio>0.0866666666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>g5.p2PersonSub.changePage(1);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","综合","综合","综合","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","综合","综合","综合","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>综合</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem3/panel281">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <sizeRatio>0.015</sizeRatio>
      <top>49</top>
      <topRatio>0.942307692307692</topRatio>
      <width>200</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem4">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <left>200</left>
      <leftRatio>0.333333333333333</leftRatio>
      <onClick>g5.p2PersonSub.changePage(2);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","聊天室","聊天室","聊天室","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","聊天室","聊天室","聊天室","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>聊天室</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/layoutx2/layoutxitem5">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <left>400</left>
      <leftRatio>0.666666666666667</leftRatio>
      <onClick>g5.p2PersonSub.changePage(3);</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","发言和回复","发言和回复","发言和回复","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","发言和回复","发言和回复","发言和回复","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.26</sizeRatio>
      <text>发言和回复</text>
      <top>0</top>
      <width>200</width>
      <widthRatio>0.333333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>304</height>
      <heightRatio>0.812834224598931</heightRatio>
      <layerName><![CDATA[p1->综合]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_titleChat = ee.getControl("panel263");
sender.c_video = ee.getControl("panel264");
sender.c_chat = ee.getControl("panel19");
sender.c_titleBlog = ee.getControl("panel73");


sender.v_pageIndex = 0;
sender.v_pageSize = 10;

sender.init = function() {
    this.v_pageIndex = 0;
}

sender.loadMore = function() {
    if (showUserPageLoadMore.busy) return;
    this.v_pageIndex++;
    showUserPageLoadMore.userId = g5.p2.p2.v_userInfo.id;
    showUserPageLoadMore.pageIndex = this.v_pageIndex;
    showUserPageLoadMore.pageSize = this.v_pageSize;
    showUserPageLoadMore.onComplete = function(dataset) {
        var i, j, item;
        var root = sender;
        var itemWidth = eb.getDivRect(root).w;
        var cy = 0;
        if (g5.p2.p2.p1Items.length>0) {
            var r = eb.getDivRect(g5.p2.p2.p1Items[g5.p2.p2.p1Items.length-1]);
            cy = r.y + r.h;
        }
        var item = null;
        for (i=0; i< dataset.rowCount; i++) {
            for (j=0; j<g5.p2.p2.p1Items.length; j++) {
                if (g5.p2.p2.p1Items[j].v_contentId == dataset.getData(0,i)) break;    
            }
            if (j<g5.p2.p2.p1Items.length) continue;
            item = createPanel(root, "puser_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, dataset, i);
            item.v_mode = "   x";
            g5.renderTwitter(item);
            g5.p2.p2.p1Items.push(item);
            cy += 0 + eb.getDivRect(item).h;
            item.style.borderLeft="";    
            item.style.borderRight="";    
        }
        if (item!=null) {
            var ch = $g("divRoot").offsetHeight;
            var h = cy + ch - eb.getDivRect(item).h - 51; 
            ee.setRect(root,null,null,null,h);
            g5.resizeV(root.parentNode, 3);
        }
    }
    showUserPageLoadMore();
}
]]></onCreate>
      <sizeRatio>0.506666666666667</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel263">
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>12</height>
      <heightRatio>0.0394736842105263</heightRatio>
      <left>17</left>
      <leftRatio>0.0283333333333333</leftRatio>
      <note><![CDATA[c_titleChat->聊天室题头]]></note>
      <sizeRatio>0.0213523131672598</sizeRatio>
      <top>4</top>
      <topRatio>0.0131578947368421</topRatio>
      <width>562</width>
      <widthRatio>0.936666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19">
      <backgroundColor>E0E0E0</backgroundColor>
      <height>241</height>
      <heightRatio>0.792763157894737</heightRatio>
      <left>22</left>
      <leftRatio>0.0366666666666667</leftRatio>
      <note><![CDATA[c_chat->个人页聊天]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "10px";

sender.c_buttons = ee.getControl("panel324");
sender.c_adminList = ee.getControl("layoutx5");
sender.c_blackList = ee.getControl("layoutx9");
sender.c_chat = ee.getControl("layouty2");

sender.init = function() {
    ee.setVisible(this.c_adminList, false);
    ee.setVisible(this.c_blackList, false);
    this.c_buttons.init();
    this.c_adminList.init();
    this.c_blackList.init();
    this.setSize("max");
    g5.tiledV(this,0,0,0);
}

sender.changeSize = function() {
    if (this.v_sizeMode == "min") {
        this.setSize("max");
    } else if (this.v_sizeMode == "max") {
        this.setSize("min");
    }
}
 
sender.setSize = function(sizeMode) {
    this.v_sizeMode = sizeMode;
    if (sizeMode == "min") {
        ee.setRect(this,null,null,null,eb.getDivRectSetting(this.c_buttons).h);
        ee.setVisible(this.c_buttons.c_buttons.eeChildren[0], false);
        ee.setVisible(this.c_buttons.c_buttons.eeChildren[1], false);
    } else if (sizeMode == "max") {
        this.c_buttons.init();
        g5.tiledV(this, 0);
    }
    g5.tiledResizeV(this.parentNode, 4);
}

sender.getAdminListVisible = function() {
    return this.c_adminList.style.visibility!="hidden";
}

sender.setAdminListVisible = function(visible) {
    ee.setVisible(this.c_adminList, visible);
    g5.tiledResizeV(this, 5);
}

sender.getBlackListVisible = function() {
    return this.c_blackList.style.visibility!="hidden";
}

sender.setBlackListVisible = function(visible) {
    ee.setVisible(this.c_blackList, visible);
    g5.tiledResizeV(this, 5);
}

sender.deleteAdmin = function(userInfo) {
    ee.getControl("panel257").show(
        "解除管理员",
        "是否解除 "+ userInfo.nickName +" @" + userInfo.userName + " 的管理员身份？解除管理员后该用户将不能履行您聊天室的管理职责。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","解除","确认解除","确认解除","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomAdmin.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomAdmin.userId = userInfo.id;
            chatRoomAdmin.operation = "DEL";
            chatRoomAdmin.onComplete = function() {
                sender.c_chat.c_chatRoot.setAdmin(userInfo.id, false);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_adminList.deleteUser(userInfo);
            }
            chatRoomAdmin();
        },
        function() {
        }
    );
}

sender.addAdmin = function(userInfo) {
    ee.getControl("panel257").show(
        "添加为管理员",
        "是否把 "+ userInfo.nickName +" @" + userInfo.userName + "添加升为管理员？该用户成为管理员后将能够帮助您管理此聊天室。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","添加","确定添加","确定添加","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomAdmin.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomAdmin.userId = userInfo.id;
            chatRoomAdmin.operation = "ADD";
            chatRoomAdmin.onComplete = function() {
                sender.c_chat.c_chatRoot.setAdmin(userInfo.id, true);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_adminList.appendUser(userInfo);
            }
            chatRoomAdmin();
        },
        function() {
        }
    );
}

sender.unblockUser = function(userInfo) {
    ee.getControl("panel257").show(
        "解除屏蔽",
        "是解除对 "+ userInfo.nickName +" @" + userInfo.userName + " 的屏蔽？解除屏蔽后，该用户可以在聊天室发言，同时历史发言也会被解除限制。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","解除","确定解除","确定解除","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomBlack.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomBlack.userId = userInfo.id;
            chatRoomBlack.operation = "DEL";
            chatRoomBlack.onComplete = function() {
                sender.c_chat.c_chatRoot.setBlack(userInfo.id, false);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_blackList.deleteUser(userInfo);
            }
            chatRoomBlack();
        },
        function() {
        }
    );    
}

sender.blockUser = function(userInfo) {
    ee.getControl("panel257").show(
        "屏蔽用户",
        "是否立即屏蔽（加入黑名单） "+ userInfo.nickName +" @" + userInfo.userName + " ？屏蔽完成后，该用户将不能发言，同时历史发言也会被屏蔽。",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","屏蔽","确认屏蔽","确认屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            chatRoomBlack.chatRoomId = showUserPage.defaultChatRoomId;
            chatRoomBlack.userId = userInfo.id;
            chatRoomBlack.operation = "ADD";
            chatRoomBlack.onComplete = function() {
                sender.c_chat.c_chatRoot.setBlack(userInfo.id, true);
                sender.c_chat.c_chatRoot.refreshContentAll();
                sender.c_blackList.appendUser(userInfo);
            }
            chatRoomBlack();
        },
        function() {
        }
    );
}
</onCreate>
      <sizeRatio>0.428825622775801</sizeRatio>
      <top>19</top>
      <topRatio>0.0625</topRatio>
      <width>562</width>
      <widthRatio>0.936666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324">
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>38</height>
      <heightRatio>0.157676348547718</heightRatio>
      <left>0</left>
      <note><![CDATA[c_buttons -> 按钮区域]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.c_buttons = ee.getControl("panel325");

sender.init = function() {
    this.c_buttons.init();
}
</onCreate>
      <sizeRatio>0.0676156583629893</sizeRatio>
      <text>    房主的聊天室</text>
      <top>0</top>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324/panel325">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>254</left>
      <leftRatio>0.451957295373665</leftRatio>
      <note><![CDATA[c_buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.button1 = ee.getControl("panel326");
sender.button2 = ee.getControl("panel328");
sender.button2_5 = ee.getControl("panel361");
sender.button3 = ee.getControl("panel327");

sender.init = function() {
    this.button1.init(0);
    this.button2.init(0);
    if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
        ee.setVisible(this.button1, true);
    } else {
        ee.setVisible(this.button1, false);
    }
    if ((showUserPage.v_userInfo.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) {
        ee.setVisible(this.button2, true);
    } else {
        ee.setVisible(this.button2, false);
    } 
    if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
        ee.setVisible(this.button2_5, true);
    } else {
        ee.setVisible(this.button2_5, false);
    }
    this.arrangeButton(10);
}

sender.showButton3 = function(visible) {
    ee.setVisible(this.button3, visible);
    this.arrangeButton(10);
}

sender.showButton2_5 = function(visible) {
    ee.setVisible(this.button2_5, visible);
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    var w = eb.getDivRectSetting(this.parentNode).w;
    ee.setRect(this,w-cx,null,cx,null);
}


]]></onCreate>
      <sizeRatio>0.123376623376623</sizeRatio>
      <top>0</top>
      <width>308</width>
      <widthRatio>0.548042704626335</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324/panel325/panel326">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <left>31</left>
      <leftRatio>0.100649350649351</leftRatio>
      <onClick>var visible = !g5.p2.p2.p2sub.p1.c_chat.getAdminListVisible();
g5.p2.p2.p2sub.p1.c_chat.setAdminListVisible(visible);
if (visible) {
    sender.init(1);
} else {
    sender.init(0);
}
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","管理员","管理员","管理员","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","管理员","管理员","管理员","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>管理员</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324/panel325/panel328">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <leftRatio>0.324675324675325</leftRatio>
      <onClick>var visible = !g5.p2.p2.p2sub.p1.c_chat.getBlackListVisible();
g5.p2.p2.p2sub.p1.c_chat.setBlackListVisible(visible);
if (visible) {
    sender.init(1);
} else {
    sender.init(0);
}</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","黑名单","黑名单","黑名单","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","黑名单","黑名单","黑名单","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>黑名单</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324/panel325/panel361">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>28</height>
      <heightRatio>0.736842105263158</heightRatio>
      <left>167</left>
      <leftRatio>0.542207792207792</leftRatio>
      <onClick>g5.popBlack2.a1.show(function(ytbVideo) {
    setChatRoomVideo.videoUrl = ytbVideo;
    setChatRoomVideo.onComplete = function() {
        showUserPage.chatRoomVideo = setChatRoomVideo.videoUrl;
        g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
    }
    setChatRoomVideo();
});






</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","置顶视频","置顶视频","置顶视频","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.411764705882353</sizeRatio>
      <text>置顶视频</text>
      <top>5</top>
      <topRatio>0.131578947368421</topRatio>
      <width>68</width>
      <widthRatio>0.220779220779221</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel324/panel325/panel327">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>249</left>
      <leftRatio>0.808441558441558</leftRatio>
      <onClick>g5.p2.p2.p2sub.p1.c_chat.changeSize();
</onClick>
      <sizeRatio>1.02702702702703</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.12012987012987</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel264">
      <backgroundColor>F2F2FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>59</height>
      <heightRatio>0.244813278008299</heightRatio>
      <left>0</left>
      <note><![CDATA[c_video->推荐视频]]></note>
      <onCreate><![CDATA[sender.c_button = ee.getControl("panel286");
sender.c_photo = ee.getControl("panel287");
this.style.boxSizing="border-box";
this.style.borderWidth = "0px 0px 1px 0px";
this.style.borderColor = "rgb(230,236,240)";
this.style.borderStyle = "solid";

sender.init = function(videoUrl, isOwner) {
    ee.setVisible(this, true);
    if (videoUrl.length<=0) {
        if (isOwner) {
            ee.setVisible(this.c_photo, false);
            //this.c_button.init(0);
            g5.p2.p2.p2sub.p1.c_chat.c_buttons.c_buttons.showButton2_5(true);
            //g5.tiledV(this, 0);
        } else {
            g5.p2.p2.p2sub.p1.c_chat.c_buttons.c_buttons.showButton2_5(false);
        }
        ee.setVisible(this, false);
    } else {
        ee.setVisible(this.c_photo, true);
        ee.setRect(this.c_photo,null,null,null,parseInt(eb.getDivRectSetting(this.c_photo).w*0.563));
        var root = this.c_photo;
        var rect = eb.getDivRectSetting(root);
        root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
        root.v_photo = videoUrl;
        root.parentNode.c_player = new YT.Player(root.id + "_ytb", {
            height: rect.h,
            width: rect.w,
            videoId: root.v_photo.substr(4, root.v_photo.length),
            events: {
                "onReady": function(event) {
                    event.target.mute();
                },
                "onStateChange": function(event) {
                    if (event.data == YT.PlayerState.PLAYING) {
                        if (event.target!=g5.player.currentPlayer) {
                            g5.player.stop();
                            g5.player.forceMode = true;
                            g5.player.currentPlayer=event.target;
                        }
                    }
                }
            }
        });
        this.c_photo.c_player = root.parentNode.c_player;
            
        ee.setVisible(this.c_button, false);
        g5.tiledV(this, 10,0,1);
        if (isOwner) {
            ee.setVisible(this.c_button, true);
            this.c_button.init(1);
        } else {
            ee.setVisible(this.c_button, false);
        }
    }
}

]]></onCreate>
      <sizeRatio>0.104982206405694</sizeRatio>
      <top>35</top>
      <topRatio>0.145228215767635</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel264/panel287">
      <dockX>fill</dockX>
      <height>36</height>
      <heightRatio>0.610169491525424</heightRatio>
      <left>0</left>
      <sizeRatio>0.0640569395017794</sizeRatio>
      <top>0</top>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/panel264/panel286">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.491525423728814</heightRatio>
      <left>459</left>
      <leftRatio>0.816725978647687</leftRatio>
      <onClick><![CDATA[if (sender.v_index==0) {
    var url = prompt("请输入播放地址：", "");
    if (url == null) return;
    if (url.length<=0) return;
    ytbVideo = "";
    var pos;
    if ((pos=url.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
        ytbVideo = url.substr(pos + "youtube.com/watch?v=".length, url.length);
    } else if ((pos=url.toLowerCase().indexOf("youtu.be/",0))>0) {
        ytbVideo = url.substr(pos + "youtu.be/".length, url.length);
    } else {
        g5.alert1("提示", "您输入的视频地址不正确");
        return;
    }
    if ((ytbVideo.length<=8)||(ytbVideo.length>=14)) {
        g5.alert1("提示", "您输入的视频地址不正确");
        return;
    }
    ytbVideo = "?YTB" + ytbVideo;
    setChatRoomVideo.videoUrl = ytbVideo;
    setChatRoomVideo.onComplete = function() {
        showUserPage.chatRoomVideo = setChatRoomVideo.videoUrl;
        g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
    }
    setChatRoomVideo();
} else if (sender.v_index==1) {
    ee.getControl("panel257").show(
        "删除视频",
        "该操作将会使所有的用户无法看到您的置顶视频，您是否确定删除？",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            setChatRoomVideo.videoUrl = "";
            setChatRoomVideo.onComplete = function() {
                showUserPage.chatRoomVideo = "";
                g5.p2PersonSub.changePage(g5.p2PersonSub.currentPageIndex);
            }
            setChatRoomVideo();
        }
    );
}
]]></onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","置顶视频","置顶视频","置顶视频","#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","删除","删除","删除","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.325842696629214</sizeRatio>
      <text>主按钮</text>
      <top>10</top>
      <topRatio>0.169491525423729</topRatio>
      <width>89</width>
      <widthRatio>0.158362989323843</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>47</height>
      <heightRatio>0.195020746887967</heightRatio>
      <left>0</left>
      <note><![CDATA[c_adminList->管理员列表]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderTop = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var root = ee.getControl("layoutxitem10");
    var cy = 0;
    if (!eb.isEmpty(showUserPage.chatRoomAdminList)) {
        var i, item;
        var itemWidth = eb.getDivRectSetting(root).w;
        for (i=0; i< showUserPage.chatRoomAdminList.rowCount; i++) {
            var item = createPanel(root, "admlst_" + showUserPage.chatRoomAdminList.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.chatRoomAdminList, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 7);
        ee.setRect(ee.getControl("layoutxitem17"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty12").init(root);
    }
    if (this.v_items.length<=0) {
        ee.setText(root, "您还没有添加任何管理员");
    } else {
        ee.setText(root, " ");
    }
} 

sender.arrange = function(div, ySpace, xCount) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var xSpace = eb.getDivRectSetting(div).w;
    xSpace = parseInt((xSpace - xCount*rect.w)/(3+xCount));
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], xSpace*2 + (i%xCount)*(rect.w+xSpace), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.deleteUser = function(userInfo) {
    var dat = showUserPage.chatRoomAdminList;
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    g5.tiledResizeV(this.parentNode,5);
}

sender.appendUser = function(userInfo) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.chatRoomAdminList.rowCount; i++) {
        var a = parseInt(showUserPage.chatRoomAdminList.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.chatRoomAdminList.rowCount;
    showUserPage.chatRoomAdminList.setRowCount(showUserPage.chatRoomAdminList.rowCount + 1);
    showUserPage.chatRoomAdminList.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.chatRoomAdminList, 2, idx);
    this.init();
    g5.tiledResizeV(this.parentNode,5);
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_vipRegDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        if (sender.c_photo.v_timer!=null) {
            clearTimeout(sender.c_photo.v_timer);
            sender.c_photo.v_timer = null;
        }
        getUserInfo2.busy = false;
        g5.p2.p2.p2sub.p1.c_chat.deleteAdmin(root.v_userInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "d68400", "bold");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.0836298932384342</sizeRatio>
      <top>70</top>
      <topRatio>0.29045643153527</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem10">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>B4B4B4</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.0852994555353902</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>551</width>
      <widthRatio>0.980427046263345</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <left>551</left>
      <leftRatio>0.980427046263345</leftRatio>
      <sizeRatio>4.27272727272727</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0195729537366548</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>47</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>4.7</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem27">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.319148936170213</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem27/panel329">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem28">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>17</height>
      <heightRatio>0.361702127659574</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>15</top>
      <topRatio>0.319148936170213</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem28/panel330">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.352941176470588</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem29">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.319148936170213</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>32</top>
      <topRatio>0.680851063829787</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx5/layoutxitem17/layouty12/layoutyitem29/panel331">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>42</height>
      <heightRatio>0.174273858921162</heightRatio>
      <left>0</left>
      <note><![CDATA[c_blackList->黑名单]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderTop = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var root = ee.getControl("layoutxitem18");
    if (!eb.isEmpty(showUserPage.chatRoomBlackList)) {
        var i, item;
        var itemWidth = eb.getDivRectSetting(root).w;
        var cy = 0;
        for (i=0; i< showUserPage.chatRoomBlackList.rowCount; i++) {
            var item = createPanel(root, "blklst_" + showUserPage.chatRoomBlackList.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.chatRoomBlackList, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 7);
        ee.setRect(ee.getControl("layoutxitem19"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty13").init(root);
    }
    if (this.v_items.length<=0) {
        ee.setText(root, "暂无黑名单用户");
    } else {
        ee.setText(root, " ");
    }
} 

sender.arrange = function(div, ySpace, xCount) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var xSpace = eb.getDivRectSetting(div).w;
    xSpace = parseInt((xSpace - xCount*rect.w)/(3+xCount));
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], xSpace*2 + (i%xCount)*(rect.w+xSpace), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.deleteUser = function(userInfo) {
    var dat = showUserPage.chatRoomBlackList
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    g5.tiledResizeV(this.parentNode,5);
}

sender.appendUser = function(userInfo) {
    for (var i=0; i<showUserPage.chatRoomBlackList.rowCount; i++) {
        if (userInfo.id==showUserPage.chatRoomBlackList.getData(2,i)) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.chatRoomBlackList.rowCount; i++) {
        var a = parseInt(showUserPage.chatRoomBlackList.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.chatRoomBlackList.rowCount;
    showUserPage.chatRoomBlackList.setRowCount(showUserPage.chatRoomBlackList.rowCount + 1);
    showUserPage.chatRoomBlackList.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.chatRoomBlackList, 2, idx);
    this.init();
    g5.tiledResizeV(this.parentNode,5);
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_vipRegDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        if (sender.c_photo.v_timer!=null) {
            clearTimeout(sender.c_photo.v_timer);
            sender.c_photo.v_timer = null;
        }
        getUserInfo2.busy = false;
        g5.p2.p2.p2sub.p1.c_chat.unblockUser(root.v_userInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.0747330960854092</sizeRatio>
      <top>110</top>
      <topRatio>0.45643153526971</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem18">
      <backgroundColor>f0f0f0</backgroundColor>
      <fontColor>B4B4B4</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.0762250453720508</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>551</width>
      <widthRatio>0.980427046263345</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <left>551</left>
      <leftRatio>0.980427046263345</leftRatio>
      <sizeRatio>3.81818181818182</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0195729537366548</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>42</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>4.2</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem30">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.357142857142857</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem30/panel332">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem31">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>12</height>
      <heightRatio>0.285714285714286</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>1.2</sizeRatio>
      <top>15</top>
      <topRatio>0.357142857142857</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem31/panel333">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>1.41666666666667</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.5</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem32">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.357142857142857</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>27</top>
      <topRatio>0.642857142857143</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layoutx9/layoutxitem19/layouty13/layoutyitem32/panel334">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>80</height>
      <heightRatio>0.33195020746888</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chat->聊天区域]]></note>
      <onCreate>sender.c_chatRoot = ee.getControl("layoutxitem1");
</onCreate>
      <sizeRatio>0.142348754448399</sizeRatio>
      <top>157</top>
      <topRatio>0.651452282157676</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>29</height>
      <heightRatio>0.3625</heightRatio>
      <left>0</left>
      <sizeRatio>0.0516014234875445</sizeRatio>
      <top>0</top>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.0516014234875445</sizeRatio>
      <top>0</top>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem1">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chatRoot->聊天root]]></note>
      <onCreate><![CDATA[sender.minRefreshTime = 3000;
sender.maxRefreshTime = 50000;
sender.running = false;
sender.start = function(roomId) {
    if (this.v_roomId == roomId) {
        this.clearTimer();
        if (showUserPage.isChatRoomPubBlack) return;
        this.v_tfId = setInterval(function() {
            sender.timeFragment();    
        }, 500);
        this.running = true;
        return;
    }
    this.v_roomId = roomId;
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    ee.getControl("layouty8").init(sender);
    this.clearTimer();
    if (showUserPage.isChatRoomPubBlack) return;
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    this.refresh();        
}
sender.stop = function() {
    this.clearTimer();
    this.running = false;
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_chatStatus = dataset.getData(2,index);
    panel.v_roomId = dataset.getData(3,index);
    panel.v_msgContent = dataset.getData(4,index);
    panel.v_isAdmin = dataset.getData(5,index) == "1";
    panel.v_isBlack = dataset.getData(6,index) == "1";
    panel.v_isBlockTime = dataset.getData(7,index) == "1";
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 8, index);
    panel.v_isOwner = panel.v_userInfo.id == showUserPage.id;
}
sender.refresh = function(force) {
    if (!chatGet.busy) {
        chatGet.roomId = this.v_roomId;
        chatGet.chatId = this.v_lastChatId;
        chatGet.isNew = 1;
        chatGet.my = this;
        chatGet.onComplete = function(dataset) {
            var cy = 0;
            var root = chatGet.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                var item = createPanel(root, "dfcr_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                root.loadData(item, dataset, i);
                if ((root.v_items.length==0) &amp;&amp; (i==dataset.rowCount-1)) {
                    root.v_firstChatId = item.v_id;
                }
                if (item.v_chatStatus == "CMD") {
                    if (!root.firstRun) {
                        if (item.v_msgContent == "AdmAdd") {
                            root.setAdmin(item.v_userInfo.id, true);
                            g5.p2.p2.p2sub.p1.c_chat.c_adminList.appendUser(item.v_userInfo);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                showUserPage.isChatRoomPubAdmin = true;
                                g5.p2.p2.p2sub.p1.c_chat.c_buttons.init();
                            }
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "AdmDel") {
                            root.setAdmin(item.v_userInfo.id, false);
                            g5.p2.p2.p2sub.p1.c_chat.c_adminList.deleteUser(item.v_userInfo);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                showUserPage.isChatRoomPubAdmin = false;
                                g5.p2.p2.p2sub.p1.c_chat.c_buttons.init();
                                if (g5.p2.p2.p2sub.p1.c_chat.getBlackListVisible()) {
                                    g5.p2.p2.p2sub.p1.c_chat.setBlackListVisible(false);
                                }
                            }
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "MsgDel") {
                            for (var j = 0; j<root.v_items.length; j++) {
                                if (root.v_items[j].v_id == item.v_userInfo.id) {
                                    root.v_items[j].v_chatStatus = "DEL";
                                    root.v_items[j].v_mode = 0;
                                    root.refreshContent(root.v_items[j], true);
                                }
                            }
                        } else if (item.v_msgContent == "MsgUndel") {
                            for (var j = 0; j<root.v_items.length; j++) {
                                if (root.v_items[j].v_id == item.v_userInfo.id) {
                                    root.v_items[j].v_chatStatus = "IDL";
                                    root.v_items[j].v_mode = 0;
                                    root.refreshContent(root.v_items[j], true);
                                }
                            }
                        } else if (item.v_msgContent == "BlackAdd") {
                            root.setBlack(item.v_userInfo.id, true);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.stop();
                                showUserPage.isChatRoomPubBlack = true;
                                g5.alert1("提示", "很遗憾，您已经被本聊天室屏蔽。您将不能在本聊天室发言，同时您也不能看到本聊天室的任何发言。");
                            }
                            g5.p2.p2.p2sub.p1.c_chat.c_blackList.appendUser(item.v_userInfo);
                            root.refreshContentAll();
                        } else if (item.v_msgContent == "BlackDel") {
                            root.setBlack(item.v_userInfo.id, false);
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.start(showUserPage.defaultChatRoomId);
                                showUserPage.isChatRoomPubBlack = false;
                            }
                            g5.p2.p2.p2sub.p1.c_chat.c_blackList.deleteUser(item.v_userInfo);
                            root.refreshContentAll();
                        }
                    }
                    root.v_lastChatId = item.v_id;
                    ee.removeControl(item);
                    continue;
                }
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
            }
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGet();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.refreshContent = function(root, resize) {
    var c = root.c_content;
    var user = g5.showCommonText(root.v_userInfo.nickName);
    if (root.v_chatStatus == "SYS") {
        user = "<font color='#a0a0a0'><b> 系统提示 </b></font>";;    
    } else if (root.v_userInfo.id == showUserPage.id) {
        user = "<span style='background-color:#fcd801;border-radius:3px;font-weight:bold;color:#6e6e6e'> " + user + " </span>";    
    } else if (root.v_isAdmin) {
        user = "<span style='background-color:#48ccfe;border-radius:3px;font-weight:bold;color:#4e4e4e'> " + user + " </span>";  
    } else {
        user = "<font color='#6f6f6f'><b>" + user + "</b></font>";
    }
    if (root.v_chatStatus == "SYS") {
        ee.setRect(c,null,null,null,10);
        ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
            " <font color='#a0a0a0'>" + g5.showCommonText(root.v_msgContent) + "</font>");
        eb.processDock();
        var rect = eb.getDivRect(c.label);
        ee.setRect(c, null, null, null, rect.h);
    } else if (root.v_isBlack) {
        if ((showUserPage.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin)) {
            ee.setRect(c,null,null,null,0);
        } else if (root.v_mode == 0) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#D05050 id='" + c.id + "blk'><b>&amp;lt;该用户被屏蔽,点击查看原留言&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"blk");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 1;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        } else if (root.v_mode == 1) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#a0a0a0>" + g5.showCommonText(root.v_msgContent) + "</font>" +
                " <font color=#D05050 id='" + c.id + "blk'><b>&amp;lt;该用户被屏蔽,点击隐藏留言&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"blk");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 0;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        }
    } else if (root.v_chatStatus == "DEL") {
        if ((showUserPage.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            ee.setRect(c,null,null,null,0);
        } else if (root.v_mode == 0) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#D05050 id='" + c.id + "del'><b>&amp;lt;该聊天记录已删除,点击查看&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"del");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 1;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        } else if (root.v_mode == 1) {
            ee.setRect(c,null,null,null,10);
            ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " + user +
                " <font color=#a0a0a0>" + g5.showCommonText(root.v_msgContent) + "</font>" +
                " <font color=#D05050 id='" + c.id + "del'><b>&amp;lt;已删除,点击隐藏&amp;gt;</b></font>");
            eb.processDock();
            var rect = eb.getDivRect(c.label);
            ee.setRect(c, null, null, null, rect.h);
            c = $g(c.id+"del");
            c.style.cursor = "pointer";
            ee.setOnClick(c, function(sender, event) {
                root.v_mode = 0;
                root.parentNode.refreshContent(root, true);
            });
            ee.setOnMouseEnter(c,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(c,function(sender,e){
                sender.style.textDecoration="";
            });
            eb.initMouseEvent(c);
        }
    } else if (root.v_chatStatus == "IDL") {
        ee.setRect(c,null,null,null,10);
        ee.setText(c, "<font color='#6e6e6e' style='font-family:Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime) + "</font> " +
            user +
            " " + g5.showCommonText(root.v_msgContent));
        eb.processDock();
        var rect = eb.getDivRect(c.label);
        ee.setRect(c, null, null, null, rect.h);
    }
    
    var rect = eb.getDivRectSetting(root.c_content);
    var cy = rect.y + rect.h + 2;
    cy = Math.max(25+4,cy);
    if (rect.h == 0) {
        ee.setRect(root, null,null,null,0);
    } else {
        ee.setRect(root, null,null,null,cy);
    }
    
    if (resize) {
        cy = 0;
        for (var i = 0; i < this.v_items.length; i++) {
            if (this.v_items[i].style.visibility == "hidden") continue;
            ee.setRect(this.v_items[i], null, cy, null, null);
            rect = eb.getDivRectSetting(this.v_items[i]);
            cy += rect.h;
        }
    }
}

sender.refreshContentAll = function() {
    for (var i=0; i<this.v_items.length; i++) {
        this.refreshContent(this.v_items[i], false);
    }
    var cy = 0;
    for (var i = 0; i < this.v_items.length; i++) {
        if (this.v_items[i].style.visibility == "hidden") continue;
        ee.setRect(this.v_items[i], null, cy, null, null);
        rect = eb.getDivRectSetting(this.v_items[i]);
        cy += rect.h;
    }
}

sender.setAdmin = function(userId, isAdmin) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isAdmin = isAdmin;
    }
}

sender.setBlack = function(userId, isBlack) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isBlack = isBlack
    }
}

sender.setBlockTime = function(userId, isBlockTime) {
    for (var i=0; i<this.v_items.length; i++) {
        if (this.v_items[i].v_userInfo.id != userId) continue;
        this.v_items[i].v_isBlockTime = isBlockTime;
    }
}

sender.renderMsg = function(root) {
    var c,rect;
    var cy = 2;
    var mainWidth = eb.getDivRect(root).w;
    //photo
    if (root.v_chatStatus != "SYS") {
        c = createPanel(root, root.id+"_img", "", 24, cy, 25, 25);
        c.style.cursor = "pointer";
        c.style.borderRadius = "50%";
        if (root.v_userInfo.photo == "") {
            ee.setImage(c,"/twitterG/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
        }
        c.v_timer = null;
        root.c_photo = c;
        ee.setOnClick(c, function(sender, event) {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        });
        ee.setOnMouseEnter(c, function(sender,e) {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        });
        ee.setOnMouseLeave(c, function(sender,e) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        });
    }
    //message
    var msgY = cy;
    if (root.v_chatStatus == "SYS") {
        c = createPanel(root, root.id+"_msg", "", 24, cy, mainWidth-24, 10);
    } else {
        c = createPanel(root, root.id+"_msg", "", 55, cy, mainWidth-55-24, 10);
    }
    root.c_content = c;
    addText(c, "<font color='#6e6e6e' style='font-family:宋体,Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime)+ " " + g5.showCommonText(root.v_userInfo.nickName) + "</font> " + root.v_msgContent, "left", "top", "微软雅黑", 9, "000000", "normal");
    c.label.style.wordBreak = "break-all";
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    root.v_mode = 0;
    root.parentNode.refreshContent(root, false);
    
    //button
    rect = eb.getDivRectSetting(root.c_content);
    c = createPanel(root, root.id+"_btn", "", mainWidth - 24, rect.y, 20,20);
    root.c_button = c;
    c.style.cursor = "pointer";
    c.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","…","…","…","#404040","#404040","#404040","")
    ];
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    }
    ee.setOnClick(c,function(sender,event) {
        var style = new Array();
        var onClick = new Array();
        //delete
        if ((showUserPage.id == g5.myUserInfo.id) || 
            (showUserPage.isChatRoomPubAdmin &amp;&amp; !root.v_isAdmin) || 
            (root.v_userInfo.id == g5.myUserInfo.id)) {
            if (root.v_chatStatus == "IDL") {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","删除聊天记录","删除聊天记录","删除聊天记录","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        ee.getControl("panel257").show(
                            "删除聊天记录",
                            "是否删除此聊天记录？删除后，其他用户（管理员和房主除外）将无法看到此聊天记录。",
                            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
                            function() {
                                chatRoomRecdDelete.chatRoomId = showUserPage.defaultChatRoomId;
                                chatRoomRecdDelete.chatId = root.v_id;
                                chatRoomRecdDelete.onComplete = function() {
                                    root.v_chatStatus = "DEL";
                                    root.v_mode = 0;
                                    root.parentNode.refreshContent(root, true);
                                }
                                chatRoomRecdDelete();
                            },
                            function() {
                            }
                        );
                    },
                );
            } else if (root.v_chatStatus == "DEL") {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","恢复聊天记录","恢复聊天记录","恢复聊天记录","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        ee.getControl("panel257").show(
                            "恢复聊天记录",
                            "是否恢复此聊天记录？恢复后，其他用户将能重新看到此天记录。",
                            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","恢复","确定恢复","确定恢复","#ffffff","#ffffff","#ffffff","")],
                            function() {
                                chatRoomRecdUndel.chatRoomId = showUserPage.defaultChatRoomId;
                                chatRoomRecdUndel.chatId = root.v_id;
                                chatRoomRecdUndel.onComplete = function() {
                                    root.v_chatStatus = "IDL";
                                    root.parentNode.refreshContent(root, true);
                                }
                                chatRoomRecdUndel();
                            },
                            function() {
                            }
                        );
                    },
                );
            }
        }
        //admin
        if ((showUserPage.id == g5.myUserInfo.id) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isBlack)) {
            if (root.v_isAdmin) {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","解除管理员","解除管理员","解除管理员","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.deleteAdmin(root.v_userInfo);
                    },
                );
            } else {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","添加管理员","添加管理员","添加管理员","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.addAdmin(root.v_userInfo);
                    },
                );
            }
        }
        //blacklist
        if (((showUserPage.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            if (root.v_isBlack) {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","解除屏蔽","解除屏蔽","解除屏蔽","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.unblockUser(root.v_userInfo);
                    },
                );
            } else if (root.v_isAdmin) {
            } else {
                style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","屏蔽用户","屏蔽用户","屏蔽用户","#404040","#404040","#404040",""));
                onClick.push(
                    function (sender, event) {
                        g5.p2.p2.p2sub.p1.c_chat.blockUser(root.v_userInfo);
                    },
                );
            }
        }
        //blocktime
        if (((showUserPage.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp;
            (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isAdmin) &amp;&amp; (!root.v_isBlack) &amp;&amp; (!root.v_isBlockTime)) {
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","禁言5分钟","禁言5分钟","禁言5分钟","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    ee.getControl("panel257").show(
                        "禁止用户发言",
                        "是否禁止<b>" + root.v_userInfo.nickName + "</b>发言5分钟？禁言期间用户不可以发言，但可以观看聊天室的内容。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","禁言","确定禁言","确定禁言","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTime.seconds = 5*60;
                            chatRoomBlockTime.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTime.userId = root.v_userInfo.id;
                            chatRoomBlockTime.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, true);
                            }
                            chatRoomBlockTime();
                        },
                        function() {
                        }
                    );
                },
            );
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","禁言1小时","禁言1小时","禁言1小时","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    ee.getControl("panel257").show(
                        "禁止用户发言",
                        "是否禁止<b>" + root.v_userInfo.nickName + "</b>发言1小时？禁言期间用户不可以发言，但可以观看聊天室的内容。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","禁言","确定禁言","确定禁言","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTime.seconds = 1*60*60;
                            chatRoomBlockTime.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTime.userId = root.v_userInfo.id;
                            chatRoomBlockTime.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, true);
                            }
                            chatRoomBlockTime();
                        },
                        function() {
                        }
                    );
                },
            );
        }
        //unblock
        if (((showUserPage.id == g5.myUserInfo.id) || (showUserPage.isChatRoomPubAdmin)) &amp;&amp;
            (root.v_userInfo.id != g5.myUserInfo.id) &amp;&amp; (!root.v_isAdmin) &amp;&amp; (!root.v_isBlack) &amp;&amp; (root.v_isBlockTime)) {
            style.push(new g5.BStyle("","#e8f5fe","#d2ecfc","取消禁言","取消禁言","取消禁言","#404040","#404040","#404040",""));
            onClick.push(
                function (sender, event) {
                    ee.getControl("panel257").show(
                        "取消禁言",
                        "是否立即取消对<b>" + root.v_userInfo.nickName + "</b>的禁止发言状态？如果先前对该用户进行过禁言则会立即恢复。",
                        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
                        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
                        function() {
                            chatRoomBlockTimeDelete.chatRoomId = showUserPage.defaultChatRoomId;
                            chatRoomBlockTimeDelete.userId = root.v_userInfo.id;
                            chatRoomBlockTimeDelete.onComplete = function() {
                                root.parentNode.setBlockTime(root.v_userInfo.id, false);
                            }
                            chatRoomBlockTimeDelete();
                        },
                        function() {
                        }
                    );
                },
            );
        }
        if (style.length<=0) return;
        if (root.v_isOwner &amp;&amp; (showUserPage.id != g5.myUserInfo.id)) return;
        g5.popup1.p4.show(sender, 170, style, onClick);
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    c.init(0);
    ee.setVisible(c, false);
    ee.setOnMouseEnter(root, function(sender,event) { 
        var visible = true;
        if ((showUserPage.id != g5.myUserInfo.id) &amp;&amp; (!showUserPage.isChatRoomPubAdmin) &amp;&amp; (root.v_userInfo.id != g5.myUserInfo.id)) {
            visible = false;
        };
        if (root.v_chatStatus == "SYS") {
            visible = false;
        }
        if (!visible) return;
        ee.setVisible(sender.c_button, true);
    });
    ee.setOnMouseLeave(root, function(sender,event) { 
        ee.setVisible(sender.c_button, false);
    });

}

sender.displayTime = function(time) {
    return (
        //(time.getMonth()+1) + "月" +
        //time.getDate() + "日 " +
        (time.getHours()<10?"0":"") + time.getHours() + ":" +
        (time.getMinutes()<10?"0":"") + time.getMinutes()
    );
}


sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGet.busy) return;
    
    sender.v_nohis = false;
    chatGet.roomId = sender.v_roomId;
    chatGet.chatId = sender.v_firstChatId;
    chatGet.isNew = 0;
    chatGet.my = sender;
    chatGet.onComplete = function(dataset) {
        var cy = 0;
        var root = chatGet.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "dftcr_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            root.v_firstChatId = item.v_id;
            if (item.v_chatStatus == "CMD") {
                ee.removeControl(item);
                continue;
            }
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    chatGet();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}














]]></onCreate>
      <sizeRatio>0.0526315789473684</sizeRatio>
      <top>0</top>
      <width>551</width>
      <widthRatio>0.980427046263345</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>551</left>
      <leftRatio>0.980427046263345</leftRatio>
      <sizeRatio>2.63636363636364</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0195729537366548</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>2.9</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem16">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>28</height>
      <heightRatio>0.96551724137931</heightRatio>
      <left>0</left>
      <sizeRatio>2.8</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem16/panel275">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>28</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.8</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem17">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>-28</height>
      <heightRatio>-0.96551724137931</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>-2.8</sizeRatio>
      <top>28</top>
      <topRatio>0.96551724137931</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem17/panel276">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>-0.607142857142857</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>-0.214285714285714</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem18">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>2.9</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem3/layoutx1/layoutxitem2/layouty8/layoutyitem18/panel277">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.9</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem4">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavyEnabled>false</heavyEnabled>
      <height>51</height>
      <heightRatio>0.6375</heightRatio>
      <left>0</left>
      <note>功能区root</note>
      <sizeRatio>0.0907473309608541</sizeRatio>
      <top>29</top>
      <topRatio>0.3625</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem4/panel265">
      <backgroundColor>E6ECF0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0196078431372549</heightRatio>
      <left>0</left>
      <sizeRatio>0.00177935943060498</sizeRatio>
      <top>0</top>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem4/edit11">
      <backgroundSkin>edit1</backgroundSkin>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <left>10</left>
      <leftRatio>0.0177935943060498</leftRatio>
      <multiLine>true</multiLine>
      <onChange>var edit = sender.parentNode;
var text = ee.getEditText(edit);
edit.setText(text);
</onChange>
      <onCreate><![CDATA[sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem4"));
    ee.setRect(ee.getControl("layoutyitem4"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem3"));
    ee.setRect(ee.getControl("layoutyitem3"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        if (showUserPage.isChatRoomPubBlack) {
            g5.alert1("提示", "对不起，您已经被本聊天室屏蔽，您将不能在本聊天室发言");
            event.preventDefault();
            return false;
        }
        var msgContent = ee.getEditText(ee.getControl("edit11")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        if (msgContent.length>200) msgContent = msgContent.substr(0,200);
        
        sender.setText("");
        chatSend.roomId = showUserPage.defaultChatRoomId;
        chatSend.msgContent = msgContent;
        chatSend.onComplete = function() {
            ee.getControl("layoutxitem1").refresh(true);
        }
        chatSend();        
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <sizeRatio>0.0583501006036217</sizeRatio>
      <text>有什么想说的？</text>
      <top>11</top>
      <topRatio>0.215686274509804</topRatio>
      <width>497</width>
      <widthRatio>0.884341637010676</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel19/layouty2/layoutyitem4/panel266">
      <cursor>pointer</cursor>
      <height>37</height>
      <heightRatio>0.725490196078431</heightRatio>
      <left>515</left>
      <leftRatio>0.916370106761566</leftRatio>
      <onClick><![CDATA[if (showUserPage.isChatRoomPubBlack) {
    g5.alert1("提示", "对不起，您已经被本聊天室屏蔽，您将不能在本聊天室发言");
    return;
}
var msgContent = ee.getEditText(ee.getControl("edit11")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
if (msgContent.length>200) msgContent = msgContent.substr(0,200);

ee.getControl("edit11").setText("");
chatSend.roomId = showUserPage.defaultChatRoomId;
chatSend.msgContent = msgContent;
chatSend.onComplete = function() {
    ee.getControl("layoutxitem1").refresh(true);
}
chatSend();

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <sizeRatio>1</sizeRatio>
      <text>发送</text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>37</width>
      <widthRatio>0.0658362989323843</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel73">
      <fontBold>true</fontBold>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>38</height>
      <heightRatio>0.125</heightRatio>
      <left>18</left>
      <leftRatio>0.03</leftRatio>
      <note><![CDATA[c_titleBlog->发言题头]]></note>
      <sizeRatio>0.0676156583629893</sizeRatio>
      <text> 发言</text>
      <top>257</top>
      <topRatio>0.845394736842105</topRatio>
      <width>562</width>
      <widthRatio>0.936666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel282/panel73/panel74">
      <backgroundColor>E6ECF0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0263157894736842</heightRatio>
      <left>0</left>
      <sizeRatio>0.00177935943060498</sizeRatio>
      <top>37</top>
      <topRatio>0.973684210526316</topRatio>
      <width>562</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel283">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>274</height>
      <heightRatio>0.732620320855615</heightRatio>
      <layerName><![CDATA[p2->聊天室]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.456666666666667</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel16/panel279/panel284">
      <bindControl>layoutx2</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>132</height>
      <heightRatio>0.352941176470588</heightRatio>
      <layerName><![CDATA[p3->发言和回复]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.22</sizeRatio>
      <top>52</top>
      <topRatio>0.13903743315508</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82">
      <ani2Pos>rightFlyOut:右侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->3->话题]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel83">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>7</left>
      <leftRatio>0.0119250425894378</leftRatio>
      <onClick>g5.changeP2(0);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>88</width>
      <widthRatio>0.146507666098807</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel84">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.00384615384615385</heightRatio>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00518134715025907</sizeRatio>
      <top>75</top>
      <topRatio>0.0961538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel85">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>99</left>
      <leftRatio>0.165247018739353</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.350746268656716</sizeRatio>
      <text>话题</text>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>137</width>
      <widthRatio>0.228279386712095</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel87">
      <backgroundImg>huati1.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>165</height>
      <heightRatio>0.212045169385194</heightRatio>
      <left>26</left>
      <leftRatio>0.0436432637571157</leftRatio>
      <sizeRatio>0.342105263157895</sizeRatio>
      <top>79</top>
      <topRatio>0.101631116687578</topRatio>
      <width>562</width>
      <widthRatio>0.937381404174573</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel88">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>128</height>
      <heightRatio>0.164102564102564</heightRatio>
      <left>44</left>
      <leftRatio>0.0732538330494037</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.256</sizeRatio>
      <text><![CDATA[<b>获取最新内容</b>在你的主页时间线上直接查看关于你关注的话题的热门发言。<b>让GET为你所用</b>获取最相关的发言、用户、事件和广告。<b>分享你感兴趣的内容</b>大家可以在你的个人资料中看到你关注的话题。]]></text>
      <top>252</top>
      <topRatio>0.323076923076923</topRatio>
      <vAlign>top</vAlign>
      <width>511</width>
      <widthRatio>0.851788756388416</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel86">
      <backgroundColor>E0E0E0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>10</height>
      <heightRatio>0.0128205128205128</heightRatio>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.0172711571675302</sizeRatio>
      <top>386</top>
      <topRatio>0.494871794871795</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel89">
      <backgroundColor>E0E0E0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00128205128205128</heightRatio>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00172711571675302</sizeRatio>
      <top>555</top>
      <topRatio>0.711538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel82/panel90">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <hAlign>left</hAlign>
      <height>142</height>
      <heightRatio>0.182051282051282</heightRatio>
      <left>46</left>
      <leftRatio>0.0766609880749574</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.295833333333333</sizeRatio>
      <text><![CDATA[马上推出一种浏览话题的方式。你关注的话题会显示在这里。如果要查看GET认为你感兴趣的所有内容，请查看<font color="#1c94e0">你的GET数据</font>。你还可以<font color="#1c94e0">了解更多</font>关于关注话题的信息。]]></text>
      <top>401</top>
      <topRatio>0.514102564102564</topRatio>
      <vAlign>top</vAlign>
      <width>491</width>
      <widthRatio>0.817717206132879</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70">
      <ani2Pos>rightFlyOut:右侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->4->列表]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel71">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>7</left>
      <leftRatio>0.0116666666666667</leftRatio>
      <onClick>g5.changeP2(0);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>86</width>
      <widthRatio>0.143333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel77">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.00384615384615385</heightRatio>
      <left>8</left>
      <leftRatio>0.0136286201022147</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00518134715025907</sizeRatio>
      <top>75</top>
      <topRatio>0.0961538461538462</topRatio>
      <width>584</width>
      <widthRatio>0.986371379897785</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel78">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>97</left>
      <leftRatio>0.161666666666667</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <text>列表</text>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>86</width>
      <widthRatio>0.143333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel79">
      <backgroundImg>pageList1.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>148</height>
      <heightRatio>0.18974358974359</heightRatio>
      <left>170</left>
      <leftRatio>0.283333333333333</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.426512968299712</sizeRatio>
      <top>565</top>
      <topRatio>0.724358974358974</topRatio>
      <width>347</width>
      <widthRatio>0.578333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel80">
      <backgroundImg>pageList2.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>93</height>
      <heightRatio>0.119230769230769</heightRatio>
      <left>452</left>
      <leftRatio>0.753333333333333</leftRatio>
      <sizeRatio>0.709923664122137</sizeRatio>
      <top>679</top>
      <topRatio>0.870512820512821</topRatio>
      <width>131</width>
      <widthRatio>0.218333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel70/panel81">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>88</height>
      <heightRatio>0.112820512820513</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.146666666666667</sizeRatio>
      <text>您还没有创建列表
创建列表方便管理您的发言</text>
      <top>144</top>
      <topRatio>0.184615384615385</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91">
      <ani2Pos>rightFlyOut:右侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p2.p5->书签]]></layerName>
      <layerVisible>false</layerVisible>
      <left>1</left>
      <leftRatio>0.00166666666666667</leftRatio>
      <onCreate><![CDATA[sender.c_topBlank = sender.eeChildren[0];
sender.c_noResult = sender.eeChildren[1];

sender.v_headerName = "bookMark_";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_pageIndex = 0;

sender.show = function() {
    this.clear();
    g5.changeP2(4);
    this.c_topBlank.show();
    this.load();
}

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    ee.setVisible(this.c_noResult, false);
}

sender.load = function() {
    if (this.v_items.length>0) return;
    this.v_pageIndex = 0;
    this.fLoad();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fLoad();
}

sender.fLoad = function() {
    if (showBookMark.busy) return;
    showBookMark.pageIndex = this.v_pageIndex;
    showBookMark.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< showBookMark.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + showBookMark.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, showBookMark.dataset, i);
            if (item.v_content.status == "DEL") {
                ee.removeControl(item);
                continue;
            }
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            g5.renderTwitter(item);
            sender.addButton(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (showBookMark.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else {
                ee.setVisible(sender.c_noResult, false);
                var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
                addText(item, "没有更多的书签了", "center", "center", "微软雅黑", 12, "f7c9c8" ,"bold");
                item.v_noResult = true;
                sender.v_items.push(item);
            }
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,2);   
    }
    showBookMark();
}

sender.addButton = function(root) {
    var c = createPanel(root, root.id+"_bkmkDel", "", 480, 9, 70, 25);
    root.c_bookMarkDelete = c;
    
    c.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","移除书签","移除书签","移除书签","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
    ];
    
    c.init = function(index) {
        this.v_index = index;
        this.style.backgroundColor = this.v_style[index].color1;
        ee.setText(this, this.v_style[index].text1);
        ee.setTextColor(this, this.v_style[index].tColor1);
        if (this.v_style[index].bdColor=="") {
            this.style.borderWidth = "0px";
        } else {
            this.style.boxSizing="border-box";
            this.style.borderWidth = "1px";
            this.style.borderColor = this.v_style[index].bdColor;
            this.style.borderStyle = "solid";
        }
        this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
    }
    ee.setOnClick(c, function(button, event) {
        if (setBookMark.busy) {
            window.event? window.event.cancelBubble = true : event.stopPropagation();
            return;
        }
        var root = button.parentNode;
        setBookMark.operation = "del";
        setBookMark.contentId = root.v_contentId;
        setBookMark.onComplete = function() {
            for (var i=0; i<sender.v_items.length; i++) {
                if (sender.v_items[i] == root) {
                    sender.v_items.splice(i,1);
                    break;
                }
            }
            ee.removeControl(root);
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else if (sender.v_items.length==1) {
                if (sender.v_items[0].v_noResult) {
                    ee.removeControl(sender.v_items[0]);
                    sender.v_items = new Array();
                    ee.setVisible(sender.c_noResult, true);
                }
            }
            g5.tiledResizeV(g5.p2.p5,2);
        }
        setBookMark();
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    c.eeMouseDown = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    c.eeMouseUp = function(sender,event,x,y) {
        var s =sender.v_style[sender.v_index];
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    c.init(0);
    ee.setVisible(c, false);
    
    var e1 = root.eeOnMouseEnter;
    var e2 = root.eeOnMouseLeave;
    ee.setOnMouseEnter(root, function(sender,event) { 
        ee.setVisible(sender.c_bookMarkDelete, true);
        e1(sender,event);
    });
    ee.setOnMouseLeave(root, function(sender,event) { 
        ee.setVisible(sender.c_bookMarkDelete, false);
        e2(sender,event);
    });
    
}







]]></onCreate>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <sizeRatio>1.30434782608696</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>0.996666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel92">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>55</height>
      <heightRatio>0.0705128205128205</heightRatio>
      <layerName><![CDATA[  c_topBlank->顶部留空]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.show = function() {
    ee.setVisible(this, true);
    ee.setRect(this,null,null,null,eb.getDivRectSetting(g5.p4).h);
}
</onCreate>
      <sizeRatio>0.0919732441471572</sizeRatio>
      <top>8</top>
      <topRatio>0.0102564102564103</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93">
      <backgroundColor>EDF1FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>201</height>
      <heightRatio>0.257692307692308</heightRatio>
      <layerName><![CDATA[  c_noResult->无内容提示]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.336120401337793</sizeRatio>
      <top>123</top>
      <topRatio>0.157692307692308</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel96">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>43</height>
      <heightRatio>0.213930348258706</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>您还没有添加任何发言到您的书签中</text>
      <top>40</top>
      <topRatio>0.199004975124378</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel98">
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>404040</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00497512437810945</heightRatio>
      <left>0</left>
      <sizeRatio>0.00167224080267559</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel91/panel93/panel95">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>43</height>
      <heightRatio>0.213930348258706</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>有了之后就会出现在这里</text>
      <top>99</top>
      <topRatio>0.492537313432836</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97">
      <ani2Pos>rightFlyOut:右侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->6->瞬间]]></layerName>
      <layerVisible>false</layerVisible>
      <left>1</left>
      <leftRatio>0.00166666666666667</leftRatio>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <sizeRatio>1.30434782608696</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>0.996666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel99">
      <backgroundImg>back.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>7</left>
      <leftRatio>0.0119250425894378</leftRatio>
      <onClick>g5.changeP2(0);</onClick>
      <sizeRatio>0.546511627906977</sizeRatio>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>88</width>
      <widthRatio>0.146507666098807</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel100">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <hAlign>left</hAlign>
      <height>47</height>
      <heightRatio>0.0602564102564103</heightRatio>
      <left>99</left>
      <leftRatio>0.165247018739353</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.350746268656716</sizeRatio>
      <text>瞬间</text>
      <top>15</top>
      <topRatio>0.0192307692307692</topRatio>
      <width>137</width>
      <widthRatio>0.228279386712095</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel101">
      <backgroundColor>EDF1FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <height>707</height>
      <heightRatio>0.905897114178168</heightRatio>
      <left>0</left>
      <sizeRatio>1.37001897533207</sizeRatio>
      <top>73</top>
      <topRatio>0.0941028858218319</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel101/panel102">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>64</height>
      <heightRatio>0.0905233380480905</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.109028960817717</sizeRatio>
      <text>您还没有创建任何瞬间</text>
      <top>139</top>
      <topRatio>0.196605374823197</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel101/panel103">
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>404040</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00141442715700141</heightRatio>
      <left>0</left>
      <sizeRatio>0.00167224080267559</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel97/panel101/panel104">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>ratio</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>64</height>
      <heightRatio>0.0905233380480905</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.109028960817717</sizeRatio>
      <text>如果需要创建或者编辑瞬间，请登录网站。</text>
      <top>221</top>
      <topRatio>0.312588401697313</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/layouty5">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->7->私信列表]]></layerName>
      <layerVisible>false</layerVisible>
      <left>1</left>
      <leftRatio>0.00166666666666667</leftRatio>
      <onAniEnd>showChatList();</onAniEnd>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <sizeRatio>1.30434782608696</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>0.996666666666667</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty5/layoutyitem9">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>52</height>
      <heightRatio>0.0666666666666667</heightRatio>
      <left>0</left>
      <sizeRatio>0.0869565217391304</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty5/layoutyitem9/panel109">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0192307692307692</heightRatio>
      <left>0</left>
      <sizeRatio>0.00167224080267559</sizeRatio>
      <top>51</top>
      <topRatio>0.980769230769231</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty5/layoutyitem9/panel114">
      <dockX>ratio</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>52</height>
      <heightRatio>1</heightRatio>
      <left>16</left>
      <leftRatio>0.0273504273504274</leftRatio>
      <sizeRatio>0.212669683257919</sizeRatio>
      <text>私信</text>
      <top>0</top>
      <width>226</width>
      <widthRatio>0.377777777777778</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty5/layoutyitem10">
      <autoScroll>true</autoScroll>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>728</height>
      <heightRatio>0.933333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>1.21739130434783</sizeRatio>
      <top>52</top>
      <topRatio>0.0666666666666667</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel135/layouty4">
      <ani2Pos>leftFlyOut:左侧飞出</ani2Pos>
      <aniPos>rightFlyIn:右侧飞入</aniPos>
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->8->新用户页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>25</heavy>
      <height>156</height>
      <heightRatio>0.2</heightRatio>
      <left>0</left>
      <sizeRatio>0.26</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel106">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.00641025641025641</heightRatio>
      <left>0</left>
      <sizeRatio>0.00166666666666667</sizeRatio>
      <top>155</top>
      <topRatio>0.993589743589744</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel107">
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontFamily>黑体</fontFamily>
      <fontSize>24</fontSize>
      <fontSizeAuto>24</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>135</height>
      <heightRatio>0.864864864864865</heightRatio>
      <left>81</left>
      <leftRatio>0.134396355353075</leftRatio>
      <sizeRatio>0.351648351648352</sizeRatio>
      <text><![CDATA[欢迎您首次使用GET，在这里您可以了解在世界上发生的最真实的故事。
我们为您推荐了众多网友关注的发言账号，您可以在看了他们的账号信息和发言后选择<b>关注</b>。
感谢您对GET的关心和支持！]]></text>
      <top>13</top>
      <topRatio>0.0810810810810811</topRatio>
      <width>497</width>
      <widthRatio>0.829157175398633</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem7/panel108">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>51</height>
      <heightRatio>0.324324324324324</heightRatio>
      <left>10</left>
      <leftRatio>0.0159453302961276</leftRatio>
      <onClick>ee.showAni(ee.getControl("layouty4"), 1);
setTimeout(function() { updateHomepage(); }, 500);</onClick>
      <sizeRatio>1</sizeRatio>
      <top>5</top>
      <topRatio>0.0337837837837838</topRatio>
      <width>66</width>
      <widthRatio>0.109339407744875</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel135/layouty4/layoutyitem8">
      <autoScroll>true</autoScroll>
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>624</height>
      <heightRatio>0.8</heightRatio>
      <left>0</left>
      <sizeRatio>1.04</sizeRatio>
      <top>156</top>
      <topRatio>0.2</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel22">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->9->推文页]]></layerName>
      <left>0</left>
      <onCreate><![CDATA[sender.v_items = new Array();
sender.v_hisItems = new Array();


sender.activePage = function() {
    g5.pageMode = 0;
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a2");
    ee.setRect(g5.p4.a2,0,0,eb.getDivRect(g5.p4).w,null);
    ee.setRect(g5.p4, null,null,null,eb.getDivRect(g5.p4.a2).h);
    g5.refreshMain(true);
    ee.showAni(this, 0);
    g5.pushHistory("p=7&amp;c=" + showTopic.topicId)
}

sender.close = function() {
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p4.a2, false);
    ee.setVisible(this, false);
    g5.player.stop();
    this.save();
}

sender.HisItem = function() {
    this.contentId = 0;
    this.data = null;
    this.backTrace = null;
    this.v_items = null;
    this.height = 0;
    this.p2Height = 0;
    this.v_content = null;
    this.v_reContent = null;
    this.v_userInfo = null;
    this.v_reUserInfo = null;
    this.scrollTop = 0;
}


sender.save = function() {
    var cid = showTopic.topicId;
    g5.writeLog("save cid=" + cid)
    var idx = this._getIndexById(cid);
    if (idx>=0) {
        this.v_hisItems.splice(idx,1);
    }
    var item = new sender.HisItem();
    item.contentId = cid;
    item.data = showTopic.data;
    item.backTrace = showTopic.backTrace;
    item.v_items = this.v_items;
    item.height = eb.getDivRect(this).h
    item.p2Height  = eb.getDivRect(this.parentNode).h
    item.v_content = this.v_content;
    item.v_reContent = this.v_reContent;
    item.v_userInfo = this.v_userInfo;
    item.v_reUserInfo = this.v_reUserInfo;
    item.scrollTop = document.documentElement.scrollTop;
    
    this.v_hisItems.push(item);
    for (var i=0; i<this.v_items.length; i++) {
        this.removeChild(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.load = function(cid) {
    var idx = this._getIndexById(cid);
    if (idx<0) return false;
    g5.writeLog("load cid=" + cid)
    var item = this.v_hisItems[idx];
    this.v_hisItems.splice(idx,1);
    
    for (var i=0; i<this.v_items.length; i++) {
        this.removeChild(this.v_items[i]);
    }
    this.v_items = new Array();
    showTopic.topicId = cid;
    showTopic.data = item.data;
    showTopic.backTrace = item.backTrace;
    this.v_items = item.v_items;
    this.v_content = item.v_content;
    this.v_reContent = item.v_reContent;
    this.v_userInfo = item.v_userInfo;
    this.v_reUserInfo = item.v_reUserInfo;
    for (var i=0; i<this.v_items.length; i++) {
        this.appendChild(this.v_items[i]);
    }
    g5.changeP2(7);
    document.documentElement.scrollTop = item.scrollTop;
    ee.setRect(this,null,null,null,item.height);
    ee.setRect(this.parentNode,null,null,null,item.p2Height);
    return true;
}

sender._getIndexById = function(contentId) {
    for (var i=0; i<this.v_hisItems.length; i++) {
        if (this.v_hisItems[i].contentId == contentId) return i;
    }
    return -1;
}


sender.show = function(v_content, v_reContent, v_userInfo, v_reUserInfo, contentId) {
    if (this.load(contentId)) return;
    if (v_content) if (this.load(v_content.id)) return;
    if (showTopic.busy) return;
    g5.changeP2(-1);
   
    for (var i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
    sender.v_items = new Array();
    
    if (eb.isEmpty(v_content)) {
        this.v_content = null;
        showTopic.topicId = contentId;
        showTopic.needRefresh = true;
        this.v_preShow = false;
    } else {
        v_content = v_content.clone();
        if (eb.isEmpty(v_reContent)) {
            v_reContent = new g5.ContentInfo();
        } else v_reContent = v_reContent.clone();
        if (eb.isEmpty(v_reUserInfo)) v_reUserInfo = new g5.UserInfo();
        if (v_content.exUplinkType=="L") {
            v_content.id = v_content.exContentId;
            v_content.exUplinkType = "";
        }
        showTopic.topicId = v_content.id;
        showTopic.needRefresh = true;
        this.v_preShow = true;
        this.preShow(v_content, v_reContent, v_userInfo, v_reUserInfo);
    }
    var nohis = g5.notPushHistory;
    showTopic.onComplete = function(datasetFw, datasetBk) {
        var i, item;
        var root = sender;
        if (sender.v_content == null) {
            g5.p4.changePage("a2");
        }
        var cy = eb.getDivRect(g5.p4).h-3;
      
        var preShowItem;
        if (sender.v_preShow) {
            preShowItem = sender.v_items[0];
        } else {
            for (i=0; i<sender.v_items.length; i++) ee.removeControl(sender.v_items[i]);
            g5.notPushHistory = nohis;
            g5.changeP2(7);
            g5.notPushHistory = false;
        }
        sender.v_items = new Array();
                
        var itemWidth = eb.getDivRect(root).w;
        var uType,dType;
        var lastCy = -1;
        for (i=datasetBk.rowCount-1; i >= 0; i--) {
            if (i==datasetBk.rowCount-1) {
                uType = " "
            } else uType = "T";
            dType = "T";
            var item = createPanel(root, "page8_" + datasetBk.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadTwitterRecord(item, datasetBk, i);
            item.v_mode = uType + dType;
            g5.renderTwitter(item);        
            sender.v_items.push(item);
            lastCy = cy;
            cy += 0 + eb.getDivRect(item).h;    
        }
        
        var scrollY;
        if (lastCy<0) {
            scrollY = cy - eb.getDivRect(g5.p4).h;
        } else {
            scrollY = cy - eb.getDivRect(g5.p4).h;
            //scrollY = lastCy - eb.getDivRect(g5.p4).h;
        }
        scrollY += 2;
        
        var item = null;
        var scrollTop = 0;
        for (i=0; i< datasetFw.rowCount; i++) {
            uType = " "; dType = " ";
            if ((i==0) &amp;&amp; (datasetBk.rowCount>0)) {
                uType="T"; dType = " ";
            }
            if (sender.v_preShow &amp;&amp; i==0) {
                item = preShowItem;
                ee.setRect(item,null,cy,null,null);
            } else {
                if (i==0) dType += "x";
                item = createPanel(root, "page8_" + datasetFw.getData(0,i), "", 0, cy, itemWidth, 5);
                g5.loadTwitterRecord(item, datasetFw, i);
                item.v_mode = uType + dType;
                g5.renderTwitter(item);        
            }
            sender.v_items.push(item);
            if (i==0) {
                scrollTop = cy - eb.getDivRect(g5.p4).h + 1;
                sender.v_reIndex = sender.v_items.length;
            }
            cy += eb.getDivRect(item).h;    
        }
        if (item!=null) {
            var ch = $g("divRoot").offsetHeight;
            var h = cy + ch - eb.getDivRect(item).h - 50; 
            eb.setDivRect(g5.p2,null,null,null,h);
            eb.setDivRect(g5.p2.p9,null,null,null,h);
        } else {
            eb.setDivRect(g5.p2,null,null,null,cy+200);
            eb.setDivRect(g5.p2.p9,null,null,null,cy+200);
        }
        document.documentElement.scrollTop = scrollTop;
        eb.processDock();
        
        showTopic.needRefresh = false;
    }
    showTopic();
}

sender.preShow = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    if (v_content.uplinkType=="L") v_content.uplinkType = "";
    this.v_content = v_content;
    this.v_reContent = v_reContent;
    this.v_userInfo = v_userInfo;
    this.v_reUserInfo = v_reUserInfo;
    
    g5.p4.changePage("a2");
    var cy = eb.getDivRect(g5.p4).h-1;
    var itemWidth = eb.getDivRect(this).w;
    item = createPanel(this, "page8_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    //item.v_content.photos = new Array();
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    if (v_content.uplinkType=="N") {
        item.v_mode = "  x";
    } else {
        item.v_mode = "T x";
    }
    g5.renderTwitter(item);        
    sender.v_items.push(item);
    g5.changeP2(7);
    document.documentElement.scrollTop = 0;
}

sender.insert = function(v_content, v_reContent, v_userInfo, v_reUserInfo) {
    var item;
    var root = sender;
    var itemWidth = eb.getDivRect(root).w;
    var cy = eb.getDivRect(g5.p4).h;
    cy+=eb.getDivRect(g5.p2.p1.a1).h;
    if (this.v_items.length>0) {
        cy = eb.getDivRect(this.v_items[this.v_reIndex-1]).y + eb.getDivRect(this.v_items[this.v_reIndex-1]).h;
    } else this.v_reIndex = 1;
    item = createPanel(root, "page8_" + v_content.id, "", 0, cy, itemWidth, 5);
    item.v_content = v_content;
    item.v_reContent = v_reContent;
    item.v_userInfo = v_userInfo;
    item.v_reUserInfo = v_reUserInfo;
    item.v_mode = "";
    g5.renderTwitter(item);
    root.v_items.splice(this.v_reIndex, 0, item);
    cy = eb.getDivRect(item).h;
    g5.batchMoveY(this.v_items, this.v_reIndex+1, cy);
    eb.setDivRect(this, null,null,null,eb.getDivRect(this).h + cy);
    if (g5.currentPageIndex==7) {
        eb.setDivRect(this.parentNode, null,null,null,eb.getDivRect(this.parentNode).h + cy);
    }
}

sender.loadMore = function() {
    //nouse
    if (sender.v_items.length>0) {
        var rect = eb.getDivRect(sender.v_items[sender.v_items.length-1]);
        cy = 2 + rect.y + rect.h;
    }
    showTopic.lastId = datasetFw.getData(0, datasetFw.rowCount - 1);
}



]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P2->10->设置]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>sender.reset();
ee.getControl("panel158").selected = true;
sender.refresh();</onAniStart>
      <onCreate><![CDATA[sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>1.3</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel154">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>53</height>
      <heightRatio>0.0679487179487179</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";

</onCreate>
      <sizeRatio>0.0883333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel154/panel155">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <left>16</left>
      <leftRatio>0.0266666666666667</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.53</sizeRatio>
      <text>设置</text>
      <top>0</top>
      <widthRatio>0.166666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel157">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel154</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid"; 


</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <top>53</top>
      <topRatio>0.0679487179487179</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel157/panel418">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel154</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>18</left>
      <leftRatio>0.03</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}

]]></onCreate>
      <outerLeft>18</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.0800711743772242</sizeRatio>
      <text>@UserName</text>
      <top>0</top>
      <width>562</width>
      <widthRatio>0.936666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel157</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>g5.changeP3(4);
sender.parentNode.setSelected(sender);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    账号</text>
      <top>98</top>
      <topRatio>0.125641025641026</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158/panel159">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel158/panel160">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel158</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>g5.changeP3(5);
sender.parentNode.setSelected(sender);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "0 0 1px 0";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.075</sizeRatio>
      <text>    隐私和安全</text>
      <top>143</top>
      <topRatio>0.183333333333333</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161/panel162">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>565</left>
      <leftRatio>0.941666666666667</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.025</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel156/panel161/panel163">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>596</left>
      <leftRatio>0.993333333333333</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.00666666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>769</height>
      <heightRatio>0.985897435897436</heightRatio>
      <layerName><![CDATA[p2.p11->搜索页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.c_topBlank = ee.getControl("panel336");
sender.c_buttons = ee.getControl("layoutx11");
sender.c_pages = ee.getControl("panel338");
sender.v_searchString = "";

sender.init = function() {
    this.c_buttons.buttonClick(this.c_buttons.c_button1);
    ee.setRect(this.c_topBlank,null,null,null,eb.getDivRectSetting(g5.p4).h);
    g5.tiledV(this,0,0,0);
}

sender.search = function(searchString) {
    this.clear();
    this.v_searchString = searchString;
    ee.setEditText(ee.getControl("edit14"), searchString);
    if (g5.currentPageIndex != 10) {
        g5.changeP2(10);
        this.changePage("c1");
        this.c_pages.c1.search(searchString);    
    } else {
        if (this.currentPage == "c1") {
            this.c_pages.c1.search(searchString);    
        } else if (this.currentPage == "c2") {
            this.c_pages.c2.search(searchString);    
        } else if (this.currentPage == "c3") {
            this.c_pages.c3.search(searchString);    
        } else if (this.currentPage == "c4") {
            this.c_pages.c4.search(searchString);    
        } else if (this.currentPage == "c5") {
            this.c_pages.c5.search(searchString);    
        }
    }
}

sender.clear = function() {
    for (var i=0; i<this.c_pages.v_items.length; i++) {
        if (!eb.isEmpty(this.c_pages.v_items[i].clear)) this.c_pages.v_items[i].clear();
        if (!eb.isEmpty(this.c_pages.v_items[i].v_status)) this.c_pages.v_items[i].v_status = "init";
    }
}

sender.getPageByName = function(pageName) {
    if (pageName == "c1") {
        return this.c_pages.v_items[0];
    } else if (pageName == "c2") {
        return this.c_pages.v_items[1];
    } else if (pageName == "c3") {
        return this.c_pages.v_items[2];
    } else if (pageName == "c4") {
        return this.c_pages.v_items[3];
    } else if (pageName == "c5") {
        return this.c_pages.v_items[4];
    } else {
        return null;
    }
}
     
sender.currentPage = "";
sender.changePage = function(pageName) {
    var page = this.getPageByName(this.currentPage);
    if (page!=null) {
        ee.setVisible(page, false);
    }

    this.currentPage = pageName;
    page = this.getPageByName(this.currentPage);
    if (this.currentPage == "c1") {
        this.c_buttons.buttonClick(this.c_buttons.c_button1);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c2") {
        this.c_buttons.buttonClick(this.c_buttons.c_button2);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c3") {
        this.c_buttons.buttonClick(this.c_buttons.c_button3);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c4") {
        this.c_buttons.buttonClick(this.c_buttons.c_button4);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } else if (this.currentPage == "c5") {
        this.c_buttons.buttonClick(this.c_buttons.c_button5);
        ee.setVisible(page, true);
        g5.tiledResizeV(page,4);
    } 
}
 
sender.userChangePage = function(pageName) {
    if (this.currentPage == pageName) return;
    this.changePage(pageName);
    var page = this.getPageByName(pageName);
    if (page==null) return;
    if (page.v_status=="init") {
        page.search(this.v_searchString);
    }
}

]]></onCreate>
      <sizeRatio>1.28166666666667</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel336">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <height>53</height>
      <heightRatio>0.0689206762028609</heightRatio>
      <left>0</left>
      <note><![CDATA[c_topBlank->顶部留空]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.0883333333333333</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338">
      <dockX>fill</dockX>
      <height>629</height>
      <heightRatio>0.817945383615085</heightRatio>
      <left>0</left>
      <note>c_pages</note>
      <onCreate>sender.c1 = ee.getControl("panel339");
sender.c2 = ee.getControl("panel340");
sender.c3 = ee.getControl("panel341");
sender.c4 = ee.getControl("panel342");
sender.c5 = ee.getControl("panel343");
sender.v_items = new Array();
sender.v_items.push(sender.c1);
sender.v_items.push(sender.c2);
sender.v_items.push(sender.c3);
sender.v_items.push(sender.c4);
sender.v_items.push(sender.c5);


</onCreate>
      <sizeRatio>1.04833333333333</sizeRatio>
      <top>110</top>
      <topRatio>0.143042912873862</topRatio>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel339">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c1->热门]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c1_";
sender.v_searchOptions = "hot";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_items.length>0) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多符合条件的搜索结果", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel340">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c2->最新]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c2_";
sender.v_searchOptions = "new";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_items.length>0) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多符合条件的搜索结果", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel341">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c3->用户]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c3_";
sender.v_searchOptions = "user";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_items.length>0) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i<searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            g5.loadUserRecord(item, searchV2.dataset, i);
            item.v_mode = "";
            g5.renderUserBar(item);
            cy += eb.getDivRect(item).h;
            sender.v_items.push(item);
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多符合条件的搜索结果", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    searchV2();
}











]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel342">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c4->照片]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c4_";
sender.v_searchOptions = "photo";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_items.length>0) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多符合条件的搜索结果", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel335/panel338/panel343">
      <dockX>fill</dockX>
      <height>441</height>
      <heightRatio>0.701112877583466</heightRatio>
      <layerName><![CDATA[    c5->视频]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[sender.v_headerName = "page11c5_";
sender.v_searchOptions = "video";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_searchString = "";
sender.v_pageIndex = 0;

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
}

sender.search = function(searchString) {
    if (this.v_items.length>0) return;
    this.v_searchString = searchString;
    this.v_pageIndex = 0;
    this.fSearch();
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fSearch();
}

sender.fSearch = function() {
    if (searchV2.busy) return;
    searchV2.searchString = this.v_searchString;
    searchV2.options = this.v_searchOptions;
    searchV2.pageIndex = this.v_pageIndex;
    searchV2.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< searchV2.dataset.rowCount; i++) {
            var item = createPanel(sender, sender.v_headerName + searchV2.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            g5.loadTwitterRecord(item, searchV2.dataset, i);
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_content.id == item.v_content.id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            g5.renderTwitter(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (searchV2.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
            addText(item, "没有更多符合条件的搜索结果", "center", "center", "微软雅黑", 12, "a0a0a0" ,"bold");
            sender.v_items.push(item);
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,4);   
    }
    searchV2();
}






]]></onCreate>
      <sizeRatio>0.735</sizeRatio>
      <top>0</top>
      <width>600</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355">
      <ani2Pos>rightFlyOut:右侧飞出</ani2Pos>
      <aniPos>leftFlyIn:左侧飞入</aniPos>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>780</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p2.p12->通知]]></layerName>
      <layerVisible>false</layerVisible>
      <left>1</left>
      <leftRatio>0.00166666666666667</leftRatio>
      <onCreate><![CDATA[sender.c_topBlank = sender.eeChildren[0];
sender.c_noResult = sender.eeChildren[1];

sender.v_headerName = "prmpt_";
sender.v_items = new Array();
sender.v_status = "init";
sender.v_pageIndex = 0;

sender.show = function() {
    this.clear();
    g5.changeP2(11);
    this.c_topBlank.show();
    this.load();
}

sender.showAlert = function(value) {
    var button1 = ee.getControl("panel94");
    var button2 = ee.getControl("panel352");
    var c;
    if (button1.eeChildren.length<=0) {
        c = createPanel(button1, "redDot1", "", 93, 14, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
    }
    if (button2.eeChildren.length<=0) {
        c = createPanel(button2, "redDot2", "", 20, 5, 19, 19);
        c.style.backgroundColor = "#f1502a";
        c.style.borderRadius = "9px";
        addText(c, value+"", "center", "middle", "Arial", 9, "FFFFFF", "bold");
    }
    var dot1 = button1.eeChildren[0];
    var dot2 = button2.eeChildren[0];
    value = parseInt(value);
    value = value + "";
    if (value == "0") {
        dot1.style.visibility = "hidden";
        ee.setRect(button1,null,null,103,null);
        dot2.style.visibility = "hidden";
        return;
    }
    ee.setRect(button1,null,null,142,null);
    ee.setRect(dot1,null,null,19+6*(value.length-1), null);
    ee.setRect(dot2,20-6*(value.length-1),null,19+6*(value.length-1), null);
}

sender.clear = function() {
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    ee.setVisible(this.c_noResult, false);
}

sender.load = function() {
    if (this.v_items.length>0) return;
    this.v_pageIndex = 0;
    this.fLoad();
    this.showAlert(0);
}

sender.loadMore = function() {
    if (this.v_status != "normal") return;
    this.v_pageIndex++;
    this.fLoad();
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = dataset.getData(1,index);
    panel.v_status = dataset.getData(2,index);
    panel.v_type = dataset.getData(3,index);
    panel.v_content = dataset.getData(4,index);
    panel.v_url = dataset.getData(5,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,6,index);
}

sender.renderItem = function(root) {
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderTop = "";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    var w = eb.getDivRect(root).w;
    var c, cy=9;
    
    if (root.v_index < getPromptCount.count) {
        root.v_bgColor = "#f5f5ff";
    } else root.v_bgColor = "#ffffff";
    root.style.cursor = "pointer";
    ee.setOnClick(root,function(sender,event) {
        if (root.v_url.length<=0) return;
        if (root.v_url.charAt(0) == "?") {
        }
        window.location.href = ee.pageUrl + root.v_url;
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = root.v_bgColor;
    });
    root.style.backgroundColor = root.v_bgColor;

    //user photo
    c = createPanel(root, root.id+"_panel13", "", 16, cy, 50, 50);
    root.c_userPhoto = c;
    root.c_photo = c;
    c.v_timer = null;
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.cursor="pointer";
    c.style.borderRadius = "50%";
    ee.setOnClick(c,function(sender,event) {
        showUserPage.userName=sender.parentNode.v_userInfo.userName;
        showUserPage();
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userId, root.c_photo);
        }, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //title
    c = createPanel(root, root.id+"_panel16", "", 75, cy-3, w-80, 26); cy+=26;
    root.v_titleText = c;
    var temp = "";
    temp = "<div style='display:inline'><b>" + root.v_userInfo.nickName + "</b> <font color='#808080' style='font-size:12pt'>@" + root.v_userInfo.userName + "</font></div>";
    if (root.v_type == "R") {
        temp += " 回复了您的短文";
    } else if (root.v_type == "F") {
        temp += " 转发了您的短文";
    }
    addText(c, temp, "left", "middle", "微软雅黑", 12, "000000", "normal");
    if (root.v_mode.charAt(2) != "x") {
        root.v_timeLabel = c.label.rows[0].cells[0].childNodes[2]; 
        root.v_startTime = parseInt((new Date()).getTime()/1000)-root.v_times
    }
    c.v_username = root.v_userInfo.userName;
    root.c_titleText = c.label.rows[0].cells[0].childNodes[0];
    root.c_titleText.id = root.id + "_titleText";
    root.c_titleText.v_userName = root.v_userInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(root.c_titleText,function(sender,event) {
        showUserPage.userName=sender.v_userName;
        showUserPage();
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_titleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_titleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="";
    });    
    
    //content
    c = createPanel(root, root.id+"_panel17", "", 75, cy, w-80, 10);
    root.c_content = c;
    if (root.v_content.length<=0) root.v_content = "<该用户没有留下文字内容>";
    addText(c, "<font style='line-height:1.2;'>" + g5.showCommonText(root.v_content) + "</font>", "left", "top", "微软雅黑", 12, "000000", "normal");
    eb.setDock(c,"disabled","disabled");
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h + 1;
    
    cy += 9;
    eb.setDivRect(root, null, null, null, cy);
    return root;
}

sender.fLoad = function() {
    if (showBookMark.busy) return;
    showPrompt.pageIndex = this.v_pageIndex;
    showPrompt.onComplete = function() {
        var cy = 0;
        var itemWidth = eb.getDivRectSetting(sender).w;
        for (var i=0; i< showPrompt.dataset.rowCount; i++) {
            if (showPrompt.dataset.getData(18,i) == "DEL") continue;
            var item = createPanel(sender, sender.v_headerName + showPrompt.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
            item.v_mode = "";
            sender.loadRecord(item, showPrompt.dataset, i);
            item.v_index = sender.v_items.length;
            for (var j=0; j<sender.v_items.length; j++) {
                if (sender.v_items[j].v_id == item.v_id) {
                    ee.removeControl(item);
                    item = null;
                    break;
                }
            }
            if (item == null) continue;
            sender.renderItem(item);
            sender.v_items.push(item);
            cy += eb.getDivRect(item).h;
        }
        if (showPrompt.dataset.rowCount<=0) {
            sender.v_status = "noResult";
            if (sender.v_items.length<=0) {
                ee.setVisible(sender.c_noResult, true);
            } else {
                ee.setVisible(sender.c_noResult, false);
                var item = createPanel(sender, sender.v_headerName + "end", "", 0, cy, itemWidth, 60);
                addText(item, "没有更多的通知了", "center", "center", "微软雅黑", 12, "f7c9c8" ,"bold");
                item.v_noResult = true;
                sender.v_items.push(item);
            }
        } else {
            sender.v_status = "normal";
        }
        g5.tiledV(sender,0,0,0);
        g5.tiledResizeV(sender,2);   
    }
    showPrompt();
}








]]></onCreate>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <sizeRatio>1.30434782608696</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>0.996666666666667</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel356">
      <backgroundColor>EDF1FA</backgroundColor>
      <dockX>fill</dockX>
      <height>55</height>
      <heightRatio>0.0705128205128205</heightRatio>
      <layerName><![CDATA[  c_topBlank->顶部留空]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.show = function() {
    ee.setVisible(this, true);
    ee.setRect(this,null,null,null,eb.getDivRectSetting(g5.p4).h);
}
</onCreate>
      <sizeRatio>0.0919732441471572</sizeRatio>
      <top>8</top>
      <topRatio>0.0102564102564103</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel357">
      <backgroundColor>EDF1FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>201</height>
      <heightRatio>0.257692307692308</heightRatio>
      <layerName><![CDATA[  c_noResult->无内容提示]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>0.336120401337793</sizeRatio>
      <top>123</top>
      <topRatio>0.157692307692308</topRatio>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel357/panel358">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>43</height>
      <heightRatio>0.213930348258706</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>目前没有您的任何通知</text>
      <top>40</top>
      <topRatio>0.199004975124378</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel357/panel359">
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>404040</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.00497512437810945</heightRatio>
      <left>0</left>
      <sizeRatio>0.00167224080267559</sizeRatio>
      <top>0</top>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel135/panel355/panel357/panel360">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>43</height>
      <heightRatio>0.213930348258706</heightRatio>
      <left>0</left>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.0719063545150502</sizeRatio>
      <text>如有（如用户留言等）则会出现在这里</text>
      <top>99</top>
      <topRatio>0.492537313432836</topRatio>
      <vAlign>top</vAlign>
      <width>598</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>100</fontSize>
      <height>722</height>
      <heightRatio>0.907035175879397</heightRatio>
      <left>906</left>
      <leftRatio>0.764556962025316</leftRatio>
      <note>p3</note>
      <onCreate>sender.p3 = ee.getControl("panel116");
sender.p8 = ee.getControl("panel298");
sender.p9 = ee.getControl("panel365");
sender.p10 = ee.getControl("panel61");
sender.p11 = ee.getControl("panel370");
sender.p12 = ee.getControl("panel388");

sender.style.position="fixed";
sender.addEventListener("mousewheel",function(event){
    return true;
    g5.mainDiv.onWheel(event.wheelDelta);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
</onCreate>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>0.259071729957806</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/layouty3">
      <ani2Pos>leftFlyOut:左侧飞出</ani2Pos>
      <aniPos>rightFlyIn:右侧飞入</aniPos>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <layerName>p3.p0</layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>66</height>
      <heightRatio>0.0914127423822715</heightRatio>
      <left>0</left>
      <sizeRatio>0.214983713355049</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/panel12">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.005</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>400</width>
      <widthRatio>1.30293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/panel13">
      <height>45</height>
      <heightRatio>0.681818181818182</heightRatio>
      <left>12</left>
      <leftRatio>0.0390879478827362</leftRatio>
      <lockRatio>true</lockRatio>
      <onClick>ee.setVisible(ee.getControl("panel26"), true);
eb.setAlpha(ee.getControl("panel26"), 100);
ee.showAni(ee.getControl("panel27"), 0);
</onClick>
      <sizeRatio>1</sizeRatio>
      <top>8</top>
      <topRatio>0.121212121212121</topRatio>
      <width>45</width>
      <widthRatio>0.146579804560261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/panel13/panel14">
      <backgroundImg>user.png</backgroundImg>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>43</height>
      <heightRatio>0.955555555555556</heightRatio>
      <left>1</left>
      <leftRatio>0.0222222222222222</leftRatio>
      <outerBottom>1</outerBottom>
      <outerLeft>1</outerLeft>
      <outerRight>1</outerRight>
      <outerTop>1</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>1</top>
      <topRatio>0.0222222222222222</topRatio>
      <width>43</width>
      <widthRatio>0.955555555555556</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/panel13/panel15">
      <backgroundImg>cirMask.png</backgroundImg>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>1</sizeRatio>
      <top>0</top>
      <width>45</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/panel17">
      <backgroundImg>config.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>54</height>
      <heightRatio>0.819672131147541</heightRatio>
      <left>266</left>
      <leftRatio>0.865603644646925</leftRatio>
      <onClick>searchUser();</onClick>
      <sizeRatio>0.925925925925926</sizeRatio>
      <top>5</top>
      <topRatio>0.0819672131147541</topRatio>
      <width>38</width>
      <widthRatio>0.123006833712984</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem5/edit5">
      <backgroundSkin>edit1</backgroundSkin>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>0.545454545454545</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>71</left>
      <leftRatio>0.231270358306189</leftRatio>
      <sizeRatio>0.131868131868132</sizeRatio>
      <text>搜索用户</text>
      <top>14</top>
      <topRatio>0.212121212121212</topRatio>
      <width>273</width>
      <widthRatio>0.889250814332248</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6">
      <backgroundColor>F0F0FA</backgroundColor>
      <height>656</height>
      <heightRatio>0.908587257617729</heightRatio>
      <left>0</left>
      <sizeRatio>2.13680781758958</sizeRatio>
      <top>66</top>
      <topRatio>0.0914127423822715</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>656</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>2.13680781758958</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>60</height>
      <heightRatio>0.0914634146341463</heightRatio>
      <left>0</left>
      <sizeRatio>0.195439739413681</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.195439739413681</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem15">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1C94E0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>g5.changeP3(0);</onClick>
      <sizeRatio>0.38961038961039</sizeRatio>
      <text>用户</text>
      <top>0</top>
      <width>154</width>
      <widthRatio>0.501628664495114</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem15/panel130">
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0166666666666667</heightRatio>
      <left>0</left>
      <sizeRatio>0.00649350649350649</sizeRatio>
      <top>59</top>
      <topRatio>0.983333333333333</topRatio>
      <width>154</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem15/panel132">
      <backgroundColor>1C94E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>2</height>
      <heightRatio>0.0333333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>0.012987012987013</sizeRatio>
      <top>58</top>
      <topRatio>0.966666666666667</topRatio>
      <width>154</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem16">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>60</height>
      <heightRatio>1</heightRatio>
      <left>154</left>
      <leftRatio>0.501628664495114</leftRatio>
      <onClick>g5.changeP3(1);</onClick>
      <sizeRatio>0.392156862745098</sizeRatio>
      <text>发言</text>
      <top>0</top>
      <width>153</width>
      <widthRatio>0.498371335504886</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem16/panel131">
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0166666666666667</heightRatio>
      <left>0</left>
      <sizeRatio>0.0065359477124183</sizeRatio>
      <top>59</top>
      <topRatio>0.983333333333333</topRatio>
      <width>153</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem14/layoutx8/layoutxitem16/panel133">
      <backgroundColor>1C94E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>2</height>
      <heightRatio>0.0333333333333333</heightRatio>
      <left>0</left>
      <sizeRatio>0.0130718954248366</sizeRatio>
      <top>58</top>
      <topRatio>0.966666666666667</topRatio>
      <width>153</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem15">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>596</height>
      <heightRatio>0.908536585365854</heightRatio>
      <left>0</left>
      <sizeRatio>1.9413680781759</sizeRatio>
      <top>60</top>
      <topRatio>0.0914634146341463</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem15/panel128">
      <dockX>fill</dockX>
      <height>596</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P3->1->搜索结果：用户]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.9413680781759</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/layouty3/layoutyitem6/layouty7/layoutyitem15/panel129">
      <dockX>fill</dockX>
      <height>596</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[P3->2->搜索结果：发言]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <sizeRatio>1.9413680781759</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[p3.p3->私信聊天]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.c_chat = ee.getControl("layoutyitem12");</onCreate>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel116/layouty6">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";</onCreate>
      <sizeRatio>2.35179153094463</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem11">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>49</height>
      <heightRatio>0.0678670360110803</heightRatio>
      <left>0</left>
      <note>题头</note>
      <sizeRatio>0.159609120521173</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem11/panel118">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>left</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>49</height>
      <heightRatio>1</heightRatio>
      <left>20</left>
      <leftRatio>0.0651465798045603</leftRatio>
      <outerLeft>20</outerLeft>
      <sizeRatio>0.196</sizeRatio>
      <text>&amp;nbsp;</text>
      <top>0</top>
      <width>250</width>
      <widthRatio>0.814332247557003</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem11/panel119">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.0204081632653061</heightRatio>
      <left>0</left>
      <sizeRatio>0.00325732899022801</sizeRatio>
      <top>48</top>
      <topRatio>0.979591836734694</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12">
      <autoScroll>true</autoScroll>
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>624</height>
      <heightRatio>0.864265927977839</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chat->聊天区域]]></note>
      <onCreate>sender.c_chatRoot = ee.getControl("layoutxitem27");

sender.style.overflowX = "hidden";
</onCreate>
      <sizeRatio>2.03257328990228</sizeRatio>
      <top>49</top>
      <topRatio>0.0678670360110803</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12">
      <backgroundColor>F5FFF5</backgroundColor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>624</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>//sender.style.boxSizing="border-box";
//sender.style.borderWidth = "1px";
//sender.style.borderColor = "rgb(230,236,240)";
//sender.style.borderStyle = "solid";
//sender.style.borderRadius = "10px";</onCreate>
      <sizeRatio>2.03257328990228</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem27">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>624</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chatRoot->聊天root]]></note>
      <onCreate><![CDATA[sender.minRefreshTime = 3000;
sender.maxRefreshTime = 60000;
sender.running = false;
sender.start = function(roomId) {
    this.v_roomId = roomId;
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    ee.getControl("layouty14").init(sender);
    this.clearTimer();
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    this.refresh();        
}
sender.stop = function() {
    this.clearTimer();
    for (var i=0; i<this.v_items.length; i++) {
        ee.removeControl(this.v_items[i]);
    }
    this.v_items = new Array();
    this.running = false;
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.refresh = function(force) {
    if (!chatGet1v1.busy) {
        chatGet1v1.chatUserId = this.v_roomId;
        chatGet1v1.chatId = this.v_lastChatId;
        chatGet1v1.isNew = 1;
        chatGet1v1.my = this;
        chatGet1v1.onComplete = function(dataset) {
            if (dataset.rowCount<=0) {
                eb.processDock();
                return;
            }
            
            var fi = dataset.colCount;
            dataset.setColCount(fi+1);
            dataset.setData(fi,dataset.rowCount-1,1);
            for (var i = dataset.rowCount-2; i>=0; i--) {
                if (dataset.getData(2,i+1)-dataset.getData(2,i)>300) {
                    dataset.setData(fi,i,1);    
                } else if (dataset.getData(5,i+1)!=dataset.getData(5,i)) {
                    dataset.setData(fi,i,1);    
                } else {
                    dataset.setData(fi,i,dataset.getData(fi,i+1)+1);    
                }
            }
            var isBlock = false;
            for (var i=0; i<dataset.rowCount; i++) {
                if (dataset.getData(fi,i)>=2) {
                    if (isBlock) {
                        dataset.setData(fi,i,3);
                    } else {
                        isBlock = true;
                        dataset.setData(fi,i,4);
                    }
                } else {
                    if (isBlock) {
                        isBlock = false;
                        dataset.setData(fi,i,2);
                    } else {
                    }
                }
            }
            
            //for (var i=dataset.rowCount-1; i>=0; i--) {
            //    dataset.setData(3,i,dataset.getData(fi,i) + " >" + dataset.getData(3,i));    
            //}
            
            var cy = 0;
            var root = chatGet1v1.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                var item = createPanel(root, "chatroom1v1_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                //g5.loadChatRecord(item, dataset, i);
                root.loadData(item, dataset, i);
                item.v_mode = dataset.getData(fi,i);
                //g5.renderChatBar(item);
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
            }
        
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGet1v1();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.renderMsg = function(root) {
    var mode = parseInt(root.v_mode);
    var w = eb.getDivRect(root).w;
    var cy = 0;
    var left = true;
    if (root.v_userInfo.userName == g5.myUserInfo.userName) {
        left = false;
    }
    //user photo
    if (left) {
        c = createPanel(root, root.id+"_panel13", "", 16, cy, 40, 40);
        c.style.borderRadius = "50%";
    } else {
    }
    var photo;
    if (left &amp;&amp; ((mode==1)||(mode==4))) {
        photo = root.v_userInfo.photo;
        if (photo == "") {
            ee.setImage(c,"/twitterG/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + photo,"trim","","")
        }
    }
    
    //content
    if (left) {
        c = createPanel(root, root.id+"_panel2", "", 65, cy, 350, 40);
        c.style.backgroundColor = "#e6ecf0";
        switch (mode) {
            case 1: c.style.borderRadius = "20px 20px 20px 0px"; break;
            case 2: c.style.borderRadius = "20px 20px 20px 0px"; break;
            case 3: c.style.borderRadius = "0px 20px 20px 0px"; break;
            case 4: c.style.borderRadius = "0px 20px 20px 0px"; break;
            default:
        }
        c = createPanel($g(root.id+"_panel2"), root.id+"_content", "", 15, 0, 350-15*2, 40);
        addText(c, "a", "left", "center", "微软雅黑", 12, "000000", "normal");
    } else {
        c = createPanel(root, root.id+"_panel2", "", 65, cy, 390, 40);
        switch (mode) {
            case 1: c.style.borderRadius = "20px 20px 0px 20px"; break;
            case 2: c.style.borderRadius = "20px 20px 0px 20px"; break;
            case 3: c.style.borderRadius = "20px 0px 0px 20px"; break;
            case 4: c.style.borderRadius = "20px 0px 0px 20px"; break;
            default:
        }
        c.style.backgroundColor = "#1da1f2";
        c = createPanel($g(root.id+"_panel2"), root.id+"_content", "", 15, 0, 390-15*2, 40);
        addText(c, "a", "left", "center", "微软雅黑", 12, "FFFFFF", "normal");
    }
    c.label.style.wordBreak = "break-all";
    c.label.style.whiteSpace = "nowrap";
    ee.setText(c, root.v_msgContent);
    eb.processDock();
    eb.setDivRect(c.label, null, null, 10,10);
    rect = eb.getDivRect(c.label);
    if (left) {
        if (rect.w > parseInt(350)) {
            c.label.style.whiteSpace = "pre-wrap";
            eb.setDivRect(c.label, null, null, parseInt(350),10);
            rect = eb.getDivRect(c.label);
        }
    } else {
        if (rect.w > parseInt(390)) {
            c.label.style.whiteSpace = "pre-wrap";
            eb.setDivRect(c.label, null, null, parseInt(390),10);
            rect = eb.getDivRect(c.label);
        }
    }
    ee.setRect(c, null, null, rect.w, rect.h + 10);
    rect = eb.getDivRect(c);
    c = c.parentNode;
    ee.setRect(c,null,null,rect.w+15*2,rect.h);
    rect = eb.getDivRect(c);
    if (!left) {
        ee.setRect(c, w-25-rect.w, null, null, null)
    }
    cy += rect.h + 4;
    
    //time
    if ((mode==1)||(mode==4)) {
        c = createPanel(root, root.id+"_panel5", "", 65, cy-3, w-65-25, 20); cy+=20;
        var s = sender.displayTime(root.v_regDatetime);
        if (left) {
            addText(c,s, "left", "top", "微软雅黑", 9, "808080", "");
        } else {
            addText(c,s, "right", "top", "微软雅黑", 9, "808080", "");
            
        }
    }
    
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}

sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_seconds = g5.getUtcTime(dataset.getData(2,index));
    panel.v_msgContent = dataset.getData(3,index);
    panel.v_photo1 = dataset.getData(4,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 5, index);
}

sender.displayTime = function(time) {
    return (
        (time.getMonth()+1) + "月" +
        time.getDate() + "日 " +
        (time.getHours()<10?"0":"") + time.getHours() + ":" +
        (time.getMinutes()<10?"0":"") + time.getMinutes()
    );
}

sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGet1v1.busy) return;    

    sender.v_nohis = false;
    chatGet1v1.roomId = sender.v_roomId;
    chatGet1v1.chatId = sender.v_items[0].v_id;
    chatGet1v1.isNew = 0;
    chatGet1v1.my = sender;
    chatGet1v1.onComplete = function(dataset) {
        if (dataset.rowCount<=0) {
            chatGet1v1.my.v_nohis = true;
            eb.processDock();
            return;
        }
        
        var fi = dataset.colCount;
        dataset.setColCount(fi+1);
        dataset.setData(fi,dataset.rowCount-1,1);
        for (var i = dataset.rowCount-2; i>=0; i--) {
            if (dataset.getData(2,i+1)-dataset.getData(2,i)>300) {
                dataset.setData(fi,i,1);    
            } else if (dataset.getData(5,i+1)!=dataset.getData(5,i)) {
                dataset.setData(fi,i,1);    
            } else {
                dataset.setData(fi,i,dataset.getData(fi,i+1)+1);    
            }
        }
        var isBlock = false;
        for (var i=0; i<dataset.rowCount; i++) {
            if (dataset.getData(fi,i)>=2) {
                if (isBlock) {
                    dataset.setData(fi,i,3);
                } else {
                    isBlock = true;
                    dataset.setData(fi,i,4);
                }
            } else {
                if (isBlock) {
                    isBlock = false;
                    dataset.setData(fi,i,2);
                } else {
                }
            }
        }
        
        //for (var i=dataset.rowCount-1; i>=0; i--) {
        //    dataset.setData(3,i,dataset.getData(fi,i) + " >" + dataset.getData(3,i));    
        //}

        var cy = 0;
        var root = chatGet1v1.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "chatroom1v1_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            item.v_mode = dataset.getData(fi,i);
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    chatGet1v1();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}














]]></onCreate>
      <sizeRatio>2.10810810810811</sizeRatio>
      <top>0</top>
      <width>296</width>
      <widthRatio>0.964169381107492</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>624</height>
      <heightRatio>1</heightRatio>
      <left>296</left>
      <leftRatio>0.964169381107492</leftRatio>
      <sizeRatio>56.7272727272727</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0358306188925081</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>624</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.v_div = null;
sender.init = function(div) {
    if (this.v_div != null) {
        this.v_div.removeEventListener("mousewheel", this.onMouseWheel,false);
    }
    this.v_div = div;
    div.addEventListener("mousewheel",this.onMouseWheel,false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

sender.onMouseWheel = function(event) {
    div = sender.v_div;
    if (event.wheelDelta<0) {
        div.scrollTop += 20;
    } else {
        div.scrollTop -= 20;
    }
    ee.setRect(sender.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
}


//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>62.4</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem33">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>28</height>
      <heightRatio>0.0448717948717949</heightRatio>
      <left>0</left>
      <sizeRatio>2.8</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem33/panel362">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>28</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.8</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem34">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>567</height>
      <heightRatio>0.908653846153846</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>56.7</sizeRatio>
      <top>28</top>
      <topRatio>0.0448717948717949</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem34/panel363">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>0.0299823633156966</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.0105820105820106</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem35">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>29</height>
      <heightRatio>0.046474358974359</heightRatio>
      <left>0</left>
      <sizeRatio>2.9</sizeRatio>
      <top>595</top>
      <topRatio>0.953525641025641</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem12/layoutx12/layoutxitem28/layouty14/layoutyitem35/panel364">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.9</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem13">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavy>10</heavy>
      <heavyEnabled>false</heavyEnabled>
      <height>49</height>
      <heightRatio>0.0678670360110803</heightRatio>
      <left>0</left>
      <note>功能按钮区</note>
      <sizeRatio>0.159609120521173</sizeRatio>
      <top>673</top>
      <topRatio>0.93213296398892</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem13/panel120">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>1</height>
      <heightRatio>0.0204081632653061</heightRatio>
      <left>0</left>
      <sizeRatio>0.00325732899022801</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem13/edit6">
      <backgroundSkin>edit1</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.591836734693878</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <multiLine>true</multiLine>
      <onChange>var edit = sender.parentNode;
var text = ee.getEditText(edit);
edit.setText(text);
</onChange>
      <onCreate><![CDATA[sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem13"));
    ee.setRect(ee.getControl("layoutyitem13"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem12"));
    ee.setRect(ee.getControl("layoutyitem12"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    var rect = eb.getDivRect(sender._input);
    ee.setRect(sender.c_tester, rect.w+300, 0, rect.w+2, sender.v_defaultH);
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var msgContent = ee.getEditText(ee.getControl("edit6")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        if (msgContent.length>200) msgContent = msgContent.substr(0,200);
        
        ee.getControl("edit6").setText("");
        //content, chatUserId, onComplete()
        if (sendChat1v1.busy) return;
        
        
        sendChat1v1.chatUserId = chatGet1v1.chatUserId;
        sendChat1v1.content = msgContent;
        sendChat1v1.onComplete = function() {
            g5.p3.p3.c_chat.c_chatRoot.refresh(true);
        }
        sendChat1v1();        
                        
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>50</outerRight>
      <sizeRatio>0.117408906882591</sizeRatio>
      <text>有什么想说的？</text>
      <top>11</top>
      <topRatio>0.224489795918367</topRatio>
      <width>247</width>
      <widthRatio>0.804560260586319</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/layouty6/layoutyitem13/panel121">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>32</height>
      <heightRatio>0.653061224489796</heightRatio>
      <left>263</left>
      <leftRatio>0.856677524429967</leftRatio>
      <onClick><![CDATA[var msgContent = ee.getEditText(ee.getControl("edit6")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
if (msgContent.length>200) msgContent = msgContent.substr(0,200);

ee.getControl("edit6").setText("");
//content, chatUserId, onComplete()
if (sendChat1v1.busy) return;


sendChat1v1.chatUserId = chatGet1v1.chatUserId;
sendChat1v1.content = msgContent;
sendChat1v1.onComplete = function() {
    g5.p3.p3.c_chat.c_chatRoot.refresh(true);
}
sendChat1v1();

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <outerRight>7</outerRight>
      <sizeRatio>0.864864864864865</sizeRatio>
      <text>发送</text>
      <top>8</top>
      <topRatio>0.163265306122449</topRatio>
      <width>37</width>
      <widthRatio>0.120521172638436</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel116/panel36">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>722</height>
      <heightRatio>1</heightRatio>
      <left>306</left>
      <leftRatio>0.996742671009772</leftRatio>
      <sizeRatio>722</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.00325732899022801</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>780</height>
      <heightRatio>1.0803324099723</heightRatio>
      <layerName><![CDATA[P3->4->账号]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>sender.reset();</onAniStart>
      <onCreate><![CDATA[sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>2.54071661237785</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel168">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0653846153846154</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel168/panel169">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>16</left>
      <leftRatio>0.0521172638436482</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.51</sizeRatio>
      <text>账号</text>
      <top>0</top>
      <widthRatio>0.325732899022801</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel170">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel168</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";

</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>   登录和安全</text>
      <top>51</top>
      <topRatio>0.0653846153846154</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel171">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel170</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.changeP3(10);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    用户名</text>
      <top>96</top>
      <topRatio>0.123076923076923</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel171/panel172">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel171/panel173">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel174">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel171</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.changeP3(11);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    手机</text>
      <top>141</top>
      <topRatio>0.180769230769231</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel174/panel175">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel174/panel176">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel177">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel174</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.changeP3(12);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    电子邮件</text>
      <top>186</top>
      <topRatio>0.238461538461538</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel177/panel178">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel177/panel179">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel180">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel177</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
g5.changeP3(7);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    密码</text>
      <top>231</top>
      <topRatio>0.296153846153846</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel180/panel181">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel167/panel180/panel182">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>780</height>
      <heightRatio>1.0803324099723</heightRatio>
      <layerName><![CDATA[P3->5->隐私和安全]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>sender.reset();</onAniStart>
      <onCreate><![CDATA[sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>2.54071661237785</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel190">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0653846153846154</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel190/panel191">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>16</left>
      <leftRatio>0.0521172638436482</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>隐私和安全</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel192">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel190</bindControl>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>   安全</text>
      <top>51</top>
      <topRatio>0.0653846153846154</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel193">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel192</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";

sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    已隐藏</text>
      <top>96</top>
      <topRatio>0.123076923076923</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel193/panel194">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel193/panel195">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel196">
      <backgroundColor>FFC080</backgroundColor>
      <bindControl>panel193</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>45</height>
      <heightRatio>0.0576923076923077</heightRatio>
      <left>0</left>
      <onClick>sender.parentNode.setSelected(sender);
showBlockList();</onClick>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";


sender.selected = false;
ee.setOnMouseEnter(sender, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(sender, function(sender,e){
    if (!sender.selected) sender.style.backgroundColor = "";
});
</onCreate>
      <sizeRatio>0.146579804560261</sizeRatio>
      <text>    已屏蔽账号</text>
      <top>141</top>
      <topRatio>0.180769230769231</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel196/panel197">
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>18</height>
      <heightRatio>0.4</heightRatio>
      <left>272</left>
      <leftRatio>0.885993485342019</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style='height:18px;color:#657786;fill: currentcolor;vertical-align:middle;'>"+g5.iconArrowRight+"</svg>";
]]></onCreate>
      <outerRight>20</outerRight>
      <sizeRatio>1.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>13</top>
      <topRatio>0.288888888888889</topRatio>
      <width>15</width>
      <widthRatio>0.0488599348534202</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel189/panel196/panel198">
      <backgroundColor>1DA1F2</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>45</height>
      <heightRatio>1</heightRatio>
      <left>303</left>
      <leftRatio>0.986970684039088</leftRatio>
      <onCreate>sender.parentNode.rightLine = sender;</onCreate>
      <sizeRatio>11.25</sizeRatio>
      <top>0</top>
      <width>4</width>
      <widthRatio>0.0130293159609121</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel208">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>702</height>
      <heightRatio>0.972299168975069</heightRatio>
      <layerName><![CDATA[P3->6->已屏蔽账号]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>sender.reset();</onAniStart>
      <onCreate><![CDATA[sender.refresh = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        if (this.eeChildren[i].selected) {
            ee.setVisible(this.eeChildren[i].rightLine, true);
            this.eeChildren[i].style.backgroundColor = "rgb(245,248,250)";
        } else {
            ee.setVisible(this.eeChildren[i].rightLine, false);
            this.eeChildren[i].style.backgroundColor = "";
        }
    }
}

sender.reset = function() {
    for (var i=0; i<this.eeChildren.length; i++) {
        if (eb.isEmpty(this.eeChildren[i].selected)) continue;
        this.eeChildren[i].selected = false;
    }
    this.refresh();
}

sender.setSelected = function(item) {
    this.reset();
    item.selected = true;
    this.refresh();
}]]></onCreate>
      <sizeRatio>2.28664495114007</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel208/panel209">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel208/panel209/panel211">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>16</left>
      <leftRatio>0.0521172638436482</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>已屏蔽账号</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel208/panel212">
      <autoScroll>true</autoScroll>
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>649</height>
      <heightRatio>0.924501424501424</heightRatio>
      <left>0</left>
      <outerTop>53</outerTop>
      <sizeRatio>2.11400651465798</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>702</height>
      <heightRatio>0.972299168975069</heightRatio>
      <layerName><![CDATA[P3->7->修改密码]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>ee.setEditText(ee.getControl("edit8"),"");
ee.setEditText(ee.getControl("edit9"),"");
ee.setEditText(ee.getControl("edit10"),"");
ee.getControl("panel248").setEnabled(false);




                                
</onAniStart>
      <onCreate><![CDATA[sender.refresh = function() {
    ee.getControl("panel248").setEnabled(
        (ee.getEditText(ee.getControl("edit8")).length>0) &amp;&amp;
        (ee.getEditText(ee.getControl("edit9")).length>0) &amp;&amp;
        (ee.getEditText(ee.getControl("edit10")).length>0)
    );
}

]]></onCreate>
      <sizeRatio>2.28664495114007</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel234">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel234/panel235">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>52</left>
      <leftRatio>0.169381107491857</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>修改密码</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel234/panel228">
      <cursor>pointer</cursor>
      <height>37</height>
      <heightRatio>0.725490196078431</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onClick>g5.changeP3(4);
window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 27 27\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 0px 0px 6px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.iconBack+"</svg>";
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    //sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    //sender.childNodes[0].style.color = "rgb(101,119,134)";
});

]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>37</width>
      <widthRatio>0.120521172638436</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>399</height>
      <heightRatio>0.568376068376068</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>1.29967426710098</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel237">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>10</top>
      <topRatio>0.025062656641604</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel237/panel238">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>当前密码</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel231/panel236/panel237/edit8">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();
</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel237/panel239">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel240">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>123</top>
      <topRatio>0.308270676691729</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel240/panel241">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新密码</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel231/panel236/panel240/edit9">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel240/panel249">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel243">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.165413533834586</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>210</top>
      <topRatio>0.526315789473684</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel243/panel244">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>确认密码</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel231/panel236/panel243/edit10">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <inputPassword>true</inputPassword>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel243/panel250">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel246">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.025062656641604</heightRatio>
      <left>0</left>
      <sizeRatio>0.0325732899022801</sizeRatio>
      <top>95</top>
      <topRatio>0.238095238095238</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel247">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.050125313283208</heightRatio>
      <left>0</left>
      <sizeRatio>0.0651465798045603</sizeRatio>
      <top>291</top>
      <topRatio>0.729323308270677</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel231/panel236/panel248">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.100250626566416</heightRatio>
      <left>209</left>
      <leftRatio>0.680781758957655</leftRatio>
      <onClick>if (!sender.v_enabled) return;
var p1 = ee.getEditText(ee.getControl("edit8"));
var p2 = ee.getEditText(ee.getControl("edit9"));
var p3 = ee.getEditText(ee.getControl("edit10"));
if (p2!=p3) {
    g5.alert1("提示", "新密码两次输入的不一致，请重新输入");
    return;
}

changePassword.old = p1;
changePassword.new = p2;
changePassword.onComplete = function(参数) {
    g5.alert1("提示", "密码修改完成，请牢记您的新密码");
    g5.changeP3(4);    
}
changePassword();
</onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(true);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>323</top>
      <topRatio>0.80952380952381</topRatio>
      <width>83</width>
      <widthRatio>0.270358306188925</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>623</height>
      <heightRatio>0.862880886426593</heightRatio>
      <layerName><![CDATA[p3.p8->个人页右侧]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.p1 = ee.getControl("panel295");
sender.p2 = ee.getControl("panel307");
sender.init = function() {
    this.p1.init();
    this.p2.init();
    g5.tiledV(this, 15);
    g5.resizeV(this,2);
}
</onCreate>
      <sizeRatio>2.02931596091205</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <height>278</height>
      <heightRatio>0.446227929373997</heightRatio>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p1->私有聊天]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_buttons = ee.getControl("panel300");
sender.c_title = ee.getControl("panel296");
sender.c_userList = ee.getControl("layoutx4");
sender.c_chatRoom = ee.getControl("panel289");
sender.v_size = 0;

sender.init = function() {
    if (!eb.isEmpty(this.joinRequest)) {
        for (var i=0; i<this.joinRequest.length; i++) {
            ee.removeControl(this.joinRequest[i]);
        }
    }
    this.joinRequest = new Array();
    var cy = 0;
    if (!eb.isEmpty(showUserPage.joinPrvRequest)) {
        var i, item;
        var root = this;
        var itemWidth = eb.getDivRectSetting(root).w;
        for (i=0; i< showUserPage.joinPrvRequest.rowCount; i++) {
            var item = createPanel(root, "prvreq_" + showUserPage.joinPrvRequest.getData(0,i), "", 0, cy, itemWidth, 5);
            ee.changeParent(item, root, i+1);
            this.loadJoinRecord(item, showUserPage.joinPrvRequest, i);
            this.renderJoinRecord(item);
            this.joinRequest.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        g5.tiledV(root,5);
        g5.resizeV(root, 2);
    }
    ee.setVisible(this.c_userList, false);
    this.c_userList.init();
    g5.tiledV(this, 0);
    g5.resizeV(this, 3);
    this.c_buttons.init();
    ee.setRect(this.c_chatRoom,null,null,null,400);
    this.setSize("min");
} 

sender.appendJoinRequest = function(userInfo) {
    for (var i=0; i<this.joinRequest.length; i++) {
        if (this.joinRequest[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.joinPrvRequest.rowCount; i++) {
        var a = parseInt(showUserPage.joinPrvRequest.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.joinPrvRequest.rowCount;
    showUserPage.joinPrvRequest.setRowCount(showUserPage.joinPrvRequest.rowCount + 1);
    showUserPage.joinPrvRequest.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.joinPrvRequest, 2, idx);
    this.init();
    g5.tiledResizeV(this, 3);
}

sender.deleteJoinRequest = function(userInfo) {
    var dat = showUserPage.joinPrvRequest;
    for (var i=0; i<this.joinRequest.length; i++) {
        if (this.joinRequest[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.init();
    g5.tiledResizeV(this, 3);
}

sender.appendPermitUser = function(userInfo) {
    for (var i=0; i<this.c_userList.v_items.length; i++) {
        if (this.c_userList.v_items[i].v_userInfo.id == userInfo.id) return;
    }
    var maxValue = 0;
    for (var i=0; i<showUserPage.permitUsers.rowCount; i++) {
        var a = parseInt(showUserPage.permitUsers.getData(0,i));
        if (a>maxValue) maxValue = a;
    }
    maxValue += 100;
    var idx = showUserPage.permitUsers.rowCount;
    showUserPage.permitUsers.setRowCount(showUserPage.permitUsers.rowCount + 1);
    showUserPage.permitUsers.setData(0,idx,maxValue + "");
    userInfo.setDataset(showUserPage.permitUsers, 2, idx);
    this.c_userList.init();
    g5.tiledResizeV(this, 3);
}

sender.deletePermitUser = function(userInfo) {
    var dat = showUserPage.permitUsers;
    for (var i=0; i<this.c_userList.v_items.length; i++) {
        if (this.c_userList.v_items[i].v_userInfo.id != userInfo.id) continue;
        dat.removeRowAt(i);
        break;
    }
    this.c_userList.init();
    g5.tiledResizeV(this, 3);
}

sender.changeSize = function() {
    if (this.v_sizeMode == "min") {
        this.setSize("max");
    } else if (this.v_sizeMode == "max") {
        this.setSize("min");
    }
}
 
sender.setSize = function(sizeMode) {
    this.v_sizeMode = sizeMode;
    if (sizeMode == "min") {
        ee.setRect(g5.p3.p8.p1,null,null,null,eb.getDivRectSetting(g5.p3.p8.p1.c_title).h);
        ee.setVisible(this.c_buttons.eeChildren[0], false);
    } else if (sizeMode == "max") {
        g5.tiledV(g5.p3.p8.p1, 0);
        if (g5.myUserInfo.id == showUserPage.id) {
            ee.setVisible(this.c_buttons.eeChildren[0], true);
        }
        this.c_buttons.init();
    }
    g5.tiledResizeV(g5.p3.p8, 2)
}

sender.loadJoinRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_reqeustDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderJoinRecord = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    root.style.borderBottom = "";
    //root.style.borderRadius = "3px 25px 3px 3px";
    root.style.cursor = "pointer";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "私有聊天室许可",
            "您是否允许<b>" + nickName + "@" + userName + "</b>进入您的私有聊天室？",
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","拒绝","拒绝进入","拒绝进入","#ffffff","#ffffff","#ffffff","")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","允许","允许进入","允许进入","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvPermit.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvPermit.userId = sender.v_userInfo.id;
                chatPrvPermit.onComplete = function() {
                    g5.p3.p8.p1.deleteJoinRequest(sender.v_userInfo);
                    g5.p3.p8.p1.appendPermitUser(sender.v_userInfo);
                }
                chatPrvPermit();
            },
            function() {
                chatPrvReject.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvReject.userId = sender.v_userInfo.id;
                chatPrvReject.onComplete = function() {
                    g5.p3.p8.p1.deleteJoinRequest(sender.v_userInfo);
                }
                chatPrvReject();
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 15,cy,38,38);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 63, cy-1, 295, 40); cy+=22;
    addText(c,
        "<b>" + root.v_userInfo.nickName + "</b>" +
        "<font color='#6e7f8d'>@" + root.v_userInfo.userName + "</font>" +
        " 请求加入您的私有聊天室，您是否同意？",
        "left", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}




]]></onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>1.00361010830325</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00160513643659711</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.129496402877698</heightRatio>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel297">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>私人聊天室</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>156</left>
      <leftRatio>0.563176895306859</leftRatio>
      <note><![CDATA[p3.p8.p1.buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.init = function() {
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    var w = eb.getDivRectSetting(this.parentNode).w;
    ee.setRect(this,w-cx,null,cx,null);
}


]]></onCreate>
      <sizeRatio>0.297520661157025</sizeRatio>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.436823104693141</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300/panel301">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>23</left>
      <leftRatio>0.190082644628099</leftRatio>
      <onClick>if (g5.p3.p8.p1.c_userList.style.visibility=="hidden") {
    ee.changeParent(g5.p3.p8.p1.c_userList, g5.p3.p8.p1, 1);
    ee.setVisible(g5.p3.p8.p1.c_userList, true);
} else {
    ee.setVisible(g5.p3.p8.p1.c_userList, false);
}
g5.tiledV(g5.p3.p8.p1, 0);
g5.tiledV(g5.p3.p8, 15);
g5.resizeV(g5.p3.p8.p1, 3);
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>成员</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel296/panel300/panel302">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>80</left>
      <leftRatio>0.661157024793388</leftRatio>
      <onClick>g5.p3.p8.p1.changeSize();
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>64</height>
      <heightRatio>0.23021582733813</heightRatio>
      <left>0</left>
      <note><![CDATA[c_userList->成员列表]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";

sender.init = function() {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    if (!eb.isEmpty(showUserPage.permitUsers)) {
        var i, item;
        var root = ee.getControl("layoutxitem8");
        var itemWidth = eb.getDivRectSetting(root).w;
        var cy = 0;
        for (i=0; i< showUserPage.permitUsers.rowCount; i++) {
            var item = createPanel(root, "prvreq_" + showUserPage.permitUsers.getData(0,i), "", 0, cy, 65, 90);
            ee.changeParent(item, root, i+1);
            this.loadRecord(item, showUserPage.permitUsers, i);
            this.renderItem(item);
            this.v_items.push(item);
            cy += 0 + eb.getDivRect(item).h;
        }
        this.arrange(root, 0, 5);
        ee.setRect(ee.getControl("layoutxitem9"),null,null,null,30);
        g5.resizeV(root, 2);
        var ch = eb.getDivRectSetting(this).h + 10;
        if (ch>360) ch = 360;
        ee.setRect(this,null,null,null,ch);
        ee.getControl("layouty11").init(root);
    }
} 

sender.arrange = function(div, ySpace, xCount) {
    if (div.eeChildren.length<=0) return;
    var rect = eb.getDivRect(div.eeChildren[0]);
    var xSpace = eb.getDivRectSetting(div).w;
    xSpace = parseInt((xSpace - xCount*rect.w)/(3+xCount));
    for (var i=0; i<div.eeChildren.length; i++) {
        ee.setRect(div.eeChildren[i], xSpace*2 + (i%xCount)*(rect.w+xSpace), ySpace*2 + parseInt(i/xCount) * (rect.h + ySpace), null, null);
    }     
}

sender.loadRecord = function(panel, dataset, index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_joinDatetime = dataset.getData(1,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.cursor = "pointer";
    root.style.borderRadius = "10px";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "移出私有聊天室",
            "是否将 <b>" + nickName + "@" + userName + "</b> 移出您的私有聊天室？该用户将不会看到私有聊天室的内容，再次进入需要重新提交申请。",
            [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定移出","确定移出","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvDelete.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvDelete.userId = sender.v_userInfo.id;
                chatPrvDelete.onComplete = function() {
                    g5.p3.p8.p1.deletePermitUser(sender.v_userInfo);
                }
                chatPrvDelete();
            },
            function() {
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 5,5,55,55);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "10px";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 700);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 0, 60, 65, 18);
    addText(c,
        root.v_userInfo.nickName,
        "center", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    //eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.231046931407942</sizeRatio>
      <top>43</top>
      <topRatio>0.154676258992806</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem8">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>成员root</note>
      <sizeRatio>0.240601503759398</sizeRatio>
      <top>0</top>
      <width>266</width>
      <widthRatio>0.96028880866426</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <left>266</left>
      <leftRatio>0.96028880866426</leftRatio>
      <sizeRatio>5.81818181818182</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0397111913357401</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>64</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>6.4</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem24">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.234375</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem24/panel303">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem25">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>34</height>
      <heightRatio>0.53125</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>3.4</sizeRatio>
      <top>15</top>
      <topRatio>0.234375</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem25/panel304">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>0.5</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.176470588235294</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem26">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>15</height>
      <heightRatio>0.234375</heightRatio>
      <left>0</left>
      <sizeRatio>1.5</sizeRatio>
      <top>49</top>
      <topRatio>0.765625</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/layoutx4/layoutxitem9/layouty11/layoutyitem26/panel305">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>15</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>1.5</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>fill</dockX>
      <height>143</height>
      <heightRatio>0.514388489208633</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chatRoom->聊天室]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";
//sender.style.borderRadius = "0px 0px 5px 5px";
sender.c_chatRoot = ee.getControl("layoutxitem6");

</onCreate>
      <sizeRatio>0.516245487364621</sizeRatio>
      <top>113</top>
      <topRatio>0.406474820143885</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>143</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.516245487364621</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>92</height>
      <heightRatio>0.643356643356643</heightRatio>
      <left>0</left>
      <sizeRatio>0.332129963898917</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>92</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.332129963898917</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem6">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>92</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note><![CDATA[c_chatRoot->聊天root]]></note>
      <onCreate><![CDATA[sender.minRefreshTime = 3000;
sender.maxRefreshTime = 60000;
sender.running = false;
sender.start = function(roomId) {
    if (this.v_roomId == roomId) {
        this.clearTimer();
        this.v_tfId = setInterval(function() {
            sender.timeFragment();    
        }, 500);
        this.running = true;
        return;
    }
    this.v_roomId = roomId;
    this.firstRun = true;
    this.currentRefreshTime = this.minRefreshTime;
    this.v_lastChatId = 0;
    for (var i=0; i<this.v_items.length; i++) ee.removeControl(this.v_items[i]);
    this.v_items = new Array();
    this.v_nohis = false;
    ee.getControl("layouty10").init(sender);
    this.clearTimer();
    if (showUserPage.privateChatRoomRights) {
        ee.setText(ee.getControl("panel294"), "发送");
    } else {
        ee.setText(ee.getControl("panel294"), "申请");
        return;
    }
    this.v_tfId = setInterval(function() {
        sender.timeFragment();    
    }, 500);
    this.running = true;
    this.refresh();        
}
sender.stop = function() {
    this.clearTimer();
    this.running = false;
}

//==implementation==//
sender.v_items = new Array();
sender.currentRefreshTime = sender.minRefreshTime;
sender.v_lastChatId = 0;
sender.v_timerId = null;
sender.v_tfId = null;
//sender.style.overflowX = "hidden";
sender.v_mouseDown = false;
sender.refresh = function(force) {
    if (!chatGetPv.busy) {
        chatGetPv.roomId = this.v_roomId;
        chatGetPv.chatId = this.v_lastChatId;
        chatGetPv.isNew = 1;
        chatGetPv.my = this;
        chatGetPv.onComplete = function(dataset) {
            var cy = 0;
            var root = chatGetPv.my;
            if (root.v_items.length>0) {
                var rect = eb.getDivRect(root.v_items[root.v_items.length-1]);
                cy = rect.y + rect.h;
            }
            var itemWidth = eb.getDivRect(root).w;
            for (var i=dataset.rowCount-1; i>=0; i--) {
                var item = createPanel(root, "prvcr_" + dataset.getData(0,i), "", 0, cy, itemWidth, 5);
                root.loadData(item, dataset, i);
                if (item.v_chatStatus == "CMD") {
                    if (!root.firstRun) {
                        if (item.v_msgContent == "PrvReq") {
                            if (g5.myUserInfo.id == showUserPage.v_userInfo.id) {
                                g5.p3.p8.p1.appendJoinRequest(item.v_userInfo);
                            }
                        } else if (item.v_msgContent == "PrvDel") {
                            if (item.v_userInfo.id == g5.myUserInfo.id) {
                                root.stop();
                                showUserPage.privateChatRoomRights = false;
                                g5.alert1("提示", "很遗憾，您已经被房主移出了私有聊天室。您将不能在本聊天室发言，您以前的发言仍旧保留。");
                            }
                        }
                    }
                    root.v_lastChatId = item.v_id;
                    ee.removeControl(item);
                    continue;
                }
                root.renderMsg(item);
                cy += 0 + eb.getDivRect(item).h;
                root.v_items.push(item);
                root.v_lastChatId = dataset.getData(0,i);
            }
            if (dataset.rowCount>0) {
                root.scrollTop = cy - eb.getDivRect(root).h;
                root.currentRefreshTime = root.minRefreshTime;
            }
            root.firstRun = false;    
        }
        chatGetPv();
    }
    if (this.running) {
        if (eb.isEmpty(force)) {
            if (this.currentRefreshTime <= 12000) {
                this.currentRefreshTime += 1000;
            } else {
                this.currentRefreshTime += parseInt(this.currentRefreshTime*0.2);
            }
            this.currentRefreshTime = Math.min(this.currentRefreshTime, this.maxRefreshTime); 
        } else {
            this.currentRefreshTime = this.minRefreshTime;
        }
        if (this.v_timerId!=null) {
            clearTimeout(this.v_timerId);
            this.v_timerId = null;
        }
        this.v_timerId = setTimeout(function() {
            sender.refresh();
        }, this.currentRefreshTime);
    }
}

sender.clearTimer = function() {
    if (this.v_timerId!=null) {
        clearTimeout(this.v_timerId);
        this.v_timerId = null;
    }
    if (this.v_tfId!=null) {
        clearInterval(this.v_tfId);
        this.v_tfId = null;
    }
}

sender.renderMsg = function(root) {
    var c,rect;
    var cy = 2;
    var mainWidth = eb.getDivRect(root).w;
    //photo
    if (root.v_chatStatus != "SYS") {
        c = createPanel(root, root.id+"_img", "", 24, cy, 25, 25);
        c.style.cursor = "pointer";
        c.style.borderRadius = "50%";
        if (root.v_userInfo.photo == "") {
            ee.setImage(c,"/twitterG/main/user.png","trim","","")
        } else {
            ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
        }
        c.v_timer = null;
        root.c_photo = c;
        ee.setOnClick(c, function(sender, event) {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        });
        ee.setOnMouseEnter(c, function(sender,e) {
            sender.style.webkitFilter="brightness(80%)";
            sender.style.filter="brightness(80%)";
        });
        ee.setOnMouseLeave(c, function(sender,e) {
            sender.style.webkitFilter="brightness(100%)";
            sender.style.filter="brightness(100%)";
        });
    }
    //message
    if (root.v_chatStatus == "SYS") {
        c = createPanel(root, root.id+"_msg", "", 24, cy, mainWidth-24, 10);
    } else {
        c = createPanel(root, root.id+"_msg", "", 55, cy, mainWidth-60-24, 10);
    }
    root.c_content = c;
    var user = g5.showCommonText(root.v_userInfo.nickName);
    var textColor = "000000";
    if (root.v_chatStatus == "SYS") {
        user = "<span style='background-color:#48ccfe;border-radius:3px;font-weight:bold;color:#4e4e4e'> 系统提示 </span>";
        textColor = "0061a2";    
    } else if (root.v_userInfo.id == showUserPage.v_userInfo.id) {
        user = "<span style='background-color:#fcd801;border-radius:3px;font-weight:bold'> " + user + " </span>";    
    } else {
        user = "<font color='#6f6f6f'><b>" + user + "</b></font>";
    }
    addText(c, "<font color='#6e6e6e' style='font-family:宋体,Consolas,Monaco,monospace;text-indent:-1ch;'>" + root.parentNode.displayTime(root.v_regDatetime)+ " " + user + "</font> " + root.v_msgContent, "left", "top", "微软雅黑", 9, textColor, "normal");
    c.label.style.wordBreak = "break-all";
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h + 2;
    cy = Math.max(25+4,cy);
    ee.setRect(root, null,null,null,cy);
}

sender.loadData = function(panel,dataset,index) {
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = g5.getUtcTime(dataset.getData(1,index));
    panel.v_chatStatus = dataset.getData(2,index);
    panel.v_roomId = dataset.getData(3,index);
    panel.v_msgContent = dataset.getData(4,index);
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset, 5, index);
}

sender.displayTime = function(time) {
    return (
        //(time.getMonth()+1) + "月" +
        //time.getDate() + "日 " +
        (time.getHours()<10?"0":"") + time.getHours() + ":" +
        (time.getMinutes()<10?"0":"") + time.getMinutes()
    );
}

sender.timeFragment = function() {
    if (sender.v_mouseDown) return;
    if (sender.v_nohis) return;
    if (sender.v_items.length<=0) return;
    var y = eb.getDivRect(sender.v_items[0]).y;
    if (sender.scrollTop > y+50) return;
    if (chatGetPv.busy) return;    

    sender.v_nohis = false;
    chatGetPv.roomId = sender.v_roomId;
    chatGetPv.chatId = sender.v_items[0].v_id;
    chatGetPv.isNew = 0;
    chatGetPv.my = sender;
    chatGetPv.onComplete = function(dataset) {
        var cy = 0;
        var root = chatGetPv.my;
        if (root.v_items.length>0) {
            var rect = eb.getDivRect(root.v_items[0]);
            cy = rect.y;
        }
        var itemWidth = eb.getDivRect(root).w;
        for (var i=0; i<dataset.rowCount; i++) {
            var item = createPanel(root, "prvcr_" + dataset.getData(0,i), "", 0, cy-100, itemWidth, 5);
            root.loadData(item, dataset, i);
            root.renderMsg(item);
            cy -= eb.getDivRect(item).h;
            ee.setRect(item,null,cy,null,null);
            root.v_items.splice(0,0,item);
        }
        if (dataset.rowCount<=0) {
            root.v_nohis = true;
        }
        cy = -cy;
        root.move(cy);
        sender.scrollTop += cy;    
    }
    chatGetPv();
};

sender.move = function(dy) {
    if (dy==0) return;
    for (var i=0; i<this.v_items.length; i++) {
        ee.setRect(this.v_items[i], null,eb.getDivRect(this.v_items[i]).y+dy,null,null);
    }
}

sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_mouseDown = true;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_mouseDown = false;
    sender.releasePointerCapture(event.pointerId);
}














]]></onCreate>
      <sizeRatio>0.345864661654135</sizeRatio>
      <top>0</top>
      <width>266</width>
      <widthRatio>0.96028880866426</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>92</height>
      <heightRatio>1</heightRatio>
      <left>266</left>
      <leftRatio>0.96028880866426</leftRatio>
      <sizeRatio>8.36363636363636</sizeRatio>
      <top>0</top>
      <width>11</width>
      <widthRatio>0.0397111913357401</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>92</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_minValue = 0;
sender.v_maxValue = 100;
sender.v_pageSize = 10;
sender.v_lineColor = "#e6ecf0";
sender.init = function(div) {
    this.v_div = div;
    div.addEventListener("mousewheel",function(event){
        if (event.wheelDelta<0) {
            div.scrollTop += 20;
        } else {
            div.scrollTop -= 20;
        }
        ee.setRect(sender.c_bar, null,
            parseInt(div.scrollTop/div.scrollHeight*sender.eeChildren[1].offsetHeight),null,
            parseInt(div.offsetHeight/div.scrollHeight*sender.eeChildren[1].offsetHeight));
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        event.returnValue = false;
        return false;
    },false);
    this.v_minValue = 0;
    this.v_maxValue = div.scrollHeight;
    this.v_pagesize = div.offsetHeight;
    this.v_currentValue = div.scrollTop;
    this.c_bar = this.eeChildren[1].eeChildren[0];
    ee.setRect(this.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*this.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*this.eeChildren[1].offsetHeight));
}

//implementation
sender.onChange = function() {
    this.v_div.scrollTop = this.c_bar.offsetTop/this.eeChildren[1].offsetHeight*this.v_div.scrollHeight;
}
]]></onCreate>
      <outerRight>1</outerRight>
      <sizeRatio>9.2</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>0.909090909090909</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem20">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>28</height>
      <heightRatio>0.304347826086957</heightRatio>
      <left>0</left>
      <sizeRatio>2.8</sizeRatio>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem20/panel290">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>28</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop -= 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff", "#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.8</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem21">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>35</height>
      <heightRatio>0.380434782608696</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderBottom = "";
</onCreate>
      <sizeRatio>3.5</sizeRatio>
      <top>28</top>
      <topRatio>0.304347826086957</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem21/panel291">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>17</height>
      <heightRatio>0.485714285714286</heightRatio>
      <left>0</left>
      <onCreate>sender.v_down = false;
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_y = event.clientY;
    sender.v_rect = eb.getDivRectSetting(sender);
    sender.style.backgroundColor = "#6e7f8d";
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.style.backgroundColor = "#e6ecf0";
    var div = sender.parentNode.parentNode.v_div;
    var c = sender.parentNode.parentNode;
    ee.setRect(c.c_bar, null,
        parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
        parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));        
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dy = event.clientY - sender.v_y;
        var rectP = eb.getDivRectSetting(sender.parentNode);
        var y = sender.v_rect.y + dy;
        y = Math.max(y,0);
        y = Math.min(y, rectP.h - sender.v_rect.h);
        ee.setRect(sender, null, y, null, null);
        sender.parentNode.parentNode.onChange();
    }
}
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "#e6ecf0";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = "#fafaff";
});

sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.backgroundColor = "#fafaff";</onCreate>
      <sizeRatio>1.7</sizeRatio>
      <top>6</top>
      <topRatio>0.171428571428571</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem22">
      <backgroundColor>804040</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>29</height>
      <heightRatio>0.315217391304348</heightRatio>
      <left>0</left>
      <sizeRatio>2.9</sizeRatio>
      <top>63</top>
      <topRatio>0.684782608695652</topRatio>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem19/layoutx3/layoutxitem7/layouty10/layoutyitem22/panel292">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>29</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var div = sender.parentNode.parentNode.v_div;
div.scrollTop += 20;
var c = sender.parentNode.parentNode;
ee.setRect(c.c_bar, null,
    parseInt(div.scrollTop/div.scrollHeight*c.eeChildren[1].offsetHeight),null,
    parseInt(div.offsetHeight/div.scrollHeight*c.eeChildren[1].offsetHeight));
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#fafaff","#e6ecf0","#6e7f8d","","","","#000000","#ffffff","#ffffff","#e6ecf0")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>2.9</sizeRatio>
      <text>.</text>
      <top>0</top>
      <width>10</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23">
      <backgroundColor>FAFAFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <heavyEnabled>false</heavyEnabled>
      <height>51</height>
      <heightRatio>0.356643356643357</heightRatio>
      <left>0</left>
      <note>功能区root</note>
      <sizeRatio>0.184115523465704</sizeRatio>
      <top>92</top>
      <topRatio>0.643356643356643</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/panel293">
      <backgroundColor>E6ECF0</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>1</height>
      <heightRatio>0.0196078431372549</heightRatio>
      <left>0</left>
      <sizeRatio>0.0036101083032491</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/edit12">
      <backgroundSkin>edit1</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <height>29</height>
      <heightRatio>0.568627450980392</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <left>10</left>
      <leftRatio>0.036101083032491</leftRatio>
      <multiLine>true</multiLine>
      <onChange>var edit = sender.parentNode;
var text = ee.getEditText(edit);
edit.setText(text);
</onChange>
      <onCreate><![CDATA[sender.onHeightChange = function(sender, oldHeight, newHeight) {
    var dy = newHeight - oldHeight;
    if (dy==0) return;
    var rect = eb.getDivRect(ee.getControl("layoutyitem23"));
    ee.setRect(ee.getControl("layoutyitem23"),null,rect.y-dy,null,rect.h+dy);
    var rect = eb.getDivRect(ee.getControl("layoutyitem19"));
    ee.setRect(ee.getControl("layoutyitem19"),null,null,null,rect.h-dy);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;
sender.c_tester.label.style.wordBreak = "break-all";

sender.setText = function(text) {
    ee.setEditText(sender, text);
    if (text.length > 0) {
        if (text.charAt(text.length-1)=="\n") text+="a";
    }
    ee.setText(sender.c_tester, text);
    var h = eb.getDivRect(sender.c_tester.label).h;
    h = Math.max(sender.v_defaultH, h);
    var lastH = eb.getDivRectSetting(sender).h;
    if (h!=lastH) {
        ee.setRect(sender, null, null, null, h);
        if (!eb.isEmpty(sender.onHeightChange)) {
            sender.onHeightChange(sender, lastH, h);
        }
    }
}

sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        if (!showUserPage.privateChatRoomRights) {
            g5.chatPrvRequest(showUserPage.privateChatRoomId,showUserPage.nickName,showUserPage.userName);
            return;
        }
        var msgContent = ee.getEditText(ee.getControl("edit12")).trim();
        if (msgContent.length<=0) {
            event.preventDefault();
            return false;
        }
        if (msgContent.length>200) msgContent = msgContent.substr(0,200);
        
        sender.setText("");
        chatSend.roomId = showUserPage.privateChatRoomId
        chatSend.msgContent = msgContent;
        chatSend.onComplete = function() {
            ee.getControl("layoutxitem6").refresh(true);
        }
        chatSend();        
        event.preventDefault();
        return false;
    }
});]]></onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>50</outerRight>
      <sizeRatio>0.133640552995392</sizeRatio>
      <text>有什么想说的？</text>
      <top>10</top>
      <topRatio>0.196078431372549</topRatio>
      <width>217</width>
      <widthRatio>0.783393501805054</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel295/panel289/layouty9/layoutyitem23/panel294">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>center</dockY>
      <height>32</height>
      <heightRatio>0.627450980392157</heightRatio>
      <left>233</left>
      <leftRatio>0.84115523465704</leftRatio>
      <onClick><![CDATA[if (!showUserPage.privateChatRoomRights) {
    g5.chatPrvRequest(showUserPage.privateChatRoomId,showUserPage.v_userInfo.nickName,showUserPage.v_userInfo.userName);
    return;
}

var msgContent = ee.getEditText(ee.getControl("edit12")).trim();
if (msgContent.length<=0) {
    event.preventDefault();
    return false;
}
if (msgContent.length>200) msgContent = msgContent.substr(0,200);

ee.getControl("edit12").setText("");
chatSend.roomId = showUserPage.privateChatRoomId;
chatSend.msgContent = msgContent;
chatSend.onComplete = function() {
    ee.getControl("layoutxitem6").refresh(true);
}
chatSend();

window.event? window.event.cancelBubble = true : event.stopPropagation();
]]></onClick>
      <onCreate>sender.style.borderRadius = "10px";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});

</onCreate>
      <outerRight>7</outerRight>
      <sizeRatio>0.864864864864865</sizeRatio>
      <text>发送</text>
      <top>9</top>
      <topRatio>0.176470588235294</topRatio>
      <width>37</width>
      <widthRatio>0.133574007220217</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <height>256</height>
      <heightRatio>0.41091492776886</heightRatio>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p2->房主推荐]]></note>
      <onCreate><![CDATA[sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_buttons = ee.getControl("panel310");
sender.c_title = ee.getControl("panel308");
sender.c_list = ee.getControl("panel313");
sender.c_edit = ee.getControl("panel311");
sender.c_addButton = ee.getControl("panel314");
sender.v_size = 0;
sender.v_mode = "view";

sender.init = function() {
    ee.setVisible(this.c_edit, false);
    g5.tiledV(this, 10, 0, 0);
    if (showUserPage.id == g5.myUserInfo.id) {
        this.v_mode = "owner";
    } else {
        this.v_mode = "view";
    }
    this.c_list.refresh(showUserPage.hostRecomd);
    this.setMode(this.v_mode);    
}

sender.changeMode = function() {
    if (this.v_mode == "view") {
        return;
    } else if (this.v_mode == "owner") {
        this.setMode("edit");
    } else if (this.v_mode == "edit") {
        this.setMode("owner");
    }
}

sender.setMode = function(mode) {
    this.v_mode = mode;
    this.c_list.refreshMode(mode);
    this.c_buttons.init(mode);
    ee.setVisible(this, true);
    if (this.v_mode == "view") {
        if (showUserPage.hostRecomd.rowCount <= 0) {
            ee.setVisible(this, false);
        } else {
            ee.setVisible(this.c_addButton, false);
            this.c_edit.hide();
        }
    } else if (this.v_mode == "owner") {
        ee.setVisible(this.c_addButton, false);
        this.c_edit.hide();
    } else if (this.v_mode == "edit") {
        ee.setVisible(this.c_addButton, true);
    }
    g5.tiledResizeV(this, 3);
}


sender.loadJoinRecord = function(panel, dataset, index) {
    panel.v_userInfo = new g5.UserInfo();
    panel.v_userInfo.loadFromDataset(dataset,2,index);
    panel.v_id = dataset.getData(0,index);
    panel.v_reqeustDatetime = dataset.getData(1,index);
}

sender.renderJoinRecord = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderLeft = "";
    root.style.borderRight = "";
    root.style.borderBottom = "";
    //root.style.borderRadius = "3px 25px 3px 3px";
    root.style.cursor = "pointer";
    var userName = root.v_userInfo.userName;
    var nickName = root.v_userInfo.nickName;
    ee.setOnClick(root,function(sender,event) {
        ee.getControl("panel257").show(
            "私有聊天室许可",
            "您是否允许<b>" + nickName + "@" + userName + "</b>进入您的私有聊天室？",
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","拒绝","拒绝进入","拒绝进入","#ffffff","#ffffff","#ffffff","")],
            [new g5.BStyle("#1da1f2","#1a91da","#1781c2","允许","允许进入","允许进入","#ffffff","#ffffff","#ffffff","")],
            function() {
                chatPrvPermit.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvPermit.userId = sender.v_userInfo.id;
                chatPrvPermit.onComplete = function() {
                    var p = sender.parentNode;
                    ee.removeControl(sender);
                    g5.tiledV(p, 0);
                    g5.resizeV(p, 3);
                }
                chatPrvPermit();
            },
            function() {
                chatPrvReject.chatRoomId = showUserPage.privateChatRoomId;
                chatPrvReject.userId = sender.v_userInfo.id;
                chatPrvReject.onComplete = function() {
                    var p = sender.parentNode;
                    ee.removeControl(sender);
                    g5.tiledV(p, 0);
                    g5.resizeV(p, 3);
                }
                chatPrvReject();
            }
        );
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
    
    //user photo
    c = createPanel(root, root.id+"panel13", "", 15,cy,38,38);
    if (root.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_timer = null;
    root.c_photo = c;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        sender.v_timer = setTimeout(function() {
            ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
        }, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
    });
    
    //user nick name
    c = createPanel(root, root.id+"panel16", "", 63, cy-1, 295, 40); cy+=22;
    addText(c,
        "<b>" + root.v_userInfo.nickName + "</b>" +
        "<font color='#6e7f8d'>@" + root.v_userInfo.userName + "</font>" +
        " 请求加入您的私有聊天室，您是否同意？",
        "left", "middle", "微软雅黑", 9, "14171a", "");
    
    //cy+=10;
    eb.setDivRect(root,null,null,null,38+7*2);
    return root; 
}




]]></onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>0.924187725631769</sizeRatio>
      <top>260</top>
      <topRatio>0.417335473515249</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.140625</heightRatio>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel309">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>房主推荐视频</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310">
      <dockX>right</dockX>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>156</left>
      <leftRatio>0.563176895306859</leftRatio>
      <note><![CDATA[p3.p8.p1.buttons->按钮区域]]></note>
      <onCreate><![CDATA[sender.init = function(mode) {
    if (eb.isEmpty(mode)) mode = 0;
    if (mode == "view") {
        ee.setVisible(this.eeChildren[0], false);
    } else {
        ee.setVisible(this.eeChildren[0], true);
    }
    this.arrangeButton(10);
}

sender.arrangeButton = function(space) {
    var rect, cx = 0;
    for (var i=0; i<this.eeChildren.length; i++) {
        if (this.eeChildren[i].style.visibility == "hidden") continue;
        ee.setRect(this.eeChildren[i], cx, null, null, null);
        cx += eb.getDivRectSetting(this.eeChildren[i]).w + space;
    }
    cx+=space;
    var w = eb.getDivRectSetting(this.parentNode).w;
    ee.setRect(this,w-cx,null,cx,null);
}
]]></onCreate>
      <sizeRatio>0.297520661157025</sizeRatio>
      <top>0</top>
      <width>121</width>
      <widthRatio>0.436823104693141</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310/panel315">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontColor>1DA1F2</fontColor>
      <height>26</height>
      <heightRatio>0.722222222222222</heightRatio>
      <left>4</left>
      <leftRatio>0.0330578512396694</leftRatio>
      <onClick>g5.p3.p8.p2.changeMode();
if (g5.p3.p8.p2.v_mode == "edit") {
    sender.init(1);
} else if (g5.p3.p8.p2.v_mode == "owner") {
    sender.init(0);
}
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","编辑模式","编辑模式","编辑模式","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","编辑模式","编辑模式","编辑模式","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerBottom>5</outerBottom>
      <outerTop>5</outerTop>
      <sizeRatio>0.382352941176471</sizeRatio>
      <text>编辑模式</text>
      <top>5</top>
      <topRatio>0.138888888888889</topRatio>
      <width>68</width>
      <widthRatio>0.56198347107438</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel308/panel310/panel312">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>80</left>
      <leftRatio>0.661157024793388</leftRatio>
      <onClick>if (g5.p3.p8.p2.v_size == 0) {
    ee.setRect(g5.p3.p8.p2,null,null,null,eb.getDivRectSetting(g5.p3.p8.p2.c_title).h);
    g5.player.stop();
    g5.p3.p8.p2.v_size = 1;
} else if (g5.p3.p8.p2.v_size == 1) {
    g5.tiledV(g5.p3.p8.p2, 0);
    g5.resizeV(g5.p3.p8.p2, 3);
    g5.p3.p8.p2.v_size = 0;
}
g5.tiledV(g5.p3.p8, 15);
g5.resizeV(g5.p3.p8, 2);
</onClick>
      <sizeRatio>0.972972972972973</sizeRatio>
      <text>伸缩</text>
      <top>0</top>
      <width>37</width>
      <widthRatio>0.305785123966942</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel313">
      <dockX>fill</dockX>
      <height>26</height>
      <heightRatio>0.1015625</heightRatio>
      <left>0</left>
      <note><![CDATA[c_list->内容]]></note>
      <onCreate><![CDATA[sender.refresh = function(dataset) {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var i, item;
    var root = this;
    var itemWidth = eb.getDivRectSetting(root).w;
    if (dataset.rowCount == 0) {
        ee.setVisible(this, false);
        return;
    }
    ee.setVisible(this, true);
    var cy = 0;
    for (i=0; i < dataset.rowCount; i++) {
        var item = createPanel(root, "hRcmd_" + dataset.getData(0,i), "", 10, cy, itemWidth-20, 10);
        this.loadRecord(item, dataset, i);
        this.renderItem(item);
        if (this.parentNode.v_mode != "edit") {
            ee.setVisible(item.c_button1, false);
            ee.setVisible(item.c_button2, false);
            ee.setVisible(item.c_button3, false);
        }
        if (i==0) ee.setVisible(item.c_button1, false);
        if (i==dataset.rowCount-1) ee.setVisible(item.c_button3, false);
        this.v_items.push(item);
        cy += 0 + eb.getDivRect(item).h;
    }
    g5.tiledV(this, 10, 0, 1);
    g5.tiledResizeV(this, 4);
}

sender.refreshMode = function(mode) {
    for (var i=0; i<this.v_items.length; i++) {
        var item = this.v_items[i];
        if (mode != "edit") {
            ee.setVisible(item.c_button1, false);
            ee.setVisible(item.c_button2, false);
            ee.setVisible(item.c_button3, false);
        } else {
            ee.setVisible(item.c_button1, true);
            ee.setVisible(item.c_button2, true);
            ee.setVisible(item.c_button3, true);
        }
        if (i==0) ee.setVisible(item.c_button1, false);
        if (i==this.v_items.length-1) ee.setVisible(item.c_button3, false);
    }
}


sender.loadRecord = function(panel, dataset, index) {
    //id,regDatetime,orderSn,hostUserId,videoUrl,note
    panel.v_id = dataset.getData(0,index);
    panel.v_regDatetime = dataset.getData(1,index);
    panel.v_orderSn = dataset.getData(2,index);
    panel.v_videoUrl = dataset.getData(4,index);
    panel.v_note = dataset.getData(5,index);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var c,cy=7;
    
    root.style.boxSizing="border-box";
    root.style.borderWidth = "1px";
    root.style.borderColor = "rgb(230,236,240)";
    root.style.borderStyle = "solid";
    root.style.borderRadius = "15px";
    
    //video
    cy = w * 0.563;
    c = createPanel(root, root.id+"panel13", "", 0, 0, w, cy);
    root.c_video = c;
    c.v_mode = "";
    c = createPanel(c, root.id+"panel13a", "", 0, 0, w, cy);
    root.c_videoRoot = c;
    c.v_photo = root.v_videoUrl;
    //g5.addPhoto(c);
    g5.addVideoExt(c);

    //button1
    var by = 13;    
    c = createPanel(root, root.id+"button1", "", w-60, by, 60, 24); by+=25;
    root.c_button1 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","↑上移","↑上移","↑上移","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        hostRecomdMoveUp.videoId = sender.parentNode.v_id;
        hostRecomdMoveUp.onComplete = function() {
            refreshHostRecomd.userId = showUserPage.id;
            refreshHostRecomd.onComplete = function() {
                g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
            }
            refreshHostRecomd();
        }
        hostRecomdMoveUp();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);

    //button2
    c = createPanel(root, root.id+"button2", "", w-60, by, 60, 24); by+=25;
    root.c_button2 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","×删除","×删除","×删除","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel257").show(
            "删除视频",
            "确定删除这条房主推荐视频吗？删除后其他用户将不能看到此条推荐视频。",
            [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
            [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
            function() {
                hostRecomdDelete.videoId = sender.parentNode.v_id;
                hostRecomdDelete.onComplete = function() {
                    refreshHostRecomd.userId = showUserPage.id;
                    refreshHostRecomd.onComplete = function() {
                        g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
                    }
                    refreshHostRecomd();
                }
                hostRecomdDelete();
            }
        );
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);

    //button3
    c = createPanel(root, root.id+"button3", "", w-60, by, 60, 24); by+=25;
    root.c_button3 = c;
    c.style.cursor = "pointer";
    c.v_style = new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","↓下移","↓下移","↓下移","#000000","#1da1f2","#1da1f2","");
    addText(c, c.v_style.text1, "center", "middle", "宋体", 9, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    var r = parseInt(eb.getDivRectSetting(c).h/2) + "px";
    c.style.borderRadius = r+ " 0px 0px " + r;
    ee.setOnClick(c,function(sender,event) {
        hostRecomdMoveDown.videoId = sender.parentNode.v_id;
        hostRecomdMoveDown.onComplete = function() {
            refreshHostRecomd.userId = showUserPage.id;
            refreshHostRecomd.onComplete = function() {
                g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
            }
            refreshHostRecomd();
        }
        hostRecomdMoveDown();
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);
    
    //note
    c = createPanel(root, root.id+"panel16", "", 5, cy, w - 15, 10);
    root.c_note = c;
    addText(c,
        g5.showCommonText(root.v_note),
        "center", "middle", "微软雅黑", 9, "14171a", "");
    eb.processDock();
    var rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    cy = rect.y + rect.h;
    
    cy += 5;
    eb.setDivRect(root,null,null,null,cy);
    return root; 
}





]]></onCreate>
      <sizeRatio>0.0938628158844765</sizeRatio>
      <top>38</top>
      <topRatio>0.1484375</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311">
      <dockX>fill</dockX>
      <height>152</height>
      <heightRatio>0.59375</heightRatio>
      <left>10</left>
      <leftRatio>0.036101083032491</leftRatio>
      <note><![CDATA[c_edit->编辑框]]></note>
      <onCreate>sender.c_video = sender.eeChildren[0];
sender.c_videoRoot = sender.c_video.eeChildren[0];
sender.c_edit = sender.eeChildren[1];
sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px";

sender.init = function() {
    this.c_video.init();
    this.c_edit.init();
    this.clearAll();
    g5.tiledV(this, 0, 0, 0);
    g5.resizeV(this, 1);
}

sender.clearVideo = function() {
    this.c_videoRoot.innerHTML = "";
    this.c_videoRoot.v_photo = null; 
}

sender.clearAll = function() {
    this.clearVideo();
    ee.setEditText(this.c_edit, "");
}

sender.show = function() {
    ee.setVisible(this, true);
    g5.tiledResizeV(this, 4);
    ee.setText(g5.p3.p8.p2.c_addButton, "确定增加");
    g5.p3.p8.p2.c_addButton.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","确定增加","确定增加","确定增加","#404040","#404040","#404040","")
    ];
}

sender.hide = function() {
    this.clearAll();
    ee.setVisible(this, false);
    g5.tiledResizeV(this, 4);
    ee.setText(g5.p3.p8.p2.c_addButton, "+ 增加一条");
    g5.p3.p8.p2.c_addButton.v_style = [
        new g5.BStyle("","#e8f5fe","#d2ecfc","+ 增加一条","+ 增加一条","+ 增加一条","#404040","#404040","#404040","")
    ];
}

</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.591439688715953</sizeRatio>
      <top>64</top>
      <topRatio>0.25</topRatio>
      <width>257</width>
      <widthRatio>0.927797833935018</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>113</height>
      <heightRatio>0.743421052631579</heightRatio>
      <left>0</left>
      <note><![CDATA[c_video->视频框]]></note>
      <onClick><![CDATA[var url = prompt("请输入播放地址：", "");
if (url == null) return;
if (url.length<=0) return;
ytbVideo = "";
var pos;
if ((pos=url.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
    ytbVideo = url.substr(pos + "youtube.com/watch?v=".length, url.length);
} else if ((pos=url.toLowerCase().indexOf("youtu.be/",0))>0) {
    ytbVideo = url.substr(pos + "youtu.be/".length, url.length);
} else {
    g5.alert1("提示", "您输入的视频地址不正确");
    return;
}
if ((ytbVideo.length<=8)||(ytbVideo.length>=14)) {
    g5.alert1("提示", "您输入的视频地址不正确");
    return;
}
ytbVideo = "?YTB" + ytbVideo;

sender.parentNode.c_videoRoot.v_photo = ytbVideo;
g5.addPhoto(sender.parentNode.c_videoRoot);
    ]]></onClick>
      <onCreate>sender.init = function() {
    var rect = eb.getDivRectSetting(this.parentNode);
    ee.setRect(this, 0, null, rect.w, rect.w * 0.563);
    eb.processDock();
}
</onCreate>
      <sizeRatio>0.439688715953307</sizeRatio>
      <text>点击输入视频地址</text>
      <top>1</top>
      <topRatio>0.00657894736842105</topRatio>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel319">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>113</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note><![CDATA[c_videoRoot->视频底]]></note>
      <sizeRatio>0.439688715953307</sizeRatio>
      <top>0</top>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel318">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>g5.p3.p8.p2.c_edit.clearVideo();
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","清除","清除","清除","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>清除</text>
      <top>13</top>
      <topRatio>0.115044247787611</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel320">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>hostRecomdAppend.videoUrl = g5.p3.p8.p2.c_edit.c_videoRoot.v_photo;
hostRecomdAppend.note = ee.getEditText(g5.p3.p8.p2.c_edit.c_edit);

if (eb.isEmpty(hostRecomdAppend.videoUrl)) {
    g5.alert1("提示", "您必须指定推荐的视频");
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    return;
}

hostRecomdAppend.onComplete = function() {
    g5.p3.p8.p2.c_edit.hide();
    refreshHostRecomd.userId = showUserPage.id;
    refreshHostRecomd.onComplete = function() {
        g5.p3.p8.p2.c_list.refresh(refreshHostRecomd.hostRecomd);
    }
    refreshHostRecomd();
}
hostRecomdAppend();

window.event? window.event.cancelBubble = true : event.stopPropagation();

</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","确定","确定","确定","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>确定</text>
      <top>38</top>
      <topRatio>0.336283185840708</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel316/panel321">
      <backgroundColor>FF0000</backgroundColor>
      <dockX>right</dockX>
      <height>24</height>
      <heightRatio>0.212389380530973</heightRatio>
      <left>197</left>
      <leftRatio>0.766536964980545</leftRatio>
      <onClick>g5.p3.p8.p2.c_edit.hide();
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("rgba(255,255,255,0.8)","#e8f5fe","#d2ecfc","取消","取消","取消","#000000","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    var r = parseInt(eb.getDivRect(this).h/2) + "px";
    this.style.borderRadius = r+ " 0px 0px " + r;
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);</onCreate>
      <sizeRatio>0.4</sizeRatio>
      <text>取消</text>
      <top>63</top>
      <topRatio>0.557522123893805</topRatio>
      <width>60</width>
      <widthRatio>0.233463035019455</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/edit13">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>C0C0C0</fontColor>
      <height>25</height>
      <heightRatio>0.164473684210526</heightRatio>
      <left>5</left>
      <leftRatio>0.0194552529182879</leftRatio>
      <multiLine>true</multiLine>
      <note>c_edit</note>
      <onChange><![CDATA[var edit = sender.parentNode;
var text = ee.getEditText(edit);
if (text.length > 0) {
    if (text.charAt(text.length-1)=="\n") text+="a";
}
ee.setText(edit.c_tester, text);
var h = eb.getDivRect(edit.c_tester.label).h;
h = Math.max(edit.v_defaultH, h);
var lastH = eb.getDivRectSetting(edit).h;
if (h!=lastH) {
    ee.setRect(edit, null, null, null, h);
    if (!eb.isEmpty(edit.onHeightChange)) {
        edit.onHeightChange(edit, lastH, h);
    }
}

]]></onChange>
      <onCreate>sender.onHeightChange = function(sender, oldHeight, newHeight) {
    g5.tiledResizeV(sender.parentNode, 4);
}

sender._input.style.resize = "none";
var rect = eb.getDivRect(sender);
sender.c_tester = createPanel(sender, sender.id+"_tester", "", rect.w+300, 0, rect.w, rect.h);
sender.v_defaultH = rect.h;
addText(sender.c_tester, "A", "left", "top", "Arial", 9, "ffffff", "");
sender.c_tester.label.rows[0].cells[0].style.fontFamily = sender._input.style.fontFamily;
sender.c_tester.label.rows[0].cells[0].style.fontSize = sender._input.style.fontSize;
sender.c_tester.label.rows[0].cells[0].style.fontWeight = sender._input.style.fontWeight;

sender.init = function() {
    //ee.setRect(this, null, null, null, 28);
}
</onCreate>
      <outerLeft>5</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.103305785123967</sizeRatio>
      <text>请输入视频说明文字</text>
      <top>124</top>
      <topRatio>0.815789473684211</topRatio>
      <width>242</width>
      <widthRatio>0.941634241245136</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel311/panel317">
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0657894736842105</heightRatio>
      <left>0</left>
      <sizeRatio>0.0389105058365759</sizeRatio>
      <top>151</top>
      <topRatio>0.993421052631579</topRatio>
      <width>257</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel307/panel314">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.12890625</heightRatio>
      <left>0</left>
      <note><![CDATA[c_addButton->底部增加按钮]]></note>
      <onClick>if (sender.parentNode.c_edit.style.visibility == "hidden") {
    sender.parentNode.c_edit.init();
    sender.parentNode.c_edit.show();
} else {
    ee.getControl("panel320").click();
}
</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","+增加一条","+增加一条","+增加一条","#404040","#404040","#404040","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    //this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);
</onCreate>
      <sizeRatio>0.11913357400722</sizeRatio>
      <text>+ 增加一条</text>
      <top>220</top>
      <topRatio>0.859375</topRatio>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel298/panel322">
      <height>366</height>
      <heightRatio>0.587479935794543</heightRatio>
      <left>25</left>
      <leftRatio>0.0814332247557003</leftRatio>
      <note>底部空白</note>
      <sizeRatio>3.97826086956522</sizeRatio>
      <top>251</top>
      <topRatio>0.402889245585875</topRatio>
      <width>92</width>
      <widthRatio>0.299674267100977</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>623</height>
      <heightRatio>0.862880886426593</heightRatio>
      <layerName><![CDATA[p3.p9->主页公告]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.p1 = ee.getControl("panel366");
sender.init = function() {
    this.p1.init();
    g5.tiledV(this, 15);
    g5.resizeV(this,2);
}
</onCreate>
      <sizeRatio>2.02931596091205</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <height>278</height>
      <heightRatio>0.446227929373997</heightRatio>
      <left>30</left>
      <leftRatio>0.0977198697068404</leftRatio>
      <note><![CDATA[p3.p8.p1->公告栏]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px 15px 15px 15px";

sender.c_title = ee.getControl("panel366");
sender.c_text = ee.getControl("panel375");

sender.v_size = 0;

sender.init = function() {
    g5.tiledV(this, 0);
    g5.resizeV(this, 3);
} 
</onCreate>
      <outerLeft>30</outerLeft>
      <sizeRatio>1.00361010830325</sizeRatio>
      <top>-1</top>
      <topRatio>-0.00160513643659711</topRatio>
      <width>277</width>
      <widthRatio>0.90228013029316</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel367">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.129496402877698</heightRatio>
      <left>0</left>
      <note><![CDATA[c_title->题头]]></note>
      <sizeRatio>0.129963898916967</sizeRatio>
      <top>0</top>
      <width>277</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel367/panel368">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>36</height>
      <heightRatio>1</heightRatio>
      <left>11</left>
      <leftRatio>0.0397111913357401</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.23841059602649</sizeRatio>
      <text>公告</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.545126353790614</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel365/panel366/panel375">
      <backgroundColor>E0E0E0</backgroundColor>
      <dockX>fill</dockX>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>192</height>
      <heightRatio>0.690647482014389</heightRatio>
      <left>10</left>
      <leftRatio>0.036101083032491</leftRatio>
      <note><![CDATA[c_text->公告内容]]></note>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderLeft = "";
sender.style.borderRight = "";
sender.style.borderBottom = "";
//sender.style.borderRadius = "0px 0px 5px 5px";
sender.c_chatRoot = ee.getControl("layoutxitem6");

</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.747081712062257</sizeRatio>
      <text>拳头聊天室正式上线，欢迎各位网友进行测试！有什么建议可以直接私信爱听不听（推特账号）。我们会随时根据用户反馈的体验进行修改！请用文字+截图的形式，非常欢迎大家的参与！
</text>
      <top>36</top>
      <topRatio>0.129496402877698</topRatio>
      <vAlign>top</vAlign>
      <width>257</width>
      <widthRatio>0.927797833935018</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>702</height>
      <heightRatio>0.972299168975069</heightRatio>
      <layerName><![CDATA[p3->10->修改用户名]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>ee.setEditText(ee.getControl("edit8"),"");
ee.setEditText(ee.getControl("edit9"),"");
ee.setEditText(ee.getControl("edit10"),"");
ee.getControl("panel248").setEnabled(false);




                                
</onAniStart>
      <onCreate>sender.init = function() {
    ee.setText(ee.getControl("panel187"), g5.myUserInfo.nickName);
    ee.setEditText(ee.getControl("edit19"), "");
}

</onCreate>
      <sizeRatio>2.28664495114007</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel62">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel62/panel164">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>52</left>
      <leftRatio>0.169381107491857</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>修改用户名</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel62/panel165">
      <cursor>pointer</cursor>
      <height>37</height>
      <heightRatio>0.725490196078431</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onClick>g5.changeP3(4);
window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 27 27\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 0px 0px 6px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.iconBack+"</svg>";
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    //sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    //sender.childNodes[0].style.color = "rgb(101,119,134)";
});

]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>37</width>
      <widthRatio>0.120521172638436</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>309</height>
      <heightRatio>0.44017094017094</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>1.00651465798046</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel185">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.213592233009709</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>10</top>
      <topRatio>0.0323624595469256</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel185/panel186">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>当前用户名：</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel185/panel187">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.115702479338843</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>242</width>
      <widthRatio>0.843205574912892</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel188">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.213592233009709</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>123</top>
      <topRatio>0.398058252427184</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel188/panel278">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新用户名</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel61/panel166/panel188/edit19">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <text>请在这里输入新的用户名</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel188/panel369">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel373">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0323624595469256</heightRatio>
      <left>0</left>
      <sizeRatio>0.0325732899022801</sizeRatio>
      <top>95</top>
      <topRatio>0.307443365695793</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel374">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0647249190938511</heightRatio>
      <left>0</left>
      <sizeRatio>0.0651465798045603</sizeRatio>
      <top>207</top>
      <topRatio>0.669902912621359</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel61/panel166/panel376">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.129449838187702</heightRatio>
      <left>209</left>
      <leftRatio>0.680781758957655</leftRatio>
      <onClick><![CDATA[if (changeNickName.busy) return;
var p1 = ee.getEditText(ee.getControl("edit19"));
if (p1.length>50) {
    g5.alert1("用户名错误", "您输入的用户名过长，用户名的长度不能超过50个英文或者汉字");
    return;
}
if (p1.length<3) {
    g5.alert1("用户名错误", "您输入的用户名短，用户名的长度不能少于3个英文或者汉字");
    return;
}

changeNickName.nickName = p1;
changeNickName.onComplete = function() {
    g5.alert1("完成", "用户名修改完成，您的新用户名是：" + p1);
    g5.changeP3(4);
    getUserInfo();    
}
changeNickName();
]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(true);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.796116504854369</topRatio>
      <width>83</width>
      <widthRatio>0.270358306188925</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>702</height>
      <heightRatio>0.972299168975069</heightRatio>
      <layerName><![CDATA[p3->11->修改手机号]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>ee.setEditText(ee.getControl("edit8"),"");
ee.setEditText(ee.getControl("edit9"),"");
ee.setEditText(ee.getControl("edit10"),"");
ee.getControl("panel248").setEnabled(false);




                                
</onAniStart>
      <onCreate>sender.init = function() {
    ee.setText(ee.getControl("panel381"), g5.myUserInfo.mobile);
    ee.setEditText(ee.getControl("edit18"), "");
}

</onCreate>
      <sizeRatio>2.28664495114007</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel371">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel371/panel372">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>52</left>
      <leftRatio>0.169381107491857</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>修改手机号码</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel371/panel377">
      <cursor>pointer</cursor>
      <height>37</height>
      <heightRatio>0.725490196078431</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onClick>g5.changeP3(4);
window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 27 27\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 0px 0px 6px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.iconBack+"</svg>";
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    //sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    //sender.childNodes[0].style.color = "rgb(101,119,134)";
});

]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>37</width>
      <widthRatio>0.120521172638436</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <height>320</height>
      <heightRatio>0.455840455840456</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>53</outerTop>
      <sizeRatio>1.04234527687296</sizeRatio>
      <top>53</top>
      <topRatio>0.0754985754985755</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel379">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.20625</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>10</top>
      <topRatio>0.03125</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel379/panel380">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>当前手机号码：</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel379/panel381">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.115702479338843</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>242</width>
      <widthRatio>0.843205574912892</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel382">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.20625</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>123</top>
      <topRatio>0.384375</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel382/panel383">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新手机号码</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel370/panel378/panel382/edit18">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <text>请在这里输入新的手机号码</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel382/panel384">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel385">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.03125</heightRatio>
      <left>0</left>
      <sizeRatio>0.0325732899022801</sizeRatio>
      <top>95</top>
      <topRatio>0.296875</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel386">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0625</heightRatio>
      <left>0</left>
      <sizeRatio>0.0651465798045603</sizeRatio>
      <top>207</top>
      <topRatio>0.646875</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel370/panel378/panel387">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.125</heightRatio>
      <left>209</left>
      <leftRatio>0.680781758957655</leftRatio>
      <onClick><![CDATA[if (changeMobile.busy) return;
var p1 = ee.getEditText(ee.getControl("edit18"));
if (p1.length<=0) {
    g5.popBlack.a6.show(
        "删除手机号",
        "是否将您的手机号信息删除？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            changeMobile.mobile = p1;
            changeMobile.onComplete = function() {
                g5.alert1("完成", "手机号码修改完成，您的手机号码信息已删除。");
                g5.changeP3(4);
                getUserInfo();    
            }
            changeMobile();
        },
        function() {
        }
    );
    return;    
}

changeMobile.mobile = p1;
changeMobile.onComplete = function() {
    g5.alert1("完成", "手机号码修改完成，您的新手机号是：" + p1);
    g5.changeP3(4);
    getUserInfo();    
}
changeMobile();
]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(true);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.76875</topRatio>
      <width>83</width>
      <widthRatio>0.270358306188925</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>702</height>
      <heightRatio>0.972299168975069</heightRatio>
      <layerName><![CDATA[p3->12->修改电子邮件]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAniStart>ee.setEditText(ee.getControl("edit8"),"");
ee.setEditText(ee.getControl("edit9"),"");
ee.setEditText(ee.getControl("edit10"),"");
ee.getControl("panel248").setEnabled(false);




                                
</onAniStart>
      <onCreate>sender.init = function() {
    ee.setText(ee.getControl("panel395"), g5.myUserInfo.email);
    ee.setEditText(ee.getControl("edit20"), "");
}

</onCreate>
      <sizeRatio>2.28664495114007</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel389">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>51</height>
      <heightRatio>0.0726495726495727</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#ccd6dd";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRightColor = "#e6ecf0";
</onCreate>
      <sizeRatio>0.166123778501629</sizeRatio>
      <top>0</top>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel389/panel390">
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>51</height>
      <heightRatio>1</heightRatio>
      <left>52</left>
      <leftRatio>0.169381107491857</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.337748344370861</sizeRatio>
      <text>修改电子邮箱</text>
      <top>0</top>
      <width>151</width>
      <widthRatio>0.49185667752443</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel389/panel391">
      <cursor>pointer</cursor>
      <height>37</height>
      <heightRatio>0.725490196078431</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onClick>g5.changeP3(4);
window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 27 27\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:7px 0px 0px 6px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.iconBack+"</svg>";
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    //sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    //sender.childNodes[0].style.color = "rgb(101,119,134)";
});

]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>8</top>
      <topRatio>0.156862745098039</topRatio>
      <width>37</width>
      <widthRatio>0.120521172638436</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392">
      <bindTop>bottom</bindTop>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>316</height>
      <heightRatio>0.45014245014245</heightRatio>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "#e6ecf0";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";</onCreate>
      <outerTop>51</outerTop>
      <sizeRatio>1.02931596091205</sizeRatio>
      <top>51</top>
      <topRatio>0.0726495726495727</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel393">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.208860759493671</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>10</top>
      <topRatio>0.0316455696202532</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel393/panel394">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>10</left>
      <leftRatio>0.0348432055749129</leftRatio>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.104868913857678</sizeRatio>
      <text>当前电子邮箱：</text>
      <top>0</top>
      <width>267</width>
      <widthRatio>0.930313588850174</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel393/panel395">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <fontBold>true</fontBold>
      <fontColor>282828</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>10</left>
      <leftRatio>0.0348432055749129</leftRatio>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.104868913857678</sizeRatio>
      <text>--</text>
      <top>33</top>
      <topRatio>0.5</topRatio>
      <width>267</width>
      <widthRatio>0.930313588850174</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel396">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>66</height>
      <heightRatio>0.208860759493671</heightRatio>
      <left>10</left>
      <leftRatio>0.0325732899022801</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.229965156794425</sizeRatio>
      <top>123</top>
      <topRatio>0.389240506329114</topRatio>
      <width>287</width>
      <widthRatio>0.93485342019544</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel396/panel397">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0313588850174216</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>新电子邮箱</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.682926829268293</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel137/panel388/panel392/panel396/edit20">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>15</left>
      <leftRatio>0.0522648083623693</leftRatio>
      <onChange>ee.getControl("panel231").refresh();</onChange>
      <outerLeft>15</outerLeft>
      <outerRight>15</outerRight>
      <sizeRatio>0.159533073929961</sizeRatio>
      <text>请在这里输入新的电子邮箱</text>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>257</width>
      <widthRatio>0.895470383275261</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel396/panel398">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0303030303030303</heightRatio>
      <left>0</left>
      <sizeRatio>0.00696864111498258</sizeRatio>
      <top>64</top>
      <topRatio>0.96969696969697</topRatio>
      <width>287</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel399">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>10</height>
      <heightRatio>0.0316455696202532</heightRatio>
      <left>0</left>
      <sizeRatio>0.0325732899022801</sizeRatio>
      <top>95</top>
      <topRatio>0.300632911392405</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel400">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>20</height>
      <heightRatio>0.0632911392405063</heightRatio>
      <left>0</left>
      <sizeRatio>0.0651465798045603</sizeRatio>
      <top>207</top>
      <topRatio>0.655063291139241</topRatio>
      <width>307</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel137/panel388/panel392/panel401">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.126582278481013</heightRatio>
      <left>209</left>
      <leftRatio>0.680781758957655</leftRatio>
      <onClick><![CDATA[if (changeEmail.busy) return;
var p1 = ee.getEditText(ee.getControl("edit20"));
if (p1.length<=0) {
    g5.popBlack.a6.show(
        "删除电子邮箱",
        "是否将您的电子邮箱地址删除？",
        [new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","确定","确定删除","确定删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            changeEmail.email = p1;
            changeEmail.onComplete = function() {
                g5.alert1("完成", "电子邮箱地址修改完成，您的电子邮箱地址信息已删除。");
                g5.changeP3(4);
                getUserInfo();    
            }
            changeMchangeEmailobile();
        },
        function() {
        }
    );
    return;    
}

changeEmail.email = p1;
changeEmail.onComplete = function() {
    g5.alert1("完成", "电子邮箱地址修改完成，您的新电子邮箱地址是：" + p1);
    g5.changeP3(4);
    getUserInfo();    
}
changeEmail();]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(true);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <outerRight>15</outerRight>
      <sizeRatio>0.481927710843373</sizeRatio>
      <text>保存</text>
      <top>246</top>
      <topRatio>0.778481012658228</topRatio>
      <width>83</width>
      <widthRatio>0.270358306188925</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>98</height>
      <heightRatio>0.123115577889447</heightRatio>
      <layerName>p4</layerName>
      <layerVisible>false</layerVisible>
      <left>303</left>
      <leftRatio>0.255696202531646</leftRatio>
      <onCreate>sender.style.position="fixed";
sender.a1 = ee.getControl("panel34");
sender.a2 = ee.getControl("panel38");
sender.a3 = ee.getControl("layoutx11");
sender.a4 = ee.getControl("panel348");
sender.a5 = ee.getControl("panel353");
sender.a6 = ee.getControl("panel57");


sender.currentPage = "";
sender.changePage = function(pageName) {
    if (this.currentPage == "a1") {
        ee.setVisible(this.a1, false);
    } else if (this.currentPage == "a2") {
        ee.setVisible(this.a2, false);
    } else if (this.currentPage == "a3") {
        ee.setVisible(this.a1, false);
        ee.setVisible(this.a3, false);
    } else if (this.currentPage == "a4") {
        ee.setVisible(this.a4, false);
    } else if (this.currentPage == "a5") {
        ee.setVisible(this.a5, false);
    } else if (this.currentPage == "a6") {
        ee.setVisible(this.a6, false);
    }
    this.currentPage = pageName;
    if (pageName == "") {
        ee.setVisible(this, false);
        return;
    }
    if (this.currentPage == "a1") {
        ee.setVisible(this.a1, true);
    } else if (this.currentPage == "a2") {
        ee.setVisible(this.a2, true);
    } else if (this.currentPage == "a3") {
        ee.setVisible(this.a1, true);
        ee.setVisible(this.a3, true);
    } else if (this.currentPage == "a4") {
        ee.setVisible(this.a4, true);
    } else if (this.currentPage == "a5") {
        ee.setVisible(this.a5, true);
    } else if (this.currentPage == "a6") {
        ee.setVisible(this.a6, true);
    }
    g5.tiledV(this,0,0,0);
    ee.setVisible(this, true);
}
</onCreate>
      <sizeRatio>0.165540540540541</sizeRatio>
      <top>-2</top>
      <topRatio>-0.00251256281407035</topRatio>
      <width>592</width>
      <widthRatio>0.49957805907173</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName><![CDATA[  a1->主页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel34/layoutx13">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>20</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.0587188612099644</sizeRatio>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>562</width>
      <widthRatio>0.949324324324324</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30">
      <backgroundColor>f0f0f0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.0661322645290581</sizeRatio>
      <top>0</top>
      <width>499</width>
      <widthRatio>0.887900355871886</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e6ecf0","#F6FCFF","#F6FCFF","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    //ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

sender.init(0);</onCreate>
      <sizeRatio>0.0661322645290581</sizeRatio>
      <top>0</top>
      <width>499</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem20">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.942857142857143</sizeRatio>
      <top>0</top>
      <width>35</width>
      <widthRatio>0.0701402805611222</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem20/panel183">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.iconSearch + "</svg>";
sender.style.borderRadius = "50%";
//ee.setOnMouseEnter(sender, function(sender,event) {
//    sender.style.backgroundColor = "#dfeffa";
//    sender.childNodes[0].style.color = "rgb(29,161,242)";
//});    
//ee.setOnMouseLeave(sender, function(sender,event) {
//    sender.style.backgroundColor = "";
//    sender.childNodes[0].style.color = "rgb(101,119,134)";
//});

]]></onCreate>
      <sizeRatio>0.942857142857143</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>35</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem21">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>35</left>
      <leftRatio>0.0701402805611222</leftRatio>
      <sizeRatio>0.0711206896551724</sizeRatio>
      <top>0</top>
      <width>464</width>
      <widthRatio>0.929859719438878</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem30/layoutx10/layoutxitem21/edit14">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.939393939393939</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontColor>404040</inputFontColor>
      <inputFontSize>12</inputFontSize>
      <left>10</left>
      <leftRatio>0.021551724137931</leftRatio>
      <onCreate>sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var text = ee.getEditText(sender);
        g5.p2.p11.search(text);
        event.preventDefault();
        return false;
    }
});

sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];
sender.v_index = 0;
</onCreate>
      <onFocus>ee.getControl("layoutx10").init(1);</onFocus>
      <onFocusLost>ee.getControl("layoutx10").init(0);</onFocusLost>
      <outerBottom>2</outerBottom>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.0682819383259912</sizeRatio>
      <text>站内搜索</text>
      <top>0</top>
      <width>454</width>
      <widthRatio>0.978448275862069</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem31">
      <backgroundColor>d0d0d0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>499</left>
      <leftRatio>0.887900355871886</leftRatio>
      <sizeRatio>0.523809523809524</sizeRatio>
      <top>0</top>
      <width>63</width>
      <widthRatio>0.112099644128114</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel34/layoutx13/layoutxitem31/panel184">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>10</left>
      <leftRatio>0.158730158730159</leftRatio>
      <onClick>var text = ee.getEditText(ee.getControl("edit14"))
g5.p2.p11.search(text);
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","rgb(29,161,242)","rgb(29,161,242)","rgb(29,161,242)","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = "10px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.622641509433962</sizeRatio>
      <text>搜索</text>
      <top>0</top>
      <width>53</width>
      <widthRatio>0.841269841269841</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel38">
      <backgroundColor>FFC080</backgroundColor>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName><![CDATA[  a2->推文页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>3</left>
      <leftRatio>0.00506756756756757</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.0939716312056738</sizeRatio>
      <top>3</top>
      <topRatio>0.0306122448979592</topRatio>
      <width>564</width>
      <widthRatio>0.952702702702703</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel38/panel39">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <left>51</left>
      <leftRatio>0.0904255319148936</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.53</sizeRatio>
      <text>发言</text>
      <top>0</top>
      <widthRatio>0.177304964539007</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel134/panel24/panel38/button10">
      <backgroundSkin1>LRBtn12</backgroundSkin1>
      <backgroundSkin2>twitterG008</backgroundSkin2>
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor2>0000C0</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.735849056603774</heightRatio>
      <left>7</left>
      <leftRatio>0.0124113475177305</leftRatio>
      <onClick>history.go(-1);</onClick>
      <onCreate><![CDATA[initLButton(sender,"",1,"<g><path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path></g>");
]]></onCreate>
      <sizeRatio>0.975</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>7</top>
      <topRatio>0.132075471698113</topRatio>
      <width>40</width>
      <widthRatio>0.0709219858156028</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/layoutx11">
      <dockX>fill</dockX>
      <fieldCount>5</fieldCount>
      <height>38</height>
      <heightRatio>0.387755102040816</heightRatio>
      <layerName><![CDATA[  a3->搜索按钮组]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate><![CDATA[//sender.style.position="fixed";
sender.style.boxSizing = "border-box";
sender.style.borderBottomWidth = "1px";
sender.style.borderBottomColor = "rgb(230,236,240)";
sender.style.borderBottomStyle = "solid";
sender.c_line = ee.getControl("panel337");
sender.c_button1 = ee.getControl("layoutxitem22");
sender.c_button2 = ee.getControl("layoutxitem23");
sender.c_button3 = ee.getControl("layoutxitem24");
sender.c_button4 = ee.getControl("layoutxitem25");
sender.c_button5 = ee.getControl("layoutxitem26");
sender.buttonClick = function(button) {
    for (var i=0; i<this.eeChildren.length; i++) {
        this.eeChildren[i].init(0);
    }
    button.init(1);
    button.appendChild(this.c_line);
    eb.processDock();
}
]]></onCreate>
      <sizeRatio>0.0641891891891892</sizeRatio>
      <top>46</top>
      <topRatio>0.469387755102041</topRatio>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem22">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>g5.p2.p11.userChangePage("c1");</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","热门","热门","热门","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","热门","热门","热门","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>热门</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem22/panel337">
      <backgroundColor>1DA1F2</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>3</height>
      <heightRatio>0.0789473684210526</heightRatio>
      <left>0</left>
      <sizeRatio>0.0254237288135593</sizeRatio>
      <top>35</top>
      <topRatio>0.921052631578947</topRatio>
      <width>118</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem23">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>118</left>
      <leftRatio>0.199324324324324</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c2");</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","最新","最新","最新","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","最新","最新","最新","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.319327731092437</sizeRatio>
      <text>最新</text>
      <top>0</top>
      <width>119</width>
      <widthRatio>0.201013513513514</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem24">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>237</left>
      <leftRatio>0.400337837837838</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c3");</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","用户","用户","用户","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","用户","用户","用户","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>用户</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem25">
      <backgroundColor>d0d0d0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>355</left>
      <leftRatio>0.599662162162162</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c4");</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","照片","照片","照片","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","照片","照片","照片","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.319327731092437</sizeRatio>
      <text>照片</text>
      <top>0</top>
      <width>119</width>
      <widthRatio>0.201013513513514</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/layoutx11/layoutxitem26">
      <backgroundColor>f0f0f0</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>1</heightRatio>
      <left>474</left>
      <leftRatio>0.800675675675676</leftRatio>
      <onClick>g5.p2.p11.userChangePage("c5");</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("","#e8f5fe","#d2ecfc","视频","视频","视频","#657786","#1da1f2","#1da1f2",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","视频","视频","视频","#1da1f2","#1da1f2","#1da1f2","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.322033898305085</sizeRatio>
      <text>视频</text>
      <top>0</top>
      <width>118</width>
      <widthRatio>0.199324324324324</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel348">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName><![CDATA[  a4->书签]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel348/panel351">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <left>51</left>
      <leftRatio>0.0861486486486486</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.53</sizeRatio>
      <text>书签</text>
      <top>0</top>
      <widthRatio>0.168918918918919</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel134/panel24/panel348/button6">
      <backgroundSkin1>LRBtn12</backgroundSkin1>
      <backgroundSkin2>twitterG008</backgroundSkin2>
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor2>0000C0</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.735849056603774</heightRatio>
      <left>7</left>
      <leftRatio>0.0118243243243243</leftRatio>
      <onClick>history.go(-1);</onClick>
      <onCreate><![CDATA[initLButton(sender,"",1,"<g><path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path></g>");
]]></onCreate>
      <sizeRatio>0.975</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>7</top>
      <topRatio>0.132075471698113</topRatio>
      <width>40</width>
      <widthRatio>0.0675675675675676</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel353">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName><![CDATA[  a5->通知]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel353/panel354">
      <cursor>pointer</cursor>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>53</height>
      <heightRatio>1</heightRatio>
      <left>51</left>
      <leftRatio>0.0861486486486486</leftRatio>
      <onClick>g5.mainDiv.scrollTop = 0;</onClick>
      <sizeRatio>0.53</sizeRatio>
      <text>通知</text>
      <top>0</top>
      <widthRatio>0.168918918918919</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel134/panel24/panel353/button7">
      <backgroundSkin1>LRBtn12</backgroundSkin1>
      <backgroundSkin2>twitterG008</backgroundSkin2>
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor2>0000C0</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.735849056603774</heightRatio>
      <left>7</left>
      <leftRatio>0.0118243243243243</leftRatio>
      <onClick>history.go(-1);</onClick>
      <onCreate><![CDATA[initLButton(sender,"",1,"<g><path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path></g>");
]]></onCreate>
      <sizeRatio>0.975</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>7</top>
      <topRatio>0.132075471698113</topRatio>
      <width>40</width>
      <widthRatio>0.0675675675675676</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57">
      <backgroundColor>FFC080</backgroundColor>
      <dockX>fill</dockX>
      <height>53</height>
      <heightRatio>0.540816326530612</heightRatio>
      <layerName><![CDATA[  a6->个人主页]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderTop = "";
sender.style.borderLeft = "";
sender.style.borderRight = "";</onCreate>
      <sizeRatio>0.089527027027027</sizeRatio>
      <top>0</top>
      <width>592</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel57/layoutx15">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>0.622641509433962</heightRatio>
      <left>20</left>
      <leftRatio>0.0337837837837838</leftRatio>
      <outerBottom>10</outerBottom>
      <outerLeft>20</outerLeft>
      <outerRight>10</outerRight>
      <outerTop>10</outerTop>
      <sizeRatio>0.0587188612099644</sizeRatio>
      <top>10</top>
      <topRatio>0.188679245283019</topRatio>
      <width>562</width>
      <widthRatio>0.949324324324324</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem33">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.673469387755102</sizeRatio>
      <top>0</top>
      <width>49</width>
      <widthRatio>0.0871886120996441</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem33/panel417">
      <cursor>pointer</cursor>
      <dockX>left</dockX>
      <dockY>fill</dockY>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>history.go(-1);
window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"font-size: 13px;height:2.0em;width:2.0em;margin:6px 0px 0px 6px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\">"+g5.iconBack+"</svg>";
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    //sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    //sender.childNodes[0].style.color = "rgb(101,119,134)";
});

]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>0</top>
      <width>33</width>
      <widthRatio>0.673469387755102</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>49</left>
      <leftRatio>0.0871886120996441</leftRatio>
      <sizeRatio>0.0774647887323944</sizeRatio>
      <top>0</top>
      <width>426</width>
      <widthRatio>0.758007117437722</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>sender.v_style = [
    new g5.BStyle("#e6ecf0","#F6FCFF","#F6FCFF","","","","#1da1f2","#1da1f2","#1da1f2",""),
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    //ee.setText(this, this.v_style[index].text1);
    //ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

sender.init(0);</onCreate>
      <sizeRatio>0.0774647887323944</sizeRatio>
      <top>0</top>
      <width>426</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem34">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.942857142857143</sizeRatio>
      <top>0</top>
      <width>35</width>
      <widthRatio>0.0821596244131455</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem34/panel415">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontFamily>微软雅黑</fontFamily>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onClick>var text = ee.getEditText(ee.getControl("edit22"))
g5.p2.p11.search(text);
</onClick>
      <onCreate><![CDATA[sender.style.cursor="pointer";
sender.innerHTML = "<svg viewBox=\"-1 2 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.iconSearch + "</svg>";
sender.style.borderRadius = "50%";
//ee.setOnMouseEnter(sender, function(sender,event) {
//    sender.style.backgroundColor = "#dfeffa";
//    sender.childNodes[0].style.color = "rgb(29,161,242)";
//});    
//ee.setOnMouseLeave(sender, function(sender,event) {
//    sender.style.backgroundColor = "";
//    sender.childNodes[0].style.color = "rgb(101,119,134)";
//});

]]></onCreate>
      <sizeRatio>0.942857142857143</sizeRatio>
      <text>♀</text>
      <top>0</top>
      <width>35</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem35">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>35</left>
      <leftRatio>0.0821596244131455</leftRatio>
      <sizeRatio>0.0843989769820972</sizeRatio>
      <top>0</top>
      <width>391</width>
      <widthRatio>0.917840375586855</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem36/layoutx16/layoutxitem35/edit22">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>31</height>
      <heightRatio>0.939393939393939</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontColor>404040</inputFontColor>
      <inputFontSize>12</inputFontSize>
      <left>10</left>
      <leftRatio>0.0255754475703325</leftRatio>
      <onCreate>sender._input.addEventListener("keydown", function(event) {
    if (event.keyCode==13 &amp;&amp; (!event.shiftKey)) {
        var text = ee.getEditText(sender);
        g5.p2.p11.search(text);
        event.preventDefault();
        return false;
    }
});

sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","","","","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];
sender.v_index = 0;
</onCreate>
      <onFocus>ee.getControl("layoutx10").init(1);</onFocus>
      <onFocusLost>ee.getControl("layoutx10").init(0);</onFocusLost>
      <outerBottom>2</outerBottom>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.0813648293963255</sizeRatio>
      <text>站内搜索</text>
      <top>0</top>
      <width>381</width>
      <widthRatio>0.974424552429668</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem37">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>475</left>
      <leftRatio>0.845195729537367</leftRatio>
      <sizeRatio>0.379310344827586</sizeRatio>
      <top>0</top>
      <width>87</width>
      <widthRatio>0.154804270462633</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel24/panel57/layoutx15/layoutxitem37/panel416">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>1</heightRatio>
      <left>10</left>
      <leftRatio>0.114942528735632</leftRatio>
      <onClick>var text = ee.getEditText(ee.getControl("edit22"))
g5.p2.p11.search(text);
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new g5.BStyle("","#dfeffa","#cfdfea","搜索","搜索","搜索","rgb(29,161,242)","rgb(29,161,242)","rgb(29,161,242)","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = "10px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <outerLeft>10</outerLeft>
      <sizeRatio>0.428571428571429</sizeRatio>
      <text>搜索</text>
      <top>0</top>
      <width>77</width>
      <widthRatio>0.885057471264368</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel242">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <left>300</left>
      <leftRatio>0.253164556962025</leftRatio>
      <note>PLine1</note>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>796</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.000843881856540084</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel245">
      <backgroundColor>E6ECF0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <left>899</left>
      <leftRatio>0.758649789029536</leftRatio>
      <note>PLine2</note>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>796</sizeRatio>
      <top>0</top>
      <width>1</width>
      <widthRatio>0.000843881856540084</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288">
      <backgroundSkin>button1003</backgroundSkin>
      <fontColor>FFFFFF</fontColor>
      <hAlign>left</hAlign>
      <height>698</height>
      <heightRatio>0.876884422110553</heightRatio>
      <layerName>LOG</layerName>
      <layerVisible>false</layerVisible>
      <left>11</left>
      <leftRatio>0.00928270042194093</leftRatio>
      <onCreate>sender.style.position="fixed";</onCreate>
      <sizeRatio>3.6544502617801</sizeRatio>
      <top>13</top>
      <topRatio>0.0163316582914573</topRatio>
      <vAlign>bottom</vAlign>
      <width>191</width>
      <widthRatio>0.161181434599156</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel37">
      <backgroundColor>FFFFFF</backgroundColor>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>FFFFFF</fontColor>
      <hAlign>left</hAlign>
      <height>111</height>
      <heightRatio>0.159025787965616</heightRatio>
      <left>5</left>
      <leftRatio>0.0261780104712042</leftRatio>
      <onClick>sender.setText("时间；浪费时间；理发师阿道夫；路上看见；浪费空间撒旦飞洒；了烦死拉进来是否；拉萨；附件；老师");</onClick>
      <onCreate>sender.setText = function(text) {
    ee.setRect(this,null,null,null,1);
    ee.setText(this, text);
    var h = eb.getDivRect(this.label).h;
    ee.setRect(this,null,null,null,h);
}
</onCreate>
      <outerBottom>5</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>5</outerRight>
      <sizeRatio>0.613259668508287</sizeRatio>
      <text>======Log======</text>
      <top>582</top>
      <topRatio>0.833810888252149</topRatio>
      <vAlign>top</vAlign>
      <width>181</width>
      <widthRatio>0.947643979057592</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel285">
      <backgroundColor>9E9E8C</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>move</cursor>
      <height>21</height>
      <heightRatio>0.0300859598853868</heightRatio>
      <left>99</left>
      <leftRatio>0.518324607329843</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
if (sender.style.backgroundColor == "") {
    sender.style.backgroundColor = "rgba(255,255,255,0.01)";
}
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.228260869565217</sizeRatio>
      <top>0</top>
      <width>92</width>
      <widthRatio>0.481675392670157</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel288/edit15">
      <backgroundSkin>edit1</backgroundSkin>
      <height>32</height>
      <heightRatio>0.0458452722063037</heightRatio>
      <inputText>0.3</inputText>
      <left>112</left>
      <leftRatio>0.586387434554974</leftRatio>
      <sizeRatio>0.470588235294118</sizeRatio>
      <top>111</top>
      <topRatio>0.159025787965616</topRatio>
      <width>68</width>
      <widthRatio>0.356020942408377</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel288/edit16">
      <backgroundSkin>edit1</backgroundSkin>
      <height>32</height>
      <heightRatio>0.0458452722063037</heightRatio>
      <inputText>30</inputText>
      <left>112</left>
      <leftRatio>0.586387434554974</leftRatio>
      <sizeRatio>0.470588235294118</sizeRatio>
      <top>179</top>
      <topRatio>0.256446991404011</topRatio>
      <width>68</width>
      <widthRatio>0.356020942408377</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel134/panel288/panel113">
      <backgroundSkin>button3a</backgroundSkin>
      <dockX>fill</dockX>
      <hAlign>left</hAlign>
      <height>70</height>
      <heightRatio>0.100286532951289</heightRatio>
      <left>7</left>
      <leftRatio>0.0366492146596859</leftRatio>
      <outerLeft>7</outerLeft>
      <outerRight>4</outerRight>
      <sizeRatio>0.388888888888889</sizeRatio>
      <text>status</text>
      <top>28</top>
      <topRatio>0.0401146131805158</topRatio>
      <width>180</width>
      <widthRatio>0.942408376963351</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel134/panel288/edit17">
      <backgroundSkin>edit1</backgroundSkin>
      <height>32</height>
      <heightRatio>0.0458452722063037</heightRatio>
      <inputText>0.5</inputText>
      <left>112</left>
      <leftRatio>0.586387434554974</leftRatio>
      <sizeRatio>0.470588235294118</sizeRatio>
      <top>145</top>
      <topRatio>0.207736389684814</topRatio>
      <width>68</width>
      <widthRatio>0.356020942408377</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popup1->主界面弹窗]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[for (var i=0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        ee.showAni(sender.eeChildren[i], 1);
    }
}]]></onClick>
      <onCreate><![CDATA[sender.style.position = "fixed";
sender.style.zIndex=100;
sender.p1 = ee.getControl("panel149");
sender.p2 = ee.getControl("panel124");
sender.p3 = ee.getControl("panel213");
sender.p4 = ee.getControl("panel323");

sender.addEventListener("mousewheel",function(event){
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            sender.eeChildren[i].style.visibility = "hidden";
        }
    }
    sender.style.visibility = "hidden";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);
]]></onCreate>
      <onMouseMove><![CDATA[return;
var getDist = function(x,y,div) {
    var rect = eb.getDivRectSetting(div);
    var dx, dy;
    if (x<rect.x) {
        dx = rect.x - x;
    } else if (x<rect.x+rect.w) {
        dx = -1;
    } else {
        dx = x - rect.x - rect.w;
    }
    if (y<rect.y) {
        dy = rect.y - y;
    } else if (y<rect.y+rect.h) {
        dy = -1;
    } else {
        dy = y - rect.y - rect.h;
    }
    return Math.max(dx,dy);
}

var div = null;
for (var i = 0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        div = sender.eeChildren[i];
        break;
    }
}
if (div == null) return;

var lastDist = getDist(sender.v_lastX,sender.v_lastY, div);
var currentDist = getDist(x,y, div);
if (currentDist>lastDist) {
    sender.v_closeCount++;
} else {
    sender.v_closeCount = 0;
}
sender.v_lastX = x;
sender.v_lastY = y;
if (sender.v_closeCount>=4) {
    sender.click();
}


]]></onMouseMove>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>103</height>
      <heightRatio>0.129396984924623</heightRatio>
      <layerName><![CDATA[popup1.p1->A自己选项]]></layerName>
      <layerVisible>false</layerVisible>
      <left>381</left>
      <leftRatio>0.321518987341772</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.c_button1 = ee.getControl("panel110");
sender.c_button2 = ee.getControl("panel111");

sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";

sender.show = function(refDiv, v_content, v_reContent, v_userInfo, v_reUserInfo) {
    this.v_content = v_content.clone();
    this.v_reContent = v_reContent.clone();
    this.v_userInfo = v_userInfo;
    this.v_reUserInfo = v_reUserInfo;
    var rect = g5.getRectAbs(refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 50, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 50, rect.y+rect.h+10, null, null);
    }

    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

ee.setOnClick(sender.c_button1, function(c_button1, event) {
    g5.popBlack.a6.show(
        "删除确认",
        "此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及搜索结果中移除。",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#e0245e","#ca2055","#b31d4b","删除","确认删除","确认删除","#ffffff","#ffffff","#ffffff","")],
        function() {
            g5.deleteTwitter(sender.v_content,sender.v_reContent,sender.v_userInfo,sender.v_reUserInfo);
        }
    );
});]]></onCreate>
      <sizeRatio>0.476851851851852</sizeRatio>
      <top>192</top>
      <topRatio>0.241206030150754</topRatio>
      <width>216</width>
      <widthRatio>0.182278481012658</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel110">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>E0245E</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <left>0</left>
      <note>c_button1</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(224, 36, 94,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.trash + "</svg> 删除");
]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.231481481481481</sizeRatio>
      <text> x 删除</text>
      <top>0</top>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel149/panel111">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <left>0</left>
      <note>c_button2</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -4 34 34\" style='height: 1.75rem;color: rgba(20, 23, 26,1.00);fill: currentcolor;vertical-align:middle;'>" + g5.icon.pin + "</svg> 置顶到你的个人资料");
]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.231481481481481</sizeRatio>
      <text> x 置顶到你的个人资料</text>
      <top>52</top>
      <topRatio>0.504854368932039</topRatio>
      <width>216</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>103</height>
      <heightRatio>0.129396984924623</heightRatio>
      <layerName><![CDATA[popup1.p2->B转推菜单]]></layerName>
      <layerVisible>false</layerVisible>
      <left>372</left>
      <leftRatio>0.313924050632911</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel40"), false);</onAni2End>
      <onCreate><![CDATA[sender.c_button1 = ee.getControl("panel125");
sender.c_button2 = ee.getControl("panel126");

sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";
sender.setMode=function(isForward) {
    if (isForward) {
        $g("panel125label").innerHTML = "取消转发";
    } else {
        $g("panel125label").innerHTML = "转发";
    }
}

sender.show = function(refDiv,v_content,v_reContent,v_userInfo,v_reUserInfo) {
    var rect = g5.getRectAbs(refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 10, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 10, rect.y+rect.h+10, null, null);
    }
    this.setMode(v_content.isForward);
    v_content = v_content.clone();
    v_reContent = v_reContent.clone();
    ee.setOnClick(this.c_button1, function(button1, event) {
        if (newTwitter.busy) return;
        newTwitter.content="";
        newTwitter.uplinkType="L";
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkId = contentIdB;
        newTwitter.photos=new Array();
        newTwitter.onComplete = function(contentId) {
            if (v_content.isForward) {
                var v_newContent = v_content.clone();
                v_newContent.exContentId = v_newContent.id;
                v_newContent.id = contentId;
                v_newContent.exUplinkType = "L";
                v_newContent.exUserInfo = g5.myUserInfo;
                g5.p2.p2.insert(v_newContent, v_reContent, v_userInfo, v_reUserInfo);
            }
        }
        newTwitter();
        sender.close();
        if (v_content.isForward) {
            v_content.isForward = false;
            v_content.fwCount--;
            if (v_content.fwCount<0) v_content.fwCount = 0;
            g5.contentDel(g5.contentGetMyDownlinkId(contentIdB, "L"), function() {});
        } else {
            v_content.isForward = true;
            v_content.fwCount++;
        }
        v_content.id = contentIdB;
        g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo);
    });
    ee.setOnClick(this.c_button2, function(button2, event) {
        g5.popBlack.a3.showFw(v_content.clone(),v_reContent.clone(),v_userInfo,v_reUserInfo);
    });
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

sender.close = function() {
    ee.showAni(this, 1);
}
]]></onCreate>
      <sizeRatio>0.605882352941176</sizeRatio>
      <top>341</top>
      <topRatio>0.428391959798995</topRatio>
      <width>170</width>
      <widthRatio>0.143459915611814</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124/panel125">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <left>0</left>
      <note>c_button1</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>"+g5.icon.forward+"</svg> <div id='panel125label' style='display:inline;'>转发</div>");]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.294117647058824</sizeRatio>
      <text>   X   转发</text>
      <top>0</top>
      <width>170</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel124/panel126">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.485436893203884</heightRatio>
      <left>0</left>
      <note>c_button2</note>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'><g><path d=\"M22.132 7.653c0-.6-.234-1.166-.66-1.59l-3.535-3.536c-.85-.85-2.333-.85-3.182 0L3.417 13.865c-.323.323-.538.732-.63 1.25l-.534 5.816c-.02.223.06.442.217.6.14.142.332.22.53.22.023 0 .046 0 .068-.003l5.884-.544c.45-.082.86-.297 1.184-.62l11.337-11.34c.425-.424.66-.99.66-1.59zm-17.954 8.69l3.476 3.476-3.825.35.348-3.826zm5.628 2.447c-.282.283-.777.284-1.06 0L5.21 15.255c-.292-.292-.292-.77 0-1.06l8.398-8.398 4.596 4.596-8.398 8.397zM20.413 8.184l-1.15 1.15-4.595-4.597 1.15-1.15c.14-.14.33-.22.53-.22s.388.08.53.22l3.535 3.536c.142.142.22.33.22.53s-.08.39-.22.53z\"></path></g></svg> 带评论转发");]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.294117647058824</sizeRatio>
      <text>   X   带评论转发</text>
      <top>52</top>
      <topRatio>0.504854368932039</topRatio>
      <width>170</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>205</height>
      <heightRatio>0.257537688442211</heightRatio>
      <layerName><![CDATA[popup1.p3>C其他人选项]]></layerName>
      <layerVisible>false</layerVisible>
      <left>304</left>
      <leftRatio>0.256540084388186</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel40"), false);</onAni2End>
      <onCreate><![CDATA[sender.style.borderRadius = "6px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";
sender.setMode=function(mode) {
    if (mode=="0") {
        $g("panel125label").innerHTML = "转推";
    } else if (mode=="1") {
        $g("panel125label").innerHTML = "取消转推";
    }
}
sender.show = function(refDiv, content, userInfo) {
    this.v_content = content
    this.v_userInfo = userInfo;
    var rect = g5.getRectAbs(refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 50, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 50, rect.y+rect.h+10, null, null);
    }
    if (!userInfo.isFollow) {
        ee.setText(ee.getControl("panel214"),"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M23.152 3.483h-2.675V.81c0-.415-.336-.75-.75-.75s-.75.335-.75.75v2.674H16.3c-.413 0-.75.336-.75.75s.337.75.75.75h2.677V7.66c0 .413.336.75.75.75s.75-.337.75-.75V4.982h2.675c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zM8.417 11.816c1.355 0 2.872-.15 3.84-1.256.813-.93 1.077-2.367.806-4.392-.38-2.826-2.116-4.513-4.646-4.513S4.15 3.342 3.77 6.168c-.27 2.025-.007 3.462.807 4.393.968 1.108 2.485 1.257 3.84 1.257zm-3.16-5.448c.16-1.2.786-3.212 3.16-3.212 2.373 0 2.998 2.013 3.16 3.212.207 1.55.056 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.256-.223-2.71-.743c-.507-.578-.658-1.656-.45-3.205zm11.44 12.867c-.88-3.525-4.283-5.988-8.28-5.988-3.998 0-7.403 2.463-8.28 5.988-.172.693-.03 1.4.395 1.94.408.522 1.04.822 1.733.822H14.57c.69 0 1.323-.3 1.73-.82.425-.54.568-1.247.396-1.942zm-1.577 1.018c-.126.16-.316.245-.55.245H2.264c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.113 1.994 6.824 4.85c.06.24.017.48-.12.655z\"></path></g>" +
            "</svg> <div style='display:inline;'>关注 @"+userInfo.userName+"</div>");    
    } else if (userInfo.isFollow) {
        ee.setText(ee.getControl("panel214"),"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
            "<g><path d=\"M20.083 6.173l2.323 2.323c.293.293.768.293 1.06 0s.294-.768 0-1.06l-2.32-2.326 2.322-2.323c.293-.294.293-.77 0-1.062s-.768-.293-1.06 0L20.082 4.05 17.76 1.73c-.293-.293-.768-.293-1.06 0-.147.146-.22.338-.22.53s.072.384.22.53l2.32 2.32-2.32 2.325c-.147.146-.22.338-.22.53s.072.384.22.53c.292.293.767.293 1.06 0l2.323-2.32zM8.417 11.816c1.355 0 2.872-.15 3.84-1.256.813-.93 1.077-2.367.806-4.392-.38-2.826-2.116-4.513-4.645-4.513-2.53 0-4.267 1.687-4.646 4.513-.273 2.025-.01 3.462.805 4.393.968 1.108 2.485 1.257 3.84 1.257zm-3.16-5.448c.16-1.2.786-3.212 3.16-3.212 2.373 0 2.998 2.013 3.16 3.212.207 1.55.056 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.256-.223-2.71-.743c-.507-.578-.658-1.656-.45-3.205zm11.44 12.867c-.88-3.525-4.283-5.988-8.28-5.988-3.998 0-7.403 2.463-8.28 5.988-.172.693-.03 1.4.395 1.94.408.522 1.04.822 1.733.822H14.57c.69 0 1.323-.3 1.73-.82.425-" +
            ".54.568-1.247.396-1.942zm-1.577 1.018c-.126.16-.316.245-.55.245H2.264c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.113 1.994 6.824 4.85c.06.24.017.48-.12.655z\"></path></g>" +
            "</svg> <div style='display:inline;'>取消关注 @"+userInfo.userName+"</div>");    
    } else return;
    ee.setText(ee.getControl("panel215"),"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
        "<g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g><g><path d=\"M12 1.25C6.072 1.25 1.25 6.072 1.25 12S6.072 22.75 12 22.75 22.75 17.928 22.75 12 17.928 1.25 12 1.25zm0 1.5c2.28 0 4.368.834 5.982 2.207L4.957 17.982C3.584 16.368 2.75 14.282 2.75 12c0-5.1 4.15-9.25 9.25-9.25zm0 18.5c-2.28 0-4.368-.834-5.982-2.207L19.043 6.018c1.373 1.614 2.207 3.7 2.207 5.982 0 5.1-4.15 9.25-9.25 9.25z\"></path></g>" +
        "</svg> <div style='display:inline;'>屏蔽 @"+userInfo.userName+"</div>");    
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}
]]></onCreate>
      <sizeRatio>0.621212121212121</sizeRatio>
      <top>175</top>
      <topRatio>0.219849246231156</topRatio>
      <width>330</width>
      <widthRatio>0.278481012658228</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel214">
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.24390243902439</heightRatio>
      <left>0</left>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   取消关注/关注 @xxx</text>
      <top>0</top>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel215">
      <bindControl>panel214</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.24390243902439</heightRatio>
      <left>0</left>
      <onClick>ee.getControl("panel217").v_root = sender.parentNode.v_root;
ee.getControl("panel217").show();
</onClick>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   屏蔽 @xxx</text>
      <top>50</top>
      <topRatio>0.24390243902439</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel143">
      <bindControl>panel215</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.24390243902439</heightRatio>
      <left>0</left>
      <onClick>setBookMark.operation = "add";
setBookMark.contentId = sender.parentNode.v_content.id;
setBookMark.onComplete = function() {
    g5.alert1(
        "增加（标记）书签",
        "您已经将此发言标记为书签，点击书签可以随时查看。"
    );
}
setBookMark();
</onClick>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
    "<g><path d=\"M23.074 3.35H20.65V.927c0-.414-.337-.75-.75-.75s-.75.336-.75.75V3.35h-2.426c-.414 0-.75.337-.75.75s.336.75.75.75h2.425v2.426c0 .414.335.75.75.75s.75-.336.75-.75V4.85h2.424c.414 0 .75-.335.75-.75s-.336-.75-.75-.75zM19.9 10.744c-.415 0-.75.336-.75.75v9.782l-6.71-4.883c-.13-.095-.285-.143-.44-.143s-.31.048-.44.144l-6.71 4.883V5.6c0-.412.337-.75.75-.75h6.902c.414 0 .75-.335.75-.75s-.336-.75-.75-.75h-6.9c-1.242 0-2.25 1.01-2.25 2.25v17.15c0 .282.157.54.41.668.25.13.553.104.78-.062L12 17.928l7.458 5.43c.13.094.286.143.44.143.117 0 .234-.026.34-.08.252-.13.41-.387.41-.67V11.495c0-.414-.335-.75-.75-.75z\"></path></g>" +
    "</svg> <div style='display:inline;'>添加发言到书签</div>");    
]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   添加发言到书签</text>
      <topRatio>0.48780487804878</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel213/panel216">
      <bindControl>panel143</bindControl>
      <bindTop>bottom</bindTop>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>50</height>
      <heightRatio>0.24390243902439</heightRatio>
      <left>0</left>
      <onClick><![CDATA[var value = "https://" + window.location.host + ee.pageUrl + "?p=7&amp;c=" + sender.parentNode.v_content.id;
g5.copyClipboard(value,
    function() {
        g5.alert1("复制成功", value + "<br/>已经成功复制到您的剪贴板");
    },
    function() {
        g5.alert1("复制失败", "您的浏览器或许不支持或者没有权限复制剪贴板，请手工复制以下链接：<br/>" + value);
    }
);]]></onClick>
      <onCreate><![CDATA[ee.setText(sender,"   <svg viewBox=\"0 -2 34 34\" style='height: 1.75rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>" +
    "<g><path d=\"M11.96 14.945c-.067 0-.136-.01-.203-.027-1.13-.318-2.097-.986-2.795-1.932-.832-1.125-1.176-2.508-.968-3.893s.942-2.605 2.068-3.438l3.53-2.608c2.322-1.716 5.61-1.224 7.33 1.1.83 1.127 1.175 2.51.967 3.895s-.943 2.605-2.07 3.438l-1.48 1.094c-.333.246-.804.175-1.05-.158-.246-.334-.176-.804.158-1.05l1.48-1.095c.803-.592 1.327-1.463 1.476-2.45.148-.988-.098-1.975-.69-2.778-1.225-1.656-3.572-2.01-5.23-.784l-3.53 2.608c-.802.593-1.326 1.464-1.475 2.45-.15.99.097 1.975.69 2.778.498.675 1.187 1.15 1.992 1.377.4.114.633.528.52.928-.092.33-.394.547-.722.547z\"></path><path d=\"M7.27 22.054c-1.61 0-3.197-.735-4.225-2.125-.832-1.127-1.176-2.51-.968-3.894s.943-2.605 2.07-3.438l1.478-1.094c.334-.245.805-.175 1.05.158s.177.804-.157 1.05l-1.48 1.095c-.803.593-1.326 1.464-1.475 2.45-.148.99.097 1.975.69 2.778 1.225 1.657 3.57 2.01 5.23.785l3.528-2.608c1.658-1.225 2.01-3.57.785-5.23-.498-.674-1.187-1.15-1.992-1.376-.4-.113-.633-.527-.52-.927.112-.4.528-.63.926-.522 1.13.318 2.096.986 2.794 1.932 1.717 2.324 1.224 5.612-1.1 7.33l-3.53 2.608c-.933.693-2.023 1.026-3.105 1.026z\"></path></g>" +
    "</svg> <div style='display:inline;'>复制发言链接</div>");    ]]></onCreate>
      <onMouseEnter>sender.style.backgroundColor = "rgb(245,248,250)";</onMouseEnter>
      <onMouseLeave>sender.style.backgroundColor = "";</onMouseLeave>
      <sizeRatio>0.151515151515152</sizeRatio>
      <text>   X   复制发言链接</text>
      <top>150</top>
      <topRatio>0.731707317073171</topRatio>
      <width>330</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel40/panel323">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <height>205</height>
      <heightRatio>0.257537688442211</heightRatio>
      <layerName><![CDATA[popup1.p4>通用弹出菜单]]></layerName>
      <layerVisible>false</layerVisible>
      <left>374</left>
      <leftRatio>0.315611814345992</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onCreate><![CDATA[sender.style.borderRadius = "10px";
sender.style.boxShadow="rgba(101, 119, 134, 0.2) 0px 0px 15px, rgba(101, 119, 134, 0.15) 0px 0px 3px 1px";

sender.show = function(refDiv, width, v_style, v_function) {
    if (!eb.isEmpty(this.v_items)) {
        for (var i=0; i<this.v_items.length; i++) {
            ee.removeControl(this.v_items[i]);
        }
    }
    this.v_items = new Array();
    var i, item, cy=0;
    var root = this;
    ee.setRect(root,null,null,width,null);
    var itemWidth = eb.getDivRectSetting(root).w;
    for (i=0; i < v_style.length; i++) {
        v_style[i].text1 = "    " + v_style[i].text1;
        v_style[i].text2 = "    " + v_style[i].text2;
        v_style[i].text3 = "    " + v_style[i].text3;
    }
    this.v_style = v_style;
    this.v_function = v_function;
    for (i=0; i < v_style.length; i++) {
        var item = createPanel(root, "popup1_" + i, "", 0, cy, itemWidth, 50);
        item.v_index = i;
        this.renderItem(item);
        this.v_items.push(item);
        cy += 0 + eb.getDivRect(item).h;
    }
    g5.tiledV(this, 0, 0, 0);

    var rect = g5.getRectAbs(refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 50, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 50, rect.y+rect.h+10, null, null);
    }
    
    this.parentNode.v_lastX = -1000
    this.parentNode.v_lastY = -1000;
    this.parentNode.v_closeCount = 0;
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

sender.renderItem = function(root) {
    var w = eb.getDivRectSetting(root).w;
    var h = eb.getDivRectSetting(root).h;
    var c,cy=7;
    
    //button1
    c = createPanel(root, root.id+"button1", "", 0,0,w,h);
    root.c_button = c;
    c.style.cursor = "pointer";
    c.v_style = root.parentNode.v_style[root.v_index];
    addText(c, c.v_style.text1, "left", "middle", "微软雅黑", 12, "ffffff", "");
    c.style.backgroundColor = c.v_style.color1;
    ee.setTextColor(c, c.v_style.tColor1);
    ee.setOnClick(c,function(sender,event) {
        sender.parentNode.parentNode.v_function[sender.parentNode.v_index](sender,event);
    });
    ee.setOnMouseEnter(c, function(sender,event) { 
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    });
    ee.setOnMouseLeave(c, function(sender,event) { 
        var s =sender.v_style;
        sender. style.backgroundColor = s.color1;
        ee.setText(sender, s.text1);
        ee.setTextColor(sender, s.tColor1);
    });
    sender.eeMouseDown = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color3;
        ee.setText(sender, s.text3);
        ee.setTextColor(sender, s.tColor3);
    }
    sender.eeMouseUp = function(c,event,x,y) {
        var s = sender.v_style;
        sender.style.backgroundColor = s.color2;
        ee.setText(sender, s.text2);
        ee.setTextColor(sender, s.tColor2);
    }
    eb.initMouseEvent(c);

    return root; 
}

]]></onCreate>
      <sizeRatio>0.776515151515151</sizeRatio>
      <top>18</top>
      <topRatio>0.0226130653266332</topRatio>
      <width>264</width>
      <widthRatio>0.222784810126582</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popBlack->主界面弹窗黑色]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[for (var i=0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        ee.showAni(sender.eeChildren[i], 1);
    }
}
  
]]></onClick>
      <onCreate>sender.style.position = "fixed";
sender.style.zIndex=100;
sender.a1 = ee.getControl("panel117");
sender.a2 = ee.getControl("panel142");
sender.a3 = ee.getControl("panel42");
sender.a4 = ee.getControl("panel10");
sender.a5 = ee.getControl("panel217");
sender.a6  = ee.getControl("panel257");
sender.a7 = ee.getControl("panel344");
sender.a8 = ee.getControl("panel54");
sender.addEventListener("mousewheel", function(e) {
    window.event? window.event.cancelBubble = true : e.stopPropagation();
    e.returnValue = false;
    return false;
});
</onCreate>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <ani2Size>pointDisappear:收缩消失成点</ani2Size>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>228</height>
      <heightRatio>0.28643216080402</heightRatio>
      <layerName><![CDATA[  a1->删除发言确认]]></layerName>
      <layerVisible>false</layerVisible>
      <left>419</left>
      <leftRatio>0.353586497890295</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);
if (sender.formResult) {
    sender.formResult = false;
    delTwitter();
}
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.formResult = false;</onCreate>
      <sizeRatio>0.658959537572254</sizeRatio>
      <top>284</top>
      <topRatio>0.35678391959799</topRatio>
      <width>346</width>
      <widthRatio>0.291983122362869</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel139">
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>76</height>
      <heightRatio>0.333333333333333</heightRatio>
      <left>31</left>
      <leftRatio>0.0895953757225433</leftRatio>
      <sizeRatio>0.268551236749117</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及搜索结果中移除。</text>
      <top>62</top>
      <topRatio>0.271929824561404</topRatio>
      <width>283</width>
      <widthRatio>0.817919075144509</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel138">
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <height>39</height>
      <heightRatio>0.171052631578947</heightRatio>
      <left>109</left>
      <leftRatio>0.315028901734104</leftRatio>
      <sizeRatio>0.3046875</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0789473684210526</topRatio>
      <width>128</width>
      <widthRatio>0.369942196531792</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel117/button11">
      <backgroundSkin>LRBtn12</backgroundSkin>
      <backgroundSkin1>twitterG008</backgroundSkin1>
      <backgroundSkin2>twitterG009</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <left>30</left>
      <leftRatio>0.0867052023121387</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel117"), 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>取消</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel117/button12">
      <backgroundSkin>LRBtn13</backgroundSkin>
      <backgroundSkin1>twitterG010</backgroundSkin1>
      <backgroundSkin2>twitterG011</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontColor1>FFFFFF</fontColor1>
      <fontColor2>FFFFFF</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <left>182</left>
      <leftRatio>0.526011560693642</leftRatio>
      <onClick>ee.getControl("panel117").formResult = true;
ee.showAni(ee.getControl("panel117"), 1);
</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>删除</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel117/panel221">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.285087719298246</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.187861271676301</sizeRatio>
      <top>0</top>
      <width>346</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[  a2->图片展示]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onAni2End>sender.close();
</onAni2End>
      <onCreate><![CDATA[sender.c_photo = ee.getControl("panel75");
sender.c_video = ee.getControl("panel76");

sender.show = function(photos, photo) {
    sender.v_photos = photos;
    sender.v_index = -1;
    for (var i = 0; i < photos.length; i++) {
        if (photos[i]==photo) {
            sender.v_index = i;
            break;
        }    
    }
    if (sender.v_index<0) return;
    sender.refresh();    
    document.addEventListener("keydown", this.onKeyDown);
    ee.setVisible(ee.getControl("panel112"), true);
    ee.showAni(sender, 0);
}

sender.onKeyDown = function(event) {
    event = event || window.event;
    if (event.keyCode == 37) {
        ee.getControl("panel8").click();
    } else if (event.keyCode == 39) {
        ee.getControl("panel52").click();
    } else if (event.keyCode == 27) {
        sender.parentNode.click();
    }
    //g5.writeLog(event.keyCode+"");
}

sender.refresh = function() {
    if (this.v_index<0) return;
    if (this.v_index>=this.v_photos.length) return;
    var v_photo = this.v_photos[this.v_index];
    var rect = eb.getDivRect(this.c_photo);
    this.clear();
    if (v_photo.substr(0,4) == "?YTB") {
        this.c_video.innerHTML =
            "<iframe width='" + rect.w + "' height='" + rect.h + "' src='https://www.youtube.com/embed/" +
            v_photo.substr(4, v_photo.length) + 
            "' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>";
        ee.setVisible(this.c_video, true);
    } else {
        this.c_photo.imgUrl = "url:" + g5.imgUrl + v_photo
        ee.setImage(this.c_photo, this.c_photo.imgUrl,"fill","","");
        ee.setVisible(this.c_photo, true);
    }
}

sender.clear = function() {
    ee.setImage(this.c_photo,"","fill","","");
    this.c_video.innerHTML = "";
    ee.setVisible(this.c_photo, false);
    ee.setVisible(this.c_video, false);
}

sender.close = function() {
    ee.setVisible(this.parentNode, false);
    document.removeEventListener("keydown", this.onKeyDown);
    this.clear();
}
]]></onCreate>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>696</height>
      <heightRatio>0.874371859296482</heightRatio>
      <left>80</left>
      <leftRatio>0.0675105485232067</leftRatio>
      <outerBottom>50</outerBottom>
      <outerLeft>80</outerLeft>
      <outerRight>80</outerRight>
      <outerTop>50</outerTop>
      <sizeRatio>0.679024390243902</sizeRatio>
      <top>50</top>
      <topRatio>0.0628140703517588</topRatio>
      <width>1025</width>
      <widthRatio>0.864978902953586</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145/panel75">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>696</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>c_photo</note>
      <sizeRatio>0.679024390243902</sizeRatio>
      <top>0</top>
      <width>1025</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel145/panel76">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>696</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>c_video</note>
      <sizeRatio>0.679024390243902</sizeRatio>
      <top>0</top>
      <width>1025</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel147">
      <height>49</height>
      <heightRatio>0.0615577889447236</heightRatio>
      <left>10</left>
      <leftRatio>0.00843881856540084</leftRatio>
      <sizeRatio>0.844827586206897</sizeRatio>
      <top>10</top>
      <topRatio>0.0125628140703518</topRatio>
      <width>58</width>
      <widthRatio>0.0489451476793249</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel147/panel146">
      <backgroundImg>i087_01.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>39</height>
      <heightRatio>0.795918367346939</heightRatio>
      <left>5</left>
      <leftRatio>0.0862068965517241</leftRatio>
      <outerBottom>5</outerBottom>
      <outerLeft>5</outerLeft>
      <outerRight>5</outerRight>
      <outerTop>5</outerTop>
      <sizeRatio>0.8125</sizeRatio>
      <top>5</top>
      <topRatio>0.102040816326531</topRatio>
      <width>48</width>
      <widthRatio>0.827586206896552</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel8">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>left</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>176</height>
      <heightRatio>0.221105527638191</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.style.borderRadius = "0px 25px 25px 0px";
sender.baseColor = "rgba(0,0,0,0.2)";
sender.style.backgroundColor = sender.baseColor;
ee.setText(sender,"<svg viewBox=\"0 0 800 800\" style=\"display:inline;height:1.9em;width:1.9em;margin:0px 0px 0px 0px;fill:#ffffff;vertical-align:middle;\">"+g5.iconLeft+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "rgba(0,0,0,0.5)";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.baseColor;
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "rgba(0,0,0,0.8)";
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "rgba(0,0,0,0.5)";
}
ee.setOnClick(sender, function(sender, event) {
    if (sender.parentNode.v_photos.length<=1) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        return;
    }
    if (sender.parentNode.v_index==0) {
        sender.parentNode.v_index = sender.parentNode.v_photos.length-1;
    } else {
        sender.parentNode.v_index--;
    }
    sender.parentNode.refresh();    
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
eb.initMouseEvent(sender);

]]></onCreate>
      <sizeRatio>3.2</sizeRatio>
      <text><![CDATA[<]]></text>
      <top>310</top>
      <topRatio>0.389447236180905</topRatio>
      <width>55</width>
      <widthRatio>0.0464135021097046</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel142/panel52">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>center</dockY>
      <fontBold>true</fontBold>
      <fontColor>1E90FF</fontColor>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>176</height>
      <heightRatio>0.221105527638191</heightRatio>
      <left>1130</left>
      <leftRatio>0.953586497890295</leftRatio>
      <onCreate><![CDATA[sender.style.borderRadius = "25px 0px 0px 25px";
sender.baseColor = "rgba(0,0,0,0.2)";
sender.style.backgroundColor = sender.baseColor;
ee.setText(sender,"<svg viewBox=\"0 0 800 800\" style=\"display:inline;height:1.9em;width:1.9em;margin:0px 0px 0px 0px;fill:#ffffff;vertical-align:middle;\">"+g5.iconRight+"</svg>");
ee.setOnMouseEnter(sender, function(sender,event) { 
    sender.style.backgroundColor = "rgba(0,0,0,0.5)";
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    sender.style.backgroundColor = sender.baseColor;
});
sender.eeMouseDown = function(sender,event,x,y) {
    sender.style.backgroundColor = "rgba(0,0,0,0.8)";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}
sender.eeMouseUp = function(sender,event,x,y) {
    sender.style.backgroundColor = "rgba(0,0,0,0.5)";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}
ee.setOnClick(sender, function(sender, event) {
    if (sender.parentNode.v_photos.length<=1) {
        window.event? window.event.cancelBubble = true : event.stopPropagation();
        return;
    }
    if (sender.parentNode.v_index>=sender.parentNode.v_photos.length-1) {
        sender.parentNode.v_index = 0;
    } else {
        sender.parentNode.v_index++;
    }
    sender.parentNode.refresh();     
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
eb.initMouseEvent(sender);

]]></onCreate>
      <sizeRatio>3.2</sizeRatio>
      <text><![CDATA[>]]></text>
      <top>310</top>
      <topRatio>0.389447236180905</topRatio>
      <width>55</width>
      <widthRatio>0.0464135021097046</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>611</height>
      <heightRatio>0.767587939698492</heightRatio>
      <layerName><![CDATA[  a3->发短文]]></layerName>
      <layerVisible>false</layerVisible>
      <left>326</left>
      <leftRatio>0.275105485232068</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);
this.c_photos.v_photos = new Array();
g5.refreshPhoto(this.c_photos);</onAni2End>
      <onAniStart>ee.setVisible(ee.getControl("panel112"), true);
ee.getControl("panel51").v_photos = new Array();
g5.refreshPhoto(ee.getControl("panel51"));</onAniStart>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <onCreate><![CDATA[sender.c_photos = ee.getControl("panel412");
sender.c_input = ee.getControl("edit1");
sender.c_title = ee.getControl("panel47");
sender.c_button = ee.getControl("panel220");

sender.show = function(title) {
    this.init(title);
    ee.showAni(this, 0);
}

sender.init = function(titleText) {
    if (eb.isEmpty(titleText)) titleText = "";
    ee.setText(this.c_title, titleText)
    ee.setEditText(this.c_input, "");
    this.c_photos.v_photos = new Array();
    g5.refreshPhoto(this.c_photos);
    this.check();
    var cir = ee.getControl("panel50");
    var cirText = ee.getControl("panel45");
    cir.refresh(0);
    ee.setText(cirText, "");    
}


sender.check = function() {
    this.c_button.setEnabled(
        ((ee.getEditText(this.c_input).trim().length>0) &amp;&amp;(ee.getEditText(this.c_input).trim().length<=200)) ||
        this.c_photos.v_photos.length>0
    );    
}

sender.showNew = function() {
    this.init("发言");
    this.onComplete = function() {
        if (newTwitter.busy) return;
        newTwitter.uplinkType = "N";
        newTwitter.uplinkId = 0;
        newTwitter.content = ee.getEditText(sender.c_input);
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            ee.showAni(sender, 1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "N";
            newContent.uplinkId = 0;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            g5.p2.p1.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
            if (showUserPage.v_userInfo) {
                if (showUserPage.v_userInfo.id == g5.myUserInfo.id) {
                    g5.p2.p2.insert(newContent.clone(),new g5.ContentInfo(),g5.myUserInfo,new g5.UserInfo());
                }
            }
        }
        newTwitter();
    }
    ee.showAni(this, 0);
}

sender.showRe = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.init("回复发言");
    this.onComplete = function() {
        if (newTwitter.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkType = "R";
        newTwitter.uplinkId = contentIdB;
        newTwitter.content = ee.getEditText(sender.c_input);
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            ee.showAni(sender, 1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "R";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            g5.p2.p1.insert(newContent.clone(),v_content.clone(),g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),v_content.clone(),g5.myUserInfo,v_userInfo);
            g5.p2.p9.insert(newContent.clone(),v_content.clone(),g5.myUserInfo,v_userInfo);
            v_content.reCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo);
        }
        newTwitter();
    }
    ee.showAni(this, 0);
}

sender.showFw = function(v_content,v_reContent,v_userInfo,v_reUserInfo) {
    this.init("带评论转发");
    v_content = v_content.clone();
    v_reContent = v_reContent.clone();
    this.onComplete = function() {
        if (newTwitter.busy) return;
        var contentIdB;
        if (v_content.exUplinkType=="L") {
            contentIdB = v_content.exContentId;
        } else {
            contentIdB = v_content.id;
        }
        newTwitter.uplinkType = "F";
        newTwitter.uplinkId = contentIdB;
        newTwitter.content = ee.getEditText(sender.c_input);
        newTwitter.photos = sender.c_photos.v_photos;
        newTwitter.onComplete = function(contentId) {
            ee.showAni(sender, 1);
            var newContent = new g5.ContentInfo();
            newContent.id = contentId;
            newContent.seconds = 0;
            newContent.status = "IDL";
            newContent.uplinkType = "F";
            newContent.uplinkId = contentIdB;
            newContent.content = newTwitter.content;
            newContent.photos = newTwitter.photos;
            newContent.reCount = 0;
            newContent.fwCount = 0;
            newContent.likeCount = 0;
            newContent.unlikeCount = 0;
            newContent.isForward = false;
            newContent.isLike = false;
            newContent.isUnlike = false;
            g5.p2.p1.insert(newContent.clone(),v_content.clone(),g5.myUserInfo,v_userInfo);
            g5.p2.p2.insert(newContent.clone(),v_content.clone(),g5.myUserInfo,v_userInfo);
            v_content.fwCount++;
            g5.syncTwitter(v_content,v_reContent,v_userInfo,v_reUserInfo)
        }
        newTwitter();
    }
    ee.showAni(this, 0);
}]]></onCreate>
      <sizeRatio>1.1484962406015</sizeRatio>
      <top>92</top>
      <topRatio>0.115577889447236</topRatio>
      <width>532</width>
      <widthRatio>0.448945147679325</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel50">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>39</height>
      <heightRatio>0.0638297872340425</heightRatio>
      <left>327</left>
      <leftRatio>0.614661654135338</leftRatio>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>圆形进度条</text>
      <top>240</top>
      <topRatio>0.392798690671031</topRatio>
      <width>39</width>
      <widthRatio>0.0733082706766917</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel45">
      <backgroundColor>EAEAF4</backgroundColor>
      <fontFamily>Helvetica</fontFamily>
      <height>39</height>
      <heightRatio>0.0638297872340425</heightRatio>
      <left>327</left>
      <leftRatio>0.614661654135338</leftRatio>
      <sizeRatio>1</sizeRatio>
      <text>.</text>
      <top>240</top>
      <topRatio>0.392798690671031</topRatio>
      <width>39</width>
      <widthRatio>0.0733082706766917</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel43">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>1</height>
      <heightRatio>0.0016366612111293</heightRatio>
      <left>8</left>
      <leftRatio>0.0150375939849624</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.00193798449612403</sizeRatio>
      <top>64</top>
      <topRatio>0.104746317512275</topRatio>
      <width>516</width>
      <widthRatio>0.969924812030075</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel44">
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <left>476</left>
      <leftRatio>0.894736842105263</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel42"), 1);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.iconClose + "</svg>"
);
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>X</text>
      <top>18</top>
      <topRatio>0.0294599018003273</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel46">
      <height>60</height>
      <heightRatio>0.0981996726677578</heightRatio>
      <left>27</left>
      <leftRatio>0.0507518796992481</leftRatio>
      <lockRatio>true</lockRatio>
      <sizeRatio>1</sizeRatio>
      <top>82</top>
      <topRatio>0.134206219312602</topRatio>
      <width>60</width>
      <widthRatio>0.112781954887218</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel42/edit1">
      <backgroundSkin>edit1</backgroundSkin>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>154</height>
      <heightRatio>0.252045826513912</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>12</inputFontSize>
      <left>30</left>
      <leftRatio>0.056390977443609</leftRatio>
      <multiLine>true</multiLine>
      <onChange><![CDATA[var text = ee.getEditText(sender.parentNode).trim();
var cir = ee.getControl("panel50");
var cirText = ee.getControl("panel45");
if (text.length<180) {
    cir.v_color = "#29a5f2";
    cir.v_r = "9";
    cir.refresh(text.length/200);
    ee.setText(cirText, "");    
} else if (text.length<=200) {
    cir.v_color = "#ffad1f";
    cir.v_r = "12";
    cir.refresh(text.length/200);    
    ee.setText(cirText, 200-text.length);    
    ee.setTextColor(cirText, "#ffad1f");
} else {
    cir.v_color = "#e0245e";
    cir.v_r = "14";
    cir.refresh((text.length-200)/100);    
    ee.setText(cirText, 200-text.length);
    ee.setTextColor(cirText, "#e0245e");
}
sender.parentNode.parentNode.check();
]]></onChange>
      <onCreate>sender._input.style.resize = "none";</onCreate>
      <sizeRatio>0.326271186440678</sizeRatio>
      <text>在这里输入您的发言内容</text>
      <top>79</top>
      <topRatio>0.129296235679214</topRatio>
      <width>472</width>
      <widthRatio>0.887218045112782</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51">
      <height>292</height>
      <heightRatio>0.477905073649754</heightRatio>
      <left>29</left>
      <leftRatio>0.0545112781954887</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "1px";
sender.style.borderColor = "rgb(230,236,240)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "15px";

</onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <top>289</top>
      <topRatio>0.472995090016367</topRatio>
      <width>473</width>
      <widthRatio>0.889097744360902</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51/panel411">
      <backgroundColor>F5F5FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>292</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.617336152219873</sizeRatio>
      <text>您还没有分享图片或者视频
分享图片或视频后会出现在这里
您最多分享4张图片或者1个视频</text>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel51/panel412">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>292</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate>sender.v_mode = "x";
sender.v_photos = new Array();</onCreate>
      <sizeRatio>0.617336152219873</sizeRatio>
      <top>0</top>
      <width>473</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel105">
      <backgroundImg>CPY0003.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <height>28</height>
      <heightRatio>0.0458265139116203</heightRatio>
      <left>84</left>
      <leftRatio>0.157894736842105</leftRatio>
      <onClick><![CDATA[if (sender.parentNode.c_photos.v_photos.length>=4) {
    g5.alert1("提示", "对不起，您最多上传4张照片或者视频");
    return;
}

g5.popBlack2.a1.show(function(ytbVideo) {
    var i = 0;
    for (i=0; i<sender.parentNode.c_photos.v_photos.length; i++) {
        var s = sender.parentNode.c_photos.v_photos[i];
        if (s.length<4) continue;
        if (s.substr(0,4)=="?YTB") {
            break;
        }
    }
    if (i>=sender.parentNode.c_photos.v_photos.length) {
        sender.parentNode.c_photos.v_photos.push(ytbVideo);
    } else {
        sender.parentNode.c_photos.v_photos.splice(i,1,ytbVideo);
    }
    
    g5.refreshPhoto(sender.parentNode.c_photos);
    sender.parentNode.check();
});
]]></onClick>
      <sizeRatio>0.411764705882353</sizeRatio>
      <top>245</top>
      <topRatio>0.400981996726678</topRatio>
      <width>68</width>
      <widthRatio>0.12781954887218</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel47">
      <fontBold>true</fontBold>
      <fontColor>505050</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>48</height>
      <heightRatio>0.0785597381342062</heightRatio>
      <left>26</left>
      <leftRatio>0.0488721804511278</leftRatio>
      <sizeRatio>0.115107913669065</sizeRatio>
      <text>发表短文或回复</text>
      <top>13</top>
      <topRatio>0.0212765957446809</topRatio>
      <width>417</width>
      <widthRatio>0.783834586466165</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel413">
      <backgroundColor>008080</backgroundColor>
      <cursor>pointer</cursor>
      <height>36</height>
      <heightRatio>0.0589198036006547</heightRatio>
      <left>41</left>
      <leftRatio>0.0770676691729323</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(29,161,242);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path><circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle></g></svg>";
sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        if (sender.parentNode.c_photos.v_photos.length>=4) {
            g5.alert1("提示", "对不起，您最多只能上传4张图片。");
            return;
        }         
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function() {
                        if (sender.parentNode.c_photos.v_photos.length>=4) return;
                        sender.parentNode.c_photos.v_photos.push(uploadImage.newFileName);
                        g5.refreshPhoto(sender.parentNode.c_photos);
                        sender.parentNode.check();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>1</sizeRatio>
      <text>图片</text>
      <top>241</top>
      <topRatio>0.39443535188216</topRatio>
      <width>36</width>
      <widthRatio>0.0676691729323308</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel414">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.106382978723404</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.142231947483589</sizeRatio>
      <top>0</top>
      <width>457</width>
      <widthRatio>0.859022556390977</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel42/panel220">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.0540098199672668</heightRatio>
      <left>412</left>
      <leftRatio>0.774436090225564</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
var content = ee.getEditText(sender.parentNode.c_input);
var photos = sender.parentNode.c_photos.v_photos;
if ((content.length<=0) &amp;&amp; (photos.length<=0)) {
    g5.alert1("提示", "发言内容不能为空，您至少要留有文字或者至少一张图片或者视频。");
    return;
}
//newTwitter();

if (sender.parentNode.onComplete) {
    sender.parentNode.onComplete();
}]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(false);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>发言</text>
      <top>242</top>
      <topRatio>0.39607201309329</topRatio>
      <width>83</width>
      <widthRatio>0.156015037593985</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <ani2Size>tinyZoomOut:轻微缩小</ani2Size>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <aniSize>tinyZoom:轻微放大</aniSize>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>650</height>
      <heightRatio>0.816582914572864</heightRatio>
      <layerName><![CDATA[  a4->转发用户列表]]></layerName>
      <layerVisible>false</layerVisible>
      <left>292</left>
      <leftRatio>0.246413502109705</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);</onAni2End>
      <onAniStart>ee.setVisible(ee.getControl("panel112"), true);</onAniStart>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();</onClick>
      <sizeRatio>1.08333333333333</sizeRatio>
      <top>73</top>
      <topRatio>0.0917085427135678</topRatio>
      <width>600</width>
      <widthRatio>0.506329113924051</widthRatio>
    </control>
    <control type="LayoutY" pathname="/divRoot/panel112/panel10/layouty1">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fieldCount>2</fieldCount>
      <height>625</height>
      <heightRatio>0.961538461538462</heightRatio>
      <left>8</left>
      <leftRatio>0.0133333333333333</leftRatio>
      <outerBottom>18</outerBottom>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <outerTop>7</outerTop>
      <sizeRatio>1.07020547945205</sizeRatio>
      <top>7</top>
      <topRatio>0.0107692307692308</topRatio>
      <width>584</width>
      <widthRatio>0.973333333333333</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1">
      <backgroundColor>f0f0f0</backgroundColor>
      <heavyEnabled>false</heavyEnabled>
      <height>50</height>
      <heightRatio>0.08</heightRatio>
      <left>0</left>
      <sizeRatio>0.0856164383561644</sizeRatio>
      <top>0</top>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel25">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockY>center</dockY>
      <height>38</height>
      <heightRatio>0.76</heightRatio>
      <left>7</left>
      <leftRatio>0.011986301369863</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel10"), 1);</onClick>
      <sizeRatio>0.844444444444444</sizeRatio>
      <top>6</top>
      <topRatio>0.12</topRatio>
      <width>45</width>
      <widthRatio>0.0770547945205479</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel11">
      <backgroundColor>C0C0C0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <height>1</height>
      <heightRatio>0.02</heightRatio>
      <left>0</left>
      <sizeRatio>0.00171232876712329</sizeRatio>
      <top>49</top>
      <topRatio>0.98</topRatio>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem1/panel123">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>37</height>
      <heightRatio>0.74</heightRatio>
      <left>58</left>
      <leftRatio>0.0993150684931507</leftRatio>
      <sizeRatio>0.21264367816092</sizeRatio>
      <text>转推者</text>
      <top>7</top>
      <topRatio>0.14</topRatio>
      <width>174</width>
      <widthRatio>0.297945205479452</widthRatio>
    </control>
    <control type="LayoutYItem" pathname="/divRoot/panel112/panel10/layouty1/layoutyitem2">
      <autoScroll>true</autoScroll>
      <backgroundColor>d0d0d0</backgroundColor>
      <height>575</height>
      <heightRatio>0.92</heightRatio>
      <left>0</left>
      <onCreate>sender.style.overflowX = "hidden";</onCreate>
      <sizeRatio>0.98458904109589</sizeRatio>
      <top>50</top>
      <topRatio>0.08</topRatio>
      <width>584</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel10/panel222">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>56</height>
      <heightRatio>0.0861538461538462</heightRatio>
      <left>135</left>
      <leftRatio>0.225</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.12280701754386</sizeRatio>
      <top>0</top>
      <width>456</width>
      <widthRatio>0.76</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <ani2Size>pointDisappear:收缩消失成点</ani2Size>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>228</height>
      <heightRatio>0.28643216080402</heightRatio>
      <layerName><![CDATA[  a5->屏蔽确认]]></layerName>
      <layerVisible>false</layerVisible>
      <left>419</left>
      <leftRatio>0.353586497890295</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>//v_root
sender.formResult = false;
sender.show = function() {
    ee.setText(ee.getControl("panel219"), "屏蔽 @" + this.v_root.v_userName);
    ee.setText(ee.getControl("panel218"), "该用户将无法关注你或查看你的发言，你也不会看到来自 @"+this.v_root.v_userName+" 的发言或通知。");
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}</onCreate>
      <sizeRatio>0.658959537572254</sizeRatio>
      <top>284</top>
      <topRatio>0.35678391959799</topRatio>
      <width>346</width>
      <widthRatio>0.291983122362869</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel218">
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>76</height>
      <heightRatio>0.333333333333333</heightRatio>
      <left>31</left>
      <leftRatio>0.0895953757225433</leftRatio>
      <sizeRatio>0.268551236749117</sizeRatio>
      <text>该用户将无法关注你或查看你的发言，你也不会看到来自@xxx的发言或通知。</text>
      <top>62</top>
      <topRatio>0.271929824561404</topRatio>
      <width>283</width>
      <widthRatio>0.817919075144509</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel219">
      <fontBold>true</fontBold>
      <fontColor>14171A</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>16</fontSize>
      <height>39</height>
      <heightRatio>0.171052631578947</heightRatio>
      <left>16</left>
      <leftRatio>0.046242774566474</leftRatio>
      <sizeRatio>0.12540192926045</sizeRatio>
      <text>屏蔽</text>
      <top>18</top>
      <topRatio>0.0789473684210526</topRatio>
      <width>311</width>
      <widthRatio>0.898843930635838</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel217/button2">
      <backgroundSkin>LRBtn12</backgroundSkin>
      <backgroundSkin1>twitterG008</backgroundSkin1>
      <backgroundSkin2>twitterG009</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <left>30</left>
      <leftRatio>0.0867052023121387</leftRatio>
      <onClick>ee.showAni(sender.parentNode.parentNode, 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>取消</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Button" pathname="/divRoot/panel112/panel217/button3">
      <backgroundSkin>LRBtn13</backgroundSkin>
      <backgroundSkin1>twitterG010</backgroundSkin1>
      <backgroundSkin2>twitterG011</backgroundSkin2>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontColor1>FFFFFF</fontColor1>
      <fontColor2>FFFFFF</fontColor2>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>38</height>
      <heightRatio>0.166666666666667</heightRatio>
      <left>182</left>
      <leftRatio>0.526011560693642</leftRatio>
      <onClick>blockUser.userId = sender.parentNode.parentNode.v_root.v_userId;
blockUser.isBlock = 1;
blockUser();
ee.showAni(sender.parentNode.parentNode, 1);</onClick>
      <sizeRatio>0.277372262773723</sizeRatio>
      <text>屏蔽</text>
      <top>157</top>
      <topRatio>0.68859649122807</topRatio>
      <width>137</width>
      <widthRatio>0.395953757225434</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel217/panel223">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>63</height>
      <heightRatio>0.276315789473684</heightRatio>
      <left>6</left>
      <leftRatio>0.0173410404624277</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.188059701492537</sizeRatio>
      <top>0</top>
      <width>335</width>
      <widthRatio>0.968208092485549</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <ani2Size>pointDisappear:收缩消失成点</ani2Size>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>259</height>
      <heightRatio>0.325376884422111</heightRatio>
      <layerName><![CDATA[  a6->通用确认窗口]]></layerName>
      <layerVisible>false</layerVisible>
      <left>401</left>
      <leftRatio>0.338396624472574</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel112"), false);
if (sender.formResult) {
    sender.formResult = false;
    delTwitter();
}
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.show = function(title,text,bStyle1,bStyle2,onComplete,onButton1) {
    ee.setText(ee.getControl("panel259"),title);
    ee.setText(ee.getControl("panel258"),text);
    ee.getControl("panel261").v_style = bStyle1;
    ee.getControl("panel261").init(0);
    ee.getControl("panel262").v_style = bStyle2;
    ee.getControl("panel262").init(0);
    this.onComplete = onComplete;
    this.onButton1 = onButton1;
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

</onCreate>
      <sizeRatio>0.678010471204188</sizeRatio>
      <top>268</top>
      <topRatio>0.336683417085427</topRatio>
      <width>382</width>
      <widthRatio>0.322362869198312</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel258">
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>116</height>
      <heightRatio>0.447876447876448</heightRatio>
      <left>31</left>
      <leftRatio>0.081151832460733</leftRatio>
      <sizeRatio>0.361370716510903</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及 GET搜索结果中移除。</text>
      <top>58</top>
      <topRatio>0.223938223938224</topRatio>
      <width>321</width>
      <widthRatio>0.840314136125654</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel259">
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>202326</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.150579150579151</heightRatio>
      <left>36</left>
      <leftRatio>0.0942408376963351</leftRatio>
      <sizeRatio>0.12621359223301</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0694980694980695</topRatio>
      <width>309</width>
      <widthRatio>0.808900523560209</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel260">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.250965250965251</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.170157068062827</sizeRatio>
      <top>0</top>
      <width>382</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel261">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.154440154440154</heightRatio>
      <left>56</left>
      <leftRatio>0.146596858638743</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel257"), 1);
if (!eb.isEmpty(sender.parentNode.onButton1)) {
    sender.parentNode.onButton1();
    sender.parentNode.onButton1 = null;
}
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>取消</text>
      <top>183</top>
      <topRatio>0.706563706563707</topRatio>
      <width>126</width>
      <widthRatio>0.329842931937173</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel262">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.154440154440154</heightRatio>
      <left>205</left>
      <leftRatio>0.536649214659686</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel257"), 1);
sender.parentNode.onComplete();</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>确认</text>
      <top>183</top>
      <topRatio>0.706563706563707</topRatio>
      <width>126</width>
      <widthRatio>0.329842931937173</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel257/panel306">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.138996138996139</heightRatio>
      <left>328</left>
      <leftRatio>0.858638743455497</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel257"), 1);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.iconClose + "</svg>"
);
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0579150579150579</topRatio>
      <width>36</width>
      <widthRatio>0.0942408376963351</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <ani2Size>pointDisappear:收缩消失成点</ani2Size>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>211</height>
      <heightRatio>0.265075376884422</heightRatio>
      <layerName><![CDATA[  a7->通用提示窗口]]></layerName>
      <layerVisible>false</layerVisible>
      <left>401</left>
      <leftRatio>0.338396624472574</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);
</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.show = function(title,text,bStyle,onComplete) {
    ee.setText(ee.getControl("panel346"),title);
    ee.setText(ee.getControl("panel345"),text);
    ee.getControl("panel349").v_style = bStyle;
    ee.getControl("panel349").init(0);
    this.onComplete = onComplete;
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

</onCreate>
      <sizeRatio>0.552356020942408</sizeRatio>
      <top>292</top>
      <topRatio>0.366834170854271</topRatio>
      <width>382</width>
      <widthRatio>0.322362869198312</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel345">
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>78</height>
      <heightRatio>0.369668246445498</heightRatio>
      <left>31</left>
      <leftRatio>0.081151832460733</leftRatio>
      <sizeRatio>0.242990654205607</sizeRatio>
      <text>此操作不可撤消，并且将从你的个人资料、关注你的任何账号的时间线以及 GET搜索结果中移除。</text>
      <top>54</top>
      <topRatio>0.255924170616114</topRatio>
      <width>321</width>
      <widthRatio>0.840314136125654</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel346">
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>202326</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>39</height>
      <heightRatio>0.184834123222749</heightRatio>
      <left>36</left>
      <leftRatio>0.0942408376963351</leftRatio>
      <sizeRatio>0.12621359223301</sizeRatio>
      <text>删除发言</text>
      <top>18</top>
      <topRatio>0.0853080568720379</topRatio>
      <width>309</width>
      <widthRatio>0.808900523560209</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel347">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>65</height>
      <heightRatio>0.308056872037915</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.170157068062827</sizeRatio>
      <top>0</top>
      <width>382</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel349">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>40</height>
      <heightRatio>0.18957345971564</heightRatio>
      <left>128</left>
      <leftRatio>0.335078534031414</leftRatio>
      <onClick>ee.showAni(sender.parentNode, 1);
sender.parentNode.onComplete();</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.317460317460317</sizeRatio>
      <text>确认</text>
      <top>142</top>
      <topRatio>0.672985781990521</topRatio>
      <width>126</width>
      <widthRatio>0.329842931937173</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel344/panel350">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.170616113744076</heightRatio>
      <left>328</left>
      <leftRatio>0.858638743455497</leftRatio>
      <onClick>ee.showAni(sender.parentNode, 1);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.iconClose + "</svg>"
);
sender.style.borderRadius = "50%";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0710900473933649</topRatio>
      <width>36</width>
      <widthRatio>0.0942408376963351</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>stretch</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>645</height>
      <heightRatio>0.810301507537688</heightRatio>
      <layerName><![CDATA[  a8->编辑个人信息]]></layerName>
      <layerVisible>false</layerVisible>
      <left>292</left>
      <leftRatio>0.246413502109705</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);</onAni2End>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();
event.returnValue = false;
return false;
</onClick>
      <onCreate><![CDATA[sender.c_button = ee.getControl("panel49");

sender.show = function() {
    sender.refreshProgress(ee.getControl("edit2"), ee.getControl("panel225"), 20);
    sender.refreshProgress(ee.getControl("edit3"), ee.getControl("panel230"), 160);
    sender.refreshProgress(ee.getControl("edit4"), ee.getControl("panel233"), 50);
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

sender.refreshProgress = function(edit, pdiv, maxValue) {
    var text = ee.getEditText(edit);
    if (text.length<(maxValue*0.8)) {
        pdiv.v_color = "#29a5f2";
        pdiv.v_r = "9";
        pdiv.refresh(text.length/maxValue);
        ee.setTextColor(pdiv.parentNode, "rgb(101, 119, 134)");
        this.c_button.setEnabled(true);        
    } else if (text.length<=maxValue) {
        pdiv.v_color = "#ffad1f";
        pdiv.v_r = "12";
        pdiv.refresh(text.length/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#ffad1f");
        this.c_button.setEnabled(true);        
    } else {
        pdiv.v_color = "#e0245e";
        pdiv.v_r = "14";
        pdiv.refresh((text.length-maxValue)/maxValue);    
        ee.setTextColor(pdiv.parentNode, "#e0245e");
        this.c_button.setEnabled(false);        
    }
    ee.setText(pdiv.parentNode, text.length + "/" + maxValue);    
}

ee.setVisible(ee.getControl("panel225"), false);
ee.setVisible(ee.getControl("panel230"), false);
ee.setVisible(ee.getControl("panel233"), false);]]></onCreate>
      <sizeRatio>1.075</sizeRatio>
      <top>75</top>
      <topRatio>0.0942211055276382</topRatio>
      <width>600</width>
      <widthRatio>0.506329113924051</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel56">
      <backgroundImg>close.png</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <cursor>pointer</cursor>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <height>39</height>
      <heightRatio>0.0598802395209581</heightRatio>
      <left>13</left>
      <leftRatio>0.0219435736677116</leftRatio>
      <onClick>ee.showAni(ee.getControl("panel54"), 1);</onClick>
      <sizeRatio>0.689655172413793</sizeRatio>
      <top>10</top>
      <topRatio>0.0149700598802395</topRatio>
      <width>55</width>
      <widthRatio>0.0909090909090909</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel58">
      <backgroundColor>0E5079</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>171</height>
      <heightRatio>0.265116279069767</heightRatio>
      <left>8</left>
      <leftRatio>0.0133333333333333</leftRatio>
      <outerLeft>8</outerLeft>
      <outerRight>8</outerRight>
      <sizeRatio>0.292808219178082</sizeRatio>
      <top>55</top>
      <topRatio>0.0852713178294574</topRatio>
      <width>584</width>
      <widthRatio>0.973333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel58/panel5">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.298245614035088</heightRatio>
      <left>263</left>
      <leftRatio>0.450342465753425</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxSqr = 700*700;
sender.compressRatio = 0.85;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function(newFileName) {
                        getUserInfo();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var imgW = img.width;
    var imgH = img.height;
    var dw,dh;
    if (imgW*imgH>this.maxSqr) {
        var ratio = imgW / imgH;
        var y = Math.sqrt(this.maxSqr/ratio);
        canvas.width = parseInt(ratio*y);
        canvas.height = parseInt(y);
    } else {
        canvas.width = imgW;
        canvas.height = imgH;
    }
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>60</top>
      <topRatio>0.350877192982456</topRatio>
      <width>57</width>
      <widthRatio>0.0976027397260274</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel55">
      <backgroundImg>user.png</backgroundImg>
      <height>119</height>
      <heightRatio>0.184496124031008</heightRatio>
      <left>29</left>
      <leftRatio>0.0483333333333333</leftRatio>
      <lockRatio>true</lockRatio>
      <onCreate>sender.style.borderRadius = "50%";
sender.style.borderWidth = "4px";
sender.style.borderColor = "#ffffff";
sender.style.borderStyle = "solid";</onCreate>
      <sizeRatio>1</sizeRatio>
      <top>179</top>
      <topRatio>0.277519379844961</topRatio>
      <width>119</width>
      <widthRatio>0.198333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel55/panel4">
      <backgroundColor>008080</backgroundColor>
      <backgroundImg>upload.png</backgroundImg>
      <cursor>pointer</cursor>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>51</height>
      <heightRatio>0.428571428571429</heightRatio>
      <left>28</left>
      <leftRatio>0.235294117647059</leftRatio>
      <onClick>sender.c_file.click();</onClick>
      <onCreate><![CDATA[sender.maxWidth = 200;
sender.maxHeight = 200;
sender.compressRatio = 0.90;

sender.style.borderRadius = "50%";

ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "rgba(0,0,0,0.3)";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "";
});


//implementation
var c = document.createElement("input");
c.setAttribute("type", "file");
c.setAttribute("accept", "image/*");
c.setAttribute("style", "position:absolute;width:1px;height:1px;left:-10px;height:-10px");
sender.insertBefore(c, sender.childNodes[0]);
sender.c_file = c;

c.onchange = function() {
    if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) { 
        var file = sender.c_file.files[0];
        var pos = file.name.lastIndexOf(".");
        var fileExt = pos<0 ? "" : file.name.substring(pos);
        
        //onUserSelectedFile(file.name,fileExt)
        fileExt = fileExt.toLowerCase();
        if ((fileExt != ".bmp") &amp;&amp;
            (fileExt != ".jpg") &amp;&amp;
            (fileExt != ".jpeg") &amp;&amp;
            (fileExt != ".png") &amp;&amp;
            (fileExt != ".tif") &amp;&amp;
            (fileExt != ".tiff")) return;
        
        var reader = new FileReader();
        reader.onload = function (event) {
            var blob = new Blob([event.target.result]); 
            window.URL = window.URL || window.webkitURL;
            var blobURL = window.URL.createObjectURL(blob); 
            var image = new Image();
            image.src = blobURL;
            image.onload = function() {
                sender.v_data = sender.resize(image);
                if (sender.v_data) {
                    //upload immediately
                    uploadImage.data = sender.v_data;
                    uploadImage.controlName = sender.id;
                    uploadImage.onComplete = function(newFileName) {
                        getUserInfo();
                        return;
                    }
                    uploadImage();
                    sender.v_data = "";
                }
            }
        }
        reader.readAsArrayBuffer(file);
    } else {
        g5.alert1("提示", "此浏览器不完全支持压缩上传图片");
    }
}

sender.resize = function (img) {
    var canvas = document.createElement("canvas");
    var width = img.width;
    var height = img.height;
    if(width > height) {
        if(width > sender.maxWidth) {
            height = Math.round(height *= sender.maxWidth / width);
            width = sender.maxWidth
        }
    }else{
        if(height > sender.maxHeight) {
            width = Math.round(width *= sender.maxHeight / height);
            height = sender.maxHeight
        }
    }
    canvas.width = width;
    canvas.height = height;
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, width, height);
    return canvas.toDataURL("image/jpeg", sender.compressRatio); 
}
]]></onCreate>
      <outerBottom>6</outerBottom>
      <outerRight>6</outerRight>
      <sizeRatio>0.894736842105263</sizeRatio>
      <top>31</top>
      <topRatio>0.260504201680672</topRatio>
      <width>57</width>
      <widthRatio>0.478991596638655</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel140">
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>ratio</dockX>
      <dockY>ratio</dockY>
      <fontBold>true</fontBold>
      <fontColor>404040</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>18</fontSize>
      <height>34</height>
      <heightRatio>0.0523952095808383</heightRatio>
      <left>66</left>
      <leftRatio>0.11</leftRatio>
      <sizeRatio>0.0857843137254902</sizeRatio>
      <text>个人信息</text>
      <top>11</top>
      <topRatio>0.0164670658682635</topRatio>
      <width>408</width>
      <widthRatio>0.68</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel224">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockY>top</dockY>
      <height>58</height>
      <heightRatio>0.089922480620155</heightRatio>
      <left>54</left>
      <leftRatio>0.09</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.21969696969697</sizeRatio>
      <top>0</top>
      <width>264</width>
      <widthRatio>0.44</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>66</height>
      <heightRatio>0.102325581395349</heightRatio>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";
</onCreate>
      <sizeRatio>0.121546961325967</sizeRatio>
      <top>310</top>
      <topRatio>0.48062015503876</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel63">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.424242424242424</heightRatio>
      <left>9</left>
      <leftRatio>0.0165745856353591</leftRatio>
      <sizeRatio>0.142857142857143</sizeRatio>
      <text>用户名</text>
      <top>0</top>
      <width>196</width>
      <widthRatio>0.360957642725599</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel59/edit2">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <height>41</height>
      <heightRatio>0.621212121212121</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>0</left>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit2"), ee.getControl("panel225"), 20);</onChange>
      <sizeRatio>0.0755064456721915</sizeRatio>
      <top>25</top>
      <topRatio>0.378787878787879</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/edit2/panel64">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0487804878048781</heightRatio>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>39</top>
      <topRatio>0.951219512195122</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel60">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.606060606060606</heightRatio>
      <left>446</left>
      <leftRatio>0.821362799263352</leftRatio>
      <sizeRatio>0.465116279069767</sizeRatio>
      <text>0/20</text>
      <top>0</top>
      <width>86</width>
      <widthRatio>0.158379373848987</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel59/panel60/panel225">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.453488372093023</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>132</height>
      <heightRatio>0.204651162790698</heightRatio>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <sizeRatio>0.243093922651934</sizeRatio>
      <top>394</top>
      <topRatio>0.610852713178295</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel229">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.303030303030303</heightRatio>
      <left>431</left>
      <leftRatio>0.793738489871087</leftRatio>
      <sizeRatio>0.396039603960396</sizeRatio>
      <text>0/160</text>
      <top>0</top>
      <width>101</width>
      <widthRatio>0.186003683241252</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel229/panel230">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.386138613861386</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel226/edit3">
      <backgroundSkin>empty</backgroundSkin>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>103</height>
      <heightRatio>0.78030303030303</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>12</inputFontSize>
      <left>0</left>
      <multiLine>true</multiLine>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit3"), ee.getControl("panel230"), 160);</onChange>
      <onCreate>sender._input.style.resize = "none";</onCreate>
      <sizeRatio>0.189686924493554</sizeRatio>
      <text>添加你的简介</text>
      <top>29</top>
      <topRatio>0.21969696969697</topRatio>
      <vAlign>top</vAlign>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/edit3/panel66">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0194174757281553</heightRatio>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>101</top>
      <topRatio>0.980582524271845</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel226/panel65">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.212121212121212</heightRatio>
      <left>9</left>
      <leftRatio>0.0165745856353591</leftRatio>
      <sizeRatio>0.168674698795181</sizeRatio>
      <text>简介</text>
      <top>0</top>
      <width>166</width>
      <widthRatio>0.305709023941068</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227">
      <backgroundColor>F5F8FA</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <height>73</height>
      <heightRatio>0.113178294573643</heightRatio>
      <left>28</left>
      <leftRatio>0.0466666666666667</leftRatio>
      <onCreate>sender.style.borderRadius = "4px";</onCreate>
      <sizeRatio>0.134438305709024</sizeRatio>
      <top>542</top>
      <topRatio>0.84031007751938</topRatio>
      <width>543</width>
      <widthRatio>0.905</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel232">
      <fontColor>657786</fontColor>
      <fontFamily>Helvetica</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>right</hAlign>
      <height>40</height>
      <heightRatio>0.547945205479452</heightRatio>
      <left>433</left>
      <leftRatio>0.797421731123389</leftRatio>
      <sizeRatio>0.404040404040404</sizeRatio>
      <text>0/50</text>
      <top>0</top>
      <width>99</width>
      <widthRatio>0.18232044198895</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel232/panel233">
      <backgroundColor>EAEAF4</backgroundColor>
      <height>40</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.innerHTML = "<svg><path fill=\"none\"></path><path fill=\"none\"></path></svg>";
sender.v_x = parseInt(eb.getDivRect(sender).w/2);
sender.v_y = parseInt(eb.getDivRect(sender).h/2);
sender.v_r = 9;
sender.v_color = "#29a5f2";
sender.v_bgColor = "#ecf0f3";
sender.v_width = "4px";
sender.v_progress = "0.0001";
sender.refresh = function(progress) {
    var path = this.childNodes[0].childNodes[0];
    path.style.stroke=sender.v_bgColor;
    path.style.strokeWidth=sender.v_width;
    var des = ["M",this.v_x,this.v_y-this.v_r,"A",this.v_r,this.v_r,0,1,1,this.v_x-0.0001,this.v_y-this.v_r];
    path.setAttribute("d", des.join(" "));
    
    if (!eb.isEmpty(progress)) this.v_progress = progress;
    this.v_progress = Math.min(0.9999,this.v_progress);
    this.v_progress = Math.max(0.0001,this.v_progress);
    path = this.childNodes[0].childNodes[1];
    var ag = 90+360-this.v_progress*360;  
    var ag = ag*(Math.PI/180);
    var dx = (this.v_x+(Math.cos(ag)*this.v_r)).toFixed(2);
    var dy = (this.v_y-(Math.sin(ag)*this.v_r)).toFixed(2);
    var opt = window.Number(this.v_progress>0.5);
    des = ["M",this.v_x,(this.v_y-this.v_r)+"","A",this.v_r,this.v_r,0,opt,1,dx,dy];
    path.style.stroke=sender.v_color;
    path.style.strokeWidth=sender.v_width;
    path.setAttribute("d", des.join(" "));
}



]]></onCreate>
      <sizeRatio>1.02564102564103</sizeRatio>
      <text>圆形进度条</text>
      <top>0</top>
      <width>39</width>
      <widthRatio>0.393939393939394</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/panel67">
      <backgroundImgMode>fill</backgroundImgMode>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.383561643835616</heightRatio>
      <left>11</left>
      <leftRatio>0.0202578268876611</leftRatio>
      <sizeRatio>0.106870229007634</sizeRatio>
      <text>网站</text>
      <top>0</top>
      <width>262</width>
      <widthRatio>0.482504604051565</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel112/panel54/panel227/edit4">
      <backgroundSkin>empty</backgroundSkin>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>14</fontSize>
      <hAlign>left</hAlign>
      <height>38</height>
      <heightRatio>0.520547945205479</heightRatio>
      <inputFont>微软雅黑</inputFont>
      <inputFontSize>14</inputFontSize>
      <left>0</left>
      <onChange>ee.getControl("panel54").refreshProgress(ee.getControl("edit4"), ee.getControl("panel233"), 100);</onChange>
      <sizeRatio>0.0699815837937385</sizeRatio>
      <text>添加你的网站</text>
      <top>35</top>
      <topRatio>0.479452054794521</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel227/edit4/panel68">
      <backgroundColor>657786</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <dockY>bottom</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>黑体</fontFamily>
      <fontSizeAuto>25</fontSizeAuto>
      <hAlign>left</hAlign>
      <height>2</height>
      <heightRatio>0.0526315789473684</heightRatio>
      <left>0</left>
      <sizeRatio>0.00368324125230203</sizeRatio>
      <top>36</top>
      <topRatio>0.947368421052632</topRatio>
      <width>543</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel112/panel54/panel49">
      <backgroundColor>8ED0F9</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>33</height>
      <heightRatio>0.0511627906976744</heightRatio>
      <left>491</left>
      <leftRatio>0.818333333333333</leftRatio>
      <onClick><![CDATA[if (!sender.v_enabled) return;
if (updateUserInfo.busy) return;

updateUserInfo.nickName = ee.getEditText(ee.getControl("edit2"));
updateUserInfo.note = ee.getEditText(ee.getControl("edit3"));
updateUserInfo.homePage = ee.getEditText(ee.getControl("edit4"));

if (updateUserInfo.nickName.length<3) {
    g5.alert1(
        "昵称不符合要求",
        "昵称或者姓名不能少于3个英文字母或汉字"
    );
    return;
}
if (updateUserInfo.nickName.length>20) {
    g5.alert1(
        "昵称不符合要求",
        "昵称的长度不能大于20"
    );
    return;
}
if (updateUserInfo.note.length>160) {
    g5.alert1(
        "简介不符合要求",
        "简介的长度不能大于160"
    );
    return;
}
if (updateUserInfo.homePage.length>50) {
    g5.alert1(
        "网站不符合要求",
        "网站地址的长度不能大于50"
    );
    return;
}

updateUserInfo.onComplete = function() {
    ee.showAni(ee.getControl("panel54"), 1);
    getUserInfo();
    if (g5.currentPageIndex == 1) showUserPage();
    g5.popBlack.a7.show(
        "提示", "修改您的用户信息完成",
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
        //[new g5.BStyle("","#e8f5fe","#d2ecfc","确定","确定","确定","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
        function() {}
    );
}
updateUserInfo();]]></onClick>
      <onCreate>sender.bgColorDisabled = "#8ed0f9";
sender.bgColorEnabled = "#1da1f2";
sender.bgColorHot = "#1a91da";
sender.bgColorDown = "#1781c2";
sender.v_enabled = true;
sender.setEnabled = function(enabled) {
    this.v_enabled = enabled;
    this.style.backgroundColor = enabled ? this.bgColorEnabled : this.bgColorDisabled;
}
sender.setEnabled(false);

sender.style.borderRadius = parseInt(eb.getDivRect(sender).h/2) + "px";
ee.setOnMouseEnter(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorEnabled;
});
sender.eeMouseDown = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorDown;
}
sender.eeMouseUp = function(sender,event,x,y) {
    if (!sender.v_enabled) return;
    sender.style.backgroundColor = sender.bgColorHot;
}
eb.initMouseEvent(sender);







</onCreate>
      <sizeRatio>0.397590361445783</sizeRatio>
      <text>保存</text>
      <top>15</top>
      <topRatio>0.0232558139534884</topRatio>
      <width>83</width>
      <widthRatio>0.138333333333333</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[Root->主界面弹窗Top]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[for (var i=0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        ee.showAni(sender.eeChildren[i], 1);
    }
}]]></onClick>
      <onCreate><![CDATA[sender.style.zIndex=100;
sender.style.position = "fixed";
sender.addEventListener("mousewheel",function(event){
    for (var i=0; i<sender.eeChildren.length; i++) {
        if (sender.eeChildren[i].style.visibility != "hidden") {
            sender.eeChildren[i].style.visibility = "hidden";
        }
    }
    sender.style.visibility = "hidden";
    window.event? window.event.cancelBubble = true : event.stopPropagation();
    event.returnValue = false;
    return false;
},false);

]]></onCreate>
      <onMouseMove><![CDATA[var getDist = function(x,y,div) {
    var rect = eb.getDivRectSetting(div);
    var dx, dy;
    if (x<rect.x) {
        dx = rect.x - x;
    } else if (x<rect.x+rect.w) {
        dx = -1;
    } else {
        dx = x - rect.x - rect.w;
    }
    if (y<rect.y) {
        dy = rect.y - y;
    } else if (y<rect.y+rect.h) {
        dy = -1;
    } else {
        dy = y - rect.y - rect.h;
    }
    return Math.max(dx,dy);
}

var div = null;
for (var i = 0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        div = sender.eeChildren[i];
        break;
    }
}
if (div == null) return;

var lastDist = getDist(sender.v_lastX,sender.v_lastY, div);
var currentDist = getDist(x,y, div);
if (currentDist>lastDist) {
    sender.v_closeCount++;
} else {
    sender.v_closeCount = 0;
}
sender.v_lastX = x;
sender.v_lastY = y;
if (sender.v_closeCount>=4) {
    sender.click();
}


]]></onMouseMove>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <height>300</height>
      <heightRatio>0.376884422110553</heightRatio>
      <layerName><![CDATA[Root->主界面弹窗->D用户信息]]></layerName>
      <layerVisible>false</layerVisible>
      <left>254</left>
      <leftRatio>0.214345991561181</leftRatio>
      <onAni2End>ee.setVisible(ee.getControl("panel268"), false);</onAni2End>
      <onClick>window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate><![CDATA[sender.show = function(refDiv, v_userInfo) {
    this.v_userInfo = v_userInfo
    this.refDiv = refDiv;
    this.refresh();
}

sender.refresh = function() {
    //photo
    var c = ee.getControl("panel267");
    if (sender.v_userInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + this.v_userInfo.photo,"trim","","")
    }
    ee.setOnClick(c,function(senderButton,event) {
        g5.p2.p2.show(sender.v_userInfo);
        ee.showAni(senderButton.parentNode, 1);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    });
    //button
    c = ee.getControl("panel269");
    if (this.v_userInfo.id == g5.myUserInfo.id) {
        c.init(3);
    } else if (this.v_userInfo.block1 == 1) {
        c.init(0);
    } else if (this.v_userInfo.block2 == 1) {
        //not support yet
        c.init(0);
    } else if (this.v_userInfo.follow == 1) {
        c.init(2);
    } else {
        c.init(1);
    }
    //nickName
    c = ee.getControl("panel271");
    c.setText(this.v_userInfo.nickName);
    //userName    
    c = ee.getControl("panel270");
    c.setText("@" + this.v_userInfo.userName);
    //userName    
    c = ee.getControl("panel272");
    c.setText(this.v_userInfo.note);
    var cy = eb.getDivRect(c).y + eb.getDivRect(c).h + 5;
    //followCount,fansCount        
    c = ee.getControl("panel273");
    ee.setRect(c, null, cy, null, null);
    ee.setText(c, "  <div id='userMiniLink01' style='display:inline;'>"+this.v_userInfo.followCount+"个关注</div>" +
        "     <div id='userMiniLink02' style='display:inline;'>" + this.v_userInfo.fansCount + "个粉丝</div>");
    var c = ee.getControl("panel72"); 
    c.link01=$g("userMiniLink01");
    c.link02=$g("userMiniLink02");
    var root = this;
    if (this.v_userInfo.followCount<-1000) {
        c.link01.style.cursor = "pointer";
        ee.setOnMouseEnter(c.link01,function(sender,e){
            sender.style.textDecoration="underline";
        });
        ee.setOnMouseLeave(c.link01,function(sender,e){
            sender.style.textDecoration="";
        });
        ee.setOnClick(c.link01, function(sender, event) {
            showFollowList.userName = root.v_userInfo.userName;
            showFollowList();
            ee.showAni(root, 1);
        });
    }
    if (this.v_userInfo.fansCount<-1000) {
        c.link02.style.cursor = "pointer";
        ee.setOnMouseEnter(c.link02,function(sender,e){
            sender.style.textDecoration="underline";
        });
        ee.setOnMouseLeave(c.link02,function(sender,e){
            sender.style.textDecoration="";
        });
        ee.setOnClick(c.link02, function(sender, event) {
            showFansList.userName = root.v_userInfo.userName;
            showFansList();
            ee.showAni(root, 1);
        });
    }
    
    cy += eb.getDivRect(c).h;
    
    //root
    ee.setRect(this, null, null, null, cy + 20);
    
    var rect = g5.getRectAbs(this.refDiv);
    if (rect.y > eb.getDivRect(ee.getControl("divRoot")).h/2) {
        ee.setRect(this, rect.x - 50, rect.y - eb.getDivRect(this).h - 10, null, null);
    } else {
        ee.setRect(this, rect.x - 50, rect.y+rect.h+10, null, null);
    }
    
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}
]]></onCreate>
      <sizeRatio>0.813008130081301</sizeRatio>
      <top>168</top>
      <topRatio>0.21105527638191</topRatio>
      <width>369</width>
      <widthRatio>0.311392405063291</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel267">
      <backgroundColor>E0E0E0</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <cursor>pointer</cursor>
      <height>60</height>
      <heightRatio>0.2</heightRatio>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate>ee.setText(sender, "");
sender.style.backgroundColor = "";
sender.style.borderRadius = "50%";
</onCreate>
      <sizeRatio>1</sizeRatio>
      <text>photo</text>
      <top>27</top>
      <topRatio>0.09</topRatio>
      <width>60</width>
      <widthRatio>0.16260162601626</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel269">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>35</height>
      <heightRatio>0.116666666666667</heightRatio>
      <left>213</left>
      <leftRatio>0.577235772357724</leftRatio>
      <onClick>if (sender.v_index==0) {
    //屏蔽
    ee.getControl("panel257").show(
        "取消屏蔽@"+showUserPage.userName+"？",
        "该用户将能关注并查看你的发言",
        [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
        [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff","")],
        function() {
            blockUser.userId= showUserPage.id;
            blockUser.isBlock = 0;
            blockUser();
            blockUser.onComplete = function() {
                ee.getControl("panel256").init(1);
            }
        }
    );
    ee.showAni(sender.parentNode, 1);
} else if (sender.v_index==1) {
    //关注
    follow.follow = 1;
    follow.userId = sender.parentNode.v_userInfo.id;
    follow.onComplete = function() {
        sender.init(2);
        sender.parentNode.v_userInfo.isFollow = 1;
    }
    follow();
    //ee.showAni(sender.parentNode, 1);
} else if (sender.v_index==2) {
    follow.follow = 0;
    follow.userId = sender.parentNode.v_userInfo.id;
    follow.onComplete = function() {
        sender.init(1);
        sender.parentNode.v_userInfo.isFollow = 0;
    }
    follow();
    //正在关注
    //ee.getControl("panel257").show(
    //    "取消关注@"+showUserPage.userName+"？",
    //    "他们的发言将不再出现在你的主页时间线上。你仍然可以查看他们的个人资料，除非他们的发言是受保护的。",
    //    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
    //    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","取消关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff","")],
    //    function() {
    //        follow.follow = 0;
    //        follow.userId = sender.parentNode.v_userInfo.id;
    //        follow.onComplete = function() {
    //            sender.init(1);
    //            sender.parentNode.v_userInfo.isFollow = 0;
    //        }
    //        follow();
    //    }
    //);
    //ee.showAni(sender.parentNode, 1);
} else if (sender.v_index==3) {
    //编辑个人资料
    ee.showAni(sender.parentNode, 1);
    g5.popBlack.a8.show();
}
</onClick>
      <onCreate>sender.BStyle = function(color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor) {
    this.color1 = color1;
    this.color2 = color2
    this.color3 = color3;
    this.text1 = text1;
    this.text2 = text2;
    this.text3 = text3;
    this.tColor1 = tColor1;
    this.tColor2 = tColor2;
    this.tColor3 = tColor3;
    this.bdColor = bdColor;
}
sender.v_style = [
    new sender.BStyle("#e0245e","#ca2055","#b31d4b","已屏蔽","取消屏蔽","取消屏蔽","#ffffff","#ffffff","#ffffff",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","关注","关注","关注","#1da1f2","#1da1f2","#1da1f2","#1da1f2"),
    new sender.BStyle("#1da1f2","#ca2055","#b31d4b","正在关注","取消关注","取消关注","#ffffff","#ffffff","#ffffff",""),
    new sender.BStyle("","#e8f5fe","#d2ecfc","编辑个人资料","编辑个人资料","编辑个人资料","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);









</onCreate>
      <sizeRatio>0.271317829457364</sizeRatio>
      <text>主按钮</text>
      <top>25</top>
      <topRatio>0.0833333333333333</topRatio>
      <width>129</width>
      <widthRatio>0.349593495934959</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel270">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.113333333333333</heightRatio>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.111111111111111</sizeRatio>
      <text>@用户名</text>
      <top>114</top>
      <topRatio>0.38</topRatio>
      <width>306</width>
      <widthRatio>0.829268292682927</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel271">
      <fontBold>true</fontBold>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>34</height>
      <heightRatio>0.113333333333333</heightRatio>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate><![CDATA[sender.v_text = "";
sender.setText = function(text) {
    this.v_text = text;
    this.label.style.wordBreak = "keep-all";
    this.label.style.whiteSpace = "nowrap";
    eb.setDivRect(this.label, null, null, 1, null);
    var thisW = eb.getDivRect(sender).w - 10;
    var s, i;
    for (i=1; i<text.length; i++) {
        s = text.substr(0,i) + "...";
        ee.setText(this, s);
        var r = eb.getDivRect(sender.label);
        if (r.w>thisW) break;
    }
    s = i>=text.length?text:text.substr(0,i-1) + "...";
    ee.setText(this, s);
}
]]></onCreate>
      <sizeRatio>0.111111111111111</sizeRatio>
      <text>昵称nicheng</text>
      <top>89</top>
      <topRatio>0.296666666666667</topRatio>
      <width>306</width>
      <widthRatio>0.829268292682927</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel272">
      <backgroundColor>FFFFFF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontFamily>微软雅黑</fontFamily>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.0933333333333333</heightRatio>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <onCreate>sender.setText = function(text) {
    ee.setRect(this,null,null,null,1);
    ee.setText(this, text);
    var h = eb.getDivRect(this.label).h;
    ee.setRect(this,null,null,null,h);
}
</onCreate>
      <sizeRatio>0.0894568690095847</sizeRatio>
      <text>简介</text>
      <top>147</top>
      <topRatio>0.49</topRatio>
      <vAlign>top</vAlign>
      <width>313</width>
      <widthRatio>0.848238482384824</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel273">
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>28</height>
      <heightRatio>0.0933333333333333</heightRatio>
      <left>29</left>
      <leftRatio>0.0785907859078591</leftRatio>
      <sizeRatio>0.0894568690095847</sizeRatio>
      <text>48正在关注     200关注者</text>
      <top>179</top>
      <topRatio>0.596666666666667</topRatio>
      <width>313</width>
      <widthRatio>0.848238482384824</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel268/panel280/panel274">
      <backgroundColor>00C0C0</backgroundColor>
      <height>90</height>
      <heightRatio>0.3</heightRatio>
      <left>89</left>
      <leftRatio>0.241192411924119</leftRatio>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.743801652892562</sizeRatio>
      <top>8</top>
      <topRatio>0.0266666666666667</topRatio>
      <width>121</width>
      <widthRatio>0.327913279132791</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48">
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImg>dark1.png</backgroundImg>
      <backgroundImgMode>stretch</backgroundImgMode>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>796</height>
      <heightRatio>1</heightRatio>
      <layerName><![CDATA[popBlack2->主界面弹窗黑色]]></layerName>
      <layerVisible>false</layerVisible>
      <left>0</left>
      <onClick><![CDATA[for (var i=0; i<sender.eeChildren.length; i++) {
    if (sender.eeChildren[i].style.visibility != "hidden") {
        ee.showAni(sender.eeChildren[i], 1);
    }
}
  
]]></onClick>
      <onCreate>sender.style.zIndex=100;
sender.a1 = ee.getControl("panel402");
sender.style.position = "fixed";
sender.addEventListener("mousewheel", function(e) {
    window.event? window.event.cancelBubble = true : e.stopPropagation();
    e.returnValue = false;
    return false;
});</onCreate>
      <sizeRatio>0.671729957805907</sizeRatio>
      <top>0</top>
      <width>1185</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402">
      <ani2Alpha>disappear:渐变消失</ani2Alpha>
      <aniAlpha>appear:渐变出现</aniAlpha>
      <backgroundColor>FFFFFF</backgroundColor>
      <backgroundImgMode>fill</backgroundImgMode>
      <backgroundSkin>body5</backgroundSkin>
      <dockX>center</dockX>
      <dockY>center</dockY>
      <height>569</height>
      <heightRatio>0.714824120603015</heightRatio>
      <layerName><![CDATA[  a1->youtube视频链接]]></layerName>
      <layerVisible>false</layerVisible>
      <left>271</left>
      <leftRatio>0.228691983122363</leftRatio>
      <onAni2End>ee.setVisible(sender.parentNode, false);
sender.c_video.innerHTML = "";

</onAni2End>
      <onClick>        window.event? window.event.cancelBubble = true : event.stopPropagation();
</onClick>
      <onCreate>sender.c_video = ee.getControl("panel410");
sender.c_input = ee.getControl("edit21");

sender.show = function(onComplete) {
    this.c_video.innerHTML = "";
    ee.setEditText(this.c_input, "");
    this.v_ytbVideo = "";
    this.onComplete = onComplete;
    ee.setVisible(this.parentNode, true);
    ee.showAni(this, 0);
}

</onCreate>
      <sizeRatio>0.886292834890966</sizeRatio>
      <top>113</top>
      <topRatio>0.141959798994975</topRatio>
      <width>642</width>
      <widthRatio>0.541772151898734</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel408">
      <backgroundImg>youtubeHit.jpg</backgroundImg>
      <backgroundImgMode>fill</backgroundImgMode>
      <dockX>fill</dockX>
      <height>97</height>
      <heightRatio>0.170474516695958</heightRatio>
      <left>20</left>
      <leftRatio>0.0311526479750779</leftRatio>
      <outerLeft>20</outerLeft>
      <outerRight>20</outerRight>
      <sizeRatio>0.161129568106312</sizeRatio>
      <top>14</top>
      <topRatio>0.0246045694200351</topRatio>
      <width>602</width>
      <widthRatio>0.937694704049844</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel405">
      <backgroundColor>00C0C0</backgroundColor>
      <cursor>move</cursor>
      <dockX>fill</dockX>
      <dockY>top</dockY>
      <height>118</height>
      <heightRatio>0.207381370826011</heightRatio>
      <left>0</left>
      <onCreate><![CDATA[sender.v_down = false;
sender.style.backgroundColor = "rgba(255,255,255,0.01)";
sender.onpointerdown = function(event) {
    var sender = event.target;
    sender.v_down = true;
    sender.v_x = event.clientX;
    sender.v_y = event.clientY;
    sender.setPointerCapture(event.pointerId);
}
sender.onpointerup = function(event) {
    var sender = event.target;
    sender.v_down = false;
    sender.releasePointerCapture(event.pointerId);
}
sender.onpointermove = function(event) {
    var sender = event.target;
    if (sender.v_down) {
        var dx = event.clientX - sender.v_x;
        var dy = event.clientY - sender.v_y;
        var rect = eb.getDivRect(sender.parentNode);
        var rectP = eb.getDivRect(sender.parentNode.parentNode);
        if (rect.x+dx<0) dx = null;
        if (rect.x+dx+rect.w>=rectP.w) dx = null;
        if (dx!=null) {
            sender.v_x = event.clientX;
            dx = rect.x+dx;
        }
        if (rect.y+dy<0) dy = null;
        if (rect.y+dy+rect.h>=rectP.h) dy = null;
        if (dy!=null) {
            sender.v_y = event.clientY;
            dy = rect.y+dy;
        }
        ee.setRect(sender.parentNode, dx, dy, null, null);
    }
}


]]></onCreate>
      <sizeRatio>0.183800623052959</sizeRatio>
      <top>0</top>
      <width>642</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel407">
      <cursor>pointer</cursor>
      <dockX>right</dockX>
      <dockY>top</dockY>
      <height>36</height>
      <heightRatio>0.0632688927943761</heightRatio>
      <left>588</left>
      <leftRatio>0.91588785046729</leftRatio>
      <onClick>ee.showAni(sender.parentNode, 1);</onClick>
      <onCreate><![CDATA[ee.setText(sender,
    "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 8px 8px 5px;fill:rgba(80,80,80,1);vertical-align:middle;\">" + g5.iconClose + "</svg>"
);
sender.style.borderRadius = "50%";
sender.style.backgroundColor = "#ffffff";
ee.setOnMouseEnter(sender, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(sender, function(sender,event) {
    sender.style.backgroundColor = "#ffffff";
});
]]></onCreate>
      <outerRight>18</outerRight>
      <outerTop>15</outerTop>
      <sizeRatio>1</sizeRatio>
      <top>15</top>
      <topRatio>0.0263620386643234</topRatio>
      <width>36</width>
      <widthRatio>0.0560747663551402</widthRatio>
    </control>
    <control type="LayoutX" pathname="/divRoot/panel48/panel402/layoutx14">
      <dockX>fill</dockX>
      <fieldCount>2</fieldCount>
      <height>35</height>
      <heightRatio>0.0615114235500879</heightRatio>
      <left>30</left>
      <leftRatio>0.0467289719626168</leftRatio>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.0601374570446735</sizeRatio>
      <top>115</top>
      <topRatio>0.202108963093146</topRatio>
      <width>582</width>
      <widthRatio>0.906542056074766</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem29">
      <backgroundColor>FF0000</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <fontBold>true</fontBold>
      <fontColor>FFFFFF</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <heavyEnabled>false</heavyEnabled>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.225806451612903</sizeRatio>
      <text>YouTube视频地址</text>
      <top>0</top>
      <width>155</width>
      <widthRatio>0.266323024054983</widthRatio>
    </control>
    <control type="LayoutXItem" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem32">
      <backgroundColor>d0d0d0</backgroundColor>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <left>155</left>
      <leftRatio>0.266323024054983</leftRatio>
      <onCreate>sender.style.boxSizing="border-box";
sender.style.borderWidth = "2px";
sender.style.borderColor = "rgb(255,0,0)";
sender.style.borderStyle = "solid";
sender.style.borderRadius = "0px 6px 6px 0px";</onCreate>
      <sizeRatio>0.0819672131147541</sizeRatio>
      <top>0</top>
      <width>427</width>
      <widthRatio>0.733676975945017</widthRatio>
    </control>
    <control type="Edit" pathname="/divRoot/panel48/panel402/layoutx14/layoutxitem32/edit21">
      <backgroundSkin>empty</backgroundSkin>
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>808080</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <hAlign>left</hAlign>
      <height>35</height>
      <heightRatio>1</heightRatio>
      <inputFont>Arial</inputFont>
      <inputFontColor>282828</inputFontColor>
      <left>10</left>
      <leftRatio>0.0234192037470726</leftRatio>
      <onChange><![CDATA[var edit = sender.parentNode;
var url = ee.getEditText(edit);
var ytbVideo = "";
var pos;
if ((pos=url.toLowerCase().indexOf("youtube.com/watch?v=",0))>0) {
    ytbVideo = url.substr(pos + "youtube.com/watch?v=".length, url.length);
} else if ((pos=url.toLowerCase().indexOf("youtu.be/",0))>0) {
    ytbVideo = url.substr(pos + "youtu.be/".length, url.length);
} else {
    return;
}
if ((pos=ytbVideo.toLowerCase().indexOf("&amp;",0))>0) {
    ytbVideo = ytbVideo.substr(0, pos);
}
if ((ytbVideo.length<=8)||(ytbVideo.length>=20)) {
    return;
}
ytbVideo = "?YTB" + ytbVideo;

var videoPanel = ee.getControl("panel410");
videoPanel.v_photo = ytbVideo;
g5.addPhoto(videoPanel);
edit.parentNode.parentNode.parentNode.v_ytbVideo = ytbVideo;
]]></onChange>
      <outerLeft>10</outerLeft>
      <outerRight>10</outerRight>
      <sizeRatio>0.085995085995086</sizeRatio>
      <text>  在这里黏贴YouTube视频地址</text>
      <top>0</top>
      <width>407</width>
      <widthRatio>0.953161592505855</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel404">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0597539543057996</heightRatio>
      <left>183</left>
      <leftRatio>0.285046728971963</leftRatio>
      <onClick>ee.showAni(sender.parentNode, 1);

</onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("","#e8f5fe","#d2ecfc","取消","取消","取消","#1da1f2","#1da1f2","#1da1f2","#1da1f2")
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.26984126984127</sizeRatio>
      <text>取消</text>
      <top>508</top>
      <topRatio>0.892794376098418</topRatio>
      <width>126</width>
      <widthRatio>0.196261682242991</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel406">
      <backgroundColor>8ED0F9</backgroundColor>
      <cursor>pointer</cursor>
      <fontBold>true</fontBold>
      <fontColor>1DA1F2</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>34</height>
      <heightRatio>0.0597539543057996</heightRatio>
      <left>332</left>
      <leftRatio>0.517133956386293</leftRatio>
      <onClick><![CDATA[ee.showAni(sender.parentNode, 1);
if (sender.parentNode.v_ytbVideo.length>0) {
    sender.parentNode.onComplete(sender.parentNode.v_ytbVideo);             
}]]></onClick>
      <onCreate>sender.v_style = [
    new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff",""),
];

sender.init = function(index) {
    this.v_index = index;
    this.style.backgroundColor = this.v_style[index].color1;
    ee.setText(this, this.v_style[index].text1);
    ee.setTextColor(this, this.v_style[index].tColor1);
    if (this.v_style[index].bdColor=="") {
        this.style.borderWidth = "0px";
    } else {
        this.style.boxSizing="border-box";
        this.style.borderWidth = "1px";
        this.style.borderColor = this.v_style[index].bdColor;
        this.style.borderStyle = "solid";
    }
    this.style.borderRadius = parseInt(eb.getDivRect(this).h/2) + "px";
}

ee.setOnMouseEnter(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
});
ee.setOnMouseLeave(sender, function(sender,event) { 
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color1;
    ee.setText(sender, s.text1);
    ee.setTextColor(sender, s.tColor1);
});
sender.eeMouseDown = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color3;
    ee.setText(sender, s.text3);
    ee.setTextColor(sender, s.tColor3);
}
sender.eeMouseUp = function(sender,event,x,y) {
    var s =sender.v_style[sender.v_index];
    sender.style.backgroundColor = s.color2;
    ee.setText(sender, s.text2);
    ee.setTextColor(sender, s.tColor2);
}
eb.initMouseEvent(sender);

sender.init(0);







</onCreate>
      <sizeRatio>0.26984126984127</sizeRatio>
      <text>确认</text>
      <top>508</top>
      <topRatio>0.892794376098418</topRatio>
      <width>126</width>
      <widthRatio>0.196261682242991</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409">
      <backgroundColor>F0F0FF</backgroundColor>
      <bgColorEnabled>true</bgColorEnabled>
      <dockX>fill</dockX>
      <height>327</height>
      <heightRatio>0.57469244288225</heightRatio>
      <left>30</left>
      <leftRatio>0.0467289719626168</leftRatio>
      <onCreate>sender.style.borderRadius = "15px";
sender.v_mode = "-";
</onCreate>
      <outerLeft>30</outerLeft>
      <outerRight>30</outerRight>
      <sizeRatio>0.561855670103093</sizeRatio>
      <top>167</top>
      <topRatio>0.293497363796134</topRatio>
      <width>582</width>
      <widthRatio>0.906542056074766</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409/panel403">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <fontColor>657786</fontColor>
      <fontFamily>微软雅黑</fontFamily>
      <fontSize>12</fontSize>
      <height>327</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <sizeRatio>0.561855670103093</sizeRatio>
      <text>复制YouTube链接
并且您的链接是正确的
视频将会出现在这里</text>
      <top>0</top>
      <width>582</width>
      <widthRatio>1</widthRatio>
    </control>
    <control type="Panel" pathname="/divRoot/panel48/panel402/panel409/panel410">
      <dockX>fill</dockX>
      <dockY>fill</dockY>
      <height>327</height>
      <heightRatio>1</heightRatio>
      <left>0</left>
      <note>video</note>
      <sizeRatio>0.561855670103093</sizeRatio>
      <top>0</top>
      <width>582</width>
      <widthRatio>1</widthRatio>
    </control>
  </controls>
  <taskSet count="55">
    <taskSetItem name="uploadImage">
      <script1>//data,controlName,onComplete
//newFileName 
eio.appendString16(g5.token);
eio.appendString16(uploadImage.controlName);
eio.appendString32(uploadImage.data);</script1>
      <script2><![CDATA[var token = eio.readString16();
var controlName = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var getFileName = function(sn, sep) {
    sn = parseInt(sn);
    var f1 = (sn &amp; 0xFF000000) >> 24;
    var f2 = (sn &amp; 0x00fff000) >> 12;
    f1 = f1 ^ 0x59AE;
    f2 = f2 ^ 0xA93;
    sn = ((sn >> 7) | ((sn &amp; 0x7f)<<24)) ^ 0x5BC3A96A;
    return "usr" + f1 + sep + f2 + sep + "p" + sn + ".jpg";
}

//onUploadStart(): newFilePathName,newFileName
var newFilePathName, newFileName;
sql = "select next value for dbo.SEQImageSn as Sn";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    return;
}
db.read(sqlResult);
var sn = db.getInt32(sqlResult, "Sn");
newFileName = getFileName(sn, "/");
newFilePathName = "c:\\www\\incoming\\"+ getFileName(sn, "\\");

//implementation
var buff = eio.readString32();
var pos = buff.indexOf("base64,",0);
if (pos<0) return;
pos += "base64,".length;
buff = buff.substr(pos, buff.length - pos);
es.saveBase64AsFile(newFilePathName, buff);

if (controlName == "ee_panel299") {
} else if (controlName == "ee_panel4") {
    sql = "update userInfo set photo = '" + db.encode(newFileName) + "' where userName = '" + db.encode(myUserName) + "'";
    if (!db.executeNoneQuery("DB", sql)) {
        eio.appendString8("F");
        return;
    }
} else if (controlName == "ee_panel5") {
    sql = "update userInfo set titleBg = '" + db.encode(newFileName) + "' where userName = '" + db.encode(myUserName) + "'";
    if (!db.executeNoneQuery("DB", sql)) {
        eio.appendString8("F");
        return;
    }
}

eio.appendString8("T");
eio.appendString16(newFileName);

]]></script2>
      <script3>if (eio.readString8()!="T") {
    return;
}

uploadImage.newFileName = eio.readString16();  

if (!eb.isEmpty(uploadImage.onComplete)) {
    uploadImage.onComplete(uploadImage.newFileName);
    uploadImage.onComplete = null;
}</script3>
    </taskSetItem>
    <taskSetItem name="getUserInfo">
      <script1>g5.token = eb.getCookie("twitterGToken");

eio.appendString16(g5.token);









</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = 
    "exec getUserInfoBySession '" + db.encode(token) + "';" +
    "exec getUserInfoBySession '" + db.encode(token) + "';";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
session.set("userName", db.getString(sqlResult,"userName"));
var myUserId = db.getString(sqlResult,"id");

db.nextResult(sqlResult);
eio.appendString8("T");
es.logCommon("用户token登录,userName=" + db.getString(sqlResult,"userName") +
    ",nickName=" + db.getString(sqlResult, "nickName"));
eio.appendDataSet(sqlResult,"id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow,block1,block2,email",0,1);

sql = "exec createDefaultChatRoom " + myUserId + "; ";
db.executeNoneQuery("DB", sql);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    window.location.href = ee.getUrl("/new");
    return;
}

g5.myUserInfo = new g5.UserInfo();
g5.myUserInfo.loadFromDataset(eio.readDataSet(),0,0);

g5.refreshUserInfo();
g5.p2.p1.init();
g5.processUrl();   

                               



</script3>
    </taskSetItem>
    <taskSetItem name="getUserInfo2">
      <script1>//userId,onComplete(userInfo)
getUserInfo2.busy = true;
eio.appendString16(g5.token);
eio.appendString16(getUserInfo2.userId+"");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

sql =
    "select id from userInfo where id = " + userId + "; " +
    "SELECT   TOP (100) PERCENT dbo.userInfo.id, dbo.userInfo.status, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) " +
    "                AS regDatetime, CONVERT(VARCHAR(50), dbo.userInfo.lastAccessTime, 120) AS lastAccessTime,  " +
    "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount,  " +
    "                CASE WHEN dbo.follow.id IS NULL THEN 0 ELSE 1 END AS isFollow, CASE WHEN dbo.blockList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlock1, CASE WHEN blockList_1.id IS NULL THEN 0 ELSE 1 END AS isBlock2 " +
    "FROM      dbo.blockList RIGHT OUTER JOIN " +
    "                dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS blockList_1 ON dbo.userInfo.id = blockList_1.userId AND blockList_1.blockUserId = " + myUserId + " ON  " +
    "                dbo.blockList.blockUserId = dbo.userInfo.id AND dbo.blockList.userId = " + myUserId + " " +
    "WHERE dbo.userInfo.id = " + userId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    es.logWarning("用户不存在, sql=" + sql);
    return;
}
db.nextResult(sqlResult);
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
    "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 1);
              ]]></script2>
      <script3>if (eio.readString8() != "T") {
    getUserInfo2.busy = false;
    return;
}
if (!getUserInfo2.busy) return;


getUserInfo2.dataset = eio.readDataSet()
getUserInfo2.userInfo = new g5.UserInfo();
getUserInfo2.userInfo.loadFromDataset(getUserInfo2.dataset, 0, 0);
if (!eb.isEmpty(getUserInfo2.onComplete)) {
    getUserInfo2.onComplete(getUserInfo2.userInfo);
    getUserInfo2.onComplete = null;
}
getUserInfo2.busy = false;



                        
</script3>
    </taskSetItem>
    <taskSetItem name="updateUserInfo">
      <script1>//nickName,note,homePage,onComplete
updateUserInfo.busy = true;

eio.appendString16(g5.token);
eio.appendString16(updateUserInfo.nickName);
eio.appendString16(updateUserInfo.note);
eio.appendString16(updateUserInfo.homePage);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var nickName = eio.readString16();
var note = eio.readString16();
var homepage = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对个人信息进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set nickName = '" + db.encode(nickName) + "'" +
    ", note= '" + db.encode(note) + "'" +
    ", homePage= '" + db.encode(homepage) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法修改您的信息", eio.readString8());
    updateUserInfo.busy = false;
    return;
}

updateUserInfo.onComplete();
updateUserInfo.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="getOtherUserInfo">
      <script1>//userName,onComplete()
eio.appendString16(g5.token);
eio.appendString16(getOtherUserInfo.userName);

</script1>
      <script2><![CDATA[var token = eio.readString16();
var userName = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

sql =
    "SELECT   dbo.userInfo.id, dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.userName, dbo.userInfo.nickName, " + 
    "                dbo.userInfo.mobile, dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage,  " +
    "                CASE WHEN follow.id IS NULL THEN 0 ELSE 1 END AS isFollow " +
    "FROM      dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + myUserId + " " +
    "WHERE userInfo.userName='" + db.encode(userName) + "' " +
    "GROUP BY dbo.userInfo.id, dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.userName, dbo.userInfo.nickName,  " +
    "                dbo.userInfo.mobile, dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.follow.id; " +
    
    "SELECT   dbo.userInfo.id, dbo.userInfo.userName, COUNT(dbo.follow.followId) AS followCount " +
    "FROM      dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.userId " +
    "WHERE userInfo.userName='" + db.encode(userName) + "' " +
    "GROUP BY dbo.userInfo.id, dbo.userInfo.userName; " +
    
    "SELECT   dbo.userInfo.id, dbo.userInfo.userName, COUNT(dbo.follow.userId) AS fansCount " +
    "FROM      dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId " +
    "GROUP BY dbo.userInfo.id, dbo.userInfo.userName; ";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    es.logWarning("用户不存在, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendString16(db.getString(sqlResult,"id"));
eio.appendString16(db.getString(sqlResult,"status"));
eio.appendString16(db.getString(sqlResult,"regDatetime"));
eio.appendString16(db.getString(sqlResult,"userName"));
eio.appendString16(db.getString(sqlResult,"nickName"));
eio.appendString16(db.getString(sqlResult,"mobile"));
eio.appendString16(db.getString(sqlResult,"note"));
eio.appendString16(db.getString(sqlResult,"photo"));
eio.appendString16(db.getString(sqlResult,"titleBg"));
eio.appendString16(db.getString(sqlResult,"homePage"));
eio.appendString16(db.getString(sqlResult,"isFollow"));
db.nextResult(sqlResult);
db.read(sqlResult);
eio.appendString16(db.getString(sqlResult,"followCount"));
db.nextResult(sqlResult);
db.read(sqlResult);
eio.appendString16(db.getString(sqlResult,"fansCount"));

                ]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
getOtherUserInfo.id = eio.readString16();
getOtherUserInfo.status = eio.readString16();
getOtherUserInfo.regDatetime = eio.readString16();
getOtherUserInfo.userName = eio.readString16();
getOtherUserInfo.nickName = eio.readString16();
getOtherUserInfo.mobile = eio.readString16();
getOtherUserInfo.note = eio.readString16();
getOtherUserInfo.photo = eio.readString16();
getOtherUserInfo.titleBg = eio.readString16();
getOtherUserInfo.homePage = eio.readString16();
getOtherUserInfo.isFollow = eio.readString16();
getOtherUserInfo.followCount = eio.readString16();
getOtherUserInfo.fansCount = eio.readString16();
getOtherUserInfo.onComplete();



                        
</script3>
    </taskSetItem>
    <taskSetItem name="newTwitter">
      <script1><![CDATA[//busy,content,uplinkType,uplinkId,busy,photos(array),onComplete(contentId)
if (newTwitter.busy) return;
newTwitter.busy = true;

if (eb.isEmpty(newTwitter.photos)) newTwitter.photos = new Array();

var text = newTwitter.content;
if (newTwitter.uplinkType!="L") {
    if ((text.length<=0) &amp;&amp; (newTwitter.photos.length<=0)) {
        g5.alert1("发言内容不符合要求", "发言内容不能为空");
        newTwitter.busy = false;
        return;
    }
}

eio.appendString16(g5.token);
eio.appendString16(text);
eio.appendString16(newTwitter.uplinkType);
eio.appendString16(newTwitter.uplinkId+"");
eio.appendInt32(newTwitter.photos.length);
for (var i=0; i<newTwitter.photos.length; i++) eio.appendString16(newTwitter.photos[i]);






]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var text = eio.readString16();
var uplinkType = eio.readString16();
var uplinkId = eio.readString16();
var count = Math.min(eio.readInt32(),4);
var photos = new Array();
for (var i=0; i<count; i++) {
    photos.push(eio.readString16());
}
while (photos.length<4) photos.push("");

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对发言进行操作，请注册正式用户。");
    return;
}

sql = "exec twitterNew " +
    userId + 
    ",'" + db.encode(text) + "'" +
    ",1" +
    ",'" + db.encode(photos[0]) + "'" +
    ",'" + db.encode(photos[1]) + "'" +
    ",'" + db.encode(photos[2]) + "'" +
    ",'" + db.encode(photos[3]) + "'" +
    ",'" + db.encode(uplinkType) + "'" +
    "," + db.encode(uplinkId);
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
eio.appendString8("T");
eio.appendString16(db.getString(sqlResult,"contentId"));

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    newTwitter.busy = false;
    return;
}
newTwitter.contentId = eio.readString16();
if (newTwitter.onComplete) newTwitter.onComplete(newTwitter.contentId);
newTwitter.busy = false;
return;

ee.showAni(ee.getControl("panel42"), 1);

g5.p2.p1.a1.init();
if (newTwitter.userPage=="x") {
    showUserPage();
    g5.syncTwitter(newTwitter.uplinkId,2);
} else if (newTwitter.uplinkType=="L") {
    g5.syncTwitter(newTwitter.uplinkId,2);
} else {
    updateHomepage.getNews = true;
    updateHomepage();
    if (g5.currentPageIndex==7) {
        showTopic.needRefresh=true;
        showTopic();
    }
}</script3>
    </taskSetItem>
    <taskSetItem name="updateHomepage">
      <script1>//busy,contentId,isForward,onComplete(dataset)
if (updateHomepage.busy) return;
updateHomepage.busy = true;
eio.appendString16(g5.token);
eio.appendString16(updateHomepage.contentId+"");
eio.appendString16(updateHomepage.isForward?"T":"F");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var lastId = parseInt(eio.readString16());
var isForward = eio.readString16()=="T"?true:false;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var sql1 = "";
if (lastId == 0) {
} else if (isForward) {
    sql1 = "and dbo.tContent.id < " + lastId + " ";
} else {
    sql1 = "and dbo.tContent.id > " + lastId + " ";
}

sql =
    "SELECT   TOP (15) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                exUserInfo.regDatetime AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent RIGHT OUTER JOIN " +
    "                dbo.follow ON dbo.tContent.userId = dbo.follow.followId LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND  " +
    "                exUnlikeList.userId = " + userId + " " +
    "WHERE   ((dbo.follow.userId = " + userId + ") AND (dbo.tContent.userId <> " + userId + ") OR " +
    "                (dbo.follow.userId = " + userId + ") AND (dbo.tContent.uplinkType <> 'L')) " + 
    "  AND dbo.tContent.status<>'DEL' " + sql1 +
    "ORDER BY dbo.tContent.id DESC ";
   
//es.logCommon(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    0, 99999);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    updateHomepage.busy = false;
    return;
}
updateHomepage.dataset = eio.readDataSet();
updateHomepage.onComplete(updateHomepage.dataset); 
updateHomepage.busy = false;
                        
</script3>
    </taskSetItem>
    <taskSetItem name="showUserPage">
      <script1>//busy, userId/userName, onComplete()
if (showUserPage.busy) return;
showUserPage.busy = true;
eio.appendString16(g5.token);
if (showUserPage.userName == "") {
    eio.appendString16("uid");
    eio.appendString16(showUserPage.userId+"");
} else {
    eio.appendString16("uname");
    eio.appendString16(showUserPage.userName);
}
</script1>
      <script2><![CDATA[var token = eio.readString16();
var options = eio.readString16();
var userValue = eio.readString16();
if (options == "uid") userValue = parseInt(userValue);
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

var where = "";
if (options == "uid") {
    where = "where dbo.userInfo.id = " + userValue + " ";
} else {
    where = "where dbo.userInfo.userName = '" + db.encode(userValue) + "' ";
}

sql = 
    "select dbo.userInfo.id from dbo.userInfo " + where + "; ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("该用户不存在");
    return;
}
var userId = db.getString(sqlResult, "id");
eio.appendString8("T");

sql = 
    "SELECT   dbo.userInfo.id, dbo.userInfo.status, CONVERT(VARCHAR(50), dbo.userInfo.regDatetime, 120) " +
    "                AS regDatetime, CONVERT(VARCHAR(50), dbo.userInfo.lastAccessTime, 120) AS lastAccessTime,  " +
    "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount,  " +
    "                CASE WHEN dbo.follow.id IS NULL THEN 0 ELSE 1 END AS isFollow, CASE WHEN dbo.blockList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlock1, CASE WHEN blockList_1.id IS NULL THEN 0 ELSE 1 END AS isBlock2, dbo.userInfo.email, " +
    "                dbo.userInfo.chatRoomVideo " + 
    "FROM      dbo.blockList RIGHT OUTER JOIN " +
    "                dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS blockList_1 ON dbo.userInfo.id = blockList_1.userId AND blockList_1.blockUserId = " + userId + " ON  " +
    "                dbo.blockList.blockUserId = dbo.userInfo.id AND dbo.blockList.userId = " + userId + " " +
    "where dbo.userInfo.id = " + userId + " " +
    "exec createDefaultChatRoom " + userId + "; " + 
    "exec createDefaultPrivateChatRoom " + userId + "; " + 
    "select * from chatRoomInfo where creatorId = " + userId + " and roomType='DEF'; " +
    "select * from chatRoomInfo where creatorId = " + userId + " and roomType='PIV'; " +
    "select * from hostRecomd where hostUserId = " + userId + " order by orderSn; " +

    "SELECT   dbo.chatRoomInfo.id, dbo.chatRoomInfo.creatorId, dbo.chatRoomInfo.roomType, dbo.chatRoomVip.status, " +
    "                dbo.chatRoomVip.userId " +
    "FROM      dbo.chatRoomVip INNER JOIN " +
    "                dbo.chatRoomInfo ON dbo.chatRoomVip.chatRoomId = dbo.chatRoomInfo.id " +
    "WHERE chatRoomInfo.creatorId = " + userId + " and chatRoomVip.userId = " + myUserId + " " +
    "   and chatRoomInfo.roomType = 'DEF' and chatRoomVip.status='ADM'; " +
        
    "SELECT   dbo.chatRoomInfo.id, dbo.chatRoomInfo.creatorId, dbo.chatRoomInfo.roomType, dbo.chatRoomVip.status, " +
    "                dbo.chatRoomVip.userId " +
    "FROM      dbo.chatRoomVip INNER JOIN " +
    "                dbo.chatRoomInfo ON dbo.chatRoomVip.chatRoomId = dbo.chatRoomInfo.id " +
    "WHERE chatRoomInfo.creatorId = " + userId + " and chatRoomVip.userId = " + myUserId + " " +
    "   and chatRoomInfo.roomType = 'DEF' and chatRoomVip.status='BLK'; " +

    "SELECT   TOP (10) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                exUserInfo.regDatetime AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + userId + " " +
    "WHERE (dbo.tContent.status='IDL' and dbo.tContent.userId = " + userId + ") and dbo.tContent.uplinkType<>'R' " +
    "ORDER BY dbo.tContent.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendDataSet(sqlResult,
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow,isBlock1,isBlock2,email," +
    "chatRoomVideo",
    0, 1);
    
var pubRoomId;
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    pubRoomId = db.getString(sqlResult,"id");
    eio.appendString16(pubRoomId);
} else {
    pubRoomId = "-1";
    eio.appendString16(pubRoomId);
}
db.nextResult(sqlResult);
var prvRoomId;
if (db.read(sqlResult)) {
    prvRoomId = db.getString(sqlResult,"id");
    eio.appendString16(prvRoomId);
} else {
    prvRoomId = "-1";
    eio.appendString16(prvRoomId);
}
db.nextResult(sqlResult);
eio.appendDataSet(sqlResult, "id,regDatetime,orderSn,hostUserId,videoUrl,note", 0, 9999);
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}
db.nextResult(sqlResult);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}
db.nextResult(sqlResult);
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    0, 99999);


sql = "select * from chatPrivate where roomId=" + prvRoomId + " and permitUserId=" + myUserId + "; ";
if (userId == myUserId) {
    sql +=
        "SELECT   dbo.chatPrvRequest.id, dbo.chatPrvRequest.chatRoomId, dbo.chatPrvRequest.appUserId, dbo.userInfo.status, " + 
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount, dbo.userInfo.regDatetime,  " +
        "                dbo.chatPrvRequest.regDatetime AS requestDatetime " +
        "FROM      dbo.chatPrvRequest INNER JOIN " +
        "                dbo.userInfo ON dbo.chatPrvRequest.appUserId = dbo.userInfo.id " +
        "WHERE chatPrvRequest.chatRoomId = " + prvRoomId + " " +
        "ORDER BY chatPrvRequest.id DESC; " +
        "SELECT   dbo.chatPrivate.id, dbo.chatPrivate.regDatetime AS joinDatetime, dbo.chatPrivate.roomId AS chatRoomId, " + 
        "                dbo.chatPrivate.permitUserId, dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.lastAccessTime,  " +
        "                dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  " +
        "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo, dbo.userInfo.followCount,  " +
        "                dbo.userInfo.fansCount " +
        "FROM      dbo.userInfo INNER JOIN " +
        "                dbo.chatPrivate ON dbo.userInfo.id = dbo.chatPrivate.permitUserId " +
        "WHERE chatPrivate.roomId = " + prvRoomId + " " +
        "ORDER BY chatPrivate.id DESC; ";
    sql +=
        "SELECT   dbo.chatRoomVip.id, dbo.chatRoomVip.regDatetime as vipRegDatetime, dbo.chatRoomVip.chatRoomId, dbo.chatRoomVip.status as vipStatus, " +
        "                dbo.chatRoomVip.userId, dbo.userInfo.status, dbo.userInfo.regDatetime,  " +
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount " +
        "FROM      dbo.chatRoomVip LEFT OUTER JOIN " +
        "                dbo.userInfo ON dbo.chatRoomVip.userId = dbo.userInfo.id " +
        "where chatRoomVip.chatRoomId = " + pubRoomId + " and chatRoomVip.status = 'ADM' " +
        "order by chatRoomVip.id DESC; ";
    sql +=
        "SELECT   dbo.chatRoomVip.id, dbo.chatRoomVip.regDatetime as vipRegDatetime, dbo.chatRoomVip.chatRoomId, dbo.chatRoomVip.status as vipStatus, " +
        "                dbo.chatRoomVip.userId, dbo.userInfo.status, dbo.userInfo.regDatetime,  " +
        "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
        "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo,  " +
        "                dbo.userInfo.followCount, dbo.userInfo.fansCount " +
        "FROM      dbo.chatRoomVip LEFT OUTER JOIN " +
        "                dbo.userInfo ON dbo.chatRoomVip.userId = dbo.userInfo.id " +
        "where chatRoomVip.chatRoomId = " + pubRoomId + " and chatRoomVip.status = 'BLK' " +
        "order by chatRoomVip.id DESC; ";
}

sqlResult = db.executeQuery("DB", sql);
if (db.read(sqlResult)) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}

if (userId == myUserId) {
    eio.appendString16("T");
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,requestDatetime,appUserId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,joinDatetime,permitUserId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,vipRegDatetime,userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
    db.nextResult(sqlResult);
    eio.appendDataSet(sqlResult,
        "id,vipRegDatetime,userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
        "followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 9999);
} else {
    eio.appendString16("F");
}]]></script2>
      <script3>if (eio.readString8() != "T") {
    ee.setVisible(ee.getControl("panel16"), false);
    showUserPage.busy = false;
    return;
}

var ds = eio.readDataSet();
showUserPage.v_userInfo = new g5.UserInfo();
showUserPage.v_userInfo.loadFromDataset(ds, 0, 0);
showUserPage.chatRoomVideo = ds.getData(showUserPage.v_userInfo.size,0);
showUserPage.defaultChatRoomId = eio.readString16(); 
showUserPage.privateChatRoomId = eio.readString16();
showUserPage.hostRecomd = eio.readDataSet();
showUserPage.isChatRoomPubAdmin = eio.readString16() == "T";
showUserPage.isChatRoomPubBlack = eio.readString16() == "T";
showUserPage.dataset = eio.readDataSet();
showUserPage.privateChatRoomRights = eio.readString16() == "T";
showUserPage.privateChatRoomRights = showUserPage.privateChatRoomRights || (g5.myUserInfo.id==showUserPage.v_userInfo.id);
if (showUserPage.id == g5.myUserInfo.id) {
    showUserPage.privateChatRoomRights = true;
}
if (eio.readString16() == "T") {
    showUserPage.joinPrvRequest = eio.readDataSet();
    showUserPage.permitUsers = eio.readDataSet();
    showUserPage.chatRoomAdminList = eio.readDataSet();
    showUserPage.chatRoomBlackList = eio.readDataSet();
} else {
    showUserPage.joinPrvRequest = null;
    showUserPage.permitUsers = null;
    showUserPage.chatRoomAdminList = eio.readDataSet();
    showUserPage.chatRoomBlackList = null;
}

showUserPage.onComplete();
showUserPage.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="showUserPageLoadMore">
      <script1>//in: userId, pageIndex, pageSize, onComplete(dataset)
//out: dataset 
showUserPageLoadMore.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showUserPageLoadMore.userId+"");
eio.appendString16(showUserPageLoadMore.pageIndex + "");
eio.appendString16(showUserPageLoadMore.pageSize + "");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = parseInt(eio.readString16());

var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

var top = "TOP (" + ((pageIndex+1) * pageSize) + ")";
var sql =
    "SELECT   " + top + " dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                exUserInfo.regDatetime AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + userId + " " +
    "WHERE (dbo.tContent.status='IDL' and dbo.tContent.userId = " + userId + ") and dbo.tContent.uplinkType<>'R' " +
    "ORDER BY dbo.tContent.id DESC ";

//es.logCommon(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize); 
]]></script2>
      <script3>if (eio.readString8() != "T") {
    showUserPageLoadMore.busy = false;
    return;
}
showUserPageLoadMore.dataset = eio.readDataSet();
if (!eb.isEmpty(showUserPageLoadMore.onComplete)) {
    showUserPageLoadMore.onComplete(showUserPageLoadMore.dataset);
    showUserPageLoadMore.onComplete = null;
}
showUserPageLoadMore.busy = false;



</script3>
    </taskSetItem>
    <taskSetItem name="showUserPageP3">
      <script1>//userId,pageIndex,pageSize,onComplete
//data
showUserPageP3.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showUserPageP3.userId+"");
eio.appendString16(showUserPageP3.pageIndex+"");
eio.appendString16(showUserPageP3.pageSize+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var pageIndex = parseInt(eio.readString16());
var pageSize = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

//query twitter
var top = "TOP (" + ((pageIndex+1) * pageSize) + ")";
sql = 
    "SELECT   " + top + " dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds,  " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                exUserInfo.regDatetime AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike " +
    "FROM      dbo.blockList AS rBlockList RIGHT OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND exUnlikeList.userId = " + userId + " " +
    "WHERE (dbo.tContent.status='IDL' and dbo.tContent.userId = " + userId + ") " +
    "ORDER BY dbo.tContent.id DESC ";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize); 

]]></script2>
      <script3>if (eio.readString8() != "T") {
    showUserPageP3.busy = false;
    ee.setVisible(ee.getControl("panel16"), false);
    return;
}

showUserPageP3.data = eio.readDataSet();
if (!eb.isEmpty(showUserPageP3.onComplete)) {
    showUserPageP3.onComplete(showUserPageP3.data);
    showUserPageP3.onComplete = null;
}
showUserPageP3.busy = false;


</script3>
    </taskSetItem>
    <taskSetItem name="showBookMark">
      <script1>//pageIndex
if (showBookMark.busy) return;
showBookMark.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showBookMark.pageIndex+"");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 5;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var top = (pageIndex+1)*pageSize;
sql =
    "SELECT   TOP(" + top + ") dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail, dbo.tContent.exUserId, exUserInfo.status AS exStatus,  " +
    "                exUserInfo.regDatetime AS exRegDatetime, exUserInfo.lastAccessTime AS exLastAccessTime,  " +
    "                exUserInfo.userName AS exUserName, exUserInfo.mobile AS exMobile, exUserInfo.email AS exEmail,  " +
    "                exUserInfo.nickName AS exNickName, exUserInfo.note AS exNote, exUserInfo.photo AS exPhoto,  " +
    "                exUserInfo.titleBg AS exTitleBg, exUserInfo.homePage AS exHomePage, exUserInfo.followCount AS exFollowCount,  " +
    "                exUserInfo.fansCount AS exFansCount, CASE WHEN exFollow.id IS NULL THEN 0 ELSE 1 END AS exIsFollow,  " +
    "                CASE WHEN exBlockList1.id IS NULL THEN 0 ELSE 1 END AS exIsBlock1, CASE WHEN exBlockList2.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsBlock2, dbo.tContent.exUplinkType, dbo.tContent.exContentId,  " +
    "                CASE WHEN exforwardLink.id IS NULL THEN 0 ELSE 1 END AS exIsForward, CASE WHEN exlikeList.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS exIsLike, CASE WHEN exunlikeList.id IS NULL THEN 0 ELSE 1 END AS exIsUnlike " +
    "FROM      dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + myUserId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + myUserId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.forwardLink RIGHT OUTER JOIN " +
    "                dbo.tContent RIGHT OUTER JOIN " +
    "                dbo.bookMark ON dbo.tContent.id = dbo.bookMark.contentId LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + myUserId + " ON  " +
    "                dbo.forwardLink.contentId = dbo.tContent.id AND dbo.forwardLink.userId = " + myUserId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + myUserId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId LEFT OUTER JOIN " +
    "                dbo.blockList AS rBlockList ON userInfo_1.id = rBlockList.blockUserId AND rBlockList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo AS exUserInfo ON exUserInfo.id = dbo.tContent.exUserId LEFT OUTER JOIN " +
    "                dbo.follow AS exFollow ON exUserInfo.id = exFollow.followId AND exFollow.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList1 ON exUserInfo.id = exBlockList1.blockUserId AND  " +
    "                exBlockList1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS exBlockList2 ON exUserInfo.id = exBlockList2.userId AND  " +
    "                exBlockList2.blockUserId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS exForwardLink ON dbo.tContent.exContentId = exForwardLink.contentId AND  " +
    "                exForwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList AS exLikeList ON dbo.tContent.exContentId = exLikeList.contentId AND  " +
    "                exLikeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS exUnlikeList ON dbo.tContent.exContentId = exUnlikeList.contentId AND  " +
    "                exUnlikeList.userId = " + myUserId + " " +
    "WHERE   (dbo.bookMark.userId = " + myUserId + ") " +
    "ORDER BY dbo.bookMark.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uIsBlock1,uIsBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rIsBlock1,rIsBlock2,rEmail," +
    "exUserId,exStatus,exRegDatetime,exLastAccessTime,exUserName,exMobile,exNickName,exNote,exPhoto,exTitleBg,exHomePage,exFollowCount,exFansCount,exIsFollow,exIsBlock1,exIsBlock2,exEmail," +
    "exUplinkType,exContentId,exIsForward,exIsLike,exIsUnlike",
    pageIndex*pageSize, pageSize);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}

showBookMark.dataset = eio.readDataSet();
if (!eb.isEmpty(showBookMark.onComplete)) {
    showBookMark.onComplete();
    showBookMark.onComplete = null;
}
showBookMark.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="showPrompt">
      <script1>//pageIndex
if (showPrompt.busy) return;
showPrompt.busy = true;
eio.appendString16(g5.token);
eio.appendString16(showPrompt.pageIndex+"");

</script1>
      <script2><![CDATA[var token = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 15;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName =db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var top = (pageIndex+1)*pageSize;
sql =
    "exec clearPromptCount " + myUserId + "; " +
    "SELECT TOP(" + top + ")  dbo.userPrompt.id as promptId, dbo.userPrompt.regDatetime AS promptRegDatetime, dbo.userPrompt.refUserId, " +
    "                dbo.userPrompt.status AS promptStatus, dbo.userPrompt.[type], dbo.userPrompt.[content], dbo.userPrompt.url, dbo.userInfo.status,  " +
    "                dbo.userInfo.regDatetime, dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.password,  " +
    "                dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg,  " +
    "                dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo, dbo.userInfo.followCount, dbo.userInfo.fansCount " +
    "FROM      dbo.userInfo RIGHT OUTER JOIN " +
    "                dbo.userPrompt ON dbo.userInfo.id = dbo.userPrompt.refUserId " +
    "WHERE   (dbo.userPrompt.userId = " + myUserId + ") " +
    "ORDER BY dbo.userPrompt.id DESC; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "promptId, promptRegDatetime,promptStatus,type,content,url," +
    "refUserId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage," +
    "followCount,fansCount,isFollow,isBlock1,isBlock2",
    pageIndex*pageSize, pageSize);]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}

showPrompt.dataset = eio.readDataSet();
if (!eb.isEmpty(showPrompt.onComplete)) {
    showPrompt.onComplete();
    showPrompt.onComplete = null;
}
showPrompt.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="refreshHostRecomd">
      <script1>//userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(refreshHostRecomd.userId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  

sql = "select * from hostRecomd where hostUserId = " + userId + " order by orderSn; ";
sqlResult = db.executeQuery("DB", sql);
eio.appendString8("T");
eio.appendDataSet(sqlResult, "id,regDatetime,orderSn,hostUserId,videoUrl,note", 0, 9999);

]]></script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
refreshHostRecomd.hostRecomd = eio.readDataSet();

if (!eb.isEmpty(refreshHostRecomd.onComplete)) {
    refreshHostRecomd.onComplete();
    refreshHostRecomd.onComplete = null;
}




</script3>
    </taskSetItem>
    <taskSetItem name="showTopic">
      <script1><![CDATA[//topicId,lastId,onComplete(data,backTrace)
if (eb.isEmpty(showTopic.busy)) showTopic.busy = false;
if (showTopic.busy) return;
showTopic.busy = true;
showTopic.startTime = new Date();

eio.appendString16(g5.token);
if (ee.getControl("panel22").eeChildren.length<=0) {
    showTopic.needRefresh = true;
}
if (showTopic.needRefresh) {
    eio.appendString16("T");
    eio.appendString16(showTopic.topicId);
    eio.appendString16("0");
} else {
    eio.appendString16("F");
    eio.appendString16(showTopic.topicId);
    eio.appendString16(showTopic.lastId);
}


]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var needRefresh = eio.readString16();
var topicId = parseInt(eio.readString16());
var lastId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
var sql1 = "";
if ((needRefresh == "F") &amp;&amp; (lastId != 0)) {
    sql1 = "and dbo.tContent.id < " + lastId + " ";
}

sql =
    "SELECT   TOP (20) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "WHERE ((dbo.tContent.uplinkId = " + topicId + ") AND dbo.tContent.uplinkType<>'F' AND dbo.tContent.uplinkType<>'L' AND dbo.tContent.status<>'DEL') OR (dbo.tContent.id = " + topicId + ") " +
    "ORDER BY dbo.tContent.id ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uBlock1,uBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rBlock1,rBlock2,rEmail",
    0, 99999);

sql = "exec [twitterSource] " + userId + "," + topicId;
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    return;
}
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uBlock1,uBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rBlock1,rBlock2,rEmail",
    0, 99999);
while (db.nextResult(sqlResult)) {
eio.appendDataSet(sqlResult,
    "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
    "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
    "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uBlock1,uBlock2,uEmail," +  
    "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rBlock1,rBlock2,rEmail",
    0, 99999);
}]]></script2>
      <script3>if (eio.readString8() != "T") {
    showTopic.busy = false;
    return;
}
showTopic.data = eio.readDataSet();
showTopic.backTrace = eio.readDataSet();
while (true) {
    var tempData = eio.readDataSet();
    if (!showTopic.backTrace.appendDataset(tempData)) break;
}
showTopic.onComplete(showTopic.data, showTopic.backTrace);
showTopic.busy = false;



                        
</script3>
    </taskSetItem>
    <taskSetItem name="searchUser">
      <script1>var searchString = ee.getEditText(ee.getControl("edit5"));
eio.appendString16(searchString);

</script1>
      <script2>var searchString = eio.readString16();
var sql,sqlResult;  

sql = "select * from userInfo ";
if (searchString != "") {
    sql += "where (userName like '%" + db.encode(searchString) + "%') " +
        " or (nickName like '%" + db.encode(searchString) + "%') ";
}
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,userName,nickName,photo", 0, 99999);
</script2>
      <script3>if (eio.readString8() != "T") {
    return;
}
g5.datasetPage2 = eio.readDataSet();
g5.refreshPage2();
searchTwitter.needRefresh = true;
searchTwitter();</script3>
    </taskSetItem>
    <taskSetItem name="searchTwitter">
      <script1><![CDATA[var searchString = ee.getEditText(ee.getControl("edit5"));
eio.appendString16(g5.token);
eio.appendString16(searchString);
if (ee.getControl("panel129").eeChildren.length<=0) {
    searchTwitter.needRefresh = true;
}
if (searchTwitter.needRefresh) {
    eio.appendString16("T");
    eio.appendString16("0");
} else {
    eio.appendString16("F");
    eio.appendString16(searchTwitter.lastId);
}


]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var searchString = eio.readString16();
var needRefresh = eio.readString16();
var lastId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");  


var cond = "";
if ((needRefresh == "F") &amp;&amp; (lastId != 0)) {
    cond += "  and (dbo.tContent.id < " + lastId + ") ";
}
if (searchString != "") {
    cond += " and (dbo.tContent.content like '%" + db.encode(searchString) + "%') ";
}

sql = 
    "SELECT   TOP (8) dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.userId, dbo.tContent.status, dbo.tContent.[content], dbo.tContent.photoCount, dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.uplinkId, dbo.tContent.uplinkType,  " +
    "                dbo.tContent.likeCount, dbo.tContent.reCount, dbo.tContent.fwCount, dbo.userInfo.userName, dbo.userInfo.nickName,  " +
    "                dbo.userInfo.photo, DATEDIFF(second, tContent_1.regDatetime, GETDATE()) AS reSeconds,  " +
    "                tContent_1.userId AS reUserId, tContent_1.status AS reStatus, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photoCount AS rePhotoCount, tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2,  " +
    "                tContent_1.photo3 AS rePhoto3, tContent_1.photo4 AS rePhoto4, tContent_1.likeCount AS reLikeCount,  " +
    "                tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount, userInfo_1.userName AS reUserName,  " +
    "                userInfo_1.nickName AS reNickName, userInfo_1.photo AS rePhoto, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN forwardLink_1.id IS NULL THEN 0 ELSE 1 END AS reIsForward,  " +
    "                CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike, CASE WHEN likeList_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsLike " +
    "FROM      dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 ON dbo.tContent.uplinkId = forwardLink_1.contentId AND  " +
    "                forwardLink_1.userId = " + myUserId + " LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.tContent.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId ON dbo.tContent.uplinkId = tContent_1.id " +
    "WHERE tContent.[status]<>'DEL' " + cond +
    "ORDER BY dbo.tContent.id DESC     "; 

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,seconds,userId,content,photo1,reCount,fwCount,likeCount,userName,nickName,photo" +
    ",reSeconds,reContent,rePhoto1,reUserId,reUserName,reNickName,rePhoto,status,uplinkType,uplinkId,reReCount," +
    "reFwCount,isForward,reIsForward,isLike,reIsLike,reLikeCount,photo2,photo3,photo4,rePhoto2,rePhoto3,rePhoto4", 0, 99999); 
]]></script2>
      <script3><![CDATA[if (eio.readString8() != "T") {
    return;
}
searchTwitter.dataset = eio.readDataSet();
if (searchTwitter.dataset.rowCount >= 0) {
    searchTwitter.lastId = searchTwitter.dataset.getData(0, searchTwitter.dataset.rowCount - 1);
} else {
    searchTwitter.lastId = "0";
}

var i, item;
var root = ee.getControl("panel129"); 
var cy = 0; 
if (eb.isEmpty(searchTwitter.items)) {
    searchTwitter.items = new Array();
}
if (searchTwitter.needRefresh) {
    for (i=0; i<searchTwitter.items.length; i++) ee.removeControl(searchTwitter.items[i]);
    searchTwitter.items = new Array();
} else {
    if (searchTwitter.items.length>0) {
        var rect = eb.getDivRect(searchTwitter.items[searchTwitter.items.length-1]);
        cy = 2 + rect.y + rect.h;
    }
}

var itemWidth = eb.getDivRect(root).w;
for (i=0; i< searchTwitter.dataset.rowCount; i++) {
    var item = createPanel(root, "sech_" + searchTwitter.dataset.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadTwitterRecord(item, searchTwitter.dataset, i);
    item.v_mode = "";
    g5.renderTwitter(item);
    searchTwitter.items.push(item);
    cy += eb.getDivRect(item).h;    
}    

searchTwitter.needRefresh = false;
ee.setRect(root,null,null,null,cy);
cy1 = eb.getDivRect(ee.getControl("panel128")).h;
cy = Math.max(cy1,cy);
ee.setRect(ee.getControl("panel137"), null,null,null,cy+130);
eb.processDock();                        
]]></script3>
    </taskSetItem>
    <taskSetItem name="searchV2">
      <script1><![CDATA[//searchString, options(hot,new,user,photo,video), pageIndex, onComplete()
if (searchV2.busy) return;
if (searchV2.searchString.length<=0) return;
searchV2.busy = true;
eio.appendString16(g5.token);
eio.appendString16(searchV2.searchString);
eio.appendString16(searchV2.options);
eio.appendString16(searchV2.pageIndex+"");



]]></script1>
      <script2><![CDATA[var token = eio.readString16();
var searchString = eio.readString16();
var options = eio.readString16();
var pageIndex = parseInt(eio.readString16());
var pageSize = 5;
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var userId = db.getString(sqlResult,"id");  


if (options == "user") {
    pageSize = 20;
}
var top = (pageIndex+1)*pageSize;
var cond = "";
if (options == "hot") {
    cond += " and dbo.tContent.[content] like '%" + db.encode(searchString) + "%'";
} else if (options == "new") {
    cond += " and dbo.tContent.[content] like '%" + db.encode(searchString) + "%'";
} else if (options == "user") {
    cond += " dbo.userInfo.userName like '%" + db.encode(searchString) + "%' " +
        " OR dbo.userInfo.nickName like '%" + db.encode(searchString) + "%' " +
        " OR dbo.userInfo.note like '%" + db.encode(searchString) + "%' ";
} else if (options == "photo") {
    cond += " and dbo.tContent.[content] like '%" + db.encode(searchString) + "%' and (" +
        "dbo.getPhotoType(dbo.tContent.photo1)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo2)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo3)='img' OR " +
        "dbo.getPhotoType(dbo.tContent.photo4)='img') ";
} else if (options == "video") {
    cond += " and dbo.tContent.[content] like '%" + db.encode(searchString) + "%' and (" +
        "dbo.getPhotoType(dbo.tContent.photo1)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo2)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo3)='video' OR " +
        "dbo.getPhotoType(dbo.tContent.photo4)='video') ";
}
var orderby = "ORDER BY ";
if (options == "hot") {
    orderby += "dbo.tContent.reCount DESC";
} else if (options == "new") {
    orderby += "dbo.tContent.id DESC";
} else if (options == "user") {
    orderby += "dbo.userInfo.id DESC";
} else if (options == "photo") {
    orderby += "dbo.tContent.id DESC";
} else if (options == "video") {
    orderby += "dbo.tContent.id DESC";
} else {
    orderby = "";
}
if (options == "user") {
    sql =
    "SELECT  TOP (" + top + ") dbo.userInfo.id AS userId, dbo.userInfo.userName, dbo.userInfo.nickName, dbo.userInfo.note, " + 
    "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, CASE WHEN follow.userId IS NULL THEN 0 ELSE 1 END AS isFollow " +
    "FROM      dbo.userInfo LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = " + userId + " " +
    "WHERE " + cond + " " +
    orderby;
} else {
    sql =
    "SELECT   TOP (" + top + ") dbo.tContent.id, DATEDIFF(second, dbo.tContent.regDatetime, GETDATE()) AS seconds, " +
    "                dbo.tContent.status, dbo.tContent.uplinkType, dbo.tContent.uplinkId, dbo.tContent.[content], dbo.tContent.photo1,  " +
    "                dbo.tContent.photo2, dbo.tContent.photo3, dbo.tContent.photo4, dbo.tContent.reCount, dbo.tContent.fwCount,  " +
    "                dbo.tContent.likeCount, dbo.tContent.unlikeCount, CASE WHEN forwardLink.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isForward, CASE WHEN likeList.id IS NULL THEN 0 ELSE 1 END AS isLike,  " +
    "                CASE WHEN unlikeList.id IS NULL THEN 0 ELSE 1 END AS isUnlike, tContent_1.id AS reId, DATEDIFF(second,  " +
    "                tContent_1.regDatetime, GETDATE()) AS reSeconds, tContent_1.status AS reStatus,  " +
    "                tContent_1.uplinkType AS reUplinkType, tContent_1.uplinkId AS reUplinkId, tContent_1.[content] AS reContent,  " +
    "                tContent_1.photo1 AS rePhoto1, tContent_1.photo2 AS rePhoto2, tContent_1.photo3 AS rePhoto3,  " +
    "                tContent_1.photo4 AS rePhoto4, tContent_1.reCount AS reReCount, tContent_1.fwCount AS reFwCount,  " +
    "                tContent_1.likeCount AS reLikeCount, tContent_1.unlikeCount AS reUnlikeCount, CASE WHEN forwardLink_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS reIsForward, CASE WHEN likeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsLike,  " +
    "                CASE WHEN unlikeList_1.id IS NULL THEN 0 ELSE 1 END AS reIsUnlike, dbo.tContent.userId AS uId,  " +
    "                dbo.userInfo.status AS uStatus, dbo.userInfo.regDatetime AS uRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime AS uLastAccessTime, dbo.userInfo.userName AS uUserName,  " +
    "                dbo.userInfo.mobile AS uMobile, dbo.userInfo.nickName AS uNickName, dbo.userInfo.note AS uNote,  " +
    "                dbo.userInfo.photo AS uPhoto, dbo.userInfo.titleBg AS uTitleBg, dbo.userInfo.homePage AS uHomePage,  " +
    "                dbo.userInfo.followCount AS uFollowCount, dbo.userInfo.fansCount AS uFansCount, CASE WHEN uFollow.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS uIsFollow, CASE WHEN ublockList.id IS NULL THEN 0 ELSE 1 END AS uIsBlock1,  " +
    "                CASE WHEN ublockList1.id IS NULL THEN 0 ELSE 1 END AS uIsBlock2, dbo.userInfo.email AS uEmail,  " +
    "                tContent_1.userId AS rId, userInfo_1.status AS rStatus, userInfo_1.regDatetime AS rRegDatetime,  " +
    "                userInfo_1.lastAccessTime AS rLastAccessTime, userInfo_1.userName AS rUserName, userInfo_1.mobile AS rMobile,  " +
    "                userInfo_1.nickName AS rNickName, userInfo_1.note AS rNote, userInfo_1.photo AS rPhoto,  " +
    "                userInfo_1.titleBg AS rTitleBg, userInfo_1.homePage AS rHomePage, userInfo_1.followCount AS rFollowCount,  " +
    "                userInfo_1.fansCount AS rFansCount, CASE WHEN rFollow.id IS NULL THEN 0 ELSE 1 END AS rIsFollow,  " +
    "                CASE WHEN rBlockList.id IS NULL THEN 0 ELSE 1 END AS rIsBlock1, CASE WHEN rblockList1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS rIsBlock2, userInfo_1.email AS rEmail " +
    "FROM      dbo.blockList AS rBlockList FULL OUTER JOIN " +
    "                dbo.blockList AS rBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo AS userInfo_1 LEFT OUTER JOIN " +
    "                dbo.follow AS rFollow ON userInfo_1.id = rFollow.followId AND rFollow.userId = " + userId + " ON  " +
    "                rBlockList1.userId = userInfo_1.id AND rBlockList1.blockUserId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.tContent AS tContent_1 ON userInfo_1.id = tContent_1.userId RIGHT OUTER JOIN " +
    "                dbo.blockList AS uBlockList1 RIGHT OUTER JOIN " +
    "                dbo.userInfo ON uBlockList1.userId = dbo.userInfo.id AND uBlockList1.blockUserId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.blockList AS uBlockList ON dbo.userInfo.id = uBlockList.blockUserId AND uBlockList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.follow AS uFollow ON dbo.userInfo.id = uFollow.followId AND uFollow.userId = " + userId + " RIGHT OUTER JOIN " +
    "                dbo.forwardLink AS forwardLink_1 RIGHT OUTER JOIN " +
    "                dbo.tContent LEFT OUTER JOIN " +
    "                dbo.likeList AS likeList_1 ON dbo.tContent.uplinkId = likeList_1.contentId AND likeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.likeList ON dbo.tContent.id = dbo.likeList.contentId AND dbo.likeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList AS unlikeList_1 ON dbo.tContent.uplinkId = unlikeList_1.contentId AND  " +
    "                unlikeList_1.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.unlikeList ON dbo.tContent.id = dbo.unlikeList.contentId AND dbo.unlikeList.userId = " + userId + " LEFT OUTER JOIN " +
    "                dbo.forwardLink ON dbo.tContent.id = dbo.forwardLink.contentId AND dbo.forwardLink.userId = " + userId + " ON  " +
    "                forwardLink_1.contentId = dbo.tContent.uplinkId AND forwardLink_1.userId = " + userId + " ON  " +
    "                dbo.userInfo.id = dbo.tContent.userId ON tContent_1.id = dbo.tContent.uplinkId ON  " +
    "                rBlockList.blockUserId = userInfo_1.id AND rBlockList.userId = " + userId + " " +
    "WHERE   (tContent.status<>'DEL') and (tContent.uplinkType<>'L') " + cond + " " +
    orderby;
}

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    es.logWarning("数据库执行错误, sql=" + sql);
    return;
}

eio.appendString8("T");
if (options == "user") {
    eio.appendDataSet(sqlResult,"userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,isFollow",
        pageIndex*pageSize, pageSize);
} else {
    eio.appendDataSet(sqlResult,
        "id,seconds,status,uplinkType,uplinkId,content,photo1,photo2,photo3,photo4,reCount,fwCount,likeCount,unlikeCount,isForward,isLike,isUnlike," +
        "reId,reSeconds,reStatus,reUplinkType,reUplinkId,reContent,rePhoto1,rePhoto2,rePhoto3,rePhoto4,reReCount,reFwCount,reLikeCount,reUnlikeCount,reIsForward,reIsLike,reIsUnlike," +
        "uId,uStatus,uRegDatetime,uLastAccessTime,uUserName,uMobile,uNickName,uNote,uPhoto,uTitleBg,uHomePage,uFollowCount,uFansCount,uIsFollow,uBlock1,uBlock2,uEmail," +  
        "rId,rStatus,rRegDatetime,rLastAccessTime,rUserName,rMobile,rNickName,rNote,rPhoto,rTitleBg,rHomePage,rFollowCount,rFansCount,rIsFollow,rBlock1,rBlock2,rEmail",
        pageIndex*pageSize, pageSize);
}]]></script2>
      <script3>if (eio.readString8() != "T") {
    searchV2.busy = false;
    return;
}

searchV2.dataset = eio.readDataSet();
if (!eb.isEmpty(searchV2.onComplete)) {
    searchV2.onComplete();
    searchV2.onComplete = null;
}
searchV2.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="follow">
      <script1>//userId, follow(0,1), onComplete()
if (follow.follow==0) {
    eio.appendString16("F");
} else {
    eio.appendString16("T");
}
eio.appendString16(g5.token);
eio.appendString16(follow.userId);



</script1>
      <script2><![CDATA[var follow = eio.readString16();
var token = eio.readString16();
var userId = eio.readString16();
var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("关注自己就没意思了吧？");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUser " + myUserId + "," + userId + "," + (follow=="T"?"1":"0");
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
eio.appendString8(follow);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
var f = eio.readString8();
if (!eb.isEmpty(follow.onComplete)) {
    follow.onComplete();
    follow.onComplete = null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="chatGet1v1">
      <script1>//chatUserId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGet1v1.busy) return;
chatGet1v1.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGet1v1.chatUserId+"");
eio.appendString16(chatGet1v1.chatId+"");
eio.appendString16(chatGet1v1.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatUserId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chat.id>" + chatId;
        top = "";
    }
} else {
    where = "and chat.id<" + chatId;
}

sql =
    "SELECT  " + top + " dbo.chat.id AS chatId, CONVERT(VARCHAR(50), dbo.chat.regDatetime, 120) AS chatRegDatetime, dbo.chat.[content], dbo.chat.photo1, " +
    "                DATEDIFF(second, dbo.chat.regDatetime, GETUTCDATE()) AS seconds, dbo.userInfo.id, " +
    "                dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.lastAccessTime, dbo.userInfo.userName,  " +
    "                dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg,  " +
    "                dbo.userInfo.homePage, dbo.userInfo.chatRoomVideo, dbo.userInfo.followCount, dbo.userInfo.fansCount " +
    "FROM      dbo.userInfo INNER JOIN " +
    "                dbo.chat ON dbo.userInfo.id = dbo.chat.sendUserId " +
    "WHERE   ((dbo.chat.sendUserId = " + myUserId +") AND (dbo.chat.recvUserId = " + chatUserId + ") OR " +
    "                (dbo.chat.sendUserId = " + chatUserId + ") AND (dbo.chat.recvUserId = " + myUserId +")) " + where + " " +
    "ORDER BY dbo.chat.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"chatId,chatRegDatetime,seconds,content,photo1," +
    "id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGet1v1.busy = false;
    return;
}

chatGet1v1.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGet1v1.onComplete)) {
    chatGet1v1.onComplete(chatGet1v1.dataset);
    chatGet1v1.onComplete = null;
}
chatGet1v1.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="sendChat1v1">
      <script1>//content, chatUserId, onComplete()
if (sendChat1v1.busy) return;
sendChat1v1.busy = true;

eio.appendString16(g5.token);
eio.appendString16(sendChat1v1.chatUserId + "");
eio.appendString16(sendChat1v1.content);</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatUserId = parseInt(eio.readString16());
var content = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql = "insert into chat (sendUserId, recvUserId, [content], photo1) values (" +
    myUserId +
    "," + chatUserId + 
    ",'" + db.encode(content) + "'" +
    ",'')";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙");
    es.logCommon("sql执行错误,sql=" + sql);
    return;
}

eio.appendString8("T");
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    sendChat1v1.busy = false;
    return;
}

if (!eb.isEmpty(sendChat1v1.onComplete)) {
    sendChat1v1.onComplete(sendChat1v1.dataset);
    sendChat1v1.onComplete = null;
}
sendChat1v1.busy = false;</script3>
    </taskSetItem>
    <taskSetItem name="showChatList">
      <script1>eio.appendString16(g5.token);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT TOP (30) derivedtbl_2.chatUserId, derivedtbl_2.maxId, " +
    "      CONVERT(VARCHAR(50), dbo.chat.regDatetime, 120) as regDatetime, dbo.chat.[content], dbo.chat.photo1, dbo.userInfo.nickName,  " +
    "      dbo.userInfo.userName, dbo.userInfo.photo " +
    "FROM (SELECT chatUserId, MAX(id) AS maxId " +
    "        FROM (SELECT CASE WHEN sendUserId = " + myUserId + " THEN recvUserId WHEN recvUserId = " + myUserId + " " +
    "                       THEN sendUserId ELSE - 1 END AS chatUserId, id " +                 
    "                FROM dbo.chat AS t1 " +
    "                WHERE (sendUserId = " + myUserId + ") OR " +
    "                      (recvUserId = " + myUserId + ")) AS derivedtbl_1 " +
    "        GROUP BY chatUserId) AS derivedtbl_2 INNER JOIN " +
    "      dbo.chat ON derivedtbl_2.maxId = dbo.chat.id INNER JOIN " +
    "      dbo.userInfo ON derivedtbl_2.chatUserId = dbo.userInfo.id " +
    "ORDER BY derivedtbl_2.maxId DESC     ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"chatUserId,maxId,regDatetime,content,photo1,nickName,userName,photo", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showChatList.dataset = eio.readDataSet();

var root = ee.getControl("layoutyitem10");
var y = 0;
var c,s,hd;
var rect;
rect = eb.getDivRect(root);
var rw = rect.w;
while (root.eeChildren.length>0) ee.removeControl(root.eeChildren[0]);
for (var i = 0; i < showChatList.dataset.rowCount; i++) {
    hd = "clist_" + i;
    c = createPanel(root, hd+"panel4", "", 0, y, rw, 75);
    y += 75;
    c.style.cursor="pointer";
    c.userName = showChatList.dataset.getData(6,i);
    c.nickName = showChatList.dataset.getData(5,i);
    c.chatUserId = showChatList.dataset.getData(0,i);
    ee.setOnClick(c,function(sender,event) {
        g5.p3.p3.c_chat.c_chatRoot.start(sender.chatUserId);
        ee.setText(ee.getControl("panel118"), 
            "<b>" + sender.nickName + "</b><br>" +
            "<font color='#808080' style='font-size:9pt'>@" + sender.userName + "</font>"
            );
    });
    c = createPanel($g(hd+"panel4"), hd+"panel2", "C0C0C0", 0, 75, 439, 1);
    eb.setDock(c,"fill","bottom");
    
    //avata
    c = createPanel($g(hd+"panel4"), hd+"panel13", "", 15, 15, 45, 45);
    c.v_timer = null;
    if (showChatList.dataset.getData(7,i) == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + showChatList.dataset.getData(7,i),"trim","","")
    }  
    c.style.cursor="pointer";
    c.style.borderRadius = "50%";
    ee.setOnClick(c,function(sender,event) {
        showUserPage.userName=sender.parentNode.userName;
        showUserPage();
        if (sender.v_timer!=null) {
            clearTimeout(sender.v_timer);
            sender.v_timer = null;
        }
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
    });
    
    c = createPanel($g(hd+"panel4"), hd+"panel3", "", 70, 15, 190, 29);
    addText(c, "<b>" + showChatList.dataset.getData(5,i) + "</b>" +
        "<font color = '#A0A0A0'> @" + showChatList.dataset.getData(6,i) + "</font>",
        "left", "middle", "微软雅黑", 12, "000000", "normal");
    //eb.setFontSizeAuto(c, 24);
    c = createPanel($g(hd+"panel4"), hd+"panel5", "", 70, 37, 190, 29);
    s = showChatList.dataset.getData(3,i);
    if (s.length > 12) {
        s = s.substr(0,12) + "...";
    } 
    addText(c, s, "left", "middle", "微软雅黑", 12, "000000", "normal");
    //eb.setFontSizeAuto(c, 24);
    c = createPanel($g(hd+"panel4"), hd+"panel6", "", 260, 15, 125, 30);
    s = showChatList.dataset.getData(2,i);
    s = parseInt(s.substr(5,2)) + "月" + parseInt(s.substr(8,2)) + "日";
    addText(c, s, "left", "middle", "微软雅黑", 12, "808080", "normal");
    //eb.setFontSizeAuto(c, 28);
}
eb.processDock();
g5.resizeV(root,3);
if (showChatList.defaultUserId!=null) {
    g5.p3.p3.c_chat.c_chatRoot.start(showChatList.defaultUserId);
    ee.setText(ee.getControl("panel118"), 
        "<b>" + showChatList.defaultUserNickName + "</b><br>" +
        "<font color='#808080' style='font-size:9pt'>@" + showChatList.defaultUserName + "</font>"
        );
    showChatList.defaultUserId = null;
} else if (showChatList.dataset.rowCount>0) {
    g5.p3.p3.c_chat.c_chatRoot.start(root.eeChildren[0].chatUserId);
    ee.setText(ee.getControl("panel118"), 
        "<b>" + root.eeChildren[0].nickName + "</b><br>" +
        "<font color='#808080' style='font-size:9pt'>@" + root.eeChildren[0].userName + "</font>"
        );
}
]]></script3>
    </taskSetItem>
    <taskSetItem name="delTwitter">
      <script1>//busy, contentId, onComplete
if (delTwitter.busy) return;
delTwitter.busy = true;
eio.appendString16(g5.token);
eio.appendString16(delTwitter.contentId);






</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能删除发言内容，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec twitterDel " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    delTwitter.busy = false;
    return;
}

if (delTwitter.onComplete) delTwitter.onComplete();
delTwitter.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="blockUser">
      <script1>//userId, isBlock(0/1)
eio.appendString16(g5.token);
eio.appendString16(blockUser.userId + "");
eio.appendString16(blockUser.isBlock + "");






</script1>
      <script2><![CDATA[var token = eio.readString16();
var blockUserId = parseInt(eio.readString16());
var isBlock = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能删除发言内容，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec blockUser " +
    myUserId + 
    "," + blockUserId +
    "," + isBlock;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    return;
}
if (!eb.isEmpty(blockUser.onComplete)) {
    blockUser.onComplete();
    blockUser.onComplete=null;
}

</script3>
    </taskSetItem>
    <taskSetItem name="followV2">
      <script1>if (followV2.follow) {
    eio.appendString16("T");
} else {
    eio.appendString16("F");
}
eio.appendString16(g5.token);
eio.appendString16(followV2.userId);



</script1>
      <script2><![CDATA[var follow = eio.readString16();
var token = eio.readString16();
var userId = parseInt(eio.readString16());
var sql,sqlResult; 

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
}
var myUserId = db.getString(sqlResult,"id");
if (myUserId == userId) {
    eio.appendString8("F");
    eio.appendString8("关注自己就没意思了吧？");
    return;
}
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能关注和取消关注账号，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec followUser " + myUserId + "," + userId + "," + (follow=="T"?"1":"0");
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}

eio.appendString8("T");
eio.appendString8(follow);
]]></script2>
      <script3>if (eio.readString8() != "T") {
    g5.alert1("提示", eio.readString8());
    return;
}
</script3>
    </taskSetItem>
    <taskSetItem name="showForwardList">
      <script1>eio.appendString16(g5.token);
eio.appendString16(showForwardList.contentId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   dbo.tContent.userId, dbo.userInfo.userName, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, " + 
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, CASE WHEN dbo.follow.userId IS NULL  " +
    "                THEN 0 ELSE 1 END AS isFollow " +
    "FROM      dbo.tContent LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.follow.userId = "+myUserId+" AND dbo.tContent.userId = dbo.follow.followId LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.tContent.userId = dbo.userInfo.id " +
    "WHERE   (dbo.tContent.uplinkId = "+contentId+") AND (dbo.tContent.uplinkType = 'F' or dbo.tContent.uplinkType = 'L') " +
    "GROUP BY dbo.tContent.userId, dbo.userInfo.userName, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, " + 
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.follow.userId ";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"userId,userName,nickName,note,photo,titleBg,homePage,isFollow", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showForwardList.data = eio.readDataSet();

var root = ee.getControl("layoutyitem2");
if (eb.isEmpty(showForwardList.items)) showForwardList.items = new Array();
while (showForwardList.items.length>0) {
    ee.removeControl(showForwardList.items[0]);
    showForwardList.items.splice(0,1);
}
ee.setText(ee.getControl("panel123"), "转发者");
var cy = 0;
var itemWidth = eb.getDivRect(root).w;
for (var i=0; i<showForwardList.data.rowCount; i++) {
    var item = createPanel(root, "fwdl_" + showForwardList.data.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadUserRecord(item, showForwardList.data, i);
    item.v_mode = "";
    g5.renderUserBar(item);
    cy += eb.getDivRect(item).h;
    showForwardList.items.push(item);
}

eb.processDock();
ee.setVisible(ee.getControl("panel112"),true);
ee.showAni(ee.getControl("panel10"),0);
]]></script3>
    </taskSetItem>
    <taskSetItem name="showFollowList">
      <script1>//params: userName
eio.appendString16(g5.token);
eio.appendString16(showFollowList.userName);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userName = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   TOP (100) PERCENT dbo.userInfo.*, 1 AS isFollow " +
    "FROM      dbo.follow INNER JOIN " +
    "                dbo.userInfo ON dbo.follow.followId = dbo.userInfo.id INNER JOIN " +
    "                dbo.userInfo AS userInfo_1 ON dbo.follow.userId = userInfo_1.id " +
    "WHERE   (userInfo_1.userName = '" + db.encode(userName) + "') " +
    "ORDER BY dbo.follow.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showForwardList.data = eio.readDataSet();

var root = ee.getControl("layoutyitem2");
if (eb.isEmpty(showForwardList.items)) showForwardList.items = new Array();
while (showForwardList.items.length>0) {
    ee.removeControl(showForwardList.items[0]);
    showForwardList.items.splice(0,1);
}
ee.setText(ee.getControl("panel123"), "关注的用户");
var cy = 0;
var itemWidth = eb.getDivRect(root).w;
for (var i=0; i<showForwardList.data.rowCount; i++) {
    if (showFollowList.userName == showForwardList.data.getData(4,i)) continue;
    var item = createPanel(root, "flol_" + showForwardList.data.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadUserRecord(item, showForwardList.data, i);
    item.v_mode = "";
    g5.renderUserBar(item);
    cy += eb.getDivRect(item).h;
    showForwardList.items.push(item);
}

eb.processDock();
ee.setVisible(ee.getControl("panel112"),true);
ee.showAni(ee.getControl("panel10"),0);
]]></script3>
    </taskSetItem>
    <taskSetItem name="showFansList">
      <script1>//params: userName
eio.appendString16(g5.token);
eio.appendString16(showFansList.userName);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var userName = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   TOP (100) PERCENT userInfo_1.id AS userId, userInfo_1.userName, userInfo_1.nickName, userInfo_1.note, " + 
    "                userInfo_1.photo, userInfo_1.titleBg, userInfo_1.homePage, CASE WHEN follow_1.userId IS NULL " + 
    "                THEN 0 ELSE 1 END AS isFollow " +
    "FROM      dbo.follow INNER JOIN " +
    "                dbo.userInfo ON dbo.follow.followId = dbo.userInfo.id INNER JOIN " +
    "                dbo.userInfo AS userInfo_1 ON dbo.follow.userId = userInfo_1.id LEFT OUTER JOIN " +
    "                dbo.follow AS follow_1 ON dbo.follow.userId = follow_1.followId AND follow_1.userId = "+myUserId+" " +
    "WHERE   (dbo.userInfo.userName = '" + db.encode(userName) + "') " +
    "ORDER BY dbo.follow.id DESC ";


sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"userId,status,regDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,isFollow", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showForwardList.data = eio.readDataSet();

var root = ee.getControl("layoutyitem2");
if (eb.isEmpty(showForwardList.items)) showForwardList.items = new Array();
while (showForwardList.items.length>0) {
    ee.removeControl(showForwardList.items[0]);
    showForwardList.items.splice(0,1);
}
ee.setText(ee.getControl("panel123"), "拥有的粉丝");
var cy = 0;
var itemWidth = eb.getDivRect(root).w;
for (var i=0; i<showForwardList.data.rowCount; i++) {
    if (showFansList.userName == showForwardList.data.getData(4,i)) continue;
    var item = createPanel(root, "fanl_" + showForwardList.data.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadUserRecord(item, showForwardList.data, i);
    item.v_mode = "";
    g5.renderUserBar(item);
    cy += eb.getDivRect(item).h;
    showForwardList.items.push(item);
}

eb.processDock();
ee.setVisible(ee.getControl("panel112"),true);
ee.showAni(ee.getControl("panel10"),0);
]]></script3>
    </taskSetItem>
    <taskSetItem name="showLikeList">
      <script1>//params: contentId
eio.appendString16(g5.token);
eio.appendString16(showLikeList.contentId);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "SELECT   dbo.likeList.userId, dbo.userInfo.userName, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo, " +
    "                dbo.userInfo.titleBg, dbo.userInfo.homePage, CASE WHEN follow.userId IS NULL THEN 0 ELSE 1 END AS isFollow " +
    "FROM      dbo.likeList INNER JOIN " +
    "                dbo.userInfo ON dbo.likeList.userId = dbo.userInfo.id LEFT OUTER JOIN " +
    "                dbo.follow ON dbo.userInfo.id = dbo.follow.followId AND dbo.follow.userId = "+myUserId+" " +
    "WHERE   (dbo.likeList.contentId = " + contentId + ") ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"userId,userName,nickName,note,photo,titleBg,homePage,isFollow", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showForwardList.data = eio.readDataSet();

var root = ee.getControl("layoutyitem2");
if (eb.isEmpty(showForwardList.items)) showForwardList.items = new Array();
while (showForwardList.items.length>0) {
    ee.removeControl(showForwardList.items[0]);
    showForwardList.items.splice(0,1);
}
ee.setText(ee.getControl("panel123"), "点赞的用户");
var cy = 0;
var itemWidth = eb.getDivRect(root).w;
for (var i=0; i<showForwardList.data.rowCount; i++) {
    var item = createPanel(root, "likl_" + showForwardList.data.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadUserRecord(item, showForwardList.data, i);
    item.v_mode = "";
    g5.renderUserBar(item);
    cy += eb.getDivRect(item).h;
    showForwardList.items.push(item);
}

eb.processDock();
ee.setVisible(ee.getControl("panel112"),true);
ee.showAni(ee.getControl("panel10"),0);
]]></script3>
    </taskSetItem>
    <taskSetItem name="showBlockList">
      <script1>//userId
eio.appendString16(g5.token);</script1>
      <script2><![CDATA[var token = eio.readString16();
var sql,sqlResult;  

sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql = 
    "SELECT   dbo.userInfo.id, dbo.userInfo.status, dbo.userInfo.regDatetime, dbo.userInfo.userName, dbo.userInfo.nickName, " +
    "                dbo.userInfo.note, dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage " +
    "FROM      dbo.blockList INNER JOIN " +
    "                dbo.userInfo ON dbo.blockList.blockUserId = dbo.userInfo.id " +
    "WHERE blockList.userId = " + myUserId + " " +
    "order by blockList.regDatetime DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,userName,nickName,note,photo,titleBg,homePage,isFollow", 0, 99999);




]]></script2>
      <script3><![CDATA[if (eio.readString8()!="T") {
    g5.alert1("提示", eio.readString8());
    return;
}
showBlockList.data = eio.readDataSet();

var root = ee.getControl("panel212");
if (eb.isEmpty(showBlockList.items)) showBlockList.items = new Array();
while (showBlockList.items.length>0) {
    ee.removeControl(showBlockList.items[0]);
    showBlockList.items.splice(0,1);
}
var cy = 0;
var itemWidth = eb.getDivRect(root).w;
for (var i=0; i<showBlockList.data.rowCount; i++) {
    var item = createPanel(root, "blkl_" + showBlockList.data.getData(0,i), "", 0, cy, itemWidth, 5);
    g5.loadUserRecord(item, showBlockList.data, i);
    item.v_mode = "x";
    g5.renderUserBar(item);
    cy += eb.getDivRect(item).h;
    showBlockList.items.push(item);
}

eb.processDock();
g5.changeP3(6);

]]></script3>
    </taskSetItem>
    <taskSetItem name="likeContent">
      <script1>//contentId,onComplete
likeContent.busy = true;
eio.appendString16(g5.token);
eio.appendString16(likeContent.contentId);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能点赞，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec twitterLike " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    likeContent.busy = false;
    return;
}
likeContent.onComplete();
likeContent.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="unlikeContent">
      <script1>//contentId,onComplete
unlikeContent.busy = true;
eio.appendString16(g5.token);
eio.appendString16(unlikeContent.contentId);







</script1>
      <script2><![CDATA[var token = eio.readString16();
var contentId = parseInt(eio.readString16());
var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName = db.getString(sqlResult,"userName");
var userId = db.getString(sqlResult,"id");
if (db.getString(sqlResult,"userName")=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能点踩，您如果需要使用这个功能请注册正式用户。");
    return;
}

sql = "exec twitterUnlike " +
    userId + 
    "," + contentId;
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}                      

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    unlikeContent.busy = false;
    return;
}
unlikeContent.onComplete();
unlikeContent.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="changePassword">
      <script1>//old,new,onComplete
eio.appendString16(g5.token);
eio.appendString16(changePassword.old);
eio.appendString16(changePassword.new);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var p1 = eio.readString16();
var p2 = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对密码进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "select * from userInfo where userName = '"+db.encode(userName)+"' and password = '"+es.getMd5(p1)+"'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
if (!db.read(sqlResult)) {
    eio.appendString8("F");
    eio.appendString8("对不起，您输入的原密码不正确，密码修改失败");
    es.logCommon("用户修改密码失败,passwordWrong=" + p1);
    return;
} 

sql = "update userInfo set password = '" + es.getMd5(p2) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    return;
}
changePassword.onComplete();
</script3>
    </taskSetItem>
    <taskSetItem name="changeNickName">
      <script1>//nickName,onComplete
changeNickName.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeNickName.nickName);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var nickName = eio.readString16();
if ((nickName.length<3) || (nickName.length>50)) {
    eio.appendString8("F");
    eio.appendString8("用户名长度非法");
    return;
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对用户名进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set nickName = '" + db.encode(nickName) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    changeNickName.busy = false;
    return;
}
changeNickName.onComplete();
changeNickName.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeMobile">
      <script1>//mobile,onComplete
changeMobile.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeMobile.mobile);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var mobile = eio.readString16();
if (mobile.length>0) {
    if (!/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/.test(mobile)) {
        eio.appendString8("F");
        eio.appendString8("您输入的手机号有误");
        return;
    }
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set mobile = '" + db.encode(mobile) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法修改手机号码",eio.readString8());
    changeMobile.busy = false;
    return;
}
changeMobile.onComplete();
changeMobile.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="changeEmail">
      <script1>//email,onComplete
changeEmail.busy = true;
eio.appendString16(g5.token);
eio.appendString16(changeEmail.email);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var email = eio.readString16();
if (email.length>0) {
    if (!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(email)) {
        eio.appendString8("F");
        eio.appendString8("您输入的电子邮件地址有误");
        return;
    }
}

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var userName =db.getString(sqlResult,"userName");
if (userName=="guest") {
    eio.appendString8("F");
    eio.appendString8("游客不能对本内容进行修改，如需要更多的功能请注册正式用户。");
    return;
}

sql = "update userInfo set email = '" + db.encode(email) + "'" +
    " where userName = '" + db.encode(userName) + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    












]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("修改电子邮箱失败",eio.readString8());
    changeEmail.busy = false;
    return;
}
changeEmail.onComplete();
changeEmail.busy = false;

</script3>
    </taskSetItem>
    <taskSetItem name="chatGet">
      <script1>//roomId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGet.busy) return;
chatGet.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGet.roomId+"");
eio.appendString16(chatGet.chatId+"");
eio.appendString16(chatGet.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chatRoomData.id>" + chatId;
        top = "";
    }
} else {
    where = "and chatRoomData.id<" + chatId;
}

sql =
    "SELECT  " + top + " dbo.chatRoomData.id, CONVERT(VARCHAR(50), dbo.chatRoomData.regDatetime, 120) AS regDatetime, " +
    "                dbo.chatRoomData.status AS chatStatus, dbo.chatRoomData.roomId, dbo.chatRoomData.userId,  " +
    "                dbo.chatRoomData.msgContent, dbo.userInfo.status, dbo.userInfo.regDatetime AS userRegDatetime,  " +
    "                dbo.userInfo.lastAccessTime, dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note,  " +
    "                dbo.userInfo.photo, dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount,  " +
    "                CASE WHEN chatRoomVip.id IS NULL THEN 0 ELSE 1 END AS isAdmin, CASE WHEN chatRoomVip_1.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlack, CASE WHEN chatRoomBlockTime.id IS NULL  " +
    "                THEN 0 ELSE 1 END AS isBlockTime " +
    "FROM      dbo.chatRoomData LEFT OUTER JOIN " +
    "                dbo.chatRoomBlockTime ON dbo.chatRoomData.roomId = dbo.chatRoomBlockTime.roomId AND  " +
    "                dbo.chatRoomData.userId = dbo.chatRoomBlockTime.userId AND dbo.chatRoomBlockTime.endTime > getUTCDate()  " +
    "                LEFT OUTER JOIN " +
    "                dbo.chatRoomVip AS chatRoomVip_1 ON dbo.chatRoomData.roomId = chatRoomVip_1.chatRoomId AND  " +
    "                dbo.chatRoomData.userId = chatRoomVip_1.userId AND chatRoomVip_1.status = 'BLK' LEFT OUTER JOIN " +
    "                dbo.chatRoomVip ON dbo.chatRoomData.roomId = dbo.chatRoomVip.chatRoomId AND  " +
    "                dbo.chatRoomData.userId = dbo.chatRoomVip.userId AND dbo.chatRoomVip.status = 'ADM' LEFT OUTER JOIN " +
    "                dbo.userInfo ON dbo.chatRoomData.userId = dbo.userInfo.id " +
    "WHERE   dbo.chatRoomData.roomId = " + roomId + " " + where + " " +
    "ORDER BY dbo.chatRoomData.id DESC ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,regDatetime,chatStatus,roomId,msgContent,isAdmin,isBlack,isBlockTime," +
    "userId,status,userRegDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGet.busy = false;
    return;
}

chatGet.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGet.onComplete)) {
    chatGet.onComplete(chatGet.dataset);
    chatGet.onComplete = null;
}
chatGet.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="chatGetPv">
      <script1>//roomId, chatId, isNew(0,1), onComplete(dataset)
//dataset
if (chatGetPv.busy) return;
chatGetPv.busy = true;
eio.appendString16(g5.token);
eio.appendString16(chatGetPv.roomId+"");
eio.appendString16(chatGetPv.chatId+"");
eio.appendString16(chatGetPv.isNew+"");  
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());
var isNew = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

var where = "";
var top = "TOP (30)";
if (isNew==1) {
    if (chatId!=0) {
        where = "and chatRoomData.id>" + chatId;
        top = "";
    }
} else {
    where = "and chatRoomData.id<" + chatId;
}

sql =
    "SELECT   " + top + " dbo.chatRoomData.id, CONVERT(VARCHAR(50), dbo.chatRoomData.regDatetime, 120)  \
                    AS regDatetime, dbo.chatRoomData.status AS chatStatus, dbo.chatRoomData.roomId, dbo.chatRoomData.userId, dbo.chatRoomData.msgContent,  \
                    dbo.userInfo.status, dbo.userInfo.regDatetime AS userRegDatetime, dbo.userInfo.lastAccessTime,  \
                    dbo.userInfo.userName, dbo.userInfo.mobile, dbo.userInfo.nickName, dbo.userInfo.note, dbo.userInfo.photo,  \
                    dbo.userInfo.titleBg, dbo.userInfo.homePage, dbo.userInfo.followCount, dbo.userInfo.fansCount \
    FROM      dbo.chatRoomData LEFT OUTER JOIN \
                    dbo.userInfo ON dbo.chatRoomData.userId = dbo.userInfo.id \
    WHERE   dbo.chatRoomData.roomId = " + roomId + " " + where + " \
    ORDER BY dbo.chatRoomData.id DESC; ";

//es.logWarning(sql);

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");
eio.appendDataSet(sqlResult,"id,regDatetime,chatStatus,roomId,msgContent," +
    "userId,status,userRegDatetime,lastAccessTime,userName,mobile,nickName,note,photo,titleBg,homePage,followCount,fansCount,isFollow,isBlock1,isBlock2", 0, 99999);
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("提示", eio.readString8());
    chatGetPv.busy = false;
    return;
}

chatGetPv.dataset = eio.readDataSet();
if (!eb.isEmpty(chatGetPv.onComplete)) {
    chatGetPv.onComplete(chatGetPv.dataset);
    chatGetPv.onComplete = null;
}
chatGetPv.busy = false;




</script3>
    </taskSetItem>
    <taskSetItem name="chatSend">
      <script1>//roomId, msgContent, onComplete()
//dataset
eio.appendString16(g5.token);
eio.appendString16(chatSend.roomId+"");
eio.appendString16(chatSend.msgContent);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var roomId = parseInt(eio.readString16());
var msgContent = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = db.getString(sqlResult,"id");

sql =
    "exec [chatRoomPostMessage] " +
    roomId + "," +
    myUserId + "," +
    "'" + db.encode(msgContent) + "';";
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");


]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法发送聊天内容", eio.readString8());
    return;
}

if (!eb.isEmpty(chatSend.onComplete)) {
    chatSend.onComplete();
    chatSend.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvRequest">
      <script1>//chatRoomId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvRequest.chatRoomId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomRequest " +
    chatRoomId + "," +
    myUserId;
    
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法发送请求", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvRequest.onComplete)) {
    chatPrvRequest.onComplete();
    chatPrvRequest.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvPermit">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvPermit.chatRoomId+"");
eio.appendString16(chatPrvPermit.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomPermit " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法允许用户加入", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvPermit.onComplete)) {
    chatPrvPermit.onComplete();
    chatPrvPermit.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvReject">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvReject.chatRoomId+"");
eio.appendString16(chatPrvReject.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomReject " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("拒绝用户失败", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvReject.onComplete)) {
    chatPrvReject.onComplete();
    chatPrvReject.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatPrvDelete">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatPrvDelete.chatRoomId+"");
eio.appendString16(chatPrvDelete.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec joinPrvChatRoomDelete " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法移出用户", eio.readString8());
    return;
}

if (!eb.isEmpty(chatPrvDelete.onComplete)) {
    chatPrvDelete.onComplete();
    chatPrvDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomRecdDelete">
      <script1>//chatRoomId, chatId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomRecdDelete.chatRoomId+"");
eio.appendString16(chatRoomRecdDelete.chatId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomRecdDelete " +
    myUserId + "," +
    chatRoomId + "," +
    chatId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法删除聊天记录", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomRecdDelete.onComplete)) {
    chatRoomRecdDelete.onComplete();
    chatRoomRecdDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomRecdUndel">
      <script1>//chatRoomId, chatId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomRecdUndel.chatRoomId+"");
eio.appendString16(chatRoomRecdUndel.chatId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var chatId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomRecdUndel " +
    myUserId + "," +
    chatRoomId + "," +
    chatId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法恢复聊天记录", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomRecdUndel.onComplete)) {
    chatRoomRecdUndel.onComplete();
    chatRoomRecdUndel.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomAdmin">
      <script1>//chatRoomId, userId, operation(ADD/DEL), onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomAdmin.operation);
eio.appendString16(chatRoomAdmin.chatRoomId+"");
eio.appendString16(chatRoomAdmin.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "ADD") {
    operation = "chatRoomAdminAdd";
} else {
    operation = "chatRoomAdminDel";
}

sql =
    "exec " + operation + " " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法操作聊天室管理员", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomAdmin.onComplete)) {
    chatRoomAdmin.onComplete();
    chatRoomAdmin.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlack">
      <script1>//chatRoomId, userId, operation(ADD/DEL), onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlack.operation);
eio.appendString16(chatRoomBlack.chatRoomId+"");
eio.appendString16(chatRoomBlack.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "ADD") {
    operation = "chatRoomBlackAdd";
} else {
    operation = "chatRoomBlackDel";
}

sql =
    "exec " + operation + " " +
    myUserId + "," +
    chatRoomId + "," +
    userId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法操作黑名单", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlack.onComplete)) {
    chatRoomBlack.onComplete();
    chatRoomBlack.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlockTime">
      <script1>//chatRoomId, userId, seconds, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlockTime.seconds+"");
eio.appendString16(chatRoomBlockTime.chatRoomId+"");
eio.appendString16(chatRoomBlockTime.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var seconds = parseInt(eio.readString16());
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomBlockSeconds " +
    myUserId + "," +
    chatRoomId + "," +
    userId + "," +
    seconds + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法屏蔽用户", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlockTime.onComplete)) {
    chatRoomBlockTime.onComplete();
    chatRoomBlockTime.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="chatRoomBlockTimeDelete">
      <script1>//chatRoomId, userId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(chatRoomBlockTimeDelete.chatRoomId+"");
eio.appendString16(chatRoomBlockTimeDelete.userId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var chatRoomId = parseInt(eio.readString16());
var userId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec chatRoomBlockDelete " +
    myUserId + "," +
    chatRoomId + "," +
    userId + "; ";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8(db.getString(sqlResult,"errorString"));
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("取消屏蔽用户失败", eio.readString8());
    return;
}

if (!eb.isEmpty(chatRoomBlockTimeDelete.onComplete)) {
    chatRoomBlockTimeDelete.onComplete();
    chatRoomBlockTimeDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="setChatRoomVideo">
      <script1>//videoUrl, onComplete
if (setChatRoomVideo.busy) return;
setChatRoomVideo.busy = true;
eio.appendString16(g5.token);
eio.appendString16(setChatRoomVideo.videoUrl);

</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoUrl = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserId = db.getString(sqlResult,"id");

sql = "update userInfo set chatRoomVideo = '" + db.encode(videoUrl) + "' " +
    " where id = '" + myUserId + "'";
if (!db.executeNoneQuery("DB", sql)) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
} else {
    eio.appendString8("T");
}    
]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法设置聊天室推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(setChatRoomVideo.onComplete)) {
    setChatRoomVideo.onComplete();
    setChatRoomVideo.onComplete = null;
}
setChatRoomVideo.busy = false;
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdAppend">
      <script1>//videoUrl, note, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdAppend.videoUrl);
eio.appendString16(hostRecomdAppend.note);
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoUrl = eio.readString16();
var note = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdAppend " +
    myUserId + "," +
    "'" + db.encode(videoUrl) + "'," +
    "'" + db.encode(note) + "';";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法添加房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdAppend.onComplete)) {
    hostRecomdAppend.onComplete();
    hostRecomdAppend.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdDelete">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdDelete.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdDelete " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法删除房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdDelete.onComplete)) {
    hostRecomdDelete.onComplete();
    hostRecomdDelete.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdMoveUp">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdMoveUp.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdMoveUp " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法向上移动房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdMoveUp.onComplete)) {
    hostRecomdMoveUp.onComplete();
    hostRecomdMoveUp.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="hostRecomdMoveDown">
      <script1>//videoId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(hostRecomdMoveDown.videoId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var videoId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec hostRecomdMoveDown " +
    myUserId + "," +
    videoId + ";";

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法向下移动房主推荐视频", eio.readString8());
    return;
}

if (!eb.isEmpty(hostRecomdMoveDown.onComplete)) {
    hostRecomdMoveDown.onComplete();
    hostRecomdMoveDown.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="setBookMark">
      <script1>//operation(add/del), contentId, onComplete()
eio.appendString16(g5.token);
eio.appendString16(setBookMark.operation);
eio.appendString16(setBookMark.contentId+"");
</script1>
      <script2><![CDATA[var token = eio.readString16();
var operation = eio.readString16();
var contentId = parseInt(eio.readString16());

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

if (operation == "add") {
    sql =
        "exec bookMarkAdd " +
        myUserId + "," +
        contentId + "; ";
} else if (operation == "del") {
    sql =
        "exec bookMarkDel " +
        myUserId + "," +
        contentId + "; ";
}

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "errorCode")!="0") {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
eio.appendString8("T");

]]></script2>
      <script3>if (eio.readString8() == "F") {
    g5.alert1("无法设置书签", eio.readString8());
    return;
}

if (!eb.isEmpty(setBookMark.onComplete)) {
    setBookMark.onComplete();
    setBookMark.onComplete = null;
}
</script3>
    </taskSetItem>
    <taskSetItem name="getPromptCount">
      <script1>//onComplete()
eio.appendString16(g5.token);
if (eb.isEmpty(getPromptCount.timer)) {
    getPromptCount.timer = setInterval(function() {
        getPromptCount();
    }, 50000);
}</script1>
      <script2><![CDATA[var token = eio.readString16();

var sql,sqlResult;  
sql = "exec getUserInfoBySession '" + db.encode(token) + "'";
sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
if (db.getString(sqlResult, "sessionId").length < 5) {
    eio.appendString8("F");
    eio.appendString8("上次登录时间太久或者您更换了系统");
    es.logCommon("用户token登录失败,token=" + token);
    return;
} 
var myUserName = db.getString(sqlResult,"userName");
var myUserId = parseInt(db.getString(sqlResult,"id"));

sql =
    "exec getPromptCount " +
    myUserId;

sqlResult = db.executeQuery("DB", sql);
if (sqlResult == null) {
    eio.appendString8("F");
    eio.appendString8("系统繁忙请稍后再试");
    return;
}
db.read(sqlResult);
eio.appendString8("T");
eio.appendString16(db.getString(sqlResult,"c"));

]]></script2>
      <script3>if (eio.readString8() == "F") {
    return;
}

getPromptCount.count = parseInt(eio.readString16());
g5.p2.p12.showAlert(getPromptCount.count);

if (!eb.isEmpty(getPromptCount.onComplete)) {
    getPromptCount.onComplete();
    getPromptCount.onComplete = null;
}
</script3>
    </taskSetItem>
  </taskSet>
  <gridLines count="0" />
  <g5Items count="84">
    <item name="currentPageIndex" type="10">
      <varValue>-1;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="imgUrl" type="10">
      <varValue>"/incoming/";</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="newUser" type="10">
      <varValue>false;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p1" type="10">
      <varValue>ee.getControl("panel136");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p2" type="10">
      <varValue>ee.getControl("panel135");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p2PersonSub" type="10">
      <varValue>ee.getControl("panel279");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p3" type="10">
      <varValue>ee.getControl("panel137");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="p4" type="10">
      <varValue>ee.getControl("panel24");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popup1" type="10">
      <varValue>ee.getControl("panel40");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popBlack" type="10">
      <varValue>ee.getControl("panel112");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="popBlack2" type="10">
      <varValue>ee.getControl("panel48");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pLine1" type="10">
      <varValue>ee.getControl("panel242");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pLine2" type="10">
      <varValue>ee.getControl("panel245");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="pageMode" type="10">
      <varValue>0;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="mainDiv" type="10">
      <varValue>ee.getControl("panel134");</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="lastWidth" type="10">
      <varValue>0;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="lastScrollY" type="10">
      <varValue>g5.mainDiv.scrollTop;</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="itemsPage2" type="10">
      <varValue>new Array();</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="player" type="10">
      <varValue>{
    currentPlayer: null,
    currentDiv: null,
    forceMode: false,
    stop: function() {
        if (this.currentPlayer!=null) {
            //this.currentPlayer.stopVideo();
            this.currentPlayer.pauseVideo();
            this.currentPlayer = null;
        }
    },
    clear: function() {
        if (this.currentPlayer!=null) {
            this.currentDiv.innerHTML = "";
            this.currentPlayer = null;    
        }
    }
}</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="UserInfo" type="10">
      <varValue>function() {
    this.size = 17;
    this.loadFromDataset = function(ds, x, idx) {
        this.id = ds.getData(x+0,idx);
        this.status = ds.getData(x+1,idx);    
        this.regDatetime = ds.getData(x+2,idx);    
        this.lastAccessTime = ds.getData(x+3,idx);    
        this.userName = ds.getData(x+4,idx);    
        this.mobile = ds.getData(x+5,idx);    
        this.nickName = ds.getData(x+6,idx);    
        this.note = ds.getData(x+7,idx);    
        this.photo = ds.getData(x+8,idx);    
        this.titleBg = ds.getData(x+9,idx);    
        this.homePage = ds.getData(x+10,idx);    
        this.followCount = ds.getData(x+11,idx);    
        this.fansCount = ds.getData(x+12,idx);
        this.follow = ds.getData(x+13,idx);
        this.block1 = ds.getData(x+14,idx); //屏蔽别人
        this.block2 = ds.getData(x+15,idx); //被别人屏蔽
        this.email = ds.getData(x+16,idx);
        this.isFollow = this.follow=="1";
        this.isBlock1 = this.block1=="1";
        this.isBlock2 = this.block2=="1";
    }
    this.setDataset = function(ds, x, idx) {
        ds.setData(x+0,idx,this.id);
        ds.setData(x+1,idx,this.status);    
        ds.setData(x+2,idx,this.regDatetime);    
        ds.setData(x+3,idx,this.lastAccessTime);    
        ds.setData(x+4,idx,this.userName);    
        ds.setData(x+5,idx,this.mobile);    
        ds.setData(x+6,idx,this.nickName);    
        ds.setData(x+7,idx,this.note);    
        ds.setData(x+8,idx,this.photo);    
        ds.setData(x+9,idx,this.titleBg);    
        ds.setData(x+10,idx,this.homePage);    
        ds.setData(x+11,idx,this.followCount);    
        ds.setData(x+12,idx,this.fansCount);
        ds.setData(x+13,idx,this.follow);
        ds.setData(x+14,idx,this.block1);
        ds.setData(x+15,idx,this.block2);
        ds.setData(x+16,idx,this.email);
    }
}

</varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="ContentInfo" type="10">
      <varValue><![CDATA[function() {
    this.size = 17;
    this.init = function() {
        if (this.photos.length<=0) {
            if (this.photo1.length>0) this.photos.push(this.photo1);
            if (this.photo2.length>0) this.photos.push(this.photo2);
            if (this.photo3.length>0) this.photos.push(this.photo3);
            if (this.photo4.length>0) this.photos.push(this.photo4);
        }
        this.reCount = parseInt(this.reCount=="" ? "0":this.reCount);
        this.fwCount = parseInt(this.fwCount=="" ? "0":this.fwCount);
        this.likeCount = parseInt(this.likeCount=="" ? "0":this.likeCount);
        this.unlikeCount = parseInt(this.unlikeCount=="" ? "0":this.unlikeCount);
        this.seconds = parseInt(this.seconds=="" ? "0":this.seconds);
        this.startTime = parseInt((new Date()).getTime()/1000)-this.seconds
    }
    this.loadFromDataset = function(ds, x, idx) {
        this.id = ds.getData(x+0,idx);    
        this.seconds = ds.getData(x+1,idx);    
        this.status = ds.getData(x+2,idx);    
        this.uplinkType = ds.getData(x+3,idx);    
        this.uplinkId = ds.getData(x+4,idx);    
        this.content = ds.getData(x+5,idx);    
        this.photo1 = ds.getData(x+6,idx);    
        this.photo2 = ds.getData(x+7,idx);    
        this.photo3 = ds.getData(x+8,idx);    
        this.photo4 = ds.getData(x+9,idx);    
        this.reCount = ds.getData(x+10,idx);    
        this.fwCount = ds.getData(x+11,idx);    
        this.likeCount = ds.getData(x+12,idx);
        this.unlikeCount = ds.getData(x+13,idx);
        this.isForward = ds.getData(x+14,idx)=="1";
        this.isLike = ds.getData(x+15,idx)=="1";
        this.isUnlike = ds.getData(x+16,idx)=="1";
        this.init();
    }
    this.loadExFromDataset = function (ds, x, idx) {
        this.exUserInfo = new g5.UserInfo();
        this.exUserInfo.loadFromDataset(ds, x, idx);
        x+=this.exUserInfo.size;
        this.exUplinkType = ds.getData(x+0, idx);
        this.exContentId = ds.getData(x+1, idx);
        this.exIsForward = ds.getData(x+2, idx)=="1";
        this.exIsLike = ds.getData(x+3, idx)=="1";
        this.exIsUnlike = ds.getData(x+4, idx)=="1";
    }
    this.setDataset = function(ds, x, idx) {
        ds.setData(x+0,idx,this.id);
        ds.setData(x+1,idx,this.seconds);    
        ds.setData(x+2,idx,this.status);    
        ds.setData(x+3,idx,this.uplinkType);    
        ds.setData(x+4,idx,this.uplinkId);    
        ds.setData(x+5,idx,this.content);    
        ds.setData(x+6,idx,this.photo1);    
        ds.setData(x+7,idx,this.photo2);    
        ds.setData(x+8,idx,this.photo3);    
        ds.setData(x+9,idx,this.photo4);    
        ds.setData(x+10,idx,this.reCount);    
        ds.setData(x+11,idx,this.fwCount);    
        ds.setData(x+12,idx,this.likeCount);    
        ds.setData(x+13,idx,this.unlikeCount);
        ds.setData(x+14,idx,this.isForward?"1":"0");
        ds.setData(x+15,idx,this.isLike?"1":"0");
        ds.setData(x+16,idx,this.isUnlike?"1":"0");
    }
    this.clone = function() {
        var r = new g5.ContentInfo();
        r.id = this.id;
        r.seconds = this.seconds;
        r.status = this.status;
        r.uplinkType = this.uplinkType;
        r.uplinkId = this.uplinkId;
        r.content = this.content;
        r.photo1 = this.photo1;
        r.photo2 = this.photo2;
        r.photo3 = this.photo3;
        r.photo4 = this.photo4;
        r.reCount = this.reCount;
        r.fwCount = this.fwCount;
        r.likeCount = this.likeCount;
        r.unlikeCount = this.unlikeCount;
        r.isForward = this.isForward;
        r.isLike = this.isLike;
        r.isUnlike = this.isUnlike;
        r.exUserInfo = this.exUserInfo;
        r.exUplinkType = this.exUplinkType;
        r.exContentId = this.exContentId;
        r.exIsForward = this.exIsForward;
        r.exIsLike = this.exIsLike;
        r.exIsUnlike = this.exIsUnlike;
        for (var i=0; i<this.photos.length; i++) r.photos.push(this.photos[i]);
        r.init();
        r.startTime = this.startTime;
        return r;
    }
    this.id = "0";
    this.seconds = 0;
    this.status = "";    
    this.uplinkType = "";    
    this.uplinkId = "0";
    this.content = "";
    this.photo1 = "";
    this.photo2 = "";
    this.photo3 = "";
    this.photo4 = "";
    this.reCount = 0;
    this.fwCount = 0;
    this.likeCount = 0;
    this.unlikeCount = 0;
    this.isForward = false;
    this.isLike = false;
    this.isUnlike = false;
    this.photos = new Array();
    this.exUserInfo = new g5.UserInfo();
    this.exUplinkType = "";
    this.exContentId = "0";
    this.exIsForward = false;
    this.exIsLike = false;
    this.exIsUnlike = false;
    this.init();
}
]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconArrowRight" type="10">
      <varValue><![CDATA["<g><path d=\"M17.207 11.293l-7.5-7.5c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L15.086 12l-6.793 6.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293l7.5-7.5c.39-.39.39-1.023 0-1.414z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconHomePage" type="10">
      <varValue><![CDATA["<g><path d=\"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconMail" type="10">
      <varValue><![CDATA["<g><path d=\"M19.25 3.018H4.75C3.233 3.018 2 4.252 2 5.77v12.495c0 1.518 1.233 2.753 2.75 2.753h14.5c1.517 0 2.75-1.235 2.75-2.753V5.77c0-1.518-1.233-2.752-2.75-2.752zm-14.5 1.5h14.5c.69 0 1.25.56 1.25 1.25v.714l-8.05 5.367c-.273.18-.626.182-.9-.002L3.5 6.482v-.714c0-.69.56-1.25 1.25-1.25zm14.5 14.998H4.75c-.69 0-1.25-.56-1.25-1.25V8.24l7.24 4.83c.383.256.822.384 1.26.384.44 0 .877-.128 1.26-.383l7.24-4.83v10.022c0 .69-.56 1.25-1.25 1.25z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconMark" type="10">
      <varValue><![CDATA["<g><path d=\"M19.9 23.5c-.157 0-.312-.05-.442-.144L12 17.928l-7.458 5.43c-.228.164-.53.19-.782.06-.25-.127-.41-.385-.41-.667V5.6c0-1.24 1.01-2.25 2.25-2.25h12.798c1.24 0 2.25 1.01 2.25 2.25v17.15c0 .282-.158.54-.41.668-.106.055-.223.082-.34.082zM12 16.25c.155 0 .31.048.44.144l6.71 4.883V5.6c0-.412-.337-.75-.75-.75H5.6c-.413 0-.75.338-.75.75v15.677l6.71-4.883c.13-.096.285-.144.44-.144z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconFace" type="10">
      <varValue><![CDATA["<g><path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path><path d=\"M12 17.115c-1.892 0-3.633-.95-4.656-2.544-.224-.348-.123-.81.226-1.035.348-.226.812-.124 1.036.226.747 1.162 2.016 1.855 3.395 1.855s2.648-.693 3.396-1.854c.224-.35.688-.45 1.036-.225.35.224.45.688.226 1.036-1.025 1.594-2.766 2.545-4.658 2.545z\"></path><circle cx=\"14.738\" cy=\"9.458\" r=\"1.478\"></circle><circle cx=\"9.262\" cy=\"9.458\" r=\"1.478\"></circle></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconConfig" type="10">
      <varValue><![CDATA["<g><path d=\"M12 8.21c-2.09 0-3.79 1.7-3.79 3.79s1.7 3.79 3.79 3.79 3.79-1.7 3.79-3.79-1.7-3.79-3.79-3.79zm0 6.08c-1.262 0-2.29-1.026-2.29-2.29S10.74 9.71 12 9.71s2.29 1.026 2.29 2.29-1.028 2.29-2.29 2.29z\">"+
"</path><path d=\"M12.36 22.375h-.722c-1.183 0-2.154-.888-2.262-2.064l-.014-.147c-.025-.287-.207-.533-.472-.644-.286-.12-.582-.065-.798.115l-.116.097c-.868.725-2.253.663-3.06-.14l-.51-.51c-.836-.84-.896-2.154-.14-3.06l.098-.118c.186-.222.23-.523.122-.787-.11-.272-.358-.454-.646-.48l-.15-.014c-1.18-.107-2.067-1.08-2.067-2.262v-.722c0-1.183.888-2.154 2.064-2.262l.156-.014c.285-.025.53-.207.642-.473.11-.27.065-"+
".573-.12-.795l-.094-.116c-.757-.908-.698-2.223.137-3.06l.512-.512c.804-.804 2.188-.865 3.06-.14l.116.098c.218.184.528.23.79.122.27-.112.452-.358.477-.643l.014-.153c.107-1.18 1.08-2.066 2.262-2.066h.722c1.183 0 2.154.888 2.262 2.064l.014.156c.025.285.206.53.472.64.277.117.58.062.794-.117l.12-.102c.867-.723 2.254-.662 3.06.14l.51.512c.836.838.896 2.153.14 3.06l-.1.118c-.188.22-.234.522-.123.788.112.27.36.45.646."+
"478l.152.014c1.18.107 2.067 1.08 2.067 2.262v.723c0 1.183-.888 2.154-2.064 2.262l-.155.014c-.284.024-.53.205-.64.47-.113.272-.067.574.117.795l.1.12c.756.905.696 2.22-.14 3.06l-.51.51c-.807.804-2.19.864-3.06.14l-.115-.096c-.217-.183-.53-.23-.79-.122-.273.114-.455.36-.48.646l-.014.15c-.107 1.173-1.08 2.06-2.262 2.06zm-3.773-4.42c.3 0 .593.06.87.175.79.328 1.324 1.054 1.4 1.896l.014.147c.037.4.367.7.77.7h.722c.4 0 .73-"+
".3.768-.7l.014-.148c.076-.842.61-1.567 1.392-1.892.793-.33 1.696-.182 2.333.35l.113.094c.178.148.366.18.493.18.206 0 .4-.08.546-.227l.51-.51c.284-.284.305-.73.048-1.038l-.1-.12c-.542-.65-.677-1.54-.352-2.323.326-.79 1.052-1.32 1.894-1.397l.155-.014c.397-.037.7-.367.7-.77v-.722c0-.4-.303-.73-.702-.768l-.152-.014c-.846-.078-1.57-.61-1.895-1.393-.326-.788-.19-1.678.353-2.327l.1-.118c.257-.31.236-.756-.048-1.04l-.51-.51c-"+
".146-.147-.34-.227-.546-.227-.127 0-.315.032-.492.18l-.12.1c-.634.528-1.55.67-2.322.354-.788-.327-1.32-1.052-1.397-1.896l-.014-.155c-.035-.397-.365-.7-.767-.7h-.723c-.4 0-.73.303-.768.702l-.014.152c-.076.843-.608 1.568-1.39 1.893-.787.326-1.693.183-2.33-.35l-.118-.096c-.18-.15-.368-.18-.495-.18-.206 0-.4.08-.546.226l-.512.51c-.282.284-.303.73-.046 1.038l.1.118c.54.653.677 1.544.352 2.325-.327.788-1.052 1.32-1.895 1.397l-.156.014c-.397.037-.7.367-.7.77v.722c0 .4.303.73.702.768l."+
"15.014c.848.078 1.573.612 1.897 1.396.325.786.19 1.675-.353 2.325l-.096.115c-.26.31-.238.756.046 1.04l.51.51c.146.147.34.227.546.227.127 0 .315-.03.492-.18l.116-.096c.406-.336.923-.524 1.453-.524z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconExit" type="10">
      <varValue><![CDATA["<g><path d=\"M20.75 22H3.25C2.01 22 1 20.99 1 19.75V4.25C1 3.01 2.01 2 3.25 2h17.5C21.99 2 23 3.01 23 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM3.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h17.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H3.25z\"></path><path d=\"M16.758 6.982h-5.806c-.414 0-.75.336-.75.75s.336.75.75.75h3.995L6.92 16.508c-.292.293-.292.768 0 1.06.147.147.34.22.53.22s.385-.072.53-.22l8.027-8.025v3.995c0 .414.336.75.75.75s.75-.336.75-.75V7.732c0-.414-.335-.75-.75-.75z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconNew" type="10">
      <varValue><![CDATA["<g><path d=\"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconClose" type="10">
      <varValue><![CDATA["<g><path d=\"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconLeft" type="10">
      <varValue><![CDATA["<g><path d=\"M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconRight" type="10">
      <varValue><![CDATA["<g><path d=\"M434.944 790.624l-45.248-45.248L623.04 512l-233.376-233.376 45.248-45.248L713.568 512z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconBack" type="10">
      <varValue><![CDATA["<g><path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconSend" type="10">
      <varValue><![CDATA["<g><path d=\"M21.13 11.358L3.614 2.108c-.29-.152-.64-.102-.873.126-.23.226-.293.577-.15.868l4.362 8.92-4.362 8.92c-.143.292-.08.643.15.868.145.14.333.212.523.212.12 0 .24-.028.35-.087l17.517-9.25c.245-.13.4-.386.4-.664s-.155-.532-.4-.662zM4.948 4.51l12.804 6.762H8.255l-3.307-6.76zm3.307 8.26h9.498L4.948 19.535l3.307-6.763z\"></path></g>";]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconSearch" type="10">
      <varValue><![CDATA["<g><path d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\"></path></g>";
]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="iconBell" type="10">
      <varValue><![CDATA["<g><path d=\"M21.697 16.468c-.02-.016-2.14-1.64-2.103-6.03.02-2.532-.812-4.782-2.347-6.335C15.872 2.71 14.01 1.94 12.005 1.93h-.013c-2.004.01-3.866.78-5.242 2.174-1.534 1.553-2.368 3.802-2.346 6.334.037 4.33-2.02 5.967-2.102 6.03-.26.193-.366.53-.265.838.102.308.39.515.712.515h4.92c.102 2.31 1.997 4.16 4.33 4.16s4.226-1.85 4.327-4.16h4.922c.322 0 .61-.206.71-.514.103-.307-.003-.645-.263-.838zM12 20.478c-1.505 0-2.73-1.177-2.828-2.658h5.656c-.1 1.48-1.323 2.66-2.828 2.66zM4.38 16.32c.74-1.132 1.548-3.028 1.524-5.896-.018-2.16.644-3.982 1.913-5.267C8.91 4.05 10.397 3.437 12 3.43c1.603.008 3.087.62 4.18 1.728 1.27 1.285 1.933 3.106 1.915 5.267-.024 2.868.785 4.765 1.525 5.896H4.38z\"></path></g>";
]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="icon" type="10">
      <varValue><![CDATA[{
heart1: "<g><path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"></path></g>",
heart2: "<g><path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"></path></g>",
unlike: "<g><path d=\"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z\"></path></g>",
forward: "<g><path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\"></path></g>",
trash: "<g><path d=\"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z\"></path><path d=\"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z\"></path></g>",
pin: "<g><path d=\"M20.472 14.738c-.388-1.808-2.24-3.517-3.908-4.246l-.474-4.307 1.344-2.016c.258-.387.28-.88.062-1.286-.218-.406-.64-.66-1.102-.66H7.54c-.46 0-.884.254-1.1.66-.22.407-.197.9.06 1.284l1.35 2.025-.42 4.3c-1.667.732-3.515 2.44-3.896 4.222-.066.267-.043.672.222 1.01.14.178.46.474 1.06.474h3.858l2.638 6.1c.12.273.39.45.688.45s.57-.177.688-.45l2.638-6.1h3.86c.6 0 .92-.297 1.058-.474.265-.34.288-.745.228-.988zM12 20.11l-1.692-3.912h3.384L12 20.11zm-6.896-5.413c.456-1.166 1.904-2.506 3.265-2.96l.46-.153.566-5.777-1.39-2.082h7.922l-1.39 2.08.637 5.78.456.153c1.355.45 2.796 1.78 3.264 2.96H5.104z\"></path></g>",

end:""
}]]></varValue>
      <functionParam />
      <functionCode />
    </item>
    <item name="alert1" type="20">
      <varValue />
      <functionParam>title,text</functionParam>
      <functionCode>g5.popBlack.a7.show(
    title, text,
    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","确定","确定","确定","#ffffff","#ffffff","#ffffff","")],
    //[new g5.BStyle("","#e8f5fe","#d2ecfc","确定","确定","确定","#1da1f2","#1da1f2","#1da1f2","#1da1f2")],
    function() {}
);</functionCode>
    </item>
    <item name="loadTwitterRecord" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode>panel.v_content = new g5.ContentInfo();
panel.v_reContent = new g5.ContentInfo();
panel.v_userInfo = new g5.UserInfo();
panel.v_reUserInfo = new g5.UserInfo();
var dx = 0;
panel.v_content.loadFromDataset(dataset, dx, index); dx += panel.v_content.size;
panel.v_reContent.loadFromDataset(dataset, dx, index); dx += panel.v_reContent.size;
panel.v_userInfo.loadFromDataset(dataset, dx, index); dx += panel.v_userInfo.size;
panel.v_reUserInfo.loadFromDataset(dataset, dx, index); dx += panel.v_reUserInfo.size;
panel.v_content.loadExFromDataset(dataset, dx, index);
var temp;
if (panel.v_content.uplinkType == "L") {
    temp = panel.v_content.uplinkType;
    panel.v_content.uplinkType = panel.v_content.exUplinkType;
    panel.v_content.exUplinkType = temp; 
    temp = panel.v_userInfo;
    panel.v_userInfo = panel.v_content.exUserInfo;
    panel.v_content.exUserInfo = temp;
    panel.v_content.isForward = panel.v_content.exIsForward;
    panel.v_content.isLike = panel.v_content.exIsLike;
    panel.v_content.isUnlike = panel.v_content.exIsUnlike;
}
</functionCode>
    </item>
    <item name="loadTwitterRecordOld" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode><![CDATA[//"id,mins,userId,content,photo1,replyCount(5),forwardCount,likeCount,userName,nickName(9),photo" +
//",reMins(11),reContent,rePhoto1,reUserId,reUserName,reNickName,rePhoto,status,uplinkType,
//uplinkId(20),reReCount,reFwCount,isForward,reIsForward,isLike,reIsLike,reLikeCount,
//photo2(28),photo3,photo4,rePhoto2(31),rePhoto3,rePhoto4
panel.v_userName = dataset.getData(8,index);
panel.v_userId = dataset.getData(2,index);
panel.v_nickName = dataset.getData(9,index);
panel.v_times = dataset.getData(1,index);
panel.v_contentId = dataset.getData(0,index);
panel.v_userPhoto = dataset.getData(10,index);
panel.v_photo1 = dataset.getData(4,index);
panel.v_photo2 = dataset.getData(28,index);
panel.v_photo3 = dataset.getData(29,index);
panel.v_photo4 = dataset.getData(30,index);
panel.v_content = dataset.getData(3,index);
panel.v_label1 = dataset.getData(5,index);
panel.v_label2 = dataset.getData(6,index);
panel.v_label3 = dataset.getData(7,index);
panel.v_uplinkId = dataset.getData(20,index);
panel.v_reTimes = dataset.getData(11,index);
panel.v_reContent = dataset.getData(12,index);
panel.v_rePhoto1 = dataset.getData(13,index);
panel.v_rePhoto2 = dataset.getData(31,index);
panel.v_rePhoto3 = dataset.getData(32,index);
panel.v_rePhoto4 = dataset.getData(33,index);
panel.v_reUserId = dataset.getData(14,index);
panel.v_reUserName = dataset.getData(15,index);
panel.v_reNickName = dataset.getData(16,index);
panel.v_rePhoto = dataset.getData(17,index);
panel.v_status = dataset.getData(18,index);
panel.v_uplinkType = dataset.getData(19,index);
panel.v_reReCount = dataset.getData(21,index);
panel.v_reFwCount = dataset.getData(22,index);
panel.v_isForward = dataset.getData(23,index);
panel.v_reIsForward = dataset.getData(24,index);
panel.v_isLike = dataset.getData(25,index);
panel.v_reIsLike = dataset.getData(26,index);
panel.v_reLikeCount = dataset.getData(27,index);
panel.v_photos = new Array();
if (panel.v_photo1.length>0) panel.v_photos.push(panel.v_photo1);                                                                 
if (panel.v_photo2.length>0) panel.v_photos.push(panel.v_photo2);                                                                 
if (panel.v_photo3.length>0) panel.v_photos.push(panel.v_photo3);                                                                 
if (panel.v_photo4.length>0) panel.v_photos.push(panel.v_photo4);                                                                 
panel.v_rePhotos = new Array();
if (panel.v_rePhoto1.length>0) panel.v_rePhotos.push(panel.v_rePhoto1);                                                                 
if (panel.v_rePhoto2.length>0) panel.v_rePhotos.push(panel.v_rePhoto2);                                                                 
if (panel.v_rePhoto3.length>0) panel.v_rePhotos.push(panel.v_rePhoto3);                                                                 
if (panel.v_rePhoto4.length>0) panel.v_rePhotos.push(panel.v_rePhoto4);                                                                 


]]></functionCode>
    </item>
    <item name="renderTwitter" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(root.v_userInfo.photo)) root.v_userInfo.photo = "";
if (eb.isEmpty(root.v_content.photo1)) root.v_content.photo1 = "";
while (root.v_mode.length<5) root.v_mode += " ";

root.style.boxSizing="border-box";
root.style.borderWidth = "1px";
root.style.borderColor = "rgb(230,236,240)";
root.style.borderStyle = "solid";
root.style.borderTop = "";
root.style.borderLeft = "";
root.style.borderRight = "";
if ((root.v_mode.substr(0,2) != "  ") &amp;&amp; (root.v_mode.substr(0,2) != "T ")) {
    root.style.borderBottom = "";                       
}
var w = eb.getDivRect(root).w;
var c;

eb.setAni2(root,1,"disappear", "rightFlyOut", "null", 0, true);
eb.setAniEvent(root,1,function(){}, function(sender) {
    g5.deletePage1(sender);
});
if ((root.v_mode.charAt(2) != "x") &amp;&amp; (root.v_content.status!="DEL"))  {
    root.style.cursor = "pointer"; 
    ee.setOnClick(root,function(sender,event) {
        g5.p2.p9.show(root.v_content,root.v_reContent,root.v_userInfo,root.v_reUserInfo);
    });
    ee.setOnMouseEnter(root, function(sender,e){
        sender.style.backgroundColor = "rgb(245,248,250)";
    });
    ee.setOnMouseLeave(root, function(sender,e){
        sender.style.backgroundColor = "#ffffff";
    });
}

//uplink
if (root.v_mode.charAt(0) == "T") {
    c = createPanel(root, root.id+"_uplink01", "ccd6dd", 40, 0, 2, 6);
}
//downlink
if (root.v_mode.charAt(1) == "T") {
    c = createPanel(root, root.id+"_downlink01", "ccd6dd", 40, 64, 2, 1000);
}
var cy = 9;
if (root.v_content.status=="DEL") {
    c = createPanel(root, root.id+"_delRoot", "f5f8fa", 16, cy, w-16*2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  此发言不可用。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock()
    return root;
}
 
if (root.v_content.exUplinkType == "L") {
    //direct forward
    c = createPanel(root, root.id+"_forward01", "", 50, cy, 400, 19); cy+=22;
    var sTemp = "<svg viewBox=\"0 -2 34 34\" style='height: 1.25rem;color: rgba(101,119,134,1.00);fill: currentcolor;vertical-align:middle;'>"+g5.icon.forward+"</svg>";
    sTemp += " <div id='"+root.id+"_fwL01' style='display:inline;'>";
    if (g5.myUserInfo.userName==root.v_content.exUserInfo.userName) {
        sTemp += "你";
    } else {
        sTemp += root.v_content.exUserInfo.nickName + " ";
    }
    sTemp += "转发了</div>";    
    addText(c, sTemp, "left", "middle", "微软雅黑", 10, "#657786", "normal");
    c.fw=$g(root.id+"_fwL01");
    ee.setOnClick(c,function(sender,event) {
        g5.p2.p2.show(root.v_content.exUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(c,function(sender,e){
        sender.fw.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(c,function(sender,e){
        sender.fw.style.textDecoration="";
    });
}

//avata image box
c = createPanel(root, root.id+"_panel13", "", 16, cy, 50, 50);
root.c_userPhoto = c;
root.c_photo = c;
c.v_timer = null;
if (root.v_userInfo.photo == "") {
    ee.setImage(c,"/twitterG/main/user.png","trim","","")
} else {
    ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
}
c.style.cursor="pointer";
c.style.borderRadius = "50%";
ee.setOnClick(c,function(sender,event) {
    ee.getControl("panel280").show(root.c_photo, root.v_userInfo);
    //showUserPage.userName=sender.parentNode.v_userName;
    //showUserPage();
    //if (sender.v_timer!=null) {
    //    clearTimeout(sender.v_timer);
    //    sender.v_timer = null;
    //}
    //getUserInfo2.busy = false;
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(c, function(sender,e) {
    sender.style.webkitFilter="brightness(80%)";
    sender.style.filter="brightness(80%)";
//    if (sender.v_timer!=null) clearTimeout(sender.v_timer);
//    sender.v_timer = setTimeout(function() {
//        ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
//    }, 700);
});
ee.setOnMouseLeave(c, function(sender,e) {
    sender.style.webkitFilter="brightness(100%)";
    sender.style.filter="brightness(100%)";
    //if (sender.v_timer!=null) {
    //    clearTimeout(sender.v_timer);
    //    sender.v_timer = null;
    //}
});

var mainWidth = parseInt((w-75)*0.97);
    
//v_titleText
c = createPanel(root, root.id+"_panel16", "", 75, cy-3, mainWidth-80, 26);
root.v_titleText = c;
var temp = "";
temp = "<div style='display:inline'><b>" + g5.add3Dot(root.v_userInfo.nickName, 30) + "</b> <font color='#808080' style='font-size:12pt'>@" + g5.add3Dot(root.v_userInfo.userName, 30) + "</font></div>";
if (root.v_mode.charAt(2) != "x") {
    temp+=" · <font>" + g5.getMins(root.v_content.seconds) + "</font>";
}
//temp+="</font>";
addText(c, temp, "left", "middle", "微软雅黑", 12, "000000", "normal");
if (root.v_mode.charAt(2) != "x") {
    root.v_timeLabel = c.label.rows[0].cells[0].childNodes[2]; 
}
c.v_username = root.v_userInfo.userName;
root.c_titleText = c.label.rows[0].cells[0].childNodes[0];
root.c_titleText.id = root.id + "_titleText";
root.c_titleText.v_userName = root.v_userInfo.userName;
c.style.cursor="pointer";
ee.setOnClick(root.c_titleText,function(sender,event) {
    g5.p2.p2.show(root.v_userInfo);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="underline";
});
ee.setOnMouseLeave(root.c_titleText,function(sender,e){
    sender.childNodes[0].style.textDecoration="";
});

//right corner button
c = createPanel(root, root.id+"_optionBtn1", "", w-45, cy-3, 27, 27);
c.style.cursor="pointer";
c.innerHTML = "<svg viewBox=\"0 0 30 30\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:5px 0px 0px 5px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M20.207 8.147c-.39-.39-1.023-.39-1.414 0L12 14.94 5.207 8.147c-.39-.39-1.023-.39-1.414 0-.39.39-.39 1.023 0 1.414l7.5 7.5c.195.196.45.294.707.294s.512-.098.707-.293l7.5-7.5c.39-.39.39-1.022 0-1.413z\"></path></g></svg>";
c.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    sender.childNodes[0].style.color = "rgb(101,119,134)";
});
root.v_btn1 = c;
ee.setOnClick(c,function(sender,event) {
    if ((sender.parentNode.v_userInfo.id==g5.myUserInfo.id)||
        ((sender.parentNode.v_content.exUplinkType=="L")&amp;&amp;(sender.parentNode.v_content.exUserInfo.id==g5.myUserInfo.id))) {
        g5.popup1.p1.show(sender, root.v_content, root.v_reContent, root.v_userInfo, root.v_reUserInfo);
    } else {
        g5.popup1.p3.show(sender, root.v_content, root.v_userInfo);
    }
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});

//reUsername
cy+=17;
if (root.v_content.uplinkType == "R") {
    c = createPanel(root, root.id+"_pareUsername01nel17", "", 75, cy, mainWidth-80, 22);
    cy += 22;
    addText(c, "<font color='#808080'>回复 </font><font color='#1b95e0'>@" + root.v_reUserInfo.userName + "</font>", "left", "middle", "微软雅黑", 12, "000000", "normal");
    c.style.cursor="pointer";
    c.v_username = root.v_reUserInfo.userName;
    root.c_reUserName = c.label.rows[0].cells[0].childNodes[1];
    root.c_reUserName.v_reUserName = root.v_reUserInfo.userName
    ee.setOnClick(root.c_reUserName,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reUserName,function(sender,e){
        sender.style.textDecoration="";
    });
}

//v_text
c = createPanel(root, root.id+"_panel17", "", 75, cy, mainWidth, w*0.0547667342799189);
root.c_content = c;
if (root.v_mode.charAt(2) == "x") {
    addText(c, "<font style='font-size:23px; line-height:1.31;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 16, "000000", "normal");
} else {
    addText(c, "<font style='line-height:1.2;'>" + g5.showCommonText(root.v_content.content) + "</font>", "left", "top", "微软雅黑", 12, "000000", "normal");
}
c.label.style.wordBreak = "break-all";
//eb.setFontSizeAuto(c, 25);
eb.setDock(c,"disabled","disabled");
eb.processDock();
var rect = eb.getDivRect(c.label);
ee.setRect(c, null, null, null, rect.h);
rect = eb.getDivRect(c);
cy = rect.y + rect.h + 1;

//photos
if (root.v_content.photos.length>0) {
    c = createPanel(root, root.id+"_panel18", "", 75, cy, mainWidth, parseInt(mainWidth*0.565));
    cy += mainWidth*0.565 + w*0.03;
    c.style.borderRadius = "15px";
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.cursor="pointer";
    c.v_photos = root.v_content.photos;
    c.v_mode = "";
    g5.refreshPhoto(c);
    root.c_photos = c;
} else {
    cy +=10;
}

if (root.v_mode.charAt(2)=="x") {
    //root.v_content.uplinkType = "";
}
if (root.v_mode.substr(0,2)!="  ") {
    //root.v_content.uplinkType = "";
}

if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_reContent.status == "DEL")) {
    c = createPanel(root, root.id+"_panel2", "f5f8fa", 75, cy, mainWidth-2, 40); cy+=40;
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    c.style.borderRadius = "12px";
    addText(c, "  此发言不可用。", "left", "center", "微软雅黑", 12, "657786" ,"");
    eb.setDivRect(root, null, null, null, cy+9);
    eb.processDock();
    cy+=20;
} else if ((root.v_content.uplinkType == "F") &amp;&amp; (root.v_content.photos.length>0) &amp;&amp; (root.v_reContent.photos.length>0)) {
    c = createPanel(root, root.id+"_panel2", "", 75, cy-7, mainWidth-2, 146);
    cy += 146 + 10;
    var p1w = mainWidth-2;
    c.style.borderRadius = "15px";
    c.style.cursor = "pointer"; 
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    ee.setOnMouseEnter(c, function(sender,e){
        sender.style.backgroundColor = "rgb(237,240,242)";
    });
    ee.setOnMouseLeave(c, function(sender,e){
        sender.style.backgroundColor = "";
    });
    c.v_uplinkId = root.v_content.uplinkId
    ee.setOnClick(c,function(sender,event) {
        root.v_reContent.uplinkType = "";
        g5.p2.p9.show(root.v_reContent,null,root.v_reUserInfo, null);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    //rePhoto
    c = createPanel($g(root.id+"_panel2"), root.id+"_panel8", "", 11, 11, 20, 20);
    c.style.cursor="pointer";
    if (root.v_reUserInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_reUserInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_username = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel280").show(sender, root.v_reUserInfo);
        //showUserPage.userName=sender.v_username;
        //showUserPage();
        //if (sender.v_timer!=null) {
        //    clearTimeout(sender.v_timer);
        //    sender.v_timer = null;
        //}
        //getUserInfo2.busy = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    root.c_rePhoto = c;
    c.v_timer = null;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        //if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        //sender.v_timer = setTimeout(function() {
        //    ee.getControl("panel280").show(root.v_reUserId, root.c_rePhoto);
        //}, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        //if (sender.v_timer!=null) {
        //    clearTimeout(sender.v_timer);
        //    sender.v_timer = null;
        //}
    });
    //reUserName,reNickName,reTime
    c = createPanel($g(root.id+"_panel2"), root.id+"_panel11", "", 35, 7, p1w*0.833734939759036, 25);
    addText(c, "<div style='display:inline'><b>" + g5.add3Dot(root.v_reUserInfo.nickName, 24) + "</b> <font color='#808080' style='font-size:15px'>@" + g5.add3Dot(root.v_reUserInfo.userName, 24) + "</font></div> · <font color='#808080' style='font-size:15px'>" + g5.getMins(root.v_reContent.seconds) + "</font>", "left", "middle", "微软雅黑", 12, "000000", "normal");
    root.c_reTitleText = c.label.rows[0].cells[0].childNodes[0];
    root.c_reTitleText.id = root.id + "_reTitleText";
    root.c_reTitleText.v_userName = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(root.c_reTitleText,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="";
    });
    //reContent
    c = createPanel($g(root.id+"_panel2"), root.id+"_panel25", "", 120, 36, p1w-130, 100);
    addText(c, g5.showCommonText(root.v_reContent.content), "left", "top", "微软雅黑", 12, "000000", "normal");
    c.label.style.wordBreak = "break-all";
    //rePhotos                                                                                          
    if (root.v_reContent.photos.length>0) {
        c = createPanel($g(root.id+"_panel2"), root.id+"_panel26", "", 11, 36, 100,100);
        c.style.borderRadius = "15px";
        c.style.borderWidth = "1px";
        c.style.borderColor = "rgb(230,236,240)";
        c.style.borderStyle = "solid";
        c.v_photos = root.v_reContent.photos;
        c.v_mode = "";
        g5.refreshPhoto(c);
        root.c_rePhotos = c;
    }
} else if (root.v_content.uplinkType == "F") {
    var p1ratio = 2.64;
    c = createPanel(root, root.id+"_panel2", "", 75, cy, mainWidth-2, 100);
    c.style.borderRadius = "15px";
    c.style.cursor = "pointer"; 
    c.style.borderWidth = "1px";
    c.style.borderColor = "rgb(230,236,240)";
    c.style.borderStyle = "solid";
    ee.setOnMouseEnter(c, function(sender,e){
        sender.style.backgroundColor = "rgb(237,240,242)";
    });
    ee.setOnMouseLeave(c, function(sender,e){
        sender.style.backgroundColor = "";
    });
    c.v_uplinkId = root.v_content.uplinkId
    ee.setOnClick(c,function(sender,event) {
        root.v_reContent.uplinkType = "";
        g5.p2.p9.show(root.v_reContent,null,root.v_reUserInfo, null);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    
    var p1w = eb.getDivRect(c).w;
    var p1h = p1w / p1ratio;
    c = createPanel($g(root.id+"_panel2"), root.id+"_panel6", "", 0, 0, p1w, 100);
    eb.setDock(c,"disabled","disabled");
    //rePhoto
    c = createPanel($g(root.id+"_panel6"), root.id+"_panel8", "", 16, 12, 20, 20);
    if (root.v_reUserInfo.photo == "") {
        ee.setImage(c,"/twitterG/main/user.png","trim","","")
    } else {
        ee.setImage(c,"url:" + g5.imgUrl + root.v_reUserInfo.photo,"trim","","")
    }
    c.style.borderRadius = "50%";
    c.v_username = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(c,function(sender,event) {
        ee.getControl("panel280").show(root.v_reUserId, root.c_rePhoto);
        //showUserPage.userName=sender.v_username;
        //showUserPage();
        //if (sender.v_timer!=null) {
        //    clearTimeout(sender.v_timer);
        //    sender.v_timer = null;
        //}
        //getUserInfo2.busy = false;
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    root.c_rePhoto = c;
    c.v_timer = null;
    ee.setOnMouseEnter(c, function(sender,e) {
        sender.style.webkitFilter="brightness(80%)";
        sender.style.filter="brightness(80%)";
        //if (sender.v_timer!=null) clearTimeout(sender.v_timer);
        //sender.v_timer = setTimeout(function() {
        //    ee.getControl("panel280").show(root.v_reUserId, root.c_rePhoto);
        //}, 200);
    });
    ee.setOnMouseLeave(c, function(sender,e) {
        sender.style.webkitFilter="brightness(100%)";
        sender.style.filter="brightness(100%)";
        //if (sender.v_timer!=null) {
        //    clearTimeout(sender.v_timer);
        //    sender.v_timer = null;
        //}
    });
    //reUserName,reNickName,reTime
    c = createPanel($g(root.id+"_panel6"), root.id+"_panel11", "", 45, 8, p1w*0.833734939759036, 28);
    addText(c, "<div style='display:inline'><b>" + g5.add3Dot(root.v_reUserInfo.nickName, 24) + "</b> <font color='#808080' style='font-size:15px'>@" + g5.add3Dot(root.v_reUserInfo.userName, 24) + "</font></div> · <font color='#808080' style='font-size:15px'>" + g5.getMins(root.v_reContent.seconds) + "</font>", "left", "middle", "微软雅黑", 12, "000000", "normal");
    root.c_reTitleText = c.label.rows[0].cells[0].childNodes[0];
    root.c_reTitleText.id = root.id + "_reTitleText";
    root.c_reTitleText.v_userName = root.v_reUserInfo.userName;
    c.style.cursor="pointer";
    ee.setOnClick(root.c_reTitleText,function(sender,event) {
        g5.p2.p2.show(root.v_reUserInfo);
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    });
    ee.setOnMouseEnter(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="underline";
    });
    ee.setOnMouseLeave(root.c_reTitleText,function(sender,e){
        sender.childNodes[0].style.textDecoration="";
    });
    //reContent
    c = createPanel($g(root.id+"_panel6"), root.id+"_panel25", "", 16, 36, p1w*0.927710843373494, 10);
    addText(c, g5.showCommonText(root.v_reContent.content), "left", "top", "微软雅黑", 12, "000000", "normal");
    c.label.style.wordBreak = "break-all";
    //eb.setFontSizeAuto(c, 25);
    eb.setDock(c,"disabled","disabled");
    eb.processDock();
    rect = eb.getDivRect(c.label);
    ee.setRect(c, null, null, null, rect.h);
    rect = eb.getDivRect(c);
    var p1y = rect.y + rect.h + p1h * 0.05;
    //rePhotos
    if (root.v_reContent.photos.length>0) {
        c = createPanel($g(root.id+"_panel6"), root.id+"_panel26", "", 0, p1y, p1w, parseInt(p1w*0.565));
        p1y += eb.getDivRect(c).h;
        c.v_photos = root.v_reContent.photos;
        c.v_mode = "";
        g5.refreshPhoto(c);
        root.c_rePhotos = c;
    }
    
    //c = createPanel($g(root.id+"_panel2"), root.id+"_panel7", "", 0, 0, p1w, p1y);
    //addSkin(c, "/twitterG/skins/bodyMask1.png","9x",57,56,19,20,20,18,19,20,20,18);
    //c.style.pointerEvents = "none";
    c = $g(root.id+"_panel2");
    ee.setRect(c, null, null, null, p1y);
    c = $g(root.id+"_panel6");
    ee.setRect(c, null, null, null, p1y);
    cy += p1y + w*0.03;
}    

if (root.v_mode.charAt(2) == "x") {
    c = createPanel(root, root.id+"_bottom01", "", 16, cy, mainWidth, 26); cy+=33;
    addText(c, g5.getMins(root.v_content.seconds), "left", "middle", "微软雅黑", 12, "808080", "normal");
    root.v_timeLabel = c.label.rows[0].cells[0]; 
    root.v_startTime = parseInt((new Date()).getTime()/1000)-root.v_content.seconds
    c = createPanel(root, root.id+"_btnline01", "e6ecf0", 16, cy, w-16*2, 1); cy+=16;
    if ((root.v_content.reCount!="0") || (root.v_content.fwCount!="0") || (root.v_content.likeCount!="0")) {
        c = createPanel(root, root.id+"_bottom02", "", 16, cy-6, mainWidth, 22); cy+=33;
        temp = "";
        if (root.v_content.reCount!="0") {
            temp += "<font color='#000000'><b>"+root.v_content.reCount+"</b></font> 回复      ";
        }
        if (root.v_content.fwCount!="0") {
            temp += "<div id='"+root.id+"_fw01' style='display:inline;'><font color='#000000'><b>"+root.v_content.fwCount+"</b></font> 转发</div>      ";
        }
        if (root.v_content.likeCount!="0") {
            temp += "<div id='"+root.id+"_like01' style='display:inline;'>收到<font color='#000000'><b>"+root.v_content.likeCount+"</b></font>个赞</div>      ";
        }
        addText(c, temp, "left", "middle", "微软雅黑", 12, "808080", "normal");
        temp = $g(root.id+"_fw01");
        if (temp!=null) {
            temp.v_contentId = root.v_content.id;
            temp.style.cursor="pointer";
            ee.setOnClick(temp,function(sender,event) {
                showForwardList.contentId=sender.v_contentId;
                showForwardList();
                window.event? window.event.cancelBubble = true : event.stopPropagation();
            });
            ee.setOnMouseEnter(temp,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(temp,function(sender,e){
                sender.style.textDecoration="";
            });
        }
        temp = $g(root.id+"_like01");
        if (temp!=null) {
            temp.v_contentId = root.v_content.id;
            temp.style.cursor="pointer";
            ee.setOnClick(temp,function(sender,event) {
                showLikeList.contentId=sender.v_contentId;
                showLikeList();
                window.event? window.event.cancelBubble = true : event.stopPropagation();
            });
            ee.setOnMouseEnter(temp,function(sender,e){
                sender.style.textDecoration="underline";
            });
            ee.setOnMouseLeave(temp,function(sender,e){
                sender.style.textDecoration="";
            });
        }
        c = createPanel(root, root.id+"_btnline02", "e6ecf0", 16, cy, w-16*2, 1); cy+=16;
    }
}

//button1
cy-=11;
var b1=76;
var b2=76+parseInt((w-76*2-20)/3);
var b3=76+parseInt((w-76*2-20)/3*2);
var b4=76+parseInt((w-76*2-20)/3*3);
c = createPanel(root, root.id+"_sbutton01", "", b1, cy, 36, 36);
c.style.cursor="pointer";
c.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\"><g><path d=\"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z\"></path></g></svg>";
c.style.borderRadius = "50%";
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
    sender.childNodes[0].style.color = "rgb(29,161,242)";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    sender.childNodes[0].style.color = "rgb(101,119,134)";
});
root.c_button1 = c;
ee.setOnClick(c,function(sender,event) {
    g5.popBlack.a3.showRe(root.v_content.clone(),root.v_reContent.clone(),root.v_userInfo,root.v_reUserInfo);
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});

//button2
c = createPanel(root, root.id+"_sbutton02", "", b2, cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button2 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.init = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.icon.forward + "</svg>";        
    if (this.v_styleIndex == 0) {
        this.v_defaultColor = "rgb(101,119,134)";
    } else {
        this.v_defaultColor = "#17bf63";
    }
    this.childNodes[0].style.color = this.v_defaultColor;
}
ee.setOnClick(c,function(sender,event) {
    while(1) {
        if (!sender.v_enabled) break;
        g5.popup1.p2.show(sender, root.v_content, root.v_reContent, root.v_userInfo, root.v_reUserInfo);
        break;
    }
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#def2eb";
    sender.childNodes[0].style.color = "#17bf63";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    sender.childNodes[0].style.color = sender.v_defaultColor;
});
c.init(root.v_content.isForward ? 1:0);

//button3
c = createPanel(root, root.id+"_sbutton03", "", b3, cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button3 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.init = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    if (this.v_styleIndex == 0) {
        this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">" + g5.icon.heart1 + "</svg>";        
        this.v_defaultColor = "rgb(101,119,134)";
    } else {
        this.innerHTML="<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:#e23c70;fill: currentcolor;vertical-align:middle;\">" + g5.icon.heart2 + "</svg>";        
        this.v_defaultColor = "#e23c70";
    }
}
ee.setOnClick(c,function(sender,event) {
    while(1) {
        if (!sender.v_enabled) break;
        if (likeContent.busy) break;
        var contentIdB;
        if (root.v_content.exUplinkType=="L") {
            contentIdB = root.v_content.exContentId;
        } else {
            contentIdB = root.v_content.id;
        }
        likeContent.contentId = contentIdB;
        likeContent.onComplete = function() {
            root.c_button3.v_enabled = true;
        }
        likeContent();
        sender.v_enabled = false;
        var contentClone = root.v_content.clone();
        contentClone.isLike = !contentClone.isLike;
        contentClone.likeCount += contentClone.isLike ? 1:-1;
        if (contentClone.likeCount<0) contentClone.likeCount = 0;
        g5.syncTwitter(contentClone,root.v_reContent,root.v_userInfo,root.v_reUserInfo);
        break;
    }
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#f3e3eb";
    sender.childNodes[0].style.color = "#e23c70";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
    sender.childNodes[0].style.color = sender.v_defaultColor;
});
c.init(root.v_content.isLike ? 1:0);

//button4
c = createPanel(root, root.id+"_sbutton04", "", b4, cy, 36, 36);
c.style.cursor="pointer";
c.style.borderRadius = "50%";
root.c_button4 = c;
c.v_styleIndex = 0;
c.v_enabled = true;
c.init = function(styleIndex) {
    if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
    this.v_styleIndex = styleIndex;
    this.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgb(101,119,134);fill: currentcolor;vertical-align:middle;\">"+g5.icon.unlike+"</svg>";
    if (this.v_styleIndex == 0) {
        this.v_defaultColor = "rgb(101,119,134)";
    } else {
        this.v_defaultColor = "rgb(29,161,242)";
    }
    this.childNodes[0].style.color = this.v_defaultColor;
}
ee.setOnClick(c,function(sender,event) {
    while(1) {
        if (!sender.v_enabled) break;
        if (unlikeContent.busy) break;
        var contentIdB;
        if (root.v_content.exUplinkType=="L") {
            contentIdB = root.v_content.exContentId;
        } else {
            contentIdB = root.v_content.id;
        }
        unlikeContent.contentId = contentIdB;
        unlikeContent.onComplete = function() {
            root.c_button4.v_enabled = true;
        }
        unlikeContent();
        sender.v_enabled = false;
        var contentClone = root.v_content.clone();
        contentClone.isUnlike = !contentClone.isUnlike;
        contentClone.unlikeCount += contentClone.isUnlike ? 1:-1;
        if (contentClone.unlikeCount<0) contentClone.unlikeCount = 0;
        g5.syncTwitter(contentClone,root.v_reContent,root.v_userInfo,root.v_reUserInfo);
        break;
    }
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
ee.setOnMouseEnter(c, function(sender,event) {
    sender.style.backgroundColor = "#dfeffa";
});    
ee.setOnMouseLeave(c, function(sender,event) {
    sender.style.backgroundColor = "";
});
c.init(root.v_content.isUnlike ? 1:0);

//4 label
if (root.v_mode.charAt(2) != "x") {
    //label1
    c = createPanel(root, root.id+"_panel3", "", b1+35, cy+7, 40, 22);
    root.c_label1 = c;
    c.init = function(text) {
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.reCount);
    //label2
    c = createPanel(root, root.id+"_panel5", "", b2+35, cy+7, 40, 22);
    root.c_label2 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            ee.setTextColor(this, "#657786)");
        } else {
            ee.setTextColor(this, "#17bf63");
        }
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isForward ? 1:0, root.v_content.fwCount);
    //label3
    c = createPanel(root, root.id+"_panel5", "", b3+35, cy+7, 40, 22);
    root.c_label3 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            ee.setTextColor(this, "rgb(101,119,134)");
        } else {
            ee.setTextColor(this, "#e23c70");
        }
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isLike ? 1:0, root.v_content.likeCount);
    //label4
    c = createPanel(root, root.id+"_label4", "", b4+35, cy+7-1, 40, 22);
    root.c_label4 = c;
    c.v_styleIndex = 0;
    c.init = function(styleIndex,text) {
        if (eb.isEmpty(styleIndex)) styleIndex = this.v_styleIndex;
        this.v_styleIndex = styleIndex;
        if (this.v_styleIndex == 0) {
            this.v_defaultColor = "rgb(101,119,134)";
        } else {
            this.v_defaultColor = "rgb(29,161,242)";
        }
        ee.setTextColor(this, this.v_defaultColor);
        if (!eb.isEmpty(text)) {
            text = text + "";
            text = text=="0" ? "":text;
            ee.setText(this, text);
        }
    }
    addText(c, " ", "left", "middle", "Arial", 12, "657786", "");
    c.init(root.v_content.isUnlike ? 1:0, root.v_content.unlikeCount);
} else {
    root.c_label1 = null;
    root.c_label2 = null;
    root.c_label3 = null;
    root.c_label4 = null;
}


//set total height
rect = eb.getDivRect(root.c_button1);
eb.setDivRect(root, null, null, null, rect.y + rect.h + 7);
eb.processDock();
if (!eb.isEmpty(root.c_photos)) {
    if (!eb.isEmpty(root.c_photos.c_video)) {
        root.c_photos.v_videoY = g5.getVideoY(root.parentNode, root.c_photos.c_video);
        root.c_photos.v_videoH = eb.getDivRect(root.c_photos.c_video).h;
    }
}
if (!eb.isEmpty(root.c_rePhotos)) {
    if (!eb.isEmpty(root.c_rePhotos.c_video)) {
        root.c_rePhotos.v_videoY = g5.getVideoY(root.parentNode, root.c_rePhotos.c_video);
        root.c_rePhotos.v_videoH = eb.getDivRect(root.c_rePhotos.c_video).h;
    }
}

return root;]]></functionCode>
    </item>
    <item name="modifyTwitter" type="20">
      <varValue />
      <functionParam>root,v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode>//root,v_content,v_reContent,v_userInfo,v_reUserInfo
if (root.v_content.isLike != v_content.isLike) {
    root.v_content.isLike = v_content.isLike;
    root.c_button3.init(root.v_content.isLike ? 1:0);
    if (root.c_label3) root.c_label3.init(root.v_content.isLike ? 1:0);
}

if (root.v_content.likeCount != v_content.likeCount) {
    root.v_content.likeCount = v_content.likeCount;
    if (root.c_label3) root.c_label3.init(null, root.v_content.likeCount);
}

if (root.v_content.isUnlike != v_content.isUnlike) {
    root.v_content.isUnlike = v_content.isUnlike;
    root.c_button4.init(root.v_content.isUnlike ? 1:0);
    if (root.c_label4) root.c_label4.init(root.v_content.isUnlike ? 1:0);
}

if (root.v_content.unlikeCount != v_content.unlikeCount) {
    root.v_content.unlikeCount = v_content.unlikeCount;
    if (root.c_label4) root.c_label4.init(null, root.v_content.unlikeCount);
}

if (root.v_content.reCount != v_content.reCount) {
    root.v_content.reCount = v_content.reCount;
    if (root.c_label1) root.c_label1.init(root.v_content.reCount);
}

if (root.v_content.isForward != v_content.isForward) {
    root.v_content.isForward = v_content.isForward;
    root.c_button2.init(root.v_content.isForward ? 1:0);
    if (root.c_label2) root.c_label2.init(root.v_content.isForward ? 1:0);
}

if (root.v_content.fwCount != v_content.fwCount) {
    root.v_content.fwCount = v_content.fwCount;
    if (root.c_label2) root.c_label2.init(null, root.v_content.fwCount);
}

</functionCode>
    </item>
    <item name="syncTwitter" type="20">
      <varValue />
      <functionParam>v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode><![CDATA[var task = g5.contentGetAllBuff();

var items,item;
var contentId;
if (v_content.exUplinkType == "L") {
    contentId = v_content.exContentId;
} else {
    contentId = v_content.id;
}
for (var i=0; i<task.length; i++) {
    items = task[i];
    for (var j=0; j<items.length; j++) {
        item = items[j];
        if ((item.v_content.id!=contentId)&amp;&amp;(item.v_content.exContentId!=contentId)) continue;
        if (eb.isEmpty(v_reContent)) v_reContent = item.v_reContent.clone();
        if (eb.isEmpty(v_userInfo)) v_userInfo = item.v_userInfo;
        if (eb.isEmpty(v_reUserInfo)) v_reUserInfo = item.v_reUserInfo;
        g5.modifyTwitter(item,v_content,v_reContent,v_userInfo,v_reUserInfo);
    }
}


]]></functionCode>
    </item>
    <item name="deleteTwitter" type="20">
      <varValue />
      <functionParam>v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode><![CDATA[v_content = v_content.clone();
v_reContent = v_reContent.clone();

if (v_content.exUplinkType == "L") {
    if (newTwitter.busy) return;
    newTwitter.content="";
    newTwitter.uplinkType="L";
    newTwitter.uplinkId = v_content.exContentId;
    newTwitter.photos=new Array();
    newTwitter.onComplete = function(contentId) {
    }
    newTwitter();
    v_content.isForward = false;
    v_content.fwCount--;
    if (v_content.fwCount<0) v_content.fwCount = 0;
    g5.contentDel(v_content.id, function() {
    });
    v_content.id = v_content.exContentId;
    g5.syncTwitter(v_content,null,v_userInfo,null);
    return;
}

if (delTwitter.busy) return;
delTwitter.contentId = v_content.id;
delTwitter.onComplete = function() {
}
delTwitter();
g5.contentDel(v_content.id, function() {
    var buffs = g5.contentGetAllBuff();
    var i, j, items, item, newContent, newReContent;
    for (i=0; i<buffs.length; i++) {
        items = buffs[i];
        j = 0;
        while (j<items.length) {
            item = items[j];
            //downlink L
            if (item.v_content.exContentId == v_content.id) {
                var rect = eb.getDivRect(item);
                ee.removeControl(item);
                items.splice(j,1);
                g5.batchMoveY(items,j,-rect.h);
                continue;
            }
            //downlink R F
            if (item.v_reContent.id == v_content.id) {
                if (item.v_content.uplinkType == "F") {
                    newContent = item.v_content.clone();
                    newReContent = item.v_reContent.clone();
                    newReContent.status = "DEL";
                    g5.contentRenew(items, j, newContent, newReContent, item.v_userInfo, item.v_reUserInfo);
                }
            }
            //uplink
            if (v_content.uplinkType != "N") {
                if (item.v_content.id == v_reContent.id) {
                    newContent = item.v_content.clone();
                    newReContent = item.v_reContent.clone();
                    if (v_content.uplinkType == "R") {
                        if (newContent.reCount>0) newContent.reCount--;
                    } else if (v_content.uplinkType == "F") {
                        if (newContent.fwCount>0) newContent.fwCount--;
                    }
                    g5.modifyTwitter(item, newContent, newReContent, item.v_userInfo, item.v_reUserInfo);
                }
            }
            j++;
        }
    }
});




]]></functionCode>
    </item>
    <item name="contentDel" type="20">
      <varValue />
      <functionParam>contentId, onComplete</functionParam>
      <functionCode><![CDATA[var task = g5.contentGetAllBuff();
var currentPage = g5.contentGetCurrentBuff();

var items,item;
var i=0;
var hasAni = false;
for (var i=0; i<task.length; i++) {
    items = task[i];
    var j=0;
    while (j < items.length) {
        item = items[j];
        if (item.v_content.id != contentId) {
            j++;
            continue;
        }
        var rect = eb.getDivRect(item);
        if (currentPage == items) {
            eb.setAni2(item,1,"disappear", "rightFlyOut", "null", 0, true);
            var aniItem = item;
            var aniItems = items;
            var aniItemIndex = j;
            var aniHeight = rect.h;
            eb.setAniEvent(aniItem,1,function(){}, function(sender) {
                ee.removeControl(aniItem);
                aniItems.splice(aniItemIndex,1);
                g5.batchMoveY(aniItems, aniItemIndex, - aniHeight);
                if (onComplete) onComplete();
            });
            ee.showAni(aniItem, 1);
            hasAni = true;
            break;
        } else {
            ee.removeControl(item);
            items.splice(j,1);
            g5.batchMoveY(items, j, - rect.h);
        }
    }
}
if (!hasAni) {
    if (onComplete) onComplete();
}



]]></functionCode>
    </item>
    <item name="contentGetMyDownlinkId" type="20">
      <varValue />
      <functionParam>contentId, linkType</functionParam>
      <functionCode><![CDATA[if (!linkType) linkType = "L";
var task = g5.contentGetAllBuff();
var items,item;
var i,j;
for (var i=0; i<task.length; i++) {
    items = task[i];
    for (j=0; j<items.length; j++) {
        item = items[j];
        if (item.v_content.exUplinkType != linkType) continue;
        if (item.v_content.exUserInfo.id != g5.myUserInfo.id) continue;
        if (item.v_content.exContentId != contentId) continue;
        return item.v_content.id;
    }
}
return 0;




]]></functionCode>
    </item>
    <item name="contentGetAllBuff" type="20">
      <varValue />
      <functionParam />
      <functionCode>var task = new Array();
task.push(g5.p2.p1.v_items);
task.push(g5.p2.p2.p1Items);
task.push(g5.p2.p2.p3Items);
task.push(g5.p2.p9.v_items);
task.push(g5.p2.p5.v_items);
task.push(g5.p2.p11.c_pages.c1.v_items);
task.push(g5.p2.p11.c_pages.c2.v_items);
task.push(g5.p2.p11.c_pages.c4.v_items);
task.push(g5.p2.p11.c_pages.c5.v_items);
return task;



</functionCode>
    </item>
    <item name="contentGetCurrentBuff" type="20">
      <varValue />
      <functionParam />
      <functionCode>var currentPage = null;
if (g5.currentPageIndex == 0) {
    currentPage = g5.p2.p1.v_items;
} else if (g5.currentPageIndex == 1) {
    if (g5.p2.p2.p2sub.currentPageIndex == 1) {
        currentPage = g5.p2.p2.p1Items;
    } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
        currentPage = g5.p2.p2.p3Items;
    }
} else if (g5.currentPageIndex == 7) {
    currentPage = g5.p2.p9.v_items;
} else if (g5.currentPageIndex == 4) {
    currentPage = g5.p2.p5.v_items;
} else if (g5.currentPageIndex == 10) {
    if (g5.p2.p11.currentPage == "c1") {
        currentPage = g5.p2.p11.c_pages.c1.v_items;
    } else if (g5.p2.p11.currentPage == "c2") {
        currentPage = g5.p2.p11.c_pages.c2.v_items;
    } else if (g5.p2.p11.currentPage == "c4") {
        currentPage = g5.p2.p11.c_pages.c4.v_items;
    } else if (g5.p2.p11.currentPage == "c5") {
        currentPage = g5.p2.p11.c_pages.c5.v_items;
    }
}
return currentPage;</functionCode>
    </item>
    <item name="contentRenew" type="20">
      <varValue />
      <functionParam>items, index, v_content,v_reContent,v_userInfo,v_reUserInfo</functionParam>
      <functionCode>var item = items[index];
var root = item.parentNode;
var rect = eb.getDivRect(item);
var itemId = item.id;
var itemMode = item.v_mode;
ee.removeControl(item);
item = createPanel(root, itemId, "", 0, rect.y, rect.w, 5);
item.v_mode = itemMode;
item.v_content = v_content;
item.v_reContent = v_reContent;
item.v_userInfo = v_userInfo;
item.v_reUserInfo = v_reUserInfo;
g5.renderTwitter(item);
item.style.borderLeft="";    
item.style.borderRight="";    
items[index] = item;
var newRect = eb.getDivRect(item);
g5.batchMoveY(items, index+1, newRect.h - rect.h);
</functionCode>
    </item>
    <item name="syncTwitterOld" type="20">
      <varValue />
      <functionParam>contentId,buttonNumber</functionParam>
      <functionCode><![CDATA[var task = ["page1_","puser_","page8_","sech_"];
var item;
for (var i=0; i<task.length; i++) {
    item = $g(task[i]+contentId);
    if (!eb.isEmpty(item)) {
        if (buttonNumber==2) item.changeButton2();
        if (buttonNumber==3) item.changeButton3();
    }
    item = $g(task[i]+contentId+"L");
    if (!eb.isEmpty(item)) {
        if (buttonNumber==2) item.changeButton2();
        if (buttonNumber==3) item.changeButton3();
    }
}


]]></functionCode>
    </item>
    <item name="loadUserRecord" type="20">
      <varValue />
      <functionParam>panel, dataset, index</functionParam>
      <functionCode>panel.v_userInfo = new g5.UserInfo();
panel.v_userInfo.loadFromDataset(dataset,0,index);
panel.v_isFollow = dataset.getData(13,index);


</functionCode>
    </item>
    <item name="renderUserBar" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[while (root.v_mode.length<5) root.v_mode += " ";
var w = eb.getDivRect(root).w;
var c,cy=10;

root.style.boxSizing="border-box";
root.style.borderWidth = "1px";
root.style.borderColor = "rgb(230,236,240)";
root.style.borderStyle = "solid";
root.style.borderTop = "";
root.style.cursor = "pointer";
ee.setOnClick(root,function(sender,event) {
    showUserPage.userName=sender.v_userInfo.userName;
    showUserPage();
    if (sender.c_photo.v_timer!=null) {
        clearTimeout(sender.c_photo.v_timer);
        sender.c_photo.v_timer = null;
    }
    getUserInfo2.busy = false;    
    ee.showAni(ee.getControl("panel10"), 1);    
});
ee.setOnMouseEnter(root, function(sender,e){
    sender.style.backgroundColor = "rgb(245,248,250)";
});
ee.setOnMouseLeave(root, function(sender,e){
    sender.style.backgroundColor = "#ffffff";
});

//user photo
c = createPanel(root, root.id+"panel13", "", 15,cy,50,50);
if (root.v_userInfo.photo == "") {
    ee.setImage(c,"/twitterG/main/user.png","trim","","")
} else {
    ee.setImage(c,"url:" + g5.imgUrl + root.v_userInfo.photo,"trim","","")
}
c.style.borderRadius = "50%";
c.v_timer = null;
root.c_photo = c;
ee.setOnMouseEnter(c, function(sender,e) {
    sender.style.webkitFilter="brightness(80%)";
    sender.style.filter="brightness(80%)";
    if (sender.v_timer!=null) clearTimeout(sender.v_timer);
    sender.v_timer = setTimeout(function() {
        ee.getControl("panel280").show(root.v_userInfo.id, root.c_photo);
    }, 200);
});
ee.setOnMouseLeave(c, function(sender,e) {
    sender.style.webkitFilter="brightness(100%)";
    sender.style.filter="brightness(100%)";
    if (sender.v_timer!=null) {
        clearTimeout(sender.v_timer);
        sender.v_timer = null;
    }
});

//user nick name
c = createPanel(root, root.id+"panel16", "", 77, cy, 415, 22); cy+=22;
addText(c, root.v_userInfo.nickName, "left", "middle", "微软雅黑", 12, "14171a", "bold");
c.style.cursor="pointer";
ee.setOnMouseEnter(c,function(sender,e){
    sender.label.rows[0].cells[0].style.textDecoration="underline";
});
ee.setOnMouseLeave(c,function(sender,e){
    sender.label.rows[0].cells[0].style.textDecoration="";
});

//username
c = createPanel(root, root.id+"panel16", "", 77, cy, 415, 22); cy+=22;
addText(c, "@"+root.v_userInfo.userName, "left", "middle", "微软雅黑", 12, "6e7f8d", "normal");

//note
c = createPanel(root, root.id+"panel16", "", 77, cy, 480, 22);
addText(c, root.v_userInfo.note, "left", "top", "微软雅黑", 12, "14171a", "normal");
eb.processDock();
var rect = eb.getDivRect(c.label);
ee.setRect(c, null, null, null, rect.h);
cy += rect.h;

//button
if (root.v_mode.charAt(0)=="x") {
    c = createPanel(root, root.id+"button11", "", 505, 12, 80, 40);
    addText(c, "已屏蔽", "center", "middle", "微软雅黑", 12, "ffffff", "bold");
    c.style.borderRadius = "20px";
    root.v_isBlock = false;
    root.c_button11 = c;
    root.changeButton = function() {
        this.v_isBlock = !this.v_isBlock;    
        if (this.v_isBlock) {
            this.c_button11.style.backgroundColor = "#e0245e";
            ee.setTextColor(this.c_button11, "#ffffff");
            ee.setText(this.c_button11, "已屏蔽");
            this.c_button11.style.borderWidth = "0px";
            this.c_button11.style.borderStyle = "solid";
        } else {
            c.style.backgroundColor = "#ffffff";
            ee.setTextColor(this.c_button11, "#e0245e");
            ee.setText(this.c_button11, "屏蔽");
            this.c_button11.style.borderWidth = "1px";
            this.c_button11.style.borderStyle = "solid";
            this.c_button11.style.borderColor = "#e0245e";
        }
    }
    ee.setOnMouseEnter(c, function(sender,event) {
        sender.style.backgroundColor = sender.parentNode.v_isBlock ? "#ca2055" : "#f3e3eb";
    });
    ee.setOnMouseLeave(c, function(sender,event) {
        sender.style.backgroundColor = sender.parentNode.v_isBlock ? "#e0245e" : "#ffffff";
    });
    c.eeMouseDown = function(sender, event, x, y) {
        sender.style.backgroundColor = sender.parentNode.v_isBlock ? "#b31d4b" : "#f1cddb";
    }
    c.eeMouseUp = function(sender, event, x, y) {
        sender.style.backgroundColor = sender.parentNode.v_isBlock ? "#ca2055" : "#f3e3eb";
    }
    ee.setOnClick(c, function(sender, event) {
        if (sender.parentNode.v_isBlock) {
            blockUser.userId = sender.parentNode.v_userInfo.id;
            blockUser.isBlock = 0;
            blockUser();    
        } else {
            blockUser.userId = sender.parentNode.v_userInfo.id;
            blockUser.isBlock = 1;
            blockUser();    
        }
        sender.parentNode.changeButton();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });
    eb.initMouseEvent(c);
    root.changeButton();    
} else {
    c = createPanel(root, root.id+"button01", "", 470, 12, 88, 32);
    root.button1 = c;
    c.style.cursor="pointer";
    ee.setImage(c,"url:/res/empty.png","stretch","","")
    c = createPanel($g(root.id+"button01"), root.id+"button01status1", "", 0, 0, 98, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/LRBtn10.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "关注", "center", "middle", "微软雅黑", 11, "27a5f3", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button01");
    c.status1=$g(root.id+"button01status1");
    c.status1.button=c;
    c = createPanel($g(root.id+"button01"), root.id+"button01status2", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/LRBtn11.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "关注", "center", "middle", "微软雅黑", 11, "27a5f3", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button01");
    c.status2=$g(root.id+"button01status2");
    c.status2.button=c;
    c = createPanel($g(root.id+"button01"), root.id+"button01status3", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/twitterG007.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "关注", "center", "middle", "微软雅黑", 11, "27a5f3", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button01");
    c.status3=$g(root.id+"button01status3");
    c.status3.button=c;
    c = createPanel($g(root.id+"button01"), root.id+"button01clickLayer", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    ee.setImage(c,"url:/res/empty.png","stretch","","")
    eb.setDock(c,"fill","fill");
    ee.setOnClick(c,function(sender,event) {
        ee.setVisible(sender.parentNode.parentNode.button2, true);
        ee.setVisible(sender.parentNode, false);
        follow.userId=sender.parentNode.parentNode.v_userInfo.id;
        follow.follow=1;
        follow();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });
    c=$g(root.id+"button01");
    c.clickLayer=$g(root.id+"button01clickLayer");
    c.clickLayer.button=c;
    eb.initButton(c);
    c.downX=1;
    c.downY=2;
    //button2
    c = createPanel(root, root.id+"button02", "", 440, 12, 120, 32);
    root.button2 = c;
    c.style.cursor="pointer";
    ee.setImage(c,"url:/res/empty.png","stretch","","")
    c = createPanel($g(root.id+"button02"), root.id+"button02status1", "", 0, 0, 98, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/LRBtn9.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "正在关注", "center", "middle", "微软雅黑", 11, "ffffff", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button02");
    c.status1=$g(root.id+"button02status1");
    c.status1.button=c;
    c = createPanel($g(root.id+"button02"), root.id+"button02status2", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/twitterG004.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "取消关注", "center", "middle", "微软雅黑", 11, "ffffff", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button02");
    c.status2=$g(root.id+"button02status2");
    c.status2.button=c;
    c = createPanel($g(root.id+"button02"), root.id+"button02status3", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    addSkin(c, "/twitterG/skins/twitterG006.png","LR3x",65,50,24,0,17,50,24,3,17,43);
    addText(c, "取消关注", "center", "middle", "微软雅黑", 11, "ffffff", "bold");
    eb.setDock(c,"fill","fill");
    c=$g(root.id+"button02");
    c.status3=$g(root.id+"button02status3");
    c.status3.button=c;
    c = createPanel($g(root.id+"button02"), root.id+"button02clickLayer", "", 26, 226, 78, 32);
    c.style.cursor="pointer";
    ee.setImage(c,"url:/res/empty.png","stretch","","")
    eb.setDock(c,"fill","fill");
    ee.setOnClick(c,function(sender,event) {
        ee.setVisible(sender.parentNode.parentNode.button1, true);
        ee.setVisible(sender.parentNode, false);
        follow.userId=sender.parentNode.parentNode.v_userInfo.id;
        follow.follow=0;
        follow();
        window.event? window.event.cancelBubble = true : event.stopPropagation();    
    });
    c=$g(root.id+"button02");
    c.clickLayer=$g(root.id+"button02clickLayer");
    c.clickLayer.button=c;
    eb.initButton(c);
    c.downX=1;
    c.downY=2;
              
    ee.setVisible(root.button1, false);
    ee.setVisible(root.button2, false);
    if (root.v_isFollow=="0") {
        ee.setVisible(root.button1, true);
    } else if (root.v_isFollow=="1") {
        ee.setVisible(root.button2, true);
    }

}

cy+=10;
eb.setDivRect(root,null,null,null,cy);
return root; 




]]></functionCode>
    </item>
    <item name="appendItemPage2" type="20">
      <varValue />
      <functionParam>parent, username, nickname, userPhoto</functionParam>
      <functionCode><![CDATA[//v_username
//c_userphoto, c_label
var hd = "f" + g5.itemsPage2.length + "_";
if (eb.isEmpty(userPhoto)) userPhoto = "";
var w = eb.getDivRect(parent).w;
var h = eb.getDivRect(parent).h;
var y = 0;
if (g5.itemsPage2.length > 0) {
    y = eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).y + eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).h;
}
y += 0; //v-space

c = createPanel(parent, hd+"panel12", "FFFFFF", 0, y, w, parseInt(w/5.4875));
var root = c;
ee.setOnClick(c,function(sender,event) {
    showUserPage.userName=sender.v_username;
    showUserPage();
});
g5.itemsPage2.push(root);
root.v_username = username;
eb.setDock(c,"disabled","disabled");
c = createPanel($g(hd+"panel12"), hd+"panel13", "", 13, 10, 57, 59);
eb.setDock(c,"ratio","ratio");
c.leftRatio=0.0296127562642369;
c.widthRatio=0.129840546697039;
c.topRatio=0.125;
c.heightRatio=0.7375;
c = createPanel($g(hd+"panel13"), hd+"panel14", "", 0, 0, 57, 59);
root.c_userphoto = c;
if (userPhoto == "") {
    ee.setImage(c,"/twitterG/main/user.png","trim","","")
} else {
    ee.setImage(c,"url:" + g5.imgUrl + userPhoto,"trim","","")
}
eb.setDock(c,"fill","fill");
eb.setOuter(c,1,1,1,1);
c = createPanel($g(hd+"panel13"), hd+"panel15", "", 0, 0, 57, 59);
ee.setImage(c,"/twitterG/main/page2/cirMask.png","trim","","")
eb.setDock(c,"fill","fill");
c = createPanel($g(hd+"panel12"), hd+"panel16", "", 86, 18, 347, 43);
root.c_label = c;
addText(c, "<b>" + nickname + "</b>@" + username, "left", "middle", "Helvetica", 14, "000000", "normal");
//eb.setFontSizeAuto(c, 20);
eb.setDock(c,"ratio","ratio");
c.leftRatio=0.195899772209567;
c.widthRatio=0.790432801822323;
c.topRatio=0.225;
c.heightRatio=0.5375;
c = createPanel($g(hd+"panel12"), hd+"panel611","C0C0C0", 0, 0, w, 1);
eb.setDock(c,"fill","bottom");    

eb.processDock();
if (g5.itemsPage2.length > 0) {
    y = eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).y + eb.getDivRect(g5.itemsPage2[g5.itemsPage2.length-1]).h;
}
y += 0; //v-space
return y;]]></functionCode>
    </item>
    <item name="refreshMain" type="20">
      <varValue />
      <functionParam>refresh</functionParam>
      <functionCode><![CDATA[//process time
var currentItems = g5.contentGetCurrentBuff();
if (!currentItems) currentItems = new Array();
for (var i=0; i<currentItems.length; i++) {
    var item = currentItems[i];
    if (!item.v_content) continue;
    var now = parseInt((new Date()).getTime()/1000);    
    var time = now-item.v_content.startTime;
    if (time>=24*60*60) continue;
    time=g5.getMins(time);
    if (item.v_timeLabel) {
        if (item.v_timeLabel.innerHTML!=time) {
            item.v_timeLabel.innerHTML = time;
        }
    }
}

var cw = $g("divRoot").offsetWidth;    
if (eb.isEmpty(refresh)) refresh = false;
if ((g5.lastWidth == cw)&amp;&amp;(!refresh)) return;
g5.lastWidth = cw;
var p1w = eb.getDivRect(g5.p1).w;
var p2w = eb.getDivRect(g5.p2).w;
var p3w = eb.getDivRect(g5.p3).w;
if (g5.pageMode == 0) {
    if (cw >= 300+600+400) {
        p1w = 300;
        p2w = 600;
        p3w = 400;
    } else if (cw >= 80+600+400) {
        p1w = 80;
        p2w = 600;
        p3w = 400;
    } else if (cw >= 80+600+330) {
        p1w = 80;
        p2w = 600;
        p3w = 330;
    } else if (cw >= 80+600) {
        p1w = 80;
        p2w = 600;
        p3w = 0;
    } else {
        p1w = 80;
        p2w = cw-80;
        p3w = 0;
    }
} else if (g5.pageMode == 1) {
    if (cw >= 300+600+400) {
        p1w = 300;
        p2w = 400;
        p3w = 600;
    } else if (cw >= 80+600+400) {
        p1w = 80;
        p2w = 400;
        p3w = 600;
    } else if (cw >= 80+300+6000) {
        p1w = 80;
        p2w = 300;
        p3w = 600;
    } else if (cw >= 80+600) {
        p1w = 80;
        p2w = 0;
        p3w = 600;
    } else {
        p1w = 80;
        p2w = 0;
        p3w = cw-80;
    }
}
var left = parseInt((cw - p1w - p2w - p3w) / 2);
ee.setRect(g5.p1,left,null,p1w,null);
if (p1w<=80) {
    g5.changeP1(2);
} else {
    g5.changeP1(1);
}
ee.setRect(g5.p2,left+p1w,null,p2w,null);
ee.setRect(g5.p4,left+p1w,null,p2w,null);
if (p3w==0) {
    ee.setVisible(g5.p3, false);
} else {
    ee.setVisible(g5.p3, true);
    ee.setRect(g5.p3,left+p1w+p2w,null,p3w,null);
}
ee.setRect(g5.pLine1, left+p1w,null,null,null);
ee.setRect(g5.pLine2, left+p1w+p2w,null,null,null);

eb.processDock();]]></functionCode>
    </item>
    <item name="refreshScroll" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var viewPortH = eb.getClientSize().h;
var eeDivRoot = $g("divRoot");
var p2h = eb.getDivRect(g5.p2).h;
if ((p2h-viewPortH-document.documentElement.scrollTop) < 6000) {
    if (g5.currentPageIndex == 0) {
        g5.p2.p1.loadMore();
    } else if (g5.currentPageIndex == 10) {
        if (g5.p2.p11.currentPage == "c1") {
            g5.p2.p11.c_pages.c1.loadMore();
        } else if (g5.p2.p11.currentPage == "c2") {
            g5.p2.p11.c_pages.c2.loadMore();
        } else if (g5.p2.p11.currentPage == "c3") {
            g5.p2.p11.c_pages.c3.loadMore();
        } else if (g5.p2.p11.currentPage == "c4") {
            g5.p2.p11.c_pages.c4.loadMore();
        } else if (g5.p2.p11.currentPage == "c5") {
            g5.p2.p11.c_pages.c5.loadMore();
        }
    } else if (g5.currentPageIndex == 4) {
        g5.p2.p5.loadMore();
    } else if (g5.currentPageIndex == 11) {
        g5.p2.p12.loadMore();
    } else if (g5.currentPageIndex == 1) {
        if (g5.p2.p2.p2sub.currentPageIndex == 1) {
            g5.p2.p2.p2sub.p1.loadMore();
        } else if (g5.p2.p2.p2sub.currentPageIndex == 3) {
            g5.p2.p2.p2sub.updateP3();
        }
    }
}

]]></functionCode>
    </item>
    <item name="changeP1" type="20">
      <varValue />
      <functionParam>pageIndex</functionParam>
      <functionCode>if (eb.isEmpty(this.currentIndex)) this.currentIndex = -1;

if (this.currentIndex == 1) {
    ee.setVisible(ee.getControl("panel26"), false);
} else if (this.currentIndex == 2) {
    ee.setVisible(ee.getControl("panel199"), false);
}

if (pageIndex==1) {
    ee.setVisible(ee.getControl("panel26"), true);
} else if (pageIndex==2) {
    ee.setVisible(ee.getControl("panel199"), true);
}

this.currentIndex = pageIndex;</functionCode>
    </item>
    <item name="changeP2" type="20">
      <varValue />
      <functionParam>pageIndex</functionParam>
      <functionCode><![CDATA[if (g5.currentPageIndex == pageIndex) return true;
var root = ee.getControl("panel135");
var url = window.location.href;
var a = url.indexOf("?");
if (a>=0) url = url.substr(0,a+1);
var pageState = {title:"", url:url};

if (g5.notPushHis) {
    pageState = "";
    g5.notPushHis = false;
}
if (g5.currentPageIndex == 0) {
    g5.p2.p1.close();
} else if (g5.currentPageIndex == 1) {
    g5.p2.p2.close();
} else if (g5.currentPageIndex == 2) {
    ee.setVisible(g5.p4, false);
    g5.player.stop();
    ee.showAni(ee.getControl("panel82"), 1);
} else if (g5.currentPageIndex == 3) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("panel70"), 1);
} else if (g5.currentPageIndex == 4) {
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p2.p5, false)
} else if (g5.currentPageIndex == 5) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("panel97"), 1);
} else if (g5.currentPageIndex == 6) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("layouty5"), 1);
    ee.showAni(ee.getControl("panel116"), 1);
} else if (g5.currentPageIndex ==7) {
    g5.p2.p9.close();
} else if (g5.currentPageIndex == 9) {
    ee.setVisible(g5.p4, false);
    ee.showAni(ee.getControl("panel156"), 1);
    g5.changeP3(-1);
} else if (g5.currentPageIndex == 10) {
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p2.p11, false);
} else if (g5.currentPageIndex == 11) {
    getPromptCount.count = 0;
    ee.setVisible(g5.p4, false);
    ee.setVisible(g5.p2.p12, false);
}

if (pageIndex == 0) {
    g5.p2.p1.activePage();
} else if (pageIndex == 1) {
    g5.p2.p2.activePage();
} else if (pageIndex == 2) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel82"), 0);
} else if (pageIndex == 3) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel70"), 0);
} else if (pageIndex == 4) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a4");
    ee.setVisible(g5.p2.p5, true)
    if (pageState!="") {
        history.pushState(pageState,"","?p=4");
    }
} else if (pageIndex == 5) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel97"), 0);
} else if (pageIndex == 6) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 1;
    g5.refreshMain(true);
    ee.setRect(g5.p3,null,null,null,eb.getDivRect(g5.mainDiv).h);
    eb.processDock();
    ee.showAni(g5.p2.p7, 0);
    ee.showAni(g5.p3.p3, 0);
    if (pageState!="") {
        history.pushState(pageState,"","?p=6");
    }
} else if (pageIndex == 7) {
    g5.p2.p9.activePage();
} else if (pageIndex == 9) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 1;
    g5.refreshMain(true);
    ee.showAni(ee.getControl("panel156"), 0);
    g5.changeP3(4);
    if (pageState!="") {
        history.pushState(pageState,"","?p=9");
    }
} else if (pageIndex == 10) {
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a3");
    ee.setVisible(g5.p2.p11, true);
    g5.p2.p11.init();
    g5.p2.p11.changePage("c1");
    if (pageState!="") {
        history.pushState(pageState,"","?p=10&amp;s=" + escape(g5.p2.p11.v_searchString));
    }
} else if (pageIndex == 11) {
    g5.mainDiv.scrollTop = 0;
    g5.pageMode = 0;
    g5.refreshMain(true);
    ee.setVisible(g5.p4, true);
    g5.p4.changePage("a5");
    ee.setVisible(g5.p2.p12, true)
    if (pageState!="") {
        history.pushState(pageState,"","?p=11");
    }
}
g5.currentPageIndex = pageIndex;
return true;]]></functionCode>
    </item>
    <item name="changeP3" type="20">
      <varValue />
      <functionParam>pageIndex</functionParam>
      <functionCode>if (eb.isEmpty(g5.currentP3Index)) g5.currentP3Index = -1;

ee.setVisible(ee.getControl("panel132"), false);
ee.setVisible(ee.getControl("panel133"), false);
ee.setVisible(ee.getControl("panel128"), false);
ee.setVisible(ee.getControl("panel129"), false);
ee.setTextColor(ee.getControl("layoutxitem15"), "#808080");
ee.setTextColor(ee.getControl("layoutxitem16"), "#808080");
if (pageIndex == 0) {
    ee.setVisible(ee.getControl("panel132"), true);
    ee.setVisible(ee.getControl("panel128"), true);
    ee.setTextColor(ee.getControl("layoutxitem15"), "#1C94E0");
} else if (pageIndex == 1) {
    ee.setVisible(ee.getControl("panel133"), true);
    ee.setVisible(ee.getControl("panel129"), true);
    ee.setTextColor(ee.getControl("layoutxitem16"), "#1C94E0");
}

if (g5.currentP3Index == 4) {
    ee.showAni(ee.getControl("panel167"), 1);
} else if (g5.currentP3Index == 5) {
    ee.showAni(ee.getControl("panel189"), 1);
} else if (g5.currentP3Index == 6) {
    ee.showAni(ee.getControl("panel208"), 1);
} else if (g5.currentP3Index == 7) {
    ee.showAni(ee.getControl("panel231"), 1);
} else if (g5.currentP3Index == 8) {
    ee.showAni(g5.p3.p8, 1);
} else if (g5.currentP3Index == 9) {
    ee.showAni(g5.p3.p9, 1);
} else if (g5.currentP3Index == 10) {
    ee.showAni(g5.p3.p10, 1);
} else if (g5.currentP3Index == 11) {
    ee.showAni(g5.p3.p11, 1);
} else if (g5.currentP3Index == 12) {
    ee.showAni(g5.p3.p12, 1);
}

if (pageIndex==4) {
    ee.showAni(ee.getControl("panel167"), 0);
} else if(pageIndex==5) {
    ee.showAni(ee.getControl("panel189"), 0);
} else if(pageIndex==6) {
    ee.showAni(ee.getControl("panel208"), 0);
} else if(pageIndex==7) {
    ee.showAni(ee.getControl("panel231"), 0);
} else if(pageIndex==8) {
    ee.showAni(g5.p3.p8, 0);
} else if(pageIndex==9) {
    g5.p3.p9.init();
    ee.showAni(g5.p3.p9, 0);
} else if(pageIndex==10) {
    g5.p3.p10.init();
    ee.showAni(g5.p3.p10, 0);
} else if(pageIndex==11) {
    g5.p3.p11.init();
    ee.showAni(g5.p3.p11, 0);
} else if(pageIndex==12) {
    g5.p3.p12.init();
    ee.showAni(g5.p3.p12, 0);
}

g5.currentP3Index = pageIndex;</functionCode>
    </item>
    <item name="processUrl" type="20">
      <varValue />
      <functionParam />
      <functionCode>g5.notPushHistory = true;
var p = g5.getQueryString("p");
if (eb.isEmpty(p)) {
    g5.notPushHis = true;
    g5.changeP2(0);
} else if (p=="1") {
    g5.notPushHis = true;
    g5.p2.p2.show(null,null,g5.getQueryString("u"));
} else if (p=="4") {
    g5.notPushHis = true;
    g5.p2.p5.show();
} else if (p=="6") {
    g5.notPushHis = true;
    g5.changeP2(6);
    showChatList();
} else if (p=="7") {
    g5.p2.p9.show(null,null,null,null,g5.getQueryString("c"));
    g5.notPushHis = true;
} else if (p=="9") {
    g5.notPushHis = true;
    g5.changeP2(9);
} else if (p=="10") {
    g5.notPushHis = true;
    g5.p2.p11.search(g5.getQueryString("s"));    
} else if (p=="11") {
    g5.notPushHis = true;
    g5.p2.p12.show();
}
g5.notPushHistory = false;
</functionCode>
    </item>
    <item name="refreshUserInfo" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var s;
if (eb.isEmpty(g5.myUserInfo)) return;
s = "<b>" + g5.myUserInfo.nickName + "</b><br/>";
s += "@" + g5.myUserInfo.userName;
ee.getControl("panel418").setText(g5.myUserInfo.nickName + " @" + g5.myUserInfo.userName);
ee.setEditText(ee.getControl("edit2"), g5.myUserInfo.nickName);
ee.setEditText(ee.getControl("edit3"), g5.myUserInfo.note);
ee.setEditText(ee.getControl("edit4"), g5.myUserInfo.homePage);

if (g5.myUserInfo.photo == "") {
    ee.setImage(ee.getControl("panel2"), "/twitterG/main/user.png");
    ee.setImage(ee.getControl("panel55"), "/twitterG/main/user.png");
    ee.setImage(ee.getControl("panel14"), "/twitterG/main/user.png");
} else {
    ee.setImage(ee.getControl("panel2"), "url:" + g5.imgUrl + g5.myUserInfo.photo);
    ee.setImage(ee.getControl("panel55"), "url:" + g5.imgUrl + g5.myUserInfo.photo);
    ee.setImage(ee.getControl("panel14"), "url:" + g5.imgUrl + g5.myUserInfo.photo);
}
if (g5.myUserInfo.titleBg == "") {
    ee.setImage(ee.getControl("panel58"));
} else {
    ee.setImage(ee.getControl("panel58"), "url:" + g5.imgUrl + g5.myUserInfo.titleBg, "trim");
}


]]></functionCode>
    </item>
    <item name="pushHistory" type="20">
      <varValue />
      <functionParam>param</functionParam>
      <functionCode><![CDATA[if (g5.notPushHistory) return;
var url = window.location.href;
var a = url.indexOf("?");
if (a>=0) url = url.substr(0,a+1);
var pageState = {title:"", url:url};
param = "?" + param;
history.pushState(pageState,"",param);

]]></functionCode>
    </item>
    <item name="setImage" type="20">
      <varValue />
      <functionParam>div, url, style, alt, title, delay</functionParam>
      <functionCode>eval("setTimeout(function() { "+
    "ee.setImage($g(\""+div.id+"\"),\""+url+"\",\"" + style + "\",\""+alt+"\",\""+title+"\");" +
    " }, " + delay + ")");
</functionCode>
    </item>
    <item name="getMins" type="20">
      <varValue />
      <functionParam>seconds</functionParam>
      <functionCode><![CDATA[seconds = parseInt(seconds);
var a;
if (seconds<60) return (seconds<10 ? "0"+seconds: seconds) + "秒";
if (seconds<60*60) {
    a = seconds%60;
    return parseInt(seconds/60) + "分" + (a<10 ? "0"+a:a) + "秒";
} else if (seconds<60*60*24) {
    a = parseInt((seconds%(60*60))/60);
    return parseInt(seconds/60/60) + "小时" + (a<10 ? "0"+a:a) + "分钟";
} else {
    var time = new Date((new Date()).getTime()-seconds*1000);
    return (time.getMonth()+1) + "月" + (time.getDate()+1) + "日";
}]]></functionCode>
    </item>
    <item name="showCommonText" type="20">
      <varValue />
      <functionParam>text</functionParam>
      <functionCode><![CDATA[return text.replace("<","&amp;lt;").replace(">","&amp;gt;");]]></functionCode>
    </item>
    <item name="refreshPage2" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[if (eb.isEmpty(g5.datasetPage2)) return;
var i;
var root = ee.getControl("panel128"); 
if (g5.newUser) {
    root = ee.getControl("layoutyitem8");
}

for (i=0; i<g5.itemsPage2.length; i++) ee.removeControl(g5.itemsPage2[i]);
g5.itemsPage2 = new Array();
for (i=0; i< g5.datasetPage2.rowCount; i++) {
    //function(parent, username, nickname, userPhoto)
    //dataset: id,userName,nickName,photo"
    cy = g5.appendItemPage2(
        root,
        g5.datasetPage2.getData(1,i),
        g5.datasetPage2.getData(2,i),
        g5.datasetPage2.getData(3,i));
}    
ee.setRect(root,null,null,null,cy);]]></functionCode>
    </item>
    <item name="deletePage1" type="20">
      <varValue />
      <functionParam>item</functionParam>
      <functionCode><![CDATA[var i=0;
for (i=0; i<g5.itemsHome.length; i++) {
    if (g5.itemsHome[i]==item) {
        break;
    }
}
if (i>=g5.itemsHome.length) return;
var pos = i;
var dh = eb.getDivRect(g5.itemsHome[pos]).h;
ee.removeControl(g5.itemsHome[pos]);
g5.itemsHome.slice(pos,1);
for (i=pos; i<g5.itemsHome.length; i++) {
    ee.setRect(g5.itemsHome[i],null,eb.getDivRect(g5.itemsHome[i]).y-dh,null,null);
}
if (g5.itemsHome.length>0) {
    var rect = eb.getDivRect(g5.itemsHome[g5.itemsHome.length-1]);
    eb.setDivRect(ee.getControl("panel41"),null,null,null,rect.y+rect.h);
}]]></functionCode>
    </item>
    <item name="batchMoveY" type="20">
      <varValue />
      <functionParam>items,index,dy</functionParam>
      <functionCode><![CDATA[for (var i=index; i<items.length; i++) {
    ee.setRect(items[i],null,eb.getDivRect(items[i]).y+dy,null,null);
}
]]></functionCode>
    </item>
    <item name="refreshPhoto" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(root.v_photos)) root.v_photos = new Array();
if (eb.isEmpty(root.v_items)) root.v_items = new Array();
var i;
for (i=0; i<root.v_items.length; i++) {
    ee.removeControl(root.v_items[i]);
}
root.v_items = new Array();
var rect = eb.getDivRect(root);
var item;
if (root.v_photos.length==1) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, rect.w, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==2) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==3) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, rect.h);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo3", "", parseInt(rect.w/2)+1, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[2]; item.v_index = 2;
    g5.addPhoto(item); root.v_items.push(item);
} else if (root.v_photos.length==4) {
    item = createPanel(root, root.id+"_photo1", "", 0, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[0]; item.v_index = 0;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo2", "", 0, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[1]; item.v_index = 1;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo3", "", parseInt(rect.w/2)+1, 0, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[2]; item.v_index = 2;
    g5.addPhoto(item); root.v_items.push(item);
    item = createPanel(root, root.id+"_photo4", "", parseInt(rect.w/2)+1, parseInt(rect.h/2)+1, parseInt(rect.w/2)-1, parseInt(rect.h/2)-1);
    item.v_photo = root.v_photos[3]; item.v_index = 3;
    g5.addPhoto(item); root.v_items.push(item);
}   ]]></functionCode>
    </item>
    <item name="addPhoto" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[var c;
var rect = eb.getDivRect(root);
if (root.v_photo.substr(0,4) == "?YTB") {
    root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
    root.parentNode.c_player = new YT.Player(root.id + "_ytb", {
        height: rect.h,
        width: rect.w,
        videoId: root.v_photo.substr(4, root.v_photo.length),
        events: {
            "onReady": function(event) {
                if (event.target.v_mode=="") {
                    event.target.mute();
                }
            },
            "onStateChange": function(event) {
                if (event.data == YT.PlayerState.PLAYING) {
                    if (event.target!=g5.player.currentPlayer) {
                        g5.player.stop();
                        g5.player.forceMode = true;
                        g5.player.currentPlayer=event.target;
                    }
                }
            }
        }
    });
    root.parentNode.c_video = root;
    root.parentNode.c_player.v_mode = root.parentNode.v_mode;
    if (root.parentNode.v_mode=="") {
        var h = rect.h - 50;
        if (h<0) h = rect.h;
        c = createPanel(root, root.id+"_clk", "rgba(255,255,255,0.01)", 0,0,rect.w,h);
        c.style.cursor = "pointer";
        ee.setOnClick(c, function(sender, event) {
            if (!sender.parentNode.parentNode.c_player.unMute) {
                ee.setVisible(sender, false);
                window.event? window.event.cancelBubble = true : event.stopPropagation();
                return;
            }
            sender.parentNode.parentNode.c_player.unMute();
            ee.setVisible(sender, false);
            if (sender.parentNode.parentNode.c_player!=g5.player.currentPlayer) {
                sender.parentNode.parentNode.c_player.playVideo();    
            }
            window.event? window.event.cancelBubble = true : event.stopPropagation();
        });
    }
    //root.innerHTML = "<iframe width='" + rect.w + "' height='" + rect.h + "' src='https://www.youtube.com/embed/" +
    //    root.v_photo.substr(4, root.v_photo.length) + 
    //    "' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>";
} else {
    root.imgUrl = "url:" + g5.imgUrl + root.v_photo
    g5.setImage(root,root.imgUrl,"trim","","",400);
    ee.setOnClick(root, function(sender, event) {
        ee.getControl("panel142").show(sender.parentNode.v_photos, sender.v_photo);
        g5.player.stop();
        window.event? window.event.cancelBubble = true : event.stopPropagation();
    }); 
}
//ee.getControl("panel53").style.pointerEvents = "none";
if (root.parentNode.v_mode=="x") {
    c = createPanel(root, root.id+"_close", "", rect.w-36-12, 12, 36, 36);
    c.innerHTML = "<svg viewBox=\"0 0 24 24\" style=\"font-size: 13px;height:1.5em;width:1.5em;margin:8px 8px 8px 8px;color:rgba(255,255,255,1);fill: currentcolor;vertical-align:middle;\">" + g5.iconClose + "</svg>";
    c.style.borderRadius = "50%";
    c.style.backgroundColor = "rgba(0,0,0,0.8)";
    c.style.zIndex=100;
    c.style.cursor = "pointer";
    ee.setOnMouseEnter(c, function(sender,event) {
        sender.style.backgroundColor = "rgba(0,0,0,0.5)";
    });    
    ee.setOnMouseLeave(c, function(sender,event) {
        sender.style.backgroundColor = "rgba(0,0,0,0.8)";
    });
    ee.setOnClick(c, function(sender, event) {
        sender.parentNode.parentNode.v_photos.splice(sender.parentNode.v_index,1);
        g5.refreshPhoto(sender.parentNode.parentNode);    
    })
}]]></functionCode>
    </item>
    <item name="addVideoExt" type="20">
      <varValue />
      <functionParam>root</functionParam>
      <functionCode><![CDATA[/*
if (root.v_photo.substr(0,4) != "?YTB") return;
root.style.cursor = "pointer";
root.imgUrl = "url:http://i3.ytimg.com/vi/" + root.v_photo.substr(4) + "/maxresdefault.jpg";
g5.setImage(root,root.imgUrl,"trim","","",400);
ee.setOnClick(root, function(sender, event) {
    window.open("https://www.youtube.com/watch?v=" + sender.v_photo.substr(4));
    window.event? window.event.cancelBubble = true : event.stopPropagation();
}); 
*/

if (root.v_photo.substr(0,4) != "?YTB") return;
root.innerHTML = "<div id='" + root.id + "_ytb'></div>";
var rect = eb.getDivRect(root);
root.parentNode.c_player = new YT.Player(root.id + "_ytb", {
    height: rect.h,
    width: rect.w,
    videoId: root.v_photo.substr(4, root.v_photo.length),
    events: {
        "onReady": function(event) {
        },
        "onStateChange": function(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                if (event.target!=g5.player.currentPlayer) {
                    g5.player.stop();
                    g5.player.forceMode = true;
                    g5.player.currentPlayer=event.target;
                }
            }
        }
    }
});
root.parentNode.c_video = root;
root.parentNode.v_photo = root.v_photo;
var h = rect.h;
if (h<0) h = rect.h;
c = createPanel(root, root.id+"_clk", "rgba(255,255,255,0.01)", 0,0,rect.w,h);
c.style.cursor = "pointer";
ee.setOnClick(c, function(sender, event) {
    window.open("https://www.youtube.com/watch?v=" + sender.parentNode.v_photo.substr(4));
    window.event? window.event.cancelBubble = true : event.stopPropagation();
});
]]></functionCode>
    </item>
    <item name="processVideo" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[if (ee.getControl("panel142").style.visibility != "hidden") return;//picture view page
if (g5.player.forceMode) return;
var player = {};
player.dy = 99999;
var screenC = eb.getDivRect(ee.getControl("divRoot")).h/2;
var items;
if (g5.currentPageIndex == 0) {
    items = g5.p2.p1.v_items;
} else if (g5.currentPageIndex == 1) {
    items = g5.p2.p2.p1Items;
} else if (g5.currentPageIndex == 7) {
    items = g5.p2.p9.v_items;
} else return;
for (var i = 0; i < items.length; i++) {
    //if (g5.p2PersonSub.currentPageIndex!=1) break;
    if (eb.isEmpty(items[i].c_photos)) continue;
    if (eb.isEmpty(items[i].c_photos.c_player)) continue;
    var dy = g5.getRectAbs(items[i].c_photos).y + items[i].c_photos.v_videoH/2;
    dy = Math.abs(dy - screenC);
    if (player.dy>dy) {
        player.player = items[i].c_photos.c_player;
        player.dy = dy;
        player.c_control = items[i].c_photos;
    }
}
for (var i = 0; i < items.length; i++) {
    //if (g5.p2PersonSub.currentPageIndex!=1) break;
    if (eb.isEmpty(items[i].c_rePhotos)) continue;
    if (eb.isEmpty(items[i].c_rePhotos.c_player)) continue;
    var dy = g5.getRectAbs(items[i].c_rePhotos).y + items[i].c_rePhotos.v_videoH/2;
    dy = Math.abs(dy - screenC);
    if (player.dy>dy) {
        player.player = items[i].c_rePhotos.c_player;
        player.dy = dy;
        player.c_control = items[i].c_rePhotos
    }
}

if (g5.currentPageIndex == 1)  {
    var chatRoomVideo = ee.getControl("panel287");
    var ch = eb.getDivRectSetting(chatRoomVideo).h;
    if (chatRoomVideo.style.visibility != "hidden") {
        var dy = g5.getRectAbs(chatRoomVideo).y + ch/2;
        dy = Math.abs(dy - screenC);
        if (player.dy>dy) {
            player.player = chatRoomVideo.c_player;
            player.dy = dy;
            player.c_control = chatRoomVideo;
        }
    }
}

if (eb.isEmpty(player.player)) return;
var y = g5.getRectAbs(player.c_control).y;
var h = player.c_control.v_videoH;
if ((y+h<0) || (y>screenC*2)) {
    g5.player.stop();
    return;
}
if (g5.player.currentPlayer==player.player) return;
if (eb.isEmpty(player.player.playVideo)) {
} else {
    g5.player.stop();
    g5.player.currentPlayer = player.player;
    g5.player.currentDiv = player.c_control;
    g5.player.currentPlayer.playVideo();
}


]]></functionCode>
    </item>
    <item name="getVideoY" type="20">
      <varValue />
      <functionParam>root,video</functionParam>
      <functionCode>var result = 0;
while (true) {
    result += eb.getDivRect(video).y;
    video = video.parentNode;
    if (video == root) break;
    if (eb.isEmpty(video)) break;
}
return result;</functionCode>
    </item>
    <item name="BStyle" type="20">
      <varValue />
      <functionParam>color1,color2,color3,text1,text2,text3,tColor1,tColor2,tColor3,bdColor</functionParam>
      <functionCode>this.color1 = color1;
this.color2 = color2
this.color3 = color3;
this.text1 = text1;
this.text2 = text2;
this.text3 = text3;
this.tColor1 = tColor1;
this.tColor2 = tColor2;
this.tColor3 = tColor3;
this.bdColor = bdColor;</functionCode>
    </item>
    <item name="getUtcTime" type="20">
      <varValue />
      <functionParam>dbTime</functionParam>
      <functionCode>//04 19 2020 10:35 UTC
//yyyy-mm-dd hh:nn:ss
//0123456789012345678
if (dbTime.length!=19) return new Date();
return new Date(
    dbTime.substr(5,2) + " " +
    dbTime.substr(8,2) + " " +
    dbTime.substr(0,4) + " " +
    dbTime.substr(11,8) + " UTC"
);</functionCode>
    </item>
    <item name="getRectAbs" type="20">
      <varValue />
      <functionParam>div</functionParam>
      <functionCode>var rect = eb.getDivRect(div);
var result = eb.getDivRect(div);
while (true) {
    div = div.parentNode;
    if (eb.isEmpty(div)) break;
    if (div.id == "divRoot") break;
    rect = eb.getDivRect(div);
    result.x+=rect.x-div.scrollLeft;
    result.y+=rect.y-div.scrollTop;
}
result.y -= document.documentElement.scrollTop;
return result;</functionCode>
    </item>
    <item name="writeLog" type="20">
      <varValue />
      <functionParam>text, status</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(status)) status = false;
ee.setVisible(ee.getControl("panel288"), true);
if (status) {
    ee.setText(ee.getControl("panel113"),text);
    return;
}
var c = ee.getControl("panel37");
c.setText(ee.getText(c) + "<br/>" + text);
eb.processDock();

]]></functionCode>
    </item>
    <item name="chatPrvRequest" type="20">
      <varValue />
      <functionParam>chatRoomId,userNickName,userName</functionParam>
      <functionCode><![CDATA[ee.getControl("panel257").show(
    "申请加入私有聊天室",
    "您没有加入房主的私有聊天室，申请加入<b>" + userNickName + "@" + userName + "</b>的私有聊天室吗？得到房主许可后，您才可以进入房主的私有聊天室。",
    [new g5.BStyle("#e6ecf0","#cfd4d8","#b8bdc0","取消","取消","取消","#14171a","#14171a","#14171a","")],
    [new g5.BStyle("#1da1f2","#1a91da","#1781c2","申请","提交申请","提交申请","#ffffff","#ffffff","#ffffff","")],
    function() {
        chatPrvRequest.chatRoomId = chatRoomId;
        chatPrvRequest.onComplete = function() {
            g5.alert1("提示", "申请已经发送成功，请耐心等待房主同意。 ");
        }
        chatPrvRequest();
    }
);
]]></functionCode>
    </item>
    <item name="tiledV" type="20">
      <varValue />
      <functionParam>root,space,spTop,spBottom</functionParam>
      <functionCode><![CDATA[if (eb.isEmpty(spTop)) spTop = 1;
if (eb.isEmpty(spBottom)) spBottom = 1;
var rect, cy = parseInt(space * spTop);
for (var i = 0; i < root.eeChildren.length; i++) {
    if (root.eeChildren[i].style.visibility == "hidden") continue;
    if (i!=0) cy += space;
    ee.setRect(root.eeChildren[i], null, cy, null, null);
    rect = eb.getDivRectSetting(root.eeChildren[i]);
    cy += rect.h;
}
cy += parseInt(space * spBottom);
ee.setRect(root, null, null, null, cy);
root.v_tiledVSpace = space;
root.v_tiledSpTop = spTop;
root.v_tiledSpBottom = spBottom;]]></functionCode>
    </item>
    <item name="resizeV" type="20">
      <varValue />
      <functionParam>div,level</functionParam>
      <functionCode><![CDATA[var getMaxY = function(div,child) {
    var result = 0;
    var rect;
    for (var i=0; i<div.eeChildren.length; i++) {
        if ((div.eeChildren[i]!=child) &amp;&amp; (div.eeChildren[i].style.visibility == "hidden")) continue;
        rect = eb.getDivRectSetting(div.eeChildren[i]);
        if (rect.y + rect.h > result) result = rect.y + rect.h;
    }
    return result;
}

var child = null;
for (var i=0; i<level; i++) {
    var maxY = getMaxY(div, child);
    ee.setRect(div, null, null, null, maxY);
    child = div;
    div = div.parentNode;
}
]]></functionCode>
    </item>
    <item name="tiledResizeV" type="20">
      <varValue />
      <functionParam>div,level</functionParam>
      <functionCode><![CDATA[var child = null;
for (var i=0; i<level; i++) {
    if (!eb.isEmpty(div.v_tiledVSpace)) {
        g5.tiledV(div, div.v_tiledVSpace, div.v_tiledSpTop, div.v_tiledSpBottom);
    } else {
        g5.resizeV(div, 1);
    }
    div = div.parentNode;
}
]]></functionCode>
    </item>
    <item name="getQueryString" type="20">
      <varValue />
      <functionParam>paramName</functionParam>
      <functionCode>var reg = new RegExp("(^|&amp;)"+ paramName +"=([^&amp;]*)(&amp;|$)");
var r = window.location.search.substr(1).match(reg);
if(r!=null)return  unescape(r[2]); return null;</functionCode>
    </item>
    <item name="copyClipboard" type="20">
      <varValue />
      <functionParam>value,onSucc,onFail</functionParam>
      <functionCode>var input = document.createElement("input");
input.setAttribute("readonly", "readonly");
input.setAttribute("value", value);
document.body.appendChild(input);
input.focus();
input.setSelectionRange(0, 9999);
if (document.execCommand("copy")) {
    document.execCommand("copy");
    document.body.removeChild(input);
    if (onSucc) onSucc();
} else {
    document.body.removeChild(input);
    if (onFail) onFail();
}

</functionCode>
    </item>
    <item name="getOperationSys" type="20">
      <varValue />
      <functionParam />
      <functionCode><![CDATA[var OS = '';
var OSArray = {};
var UserAgent = navigator.userAgent.toLowerCase();
OSArray.Windows = (navigator.platform == 'Win32') || (navigator.platform == 'Windows');
OSArray.Mac = (navigator.platform == 'Mac68K') || (navigator.platform == 'MacPPC')
  || (navigator.platform == 'Macintosh') || (navigator.platform == 'MacIntel');
OSArray.iphone = UserAgent.indexOf('iPhone') > -1;
OSArray.ipod = UserAgent.indexOf('iPod') > -1;
OSArray.ipad = UserAgent.indexOf('iPad') > -1;
OSArray.Android = UserAgent.indexOf('Android') > -1;
for (var i in OSArray) {
  if (OSArray[i]) {
    OS = i;
  }
}
return OS;]]></functionCode>
    </item>
    <item name="add3Dot" type="20">
      <varValue />
      <functionParam>text,maxLen</functionParam>
      <functionCode><![CDATA[var i,len=0;
for (i=0; i<text.length; i++) {
    if (len>=maxLen) break;
    len += text.charCodeAt(i)>0xff?2:1;
}
if (i>=text.length) return text;
text = text.substr(0, i);
len = 0;
for (i = text.length-1; i>=0; i--) {
    if (len>=3) break;
    len += text.charCodeAt(i)>0xff?2:1;
}
return text.substr(0,i+1) + "...";]]></functionCode>
    </item>
  </g5Items>
</page>